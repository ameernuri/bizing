{
  "id": "52fb2409-d554-42a4-91a4-1fab6eb4fb3a",
  "prevId": "db97597e-c28a-454b-9720-2d45cd0496b7",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "bizes": {
      "name": "bizes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "biz_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'small_business'"
        },
        "logo_url": {
          "name": "logo_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "bizes_slug_unique": {
          "name": "bizes_slug_unique",
          "columns": [
            "slug"
          ],
          "isUnique": true
        },
        "bizes_status_idx": {
          "name": "bizes_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "org_membership_role",
          "primaryKey": false,
          "notNull": true,
          "default": "'staff'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "email_verified_at": {
          "name": "email_verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "banned": {
          "name": "banned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "ban_reason": {
          "name": "ban_reason",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "ban_expires": {
          "name": "ban_expires",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "users_email_unique": {
          "name": "users_email_unique",
          "columns": [
            "email"
          ],
          "isUnique": true
        },
        "users_status_idx": {
          "name": "users_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token_expires_at": {
          "name": "access_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_expires_at": {
          "name": "refresh_token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "accounts_user_id_idx": {
          "name": "accounts_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "accounts_user_id_users_id_fk": {
          "name": "accounts_user_id_users_id_fk",
          "tableFrom": "accounts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "invitations": {
      "name": "invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "inviter_id": {
          "name": "inviter_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "invitations_organization_id_idx": {
          "name": "invitations_organization_id_idx",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "invitations_email_idx": {
          "name": "invitations_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "invitations_organization_id_bizes_id_fk": {
          "name": "invitations_organization_id_bizes_id_fk",
          "tableFrom": "invitations",
          "tableTo": "bizes",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invitations_inviter_id_users_id_fk": {
          "name": "invitations_inviter_id_users_id_fk",
          "tableFrom": "invitations",
          "tableTo": "users",
          "columnsFrom": [
            "inviter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "members": {
      "name": "members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organization_id": {
          "name": "organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "members_organization_id_idx": {
          "name": "members_organization_id_idx",
          "columns": [
            "organization_id"
          ],
          "isUnique": false
        },
        "members_user_id_idx": {
          "name": "members_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "members_organization_id_bizes_id_fk": {
          "name": "members_organization_id_bizes_id_fk",
          "tableFrom": "members",
          "tableTo": "bizes",
          "columnsFrom": [
            "organization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "members_user_id_users_id_fk": {
          "name": "members_user_id_users_id_fk",
          "tableFrom": "members",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "active_organization_id": {
          "name": "active_organization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "impersonated_by": {
          "name": "impersonated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sessions_user_id_idx": {
          "name": "sessions_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sessions_token_unique": {
          "name": "sessions_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      }
    },
    "verifications": {
      "name": "verifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "verifications_identifier_idx": {
          "name": "verifications_identifier_idx",
          "columns": [
            "identifier"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "locations": {
      "name": "locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "location_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'physical'"
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "address": {
          "name": "address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "operating_hours": {
          "name": "operating_hours",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "config_override": {
          "name": "config_override",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "service_area": {
          "name": "service_area",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "locations_org_id_unique": {
          "name": "locations_org_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "locations_org_slug_unique": {
          "name": "locations_org_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "locations_org_status_idx": {
          "name": "locations_org_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "locations_biz_id_bizes_id_fk": {
          "name": "locations_biz_id_bizes_id_fk",
          "tableFrom": "locations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "group_account_members": {
      "name": "group_account_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "group_account_id": {
          "name": "group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "shared_account_member_role",
          "primaryKey": false,
          "notNull": true,
          "default": "'adult'"
        },
        "relationship": {
          "name": "relationship",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "managed_by": {
          "name": "managed_by",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "group_account_members_unique": {
          "name": "group_account_members_unique",
          "columns": [
            "biz_id",
            "group_account_id",
            "user_id"
          ],
          "isUnique": true
        },
        "group_account_members_org_idx": {
          "name": "group_account_members_org_idx",
          "columns": [
            "biz_id",
            "group_account_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "group_account_members_biz_id_bizes_id_fk": {
          "name": "group_account_members_biz_id_bizes_id_fk",
          "tableFrom": "group_account_members",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_account_members_group_account_id_group_accounts_id_fk": {
          "name": "group_account_members_group_account_id_group_accounts_id_fk",
          "tableFrom": "group_account_members",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_account_members_user_id_users_id_fk": {
          "name": "group_account_members_user_id_users_id_fk",
          "tableFrom": "group_account_members",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_account_members_created_by_users_id_fk": {
          "name": "group_account_members_created_by_users_id_fk",
          "tableFrom": "group_account_members",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_account_members_updated_by_users_id_fk": {
          "name": "group_account_members_updated_by_users_id_fk",
          "tableFrom": "group_account_members",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_account_members_deleted_by_users_id_fk": {
          "name": "group_account_members_deleted_by_users_id_fk",
          "tableFrom": "group_account_members",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_account_members_biz_group_account_fk": {
          "name": "group_account_members_biz_group_account_fk",
          "tableFrom": "group_account_members",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "biz_id",
            "group_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "group_accounts": {
      "name": "group_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "shared_account_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'family'"
        },
        "primary_contact_user_id": {
          "name": "primary_contact_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile": {
          "name": "profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "group_accounts_biz_id_id_unique": {
          "name": "group_accounts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "group_accounts_org_status_idx": {
          "name": "group_accounts_org_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "group_accounts_org_name_idx": {
          "name": "group_accounts_org_name_idx",
          "columns": [
            "biz_id",
            "name"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "group_accounts_biz_id_bizes_id_fk": {
          "name": "group_accounts_biz_id_bizes_id_fk",
          "tableFrom": "group_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_accounts_primary_contact_user_id_users_id_fk": {
          "name": "group_accounts_primary_contact_user_id_users_id_fk",
          "tableFrom": "group_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "primary_contact_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_accounts_created_by_users_id_fk": {
          "name": "group_accounts_created_by_users_id_fk",
          "tableFrom": "group_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_accounts_updated_by_users_id_fk": {
          "name": "group_accounts_updated_by_users_id_fk",
          "tableFrom": "group_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "group_accounts_deleted_by_users_id_fk": {
          "name": "group_accounts_deleted_by_users_id_fk",
          "tableFrom": "group_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "org_membership_locations": {
      "name": "org_membership_locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "membership_id": {
          "name": "membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "org_membership_locations_biz_id_id_unique": {
          "name": "org_membership_locations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "org_membership_locations_unique": {
          "name": "org_membership_locations_unique",
          "columns": [
            "membership_id",
            "location_id"
          ],
          "isUnique": true
        },
        "org_membership_locations_org_idx": {
          "name": "org_membership_locations_org_idx",
          "columns": [
            "biz_id",
            "location_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "org_membership_locations_biz_id_bizes_id_fk": {
          "name": "org_membership_locations_biz_id_bizes_id_fk",
          "tableFrom": "org_membership_locations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "org_membership_locations_membership_id_org_memberships_id_fk": {
          "name": "org_membership_locations_membership_id_org_memberships_id_fk",
          "tableFrom": "org_membership_locations",
          "tableTo": "org_memberships",
          "columnsFrom": [
            "membership_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "org_membership_locations_location_id_locations_id_fk": {
          "name": "org_membership_locations_location_id_locations_id_fk",
          "tableFrom": "org_membership_locations",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "org_membership_locations_biz_membership_fk": {
          "name": "org_membership_locations_biz_membership_fk",
          "tableFrom": "org_membership_locations",
          "tableTo": "org_memberships",
          "columnsFrom": [
            "biz_id",
            "membership_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "org_membership_locations_biz_location_fk": {
          "name": "org_membership_locations_biz_location_fk",
          "tableFrom": "org_membership_locations",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "org_memberships": {
      "name": "org_memberships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "org_membership_role",
          "primaryKey": false,
          "notNull": true,
          "default": "'staff'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "better_auth_member_id": {
          "name": "better_auth_member_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "location_scope": {
          "name": "location_scope",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "invited_by_user_id": {
          "name": "invited_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "org_memberships_biz_id_id_unique": {
          "name": "org_memberships_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "org_memberships_unique": {
          "name": "org_memberships_unique",
          "columns": [
            "biz_id",
            "user_id"
          ],
          "isUnique": true
        },
        "org_memberships_better_auth_unique": {
          "name": "org_memberships_better_auth_unique",
          "columns": [
            "biz_id",
            "better_auth_member_id"
          ],
          "isUnique": true
        },
        "org_memberships_org_role_idx": {
          "name": "org_memberships_org_role_idx",
          "columns": [
            "biz_id",
            "role"
          ],
          "isUnique": false
        },
        "org_memberships_org_status_idx": {
          "name": "org_memberships_org_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "org_memberships_biz_id_bizes_id_fk": {
          "name": "org_memberships_biz_id_bizes_id_fk",
          "tableFrom": "org_memberships",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "org_memberships_user_id_users_id_fk": {
          "name": "org_memberships_user_id_users_id_fk",
          "tableFrom": "org_memberships",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "org_memberships_invited_by_user_id_users_id_fk": {
          "name": "org_memberships_invited_by_user_id_users_id_fk",
          "tableFrom": "org_memberships",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_config_bindings": {
      "name": "biz_config_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config_set_id": {
          "name": "config_set_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope_ref_type": {
          "name": "scope_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "scope_ref_id": {
          "name": "scope_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_entity": {
          "name": "target_entity",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "target_field": {
          "name": "target_field",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_strict": {
          "name": "is_strict",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "default_config_value_id": {
          "name": "default_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_config_bindings_biz_id_id_unique": {
          "name": "biz_config_bindings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_config_bindings_unique": {
          "name": "biz_config_bindings_unique",
          "columns": [
            "biz_id",
            "location_id",
            "scope_ref_type",
            "scope_ref_id",
            "target_entity",
            "target_field",
            "config_set_id"
          ],
          "isUnique": true
        },
        "biz_config_bindings_primary_per_target_unique": {
          "name": "biz_config_bindings_primary_per_target_unique",
          "columns": [
            "biz_id",
            "location_id",
            "scope_ref_type",
            "scope_ref_id",
            "target_entity",
            "target_field"
          ],
          "isUnique": true
        },
        "biz_config_bindings_resolver_idx": {
          "name": "biz_config_bindings_resolver_idx",
          "columns": [
            "biz_id",
            "target_entity",
            "target_field",
            "location_id",
            "scope_ref_type",
            "scope_ref_id",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_config_bindings_biz_id_bizes_id_fk": {
          "name": "biz_config_bindings_biz_id_bizes_id_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_config_set_id_biz_config_sets_id_fk": {
          "name": "biz_config_bindings_config_set_id_biz_config_sets_id_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "biz_config_sets",
          "columnsFrom": [
            "config_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_location_id_locations_id_fk": {
          "name": "biz_config_bindings_location_id_locations_id_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_default_config_value_id_biz_config_values_id_fk": {
          "name": "biz_config_bindings_default_config_value_id_biz_config_values_id_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "default_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_created_by_users_id_fk": {
          "name": "biz_config_bindings_created_by_users_id_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_updated_by_users_id_fk": {
          "name": "biz_config_bindings_updated_by_users_id_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_deleted_by_users_id_fk": {
          "name": "biz_config_bindings_deleted_by_users_id_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_biz_set_fk": {
          "name": "biz_config_bindings_biz_set_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "biz_config_sets",
          "columnsFrom": [
            "biz_id",
            "config_set_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_biz_location_fk": {
          "name": "biz_config_bindings_biz_location_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_biz_default_value_fk": {
          "name": "biz_config_bindings_biz_default_value_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "default_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_bindings_default_value_set_match_fk": {
          "name": "biz_config_bindings_default_value_set_match_fk",
          "tableFrom": "biz_config_bindings",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "config_set_id",
            "default_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "config_set_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_config_promotion_run_items": {
      "name": "biz_config_promotion_run_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "promotion_run_id": {
          "name": "promotion_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "biz_config_promotion_entity_type",
          "primaryKey": false,
          "notNull": true
        },
        "source_key": {
          "name": "source_key",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": true
        },
        "target_key": {
          "name": "target_key",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "biz_config_promotion_action",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "biz_config_promotion_item_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "before_state": {
          "name": "before_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "after_state": {
          "name": "after_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "config_set_id": {
          "name": "config_set_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "config_value_id": {
          "name": "config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "config_binding_id": {
          "name": "config_binding_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_config_promotion_run_items_biz_id_id_unique": {
          "name": "biz_config_promotion_run_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_config_promotion_run_items_run_entity_source_unique": {
          "name": "biz_config_promotion_run_items_run_entity_source_unique",
          "columns": [
            "promotion_run_id",
            "entity_type",
            "source_key"
          ],
          "isUnique": true
        },
        "biz_config_promotion_run_items_biz_run_status_idx": {
          "name": "biz_config_promotion_run_items_biz_run_status_idx",
          "columns": [
            "biz_id",
            "promotion_run_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_config_promotion_run_items_biz_id_bizes_id_fk": {
          "name": "biz_config_promotion_run_items_biz_id_bizes_id_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_promotion_run_id_biz_config_promotion_runs_id_fk": {
          "name": "biz_config_promotion_run_items_promotion_run_id_biz_config_promotion_runs_id_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "biz_config_promotion_runs",
          "columnsFrom": [
            "promotion_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_config_set_id_biz_config_sets_id_fk": {
          "name": "biz_config_promotion_run_items_config_set_id_biz_config_sets_id_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "biz_config_sets",
          "columnsFrom": [
            "config_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_config_value_id_biz_config_values_id_fk": {
          "name": "biz_config_promotion_run_items_config_value_id_biz_config_values_id_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_config_binding_id_biz_config_bindings_id_fk": {
          "name": "biz_config_promotion_run_items_config_binding_id_biz_config_bindings_id_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "biz_config_bindings",
          "columnsFrom": [
            "config_binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_created_by_users_id_fk": {
          "name": "biz_config_promotion_run_items_created_by_users_id_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_updated_by_users_id_fk": {
          "name": "biz_config_promotion_run_items_updated_by_users_id_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_deleted_by_users_id_fk": {
          "name": "biz_config_promotion_run_items_deleted_by_users_id_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_biz_run_fk": {
          "name": "biz_config_promotion_run_items_biz_run_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "biz_config_promotion_runs",
          "columnsFrom": [
            "biz_id",
            "promotion_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_biz_set_fk": {
          "name": "biz_config_promotion_run_items_biz_set_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "biz_config_sets",
          "columnsFrom": [
            "biz_id",
            "config_set_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_biz_value_fk": {
          "name": "biz_config_promotion_run_items_biz_value_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_run_items_biz_binding_fk": {
          "name": "biz_config_promotion_run_items_biz_binding_fk",
          "tableFrom": "biz_config_promotion_run_items",
          "tableTo": "biz_config_bindings",
          "columnsFrom": [
            "biz_id",
            "config_binding_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_config_promotion_runs": {
      "name": "biz_config_promotion_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_profile_key": {
          "name": "source_profile_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "target_profile_key": {
          "name": "target_profile_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "operation": {
          "name": "operation",
          "type": "biz_config_promotion_operation",
          "primaryKey": false,
          "notNull": true,
          "default": "'apply'"
        },
        "status": {
          "name": "status",
          "type": "biz_config_promotion_run_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "requested_by_user_id": {
          "name": "requested_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_items": {
          "name": "total_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "applied_items": {
          "name": "applied_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_items": {
          "name": "failed_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "diff_summary": {
          "name": "diff_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "error_summary": {
          "name": "error_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_config_promotion_runs_biz_id_id_unique": {
          "name": "biz_config_promotion_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_config_promotion_runs_biz_status_started_idx": {
          "name": "biz_config_promotion_runs_biz_status_started_idx",
          "columns": [
            "biz_id",
            "status",
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_config_promotion_runs_biz_id_bizes_id_fk": {
          "name": "biz_config_promotion_runs_biz_id_bizes_id_fk",
          "tableFrom": "biz_config_promotion_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_runs_requested_by_user_id_users_id_fk": {
          "name": "biz_config_promotion_runs_requested_by_user_id_users_id_fk",
          "tableFrom": "biz_config_promotion_runs",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_runs_created_by_users_id_fk": {
          "name": "biz_config_promotion_runs_created_by_users_id_fk",
          "tableFrom": "biz_config_promotion_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_runs_updated_by_users_id_fk": {
          "name": "biz_config_promotion_runs_updated_by_users_id_fk",
          "tableFrom": "biz_config_promotion_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_promotion_runs_deleted_by_users_id_fk": {
          "name": "biz_config_promotion_runs_deleted_by_users_id_fk",
          "tableFrom": "biz_config_promotion_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_config_sets": {
      "name": "biz_config_sets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "set_type": {
          "name": "set_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "default": "'status'"
        },
        "source_owner_key": {
          "name": "source_owner_key",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "allow_freeform_values": {
          "name": "allow_freeform_values",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_config_sets_biz_id_id_unique": {
          "name": "biz_config_sets_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_config_sets_biz_location_slug_unique": {
          "name": "biz_config_sets_biz_location_slug_unique",
          "columns": [
            "biz_id",
            "location_id",
            "slug"
          ],
          "isUnique": true
        },
        "biz_config_sets_biz_type_active_idx": {
          "name": "biz_config_sets_biz_type_active_idx",
          "columns": [
            "biz_id",
            "set_type",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_config_sets_biz_id_bizes_id_fk": {
          "name": "biz_config_sets_biz_id_bizes_id_fk",
          "tableFrom": "biz_config_sets",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_sets_location_id_locations_id_fk": {
          "name": "biz_config_sets_location_id_locations_id_fk",
          "tableFrom": "biz_config_sets",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_sets_created_by_users_id_fk": {
          "name": "biz_config_sets_created_by_users_id_fk",
          "tableFrom": "biz_config_sets",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_sets_updated_by_users_id_fk": {
          "name": "biz_config_sets_updated_by_users_id_fk",
          "tableFrom": "biz_config_sets",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_sets_deleted_by_users_id_fk": {
          "name": "biz_config_sets_deleted_by_users_id_fk",
          "tableFrom": "biz_config_sets",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_sets_biz_location_fk": {
          "name": "biz_config_sets_biz_location_fk",
          "tableFrom": "biz_config_sets",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_config_value_localizations": {
      "name": "biz_config_value_localizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config_value_id": {
          "name": "config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "locale": {
          "name": "locale",
          "type": "varchar(35)",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_config_value_localizations_biz_id_id_unique": {
          "name": "biz_config_value_localizations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_config_value_localizations_value_locale_unique": {
          "name": "biz_config_value_localizations_value_locale_unique",
          "columns": [
            "config_value_id",
            "locale"
          ],
          "isUnique": true
        },
        "biz_config_value_localizations_biz_locale_idx": {
          "name": "biz_config_value_localizations_biz_locale_idx",
          "columns": [
            "biz_id",
            "locale",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_config_value_localizations_biz_id_bizes_id_fk": {
          "name": "biz_config_value_localizations_biz_id_bizes_id_fk",
          "tableFrom": "biz_config_value_localizations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_value_localizations_config_value_id_biz_config_values_id_fk": {
          "name": "biz_config_value_localizations_config_value_id_biz_config_values_id_fk",
          "tableFrom": "biz_config_value_localizations",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_value_localizations_created_by_users_id_fk": {
          "name": "biz_config_value_localizations_created_by_users_id_fk",
          "tableFrom": "biz_config_value_localizations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_value_localizations_updated_by_users_id_fk": {
          "name": "biz_config_value_localizations_updated_by_users_id_fk",
          "tableFrom": "biz_config_value_localizations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_value_localizations_deleted_by_users_id_fk": {
          "name": "biz_config_value_localizations_deleted_by_users_id_fk",
          "tableFrom": "biz_config_value_localizations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_value_localizations_biz_value_fk": {
          "name": "biz_config_value_localizations_biz_value_fk",
          "tableFrom": "biz_config_value_localizations",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_config_values": {
      "name": "biz_config_values",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "config_set_id": {
          "name": "config_set_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_code": {
          "name": "system_code",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "replaced_by_config_value_id": {
          "name": "replaced_by_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "color_hint": {
          "name": "color_hint",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "behavior": {
          "name": "behavior",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_config_values_biz_id_id_unique": {
          "name": "biz_config_values_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_config_values_biz_set_id_id_unique": {
          "name": "biz_config_values_biz_set_id_id_unique",
          "columns": [
            "biz_id",
            "config_set_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_config_values_set_code_unique": {
          "name": "biz_config_values_set_code_unique",
          "columns": [
            "config_set_id",
            "code"
          ],
          "isUnique": true
        },
        "biz_config_values_single_default_per_set_unique": {
          "name": "biz_config_values_single_default_per_set_unique",
          "columns": [
            "config_set_id"
          ],
          "isUnique": true
        },
        "biz_config_values_set_active_sort_idx": {
          "name": "biz_config_values_set_active_sort_idx",
          "columns": [
            "config_set_id",
            "is_active",
            "sort_order"
          ],
          "isUnique": false
        },
        "biz_config_values_replacement_idx": {
          "name": "biz_config_values_replacement_idx",
          "columns": [
            "config_set_id",
            "replaced_by_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_config_values_biz_id_bizes_id_fk": {
          "name": "biz_config_values_biz_id_bizes_id_fk",
          "tableFrom": "biz_config_values",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_values_config_set_id_biz_config_sets_id_fk": {
          "name": "biz_config_values_config_set_id_biz_config_sets_id_fk",
          "tableFrom": "biz_config_values",
          "tableTo": "biz_config_sets",
          "columnsFrom": [
            "config_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_values_created_by_users_id_fk": {
          "name": "biz_config_values_created_by_users_id_fk",
          "tableFrom": "biz_config_values",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_values_updated_by_users_id_fk": {
          "name": "biz_config_values_updated_by_users_id_fk",
          "tableFrom": "biz_config_values",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_values_deleted_by_users_id_fk": {
          "name": "biz_config_values_deleted_by_users_id_fk",
          "tableFrom": "biz_config_values",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_values_biz_set_fk": {
          "name": "biz_config_values_biz_set_fk",
          "tableFrom": "biz_config_values",
          "tableTo": "biz_config_sets",
          "columnsFrom": [
            "biz_id",
            "config_set_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_config_values_replacement_set_match_fk": {
          "name": "biz_config_values_replacement_set_match_fk",
          "tableFrom": "biz_config_values",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "config_set_id",
            "replaced_by_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "config_set_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "service_groups": {
      "name": "service_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "service_groups_biz_id_id_unique": {
          "name": "service_groups_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "service_groups_biz_slug_unique": {
          "name": "service_groups_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "service_groups_biz_status_idx": {
          "name": "service_groups_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "service_groups_biz_status_config_idx": {
          "name": "service_groups_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_groups_biz_id_bizes_id_fk": {
          "name": "service_groups_biz_id_bizes_id_fk",
          "tableFrom": "service_groups",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_groups_status_config_value_id_biz_config_values_id_fk": {
          "name": "service_groups_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "service_groups",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_groups_created_by_users_id_fk": {
          "name": "service_groups_created_by_users_id_fk",
          "tableFrom": "service_groups",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_groups_updated_by_users_id_fk": {
          "name": "service_groups_updated_by_users_id_fk",
          "tableFrom": "service_groups",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_groups_deleted_by_users_id_fk": {
          "name": "service_groups_deleted_by_users_id_fk",
          "tableFrom": "service_groups",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_groups_biz_status_config_fk": {
          "name": "service_groups_biz_status_config_fk",
          "tableFrom": "service_groups",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "services": {
      "name": "services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_group_id": {
          "name": "service_group_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "service_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'appointment'"
        },
        "type_config_value_id": {
          "name": "type_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "service_visibility",
          "primaryKey": false,
          "notNull": true,
          "default": "'public'"
        },
        "visibility_config_value_id": {
          "name": "visibility_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_advance_booking_hours": {
          "name": "min_advance_booking_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_advance_booking_days": {
          "name": "max_advance_booking_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "booking_cutoff_minutes": {
          "name": "booking_cutoff_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "requires_approval": {
          "name": "requires_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allow_waitlist": {
          "name": "allow_waitlist",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allow_overbooking": {
          "name": "allow_overbooking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "min_cancellation_notice_hours": {
          "name": "min_cancellation_notice_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_reschedule_notice_hours": {
          "name": "min_reschedule_notice_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "booking_policy": {
          "name": "booking_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "cancellation_policy": {
          "name": "cancellation_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "deposit_policy": {
          "name": "deposit_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "eligibility_policy": {
          "name": "eligibility_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_self_bookable": {
          "name": "is_self_bookable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "services_biz_id_id_unique": {
          "name": "services_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "services_org_slug_unique": {
          "name": "services_org_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "services_org_status_idx": {
          "name": "services_org_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "services_org_type_idx": {
          "name": "services_org_type_idx",
          "columns": [
            "biz_id",
            "type"
          ],
          "isUnique": false
        },
        "services_biz_type_config_idx": {
          "name": "services_biz_type_config_idx",
          "columns": [
            "biz_id",
            "type_config_value_id"
          ],
          "isUnique": false
        },
        "services_biz_visibility_config_idx": {
          "name": "services_biz_visibility_config_idx",
          "columns": [
            "biz_id",
            "visibility_config_value_id"
          ],
          "isUnique": false
        },
        "services_biz_status_config_idx": {
          "name": "services_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        },
        "services_biz_group_idx": {
          "name": "services_biz_group_idx",
          "columns": [
            "biz_id",
            "service_group_id"
          ],
          "isUnique": false
        },
        "services_biz_approval_waitlist_idx": {
          "name": "services_biz_approval_waitlist_idx",
          "columns": [
            "biz_id",
            "requires_approval",
            "allow_waitlist",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "services_biz_id_bizes_id_fk": {
          "name": "services_biz_id_bizes_id_fk",
          "tableFrom": "services",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_service_group_id_service_groups_id_fk": {
          "name": "services_service_group_id_service_groups_id_fk",
          "tableFrom": "services",
          "tableTo": "service_groups",
          "columnsFrom": [
            "service_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_type_config_value_id_biz_config_values_id_fk": {
          "name": "services_type_config_value_id_biz_config_values_id_fk",
          "tableFrom": "services",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "type_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_visibility_config_value_id_biz_config_values_id_fk": {
          "name": "services_visibility_config_value_id_biz_config_values_id_fk",
          "tableFrom": "services",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "visibility_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_status_config_value_id_biz_config_values_id_fk": {
          "name": "services_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "services",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_created_by_users_id_fk": {
          "name": "services_created_by_users_id_fk",
          "tableFrom": "services",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_updated_by_users_id_fk": {
          "name": "services_updated_by_users_id_fk",
          "tableFrom": "services",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_deleted_by_users_id_fk": {
          "name": "services_deleted_by_users_id_fk",
          "tableFrom": "services",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_biz_service_group_fk": {
          "name": "services_biz_service_group_fk",
          "tableFrom": "services",
          "tableTo": "service_groups",
          "columnsFrom": [
            "biz_id",
            "service_group_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_biz_type_config_fk": {
          "name": "services_biz_type_config_fk",
          "tableFrom": "services",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "type_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_biz_visibility_config_fk": {
          "name": "services_biz_visibility_config_fk",
          "tableFrom": "services",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "visibility_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "services_biz_status_config_fk": {
          "name": "services_biz_status_config_fk",
          "tableFrom": "services",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "products": {
      "name": "products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "sku": {
          "name": "sku",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "base_price_minor": {
          "name": "base_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_minor": {
          "name": "cost_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "type": {
          "name": "type",
          "type": "product_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'digital'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "download_url": {
          "name": "download_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "products_biz_id_id_unique": {
          "name": "products_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "products_org_slug_unique": {
          "name": "products_org_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "products_org_sku_unique": {
          "name": "products_org_sku_unique",
          "columns": [
            "biz_id",
            "sku"
          ],
          "isUnique": true
        },
        "products_org_status_idx": {
          "name": "products_org_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "products_biz_id_bizes_id_fk": {
          "name": "products_biz_id_bizes_id_fk",
          "tableFrom": "products",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "products_location_id_locations_id_fk": {
          "name": "products_location_id_locations_id_fk",
          "tableFrom": "products",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "products_created_by_users_id_fk": {
          "name": "products_created_by_users_id_fk",
          "tableFrom": "products",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "products_updated_by_users_id_fk": {
          "name": "products_updated_by_users_id_fk",
          "tableFrom": "products",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "products_deleted_by_users_id_fk": {
          "name": "products_deleted_by_users_id_fk",
          "tableFrom": "products",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "products_biz_location_fk": {
          "name": "products_biz_location_fk",
          "tableFrom": "products",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "booking_order_line_sellables": {
      "name": "booking_order_line_sellables",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "allocated_amount_minor": {
          "name": "allocated_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "booking_order_line_sellables_biz_id_id_unique": {
          "name": "booking_order_line_sellables_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "booking_order_line_sellables_biz_line_idx": {
          "name": "booking_order_line_sellables_biz_line_idx",
          "columns": [
            "biz_id",
            "booking_order_line_id"
          ],
          "isUnique": false
        },
        "booking_order_line_sellables_biz_sellable_idx": {
          "name": "booking_order_line_sellables_biz_sellable_idx",
          "columns": [
            "biz_id",
            "sellable_id"
          ],
          "isUnique": false
        },
        "booking_order_line_sellables_line_sellable_unique": {
          "name": "booking_order_line_sellables_line_sellable_unique",
          "columns": [
            "booking_order_line_id",
            "sellable_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "booking_order_line_sellables_biz_id_bizes_id_fk": {
          "name": "booking_order_line_sellables_biz_id_bizes_id_fk",
          "tableFrom": "booking_order_line_sellables",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_line_sellables_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "booking_order_line_sellables_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "booking_order_line_sellables",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_line_sellables_sellable_id_sellables_id_fk": {
          "name": "booking_order_line_sellables_sellable_id_sellables_id_fk",
          "tableFrom": "booking_order_line_sellables",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_line_sellables_created_by_users_id_fk": {
          "name": "booking_order_line_sellables_created_by_users_id_fk",
          "tableFrom": "booking_order_line_sellables",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_line_sellables_updated_by_users_id_fk": {
          "name": "booking_order_line_sellables_updated_by_users_id_fk",
          "tableFrom": "booking_order_line_sellables",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_line_sellables_deleted_by_users_id_fk": {
          "name": "booking_order_line_sellables_deleted_by_users_id_fk",
          "tableFrom": "booking_order_line_sellables",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_line_sellables_biz_line_fk": {
          "name": "booking_order_line_sellables_biz_line_fk",
          "tableFrom": "booking_order_line_sellables",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_line_sellables_biz_sellable_fk": {
          "name": "booking_order_line_sellables_biz_sellable_fk",
          "tableFrom": "booking_order_line_sellables",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "inventory_items": {
      "name": "inventory_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "inventory_location_id": {
          "name": "inventory_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sku_snapshot": {
          "name": "sku_snapshot",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "on_hand_qty": {
          "name": "on_hand_qty",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "reserved_qty": {
          "name": "reserved_qty",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "available_qty": {
          "name": "available_qty",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "reorder_point_qty": {
          "name": "reorder_point_qty",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reorder_target_qty": {
          "name": "reorder_target_qty",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allow_backorder": {
          "name": "allow_backorder",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "inventory_items_biz_id_id_unique": {
          "name": "inventory_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "inventory_items_location_product_unique": {
          "name": "inventory_items_location_product_unique",
          "columns": [
            "inventory_location_id",
            "product_id"
          ],
          "isUnique": true
        },
        "inventory_items_biz_product_idx": {
          "name": "inventory_items_biz_product_idx",
          "columns": [
            "biz_id",
            "product_id"
          ],
          "isUnique": false
        },
        "inventory_items_biz_location_idx": {
          "name": "inventory_items_biz_location_idx",
          "columns": [
            "biz_id",
            "inventory_location_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "inventory_items_biz_id_bizes_id_fk": {
          "name": "inventory_items_biz_id_bizes_id_fk",
          "tableFrom": "inventory_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_items_inventory_location_id_inventory_locations_id_fk": {
          "name": "inventory_items_inventory_location_id_inventory_locations_id_fk",
          "tableFrom": "inventory_items",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "inventory_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_items_product_id_products_id_fk": {
          "name": "inventory_items_product_id_products_id_fk",
          "tableFrom": "inventory_items",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_items_created_by_users_id_fk": {
          "name": "inventory_items_created_by_users_id_fk",
          "tableFrom": "inventory_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_items_updated_by_users_id_fk": {
          "name": "inventory_items_updated_by_users_id_fk",
          "tableFrom": "inventory_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_items_deleted_by_users_id_fk": {
          "name": "inventory_items_deleted_by_users_id_fk",
          "tableFrom": "inventory_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_items_biz_inventory_location_fk": {
          "name": "inventory_items_biz_inventory_location_fk",
          "tableFrom": "inventory_items",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "biz_id",
            "inventory_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_items_biz_product_fk": {
          "name": "inventory_items_biz_product_fk",
          "tableFrom": "inventory_items",
          "tableTo": "products",
          "columnsFrom": [
            "biz_id",
            "product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "inventory_locations": {
      "name": "inventory_locations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "kind": {
          "name": "kind",
          "type": "inventory_location_kind",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "inventory_locations_biz_id_id_unique": {
          "name": "inventory_locations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "inventory_locations_biz_slug_unique": {
          "name": "inventory_locations_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "inventory_locations_biz_kind_status_idx": {
          "name": "inventory_locations_biz_kind_status_idx",
          "columns": [
            "biz_id",
            "kind",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "inventory_locations_biz_id_bizes_id_fk": {
          "name": "inventory_locations_biz_id_bizes_id_fk",
          "tableFrom": "inventory_locations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_locations_location_id_locations_id_fk": {
          "name": "inventory_locations_location_id_locations_id_fk",
          "tableFrom": "inventory_locations",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_locations_created_by_users_id_fk": {
          "name": "inventory_locations_created_by_users_id_fk",
          "tableFrom": "inventory_locations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_locations_updated_by_users_id_fk": {
          "name": "inventory_locations_updated_by_users_id_fk",
          "tableFrom": "inventory_locations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_locations_deleted_by_users_id_fk": {
          "name": "inventory_locations_deleted_by_users_id_fk",
          "tableFrom": "inventory_locations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_locations_biz_location_fk": {
          "name": "inventory_locations_biz_location_fk",
          "tableFrom": "inventory_locations",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "inventory_movements": {
      "name": "inventory_movements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "inventory_item_id": {
          "name": "inventory_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "movement_type": {
          "name": "movement_type",
          "type": "inventory_movement_type",
          "primaryKey": false,
          "notNull": true
        },
        "quantity_delta": {
          "name": "quantity_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source_inventory_location_id": {
          "name": "source_inventory_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "destination_inventory_location_id": {
          "name": "destination_inventory_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inventory_reservation_id": {
          "name": "inventory_reservation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "physical_fulfillment_item_id": {
          "name": "physical_fulfillment_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "inventory_movements_biz_id_id_unique": {
          "name": "inventory_movements_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "inventory_movements_biz_idempotency_unique": {
          "name": "inventory_movements_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "inventory_movements_biz_item_occurred_idx": {
          "name": "inventory_movements_biz_item_occurred_idx",
          "columns": [
            "biz_id",
            "inventory_item_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "inventory_movements_biz_booking_occurred_idx": {
          "name": "inventory_movements_biz_booking_occurred_idx",
          "columns": [
            "biz_id",
            "booking_order_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "inventory_movements_biz_id_bizes_id_fk": {
          "name": "inventory_movements_biz_id_bizes_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_inventory_item_id_inventory_items_id_fk": {
          "name": "inventory_movements_inventory_item_id_inventory_items_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "inventory_items",
          "columnsFrom": [
            "inventory_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_source_inventory_location_id_inventory_locations_id_fk": {
          "name": "inventory_movements_source_inventory_location_id_inventory_locations_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "source_inventory_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_destination_inventory_location_id_inventory_locations_id_fk": {
          "name": "inventory_movements_destination_inventory_location_id_inventory_locations_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "destination_inventory_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_booking_order_id_booking_orders_id_fk": {
          "name": "inventory_movements_booking_order_id_booking_orders_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "inventory_movements_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "inventory_movements_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_inventory_reservation_id_inventory_reservations_id_fk": {
          "name": "inventory_movements_inventory_reservation_id_inventory_reservations_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "inventory_reservations",
          "columnsFrom": [
            "inventory_reservation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_physical_fulfillment_item_id_physical_fulfillment_items_id_fk": {
          "name": "inventory_movements_physical_fulfillment_item_id_physical_fulfillment_items_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "physical_fulfillment_items",
          "columnsFrom": [
            "physical_fulfillment_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_created_by_users_id_fk": {
          "name": "inventory_movements_created_by_users_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_updated_by_users_id_fk": {
          "name": "inventory_movements_updated_by_users_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_deleted_by_users_id_fk": {
          "name": "inventory_movements_deleted_by_users_id_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_biz_inventory_item_fk": {
          "name": "inventory_movements_biz_inventory_item_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "inventory_items",
          "columnsFrom": [
            "biz_id",
            "inventory_item_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_biz_source_inventory_location_fk": {
          "name": "inventory_movements_biz_source_inventory_location_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "biz_id",
            "source_inventory_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_biz_destination_inventory_location_fk": {
          "name": "inventory_movements_biz_destination_inventory_location_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "biz_id",
            "destination_inventory_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_biz_booking_order_fk": {
          "name": "inventory_movements_biz_booking_order_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_biz_booking_order_line_fk": {
          "name": "inventory_movements_biz_booking_order_line_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_biz_fulfillment_unit_fk": {
          "name": "inventory_movements_biz_fulfillment_unit_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_biz_inventory_reservation_fk": {
          "name": "inventory_movements_biz_inventory_reservation_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "inventory_reservations",
          "columnsFrom": [
            "biz_id",
            "inventory_reservation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_movements_biz_physical_fulfillment_item_fk": {
          "name": "inventory_movements_biz_physical_fulfillment_item_fk",
          "tableFrom": "inventory_movements",
          "tableTo": "physical_fulfillment_items",
          "columnsFrom": [
            "biz_id",
            "physical_fulfillment_item_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "inventory_reservations": {
      "name": "inventory_reservations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "inventory_item_id": {
          "name": "inventory_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "inventory_reservation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'reserved'"
        },
        "quantity_reserved": {
          "name": "quantity_reserved",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "quantity_committed": {
          "name": "quantity_committed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "quantity_released": {
          "name": "quantity_released",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "committed_at": {
          "name": "committed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "released_at": {
          "name": "released_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "inventory_reservations_biz_id_id_unique": {
          "name": "inventory_reservations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "inventory_reservations_biz_idempotency_unique": {
          "name": "inventory_reservations_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "inventory_reservations_biz_status_expiry_idx": {
          "name": "inventory_reservations_biz_status_expiry_idx",
          "columns": [
            "biz_id",
            "status",
            "expires_at"
          ],
          "isUnique": false
        },
        "inventory_reservations_biz_inventory_item_idx": {
          "name": "inventory_reservations_biz_inventory_item_idx",
          "columns": [
            "biz_id",
            "inventory_item_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "inventory_reservations_biz_id_bizes_id_fk": {
          "name": "inventory_reservations_biz_id_bizes_id_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_inventory_item_id_inventory_items_id_fk": {
          "name": "inventory_reservations_inventory_item_id_inventory_items_id_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "inventory_items",
          "columnsFrom": [
            "inventory_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_booking_order_id_booking_orders_id_fk": {
          "name": "inventory_reservations_booking_order_id_booking_orders_id_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "inventory_reservations_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "inventory_reservations_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_created_by_users_id_fk": {
          "name": "inventory_reservations_created_by_users_id_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_updated_by_users_id_fk": {
          "name": "inventory_reservations_updated_by_users_id_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_deleted_by_users_id_fk": {
          "name": "inventory_reservations_deleted_by_users_id_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_biz_inventory_item_fk": {
          "name": "inventory_reservations_biz_inventory_item_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "inventory_items",
          "columnsFrom": [
            "biz_id",
            "inventory_item_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_biz_booking_order_fk": {
          "name": "inventory_reservations_biz_booking_order_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_biz_booking_order_line_fk": {
          "name": "inventory_reservations_biz_booking_order_line_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "inventory_reservations_biz_fulfillment_unit_fk": {
          "name": "inventory_reservations_biz_fulfillment_unit_fk",
          "tableFrom": "inventory_reservations",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "physical_fulfillment_items": {
      "name": "physical_fulfillment_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "physical_fulfillment_id": {
          "name": "physical_fulfillment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inventory_item_id": {
          "name": "inventory_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inventory_reservation_id": {
          "name": "inventory_reservation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "physical_fulfillment_item_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "quantity_shipped": {
          "name": "quantity_shipped",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "quantity_delivered": {
          "name": "quantity_delivered",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "quantity_returned": {
          "name": "quantity_returned",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "physical_fulfillment_items_biz_id_id_unique": {
          "name": "physical_fulfillment_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "physical_fulfillment_items_biz_fulfillment_idx": {
          "name": "physical_fulfillment_items_biz_fulfillment_idx",
          "columns": [
            "biz_id",
            "physical_fulfillment_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "physical_fulfillment_items_biz_id_bizes_id_fk": {
          "name": "physical_fulfillment_items_biz_id_bizes_id_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_physical_fulfillment_id_physical_fulfillments_id_fk": {
          "name": "physical_fulfillment_items_physical_fulfillment_id_physical_fulfillments_id_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "physical_fulfillments",
          "columnsFrom": [
            "physical_fulfillment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_product_id_products_id_fk": {
          "name": "physical_fulfillment_items_product_id_products_id_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "physical_fulfillment_items_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_inventory_item_id_inventory_items_id_fk": {
          "name": "physical_fulfillment_items_inventory_item_id_inventory_items_id_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "inventory_items",
          "columnsFrom": [
            "inventory_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_inventory_reservation_id_inventory_reservations_id_fk": {
          "name": "physical_fulfillment_items_inventory_reservation_id_inventory_reservations_id_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "inventory_reservations",
          "columnsFrom": [
            "inventory_reservation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_created_by_users_id_fk": {
          "name": "physical_fulfillment_items_created_by_users_id_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_updated_by_users_id_fk": {
          "name": "physical_fulfillment_items_updated_by_users_id_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_deleted_by_users_id_fk": {
          "name": "physical_fulfillment_items_deleted_by_users_id_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_biz_fulfillment_fk": {
          "name": "physical_fulfillment_items_biz_fulfillment_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "physical_fulfillments",
          "columnsFrom": [
            "biz_id",
            "physical_fulfillment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_biz_product_fk": {
          "name": "physical_fulfillment_items_biz_product_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "products",
          "columnsFrom": [
            "biz_id",
            "product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_biz_booking_line_fk": {
          "name": "physical_fulfillment_items_biz_booking_line_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_biz_inventory_item_fk": {
          "name": "physical_fulfillment_items_biz_inventory_item_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "inventory_items",
          "columnsFrom": [
            "biz_id",
            "inventory_item_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillment_items_biz_inventory_reservation_fk": {
          "name": "physical_fulfillment_items_biz_inventory_reservation_fk",
          "tableFrom": "physical_fulfillment_items",
          "tableTo": "inventory_reservations",
          "columnsFrom": [
            "biz_id",
            "inventory_reservation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "physical_fulfillments": {
      "name": "physical_fulfillments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "method": {
          "name": "method",
          "type": "physical_fulfillment_method",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "physical_fulfillment_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "origin_inventory_location_id": {
          "name": "origin_inventory_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "destination_location_id": {
          "name": "destination_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_snapshot": {
          "name": "recipient_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "carrier": {
          "name": "carrier",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "service_level": {
          "name": "service_level",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "tracking_number": {
          "name": "tracking_number",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "external_fulfillment_ref": {
          "name": "external_fulfillment_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "ship_by_at": {
          "name": "ship_by_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "shipped_at": {
          "name": "shipped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "physical_fulfillments_biz_id_id_unique": {
          "name": "physical_fulfillments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "physical_fulfillments_biz_external_ref_unique": {
          "name": "physical_fulfillments_biz_external_ref_unique",
          "columns": [
            "biz_id",
            "external_fulfillment_ref"
          ],
          "isUnique": true
        },
        "physical_fulfillments_biz_status_ship_by_idx": {
          "name": "physical_fulfillments_biz_status_ship_by_idx",
          "columns": [
            "biz_id",
            "status",
            "ship_by_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "physical_fulfillments_biz_id_bizes_id_fk": {
          "name": "physical_fulfillments_biz_id_bizes_id_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillments_booking_order_id_booking_orders_id_fk": {
          "name": "physical_fulfillments_booking_order_id_booking_orders_id_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillments_origin_inventory_location_id_inventory_locations_id_fk": {
          "name": "physical_fulfillments_origin_inventory_location_id_inventory_locations_id_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "origin_inventory_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillments_destination_location_id_locations_id_fk": {
          "name": "physical_fulfillments_destination_location_id_locations_id_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "locations",
          "columnsFrom": [
            "destination_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillments_created_by_users_id_fk": {
          "name": "physical_fulfillments_created_by_users_id_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillments_updated_by_users_id_fk": {
          "name": "physical_fulfillments_updated_by_users_id_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillments_deleted_by_users_id_fk": {
          "name": "physical_fulfillments_deleted_by_users_id_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillments_biz_booking_order_fk": {
          "name": "physical_fulfillments_biz_booking_order_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillments_biz_origin_inventory_location_fk": {
          "name": "physical_fulfillments_biz_origin_inventory_location_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "biz_id",
            "origin_inventory_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "physical_fulfillments_biz_destination_location_fk": {
          "name": "physical_fulfillments_biz_destination_location_fk",
          "tableFrom": "physical_fulfillments",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "destination_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "product_bundle_components": {
      "name": "product_bundle_components",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "product_bundle_id": {
          "name": "product_bundle_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_mode": {
          "name": "requirement_mode",
          "type": "requirement_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "target_type": {
          "name": "target_type",
          "type": "bundle_component_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_quantity": {
          "name": "min_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "max_quantity": {
          "name": "max_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "default_quantity": {
          "name": "default_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "price_mode": {
          "name": "price_mode",
          "type": "bundle_component_price_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'included'"
        },
        "price_override_minor": {
          "name": "price_override_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "surcharge_minor": {
          "name": "surcharge_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "price_multiplier_bps": {
          "name": "price_multiplier_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "product_bundle_components_biz_id_id_unique": {
          "name": "product_bundle_components_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "product_bundle_components_biz_bundle_sort_idx": {
          "name": "product_bundle_components_biz_bundle_sort_idx",
          "columns": [
            "biz_id",
            "product_bundle_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "product_bundle_components_product_unique": {
          "name": "product_bundle_components_product_unique",
          "columns": [
            "product_bundle_id",
            "product_id"
          ],
          "isUnique": true
        },
        "product_bundle_components_service_product_unique": {
          "name": "product_bundle_components_service_product_unique",
          "columns": [
            "product_bundle_id",
            "service_product_id"
          ],
          "isUnique": true
        },
        "product_bundle_components_offer_unique": {
          "name": "product_bundle_components_offer_unique",
          "columns": [
            "product_bundle_id",
            "offer_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "product_bundle_components_biz_id_bizes_id_fk": {
          "name": "product_bundle_components_biz_id_bizes_id_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_product_bundle_id_product_bundles_id_fk": {
          "name": "product_bundle_components_product_bundle_id_product_bundles_id_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "product_bundles",
          "columnsFrom": [
            "product_bundle_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_product_id_products_id_fk": {
          "name": "product_bundle_components_product_id_products_id_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_service_product_id_service_products_id_fk": {
          "name": "product_bundle_components_service_product_id_service_products_id_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_offer_id_offers_id_fk": {
          "name": "product_bundle_components_offer_id_offers_id_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_created_by_users_id_fk": {
          "name": "product_bundle_components_created_by_users_id_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_updated_by_users_id_fk": {
          "name": "product_bundle_components_updated_by_users_id_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_deleted_by_users_id_fk": {
          "name": "product_bundle_components_deleted_by_users_id_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_biz_bundle_fk": {
          "name": "product_bundle_components_biz_bundle_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "product_bundles",
          "columnsFrom": [
            "biz_id",
            "product_bundle_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_biz_product_fk": {
          "name": "product_bundle_components_biz_product_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "products",
          "columnsFrom": [
            "biz_id",
            "product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_biz_service_product_fk": {
          "name": "product_bundle_components_biz_service_product_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundle_components_biz_offer_fk": {
          "name": "product_bundle_components_biz_offer_fk",
          "tableFrom": "product_bundle_components",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "product_bundles": {
      "name": "product_bundles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bundle_product_id": {
          "name": "bundle_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "pricing_mode": {
          "name": "pricing_mode",
          "type": "bundle_pricing_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'fixed_bundle_price'"
        },
        "allow_partial_selection": {
          "name": "allow_partial_selection",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "min_component_selections": {
          "name": "min_component_selections",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_component_selections": {
          "name": "max_component_selections",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "product_bundles_biz_id_id_unique": {
          "name": "product_bundles_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "product_bundles_bundle_product_unique": {
          "name": "product_bundles_bundle_product_unique",
          "columns": [
            "bundle_product_id"
          ],
          "isUnique": true
        },
        "product_bundles_biz_status_idx": {
          "name": "product_bundles_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "product_bundles_biz_id_bizes_id_fk": {
          "name": "product_bundles_biz_id_bizes_id_fk",
          "tableFrom": "product_bundles",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundles_bundle_product_id_products_id_fk": {
          "name": "product_bundles_bundle_product_id_products_id_fk",
          "tableFrom": "product_bundles",
          "tableTo": "products",
          "columnsFrom": [
            "bundle_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundles_created_by_users_id_fk": {
          "name": "product_bundles_created_by_users_id_fk",
          "tableFrom": "product_bundles",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundles_updated_by_users_id_fk": {
          "name": "product_bundles_updated_by_users_id_fk",
          "tableFrom": "product_bundles",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundles_deleted_by_users_id_fk": {
          "name": "product_bundles_deleted_by_users_id_fk",
          "tableFrom": "product_bundles",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "product_bundles_biz_bundle_product_fk": {
          "name": "product_bundles_biz_bundle_product_fk",
          "tableFrom": "product_bundles",
          "tableTo": "products",
          "columnsFrom": [
            "biz_id",
            "bundle_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_offer_versions": {
      "name": "sellable_offer_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_kind": {
          "name": "sellable_kind",
          "type": "sellable_kind",
          "primaryKey": false,
          "notNull": true,
          "default": "'offer_version'"
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_offer_versions_biz_id_id_unique": {
          "name": "sellable_offer_versions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_offer_versions_sellable_unique": {
          "name": "sellable_offer_versions_sellable_unique",
          "columns": [
            "sellable_id"
          ],
          "isUnique": true
        },
        "sellable_offer_versions_offer_version_unique": {
          "name": "sellable_offer_versions_offer_version_unique",
          "columns": [
            "offer_version_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "sellable_offer_versions_biz_id_bizes_id_fk": {
          "name": "sellable_offer_versions_biz_id_bizes_id_fk",
          "tableFrom": "sellable_offer_versions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_offer_versions_sellable_id_sellables_id_fk": {
          "name": "sellable_offer_versions_sellable_id_sellables_id_fk",
          "tableFrom": "sellable_offer_versions",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_offer_versions_offer_version_id_offer_versions_id_fk": {
          "name": "sellable_offer_versions_offer_version_id_offer_versions_id_fk",
          "tableFrom": "sellable_offer_versions",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_offer_versions_created_by_users_id_fk": {
          "name": "sellable_offer_versions_created_by_users_id_fk",
          "tableFrom": "sellable_offer_versions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_offer_versions_updated_by_users_id_fk": {
          "name": "sellable_offer_versions_updated_by_users_id_fk",
          "tableFrom": "sellable_offer_versions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_offer_versions_deleted_by_users_id_fk": {
          "name": "sellable_offer_versions_deleted_by_users_id_fk",
          "tableFrom": "sellable_offer_versions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_offer_versions_biz_sellable_fk": {
          "name": "sellable_offer_versions_biz_sellable_fk",
          "tableFrom": "sellable_offer_versions",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id",
            "sellable_kind"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "kind"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_offer_versions_biz_offer_version_fk": {
          "name": "sellable_offer_versions_biz_offer_version_fk",
          "tableFrom": "sellable_offer_versions",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_products": {
      "name": "sellable_products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_kind": {
          "name": "sellable_kind",
          "type": "sellable_kind",
          "primaryKey": false,
          "notNull": true,
          "default": "'product'"
        },
        "product_id": {
          "name": "product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_products_biz_id_id_unique": {
          "name": "sellable_products_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_products_sellable_unique": {
          "name": "sellable_products_sellable_unique",
          "columns": [
            "sellable_id"
          ],
          "isUnique": true
        },
        "sellable_products_product_unique": {
          "name": "sellable_products_product_unique",
          "columns": [
            "product_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "sellable_products_biz_id_bizes_id_fk": {
          "name": "sellable_products_biz_id_bizes_id_fk",
          "tableFrom": "sellable_products",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_products_sellable_id_sellables_id_fk": {
          "name": "sellable_products_sellable_id_sellables_id_fk",
          "tableFrom": "sellable_products",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_products_product_id_products_id_fk": {
          "name": "sellable_products_product_id_products_id_fk",
          "tableFrom": "sellable_products",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_products_created_by_users_id_fk": {
          "name": "sellable_products_created_by_users_id_fk",
          "tableFrom": "sellable_products",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_products_updated_by_users_id_fk": {
          "name": "sellable_products_updated_by_users_id_fk",
          "tableFrom": "sellable_products",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_products_deleted_by_users_id_fk": {
          "name": "sellable_products_deleted_by_users_id_fk",
          "tableFrom": "sellable_products",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_products_biz_sellable_fk": {
          "name": "sellable_products_biz_sellable_fk",
          "tableFrom": "sellable_products",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id",
            "sellable_kind"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "kind"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_products_biz_product_fk": {
          "name": "sellable_products_biz_product_fk",
          "tableFrom": "sellable_products",
          "tableTo": "products",
          "columnsFrom": [
            "biz_id",
            "product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_resource_rates": {
      "name": "sellable_resource_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_kind": {
          "name": "sellable_kind",
          "type": "sellable_kind",
          "primaryKey": false,
          "notNull": true,
          "default": "'resource_rate'"
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rate_unit": {
          "name": "rate_unit",
          "type": "resource_rate_unit",
          "primaryKey": false,
          "notNull": true
        },
        "base_price_minor": {
          "name": "base_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "minimum_charge_minor": {
          "name": "minimum_charge_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "minimum_duration_min": {
          "name": "minimum_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "billing_increment_min": {
          "name": "billing_increment_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_resource_rates_biz_id_id_unique": {
          "name": "sellable_resource_rates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_resource_rates_sellable_unique": {
          "name": "sellable_resource_rates_sellable_unique",
          "columns": [
            "sellable_id"
          ],
          "isUnique": true
        },
        "sellable_resource_rates_biz_resource_idx": {
          "name": "sellable_resource_rates_biz_resource_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "rate_unit"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sellable_resource_rates_biz_id_bizes_id_fk": {
          "name": "sellable_resource_rates_biz_id_bizes_id_fk",
          "tableFrom": "sellable_resource_rates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_resource_rates_sellable_id_sellables_id_fk": {
          "name": "sellable_resource_rates_sellable_id_sellables_id_fk",
          "tableFrom": "sellable_resource_rates",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_resource_rates_resource_id_resources_id_fk": {
          "name": "sellable_resource_rates_resource_id_resources_id_fk",
          "tableFrom": "sellable_resource_rates",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_resource_rates_created_by_users_id_fk": {
          "name": "sellable_resource_rates_created_by_users_id_fk",
          "tableFrom": "sellable_resource_rates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_resource_rates_updated_by_users_id_fk": {
          "name": "sellable_resource_rates_updated_by_users_id_fk",
          "tableFrom": "sellable_resource_rates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_resource_rates_deleted_by_users_id_fk": {
          "name": "sellable_resource_rates_deleted_by_users_id_fk",
          "tableFrom": "sellable_resource_rates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_resource_rates_biz_sellable_fk": {
          "name": "sellable_resource_rates_biz_sellable_fk",
          "tableFrom": "sellable_resource_rates",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id",
            "sellable_kind"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "kind"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_resource_rates_biz_resource_fk": {
          "name": "sellable_resource_rates_biz_resource_fk",
          "tableFrom": "sellable_resource_rates",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_service_products": {
      "name": "sellable_service_products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_kind": {
          "name": "sellable_kind",
          "type": "sellable_kind",
          "primaryKey": false,
          "notNull": true,
          "default": "'service_product'"
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_service_products_biz_id_id_unique": {
          "name": "sellable_service_products_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_service_products_sellable_unique": {
          "name": "sellable_service_products_sellable_unique",
          "columns": [
            "sellable_id"
          ],
          "isUnique": true
        },
        "sellable_service_products_service_product_unique": {
          "name": "sellable_service_products_service_product_unique",
          "columns": [
            "service_product_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "sellable_service_products_biz_id_bizes_id_fk": {
          "name": "sellable_service_products_biz_id_bizes_id_fk",
          "tableFrom": "sellable_service_products",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_service_products_sellable_id_sellables_id_fk": {
          "name": "sellable_service_products_sellable_id_sellables_id_fk",
          "tableFrom": "sellable_service_products",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_service_products_service_product_id_service_products_id_fk": {
          "name": "sellable_service_products_service_product_id_service_products_id_fk",
          "tableFrom": "sellable_service_products",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_service_products_created_by_users_id_fk": {
          "name": "sellable_service_products_created_by_users_id_fk",
          "tableFrom": "sellable_service_products",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_service_products_updated_by_users_id_fk": {
          "name": "sellable_service_products_updated_by_users_id_fk",
          "tableFrom": "sellable_service_products",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_service_products_deleted_by_users_id_fk": {
          "name": "sellable_service_products_deleted_by_users_id_fk",
          "tableFrom": "sellable_service_products",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_service_products_biz_sellable_fk": {
          "name": "sellable_service_products_biz_sellable_fk",
          "tableFrom": "sellable_service_products",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id",
            "sellable_kind"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "kind"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_service_products_biz_service_product_fk": {
          "name": "sellable_service_products_biz_service_product_fk",
          "tableFrom": "sellable_service_products",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellables": {
      "name": "sellables",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "kind": {
          "name": "kind",
          "type": "sellable_kind",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellables_biz_id_id_unique": {
          "name": "sellables_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellables_biz_id_id_kind_unique": {
          "name": "sellables_biz_id_id_kind_unique",
          "columns": [
            "biz_id",
            "id",
            "kind"
          ],
          "isUnique": true
        },
        "sellables_biz_slug_unique": {
          "name": "sellables_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "sellables_biz_kind_status_idx": {
          "name": "sellables_biz_kind_status_idx",
          "columns": [
            "biz_id",
            "kind",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sellables_biz_id_bizes_id_fk": {
          "name": "sellables_biz_id_bizes_id_fk",
          "tableFrom": "sellables",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellables_created_by_users_id_fk": {
          "name": "sellables_created_by_users_id_fk",
          "tableFrom": "sellables",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellables_updated_by_users_id_fk": {
          "name": "sellables_updated_by_users_id_fk",
          "tableFrom": "sellables",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellables_deleted_by_users_id_fk": {
          "name": "sellables_deleted_by_users_id_fk",
          "tableFrom": "sellables",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_variant_dimension_values": {
      "name": "sellable_variant_dimension_values",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_variant_dimension_id": {
          "name": "sellable_variant_dimension_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value_key": {
          "name": "value_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "value_label": {
          "name": "value_label",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_variant_dimension_values_biz_id_id_unique": {
          "name": "sellable_variant_dimension_values_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_variant_dimension_values_biz_id_id_dimension_unique": {
          "name": "sellable_variant_dimension_values_biz_id_id_dimension_unique",
          "columns": [
            "biz_id",
            "id",
            "sellable_variant_dimension_id"
          ],
          "isUnique": true
        },
        "sellable_variant_dimension_values_dimension_key_unique": {
          "name": "sellable_variant_dimension_values_dimension_key_unique",
          "columns": [
            "sellable_variant_dimension_id",
            "value_key"
          ],
          "isUnique": true
        },
        "sellable_variant_dimension_values_biz_dimension_sort_idx": {
          "name": "sellable_variant_dimension_values_biz_dimension_sort_idx",
          "columns": [
            "biz_id",
            "sellable_variant_dimension_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sellable_variant_dimension_values_biz_id_bizes_id_fk": {
          "name": "sellable_variant_dimension_values_biz_id_bizes_id_fk",
          "tableFrom": "sellable_variant_dimension_values",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimension_values_sellable_variant_dimension_id_sellable_variant_dimensions_id_fk": {
          "name": "sellable_variant_dimension_values_sellable_variant_dimension_id_sellable_variant_dimensions_id_fk",
          "tableFrom": "sellable_variant_dimension_values",
          "tableTo": "sellable_variant_dimensions",
          "columnsFrom": [
            "sellable_variant_dimension_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimension_values_created_by_users_id_fk": {
          "name": "sellable_variant_dimension_values_created_by_users_id_fk",
          "tableFrom": "sellable_variant_dimension_values",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimension_values_updated_by_users_id_fk": {
          "name": "sellable_variant_dimension_values_updated_by_users_id_fk",
          "tableFrom": "sellable_variant_dimension_values",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimension_values_deleted_by_users_id_fk": {
          "name": "sellable_variant_dimension_values_deleted_by_users_id_fk",
          "tableFrom": "sellable_variant_dimension_values",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimension_values_biz_dimension_fk": {
          "name": "sellable_variant_dimension_values_biz_dimension_fk",
          "tableFrom": "sellable_variant_dimension_values",
          "tableTo": "sellable_variant_dimensions",
          "columnsFrom": [
            "biz_id",
            "sellable_variant_dimension_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_variant_dimensions": {
      "name": "sellable_variant_dimensions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_sellable_id": {
          "name": "base_sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dimension_key": {
          "name": "dimension_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "dimension_type": {
          "name": "dimension_type",
          "type": "sellable_variant_dimension_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'choice'"
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_variant_dimensions_biz_id_id_unique": {
          "name": "sellable_variant_dimensions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_variant_dimensions_biz_id_id_base_unique": {
          "name": "sellable_variant_dimensions_biz_id_id_base_unique",
          "columns": [
            "biz_id",
            "id",
            "base_sellable_id"
          ],
          "isUnique": true
        },
        "sellable_variant_dimensions_base_key_unique": {
          "name": "sellable_variant_dimensions_base_key_unique",
          "columns": [
            "base_sellable_id",
            "dimension_key"
          ],
          "isUnique": true
        },
        "sellable_variant_dimensions_biz_base_sort_idx": {
          "name": "sellable_variant_dimensions_biz_base_sort_idx",
          "columns": [
            "biz_id",
            "base_sellable_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sellable_variant_dimensions_biz_id_bizes_id_fk": {
          "name": "sellable_variant_dimensions_biz_id_bizes_id_fk",
          "tableFrom": "sellable_variant_dimensions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimensions_base_sellable_id_sellables_id_fk": {
          "name": "sellable_variant_dimensions_base_sellable_id_sellables_id_fk",
          "tableFrom": "sellable_variant_dimensions",
          "tableTo": "sellables",
          "columnsFrom": [
            "base_sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimensions_created_by_users_id_fk": {
          "name": "sellable_variant_dimensions_created_by_users_id_fk",
          "tableFrom": "sellable_variant_dimensions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimensions_updated_by_users_id_fk": {
          "name": "sellable_variant_dimensions_updated_by_users_id_fk",
          "tableFrom": "sellable_variant_dimensions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimensions_deleted_by_users_id_fk": {
          "name": "sellable_variant_dimensions_deleted_by_users_id_fk",
          "tableFrom": "sellable_variant_dimensions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_dimensions_biz_base_sellable_fk": {
          "name": "sellable_variant_dimensions_biz_base_sellable_fk",
          "tableFrom": "sellable_variant_dimensions",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "base_sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_variant_selections": {
      "name": "sellable_variant_selections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_variant_id": {
          "name": "sellable_variant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_sellable_id": {
          "name": "base_sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_variant_dimension_id": {
          "name": "sellable_variant_dimension_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_variant_dimension_value_id": {
          "name": "sellable_variant_dimension_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_variant_selections_biz_id_id_unique": {
          "name": "sellable_variant_selections_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_variant_selections_variant_dimension_unique": {
          "name": "sellable_variant_selections_variant_dimension_unique",
          "columns": [
            "sellable_variant_id",
            "sellable_variant_dimension_id"
          ],
          "isUnique": true
        },
        "sellable_variant_selections_variant_value_unique": {
          "name": "sellable_variant_selections_variant_value_unique",
          "columns": [
            "sellable_variant_id",
            "sellable_variant_dimension_value_id"
          ],
          "isUnique": true
        },
        "sellable_variant_selections_biz_variant_idx": {
          "name": "sellable_variant_selections_biz_variant_idx",
          "columns": [
            "biz_id",
            "sellable_variant_id"
          ],
          "isUnique": false
        },
        "sellable_variant_selections_biz_dimension_idx": {
          "name": "sellable_variant_selections_biz_dimension_idx",
          "columns": [
            "biz_id",
            "sellable_variant_dimension_id",
            "sellable_variant_dimension_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sellable_variant_selections_biz_id_bizes_id_fk": {
          "name": "sellable_variant_selections_biz_id_bizes_id_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_sellable_variant_id_sellable_variants_id_fk": {
          "name": "sellable_variant_selections_sellable_variant_id_sellable_variants_id_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "sellable_variants",
          "columnsFrom": [
            "sellable_variant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_base_sellable_id_sellables_id_fk": {
          "name": "sellable_variant_selections_base_sellable_id_sellables_id_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "sellables",
          "columnsFrom": [
            "base_sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_sellable_variant_dimension_id_sellable_variant_dimensions_id_fk": {
          "name": "sellable_variant_selections_sellable_variant_dimension_id_sellable_variant_dimensions_id_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "sellable_variant_dimensions",
          "columnsFrom": [
            "sellable_variant_dimension_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_sellable_variant_dimension_value_id_sellable_variant_dimension_values_id_fk": {
          "name": "sellable_variant_selections_sellable_variant_dimension_value_id_sellable_variant_dimension_values_id_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "sellable_variant_dimension_values",
          "columnsFrom": [
            "sellable_variant_dimension_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_created_by_users_id_fk": {
          "name": "sellable_variant_selections_created_by_users_id_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_updated_by_users_id_fk": {
          "name": "sellable_variant_selections_updated_by_users_id_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_deleted_by_users_id_fk": {
          "name": "sellable_variant_selections_deleted_by_users_id_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_biz_base_sellable_fk": {
          "name": "sellable_variant_selections_biz_base_sellable_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "base_sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_biz_variant_fk": {
          "name": "sellable_variant_selections_biz_variant_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "sellable_variants",
          "columnsFrom": [
            "biz_id",
            "sellable_variant_id",
            "base_sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "base_sellable_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_biz_dimension_fk": {
          "name": "sellable_variant_selections_biz_dimension_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "sellable_variant_dimensions",
          "columnsFrom": [
            "biz_id",
            "sellable_variant_dimension_id",
            "base_sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "base_sellable_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variant_selections_biz_value_fk": {
          "name": "sellable_variant_selections_biz_value_fk",
          "tableFrom": "sellable_variant_selections",
          "tableTo": "sellable_variant_dimension_values",
          "columnsFrom": [
            "biz_id",
            "sellable_variant_dimension_value_id",
            "sellable_variant_dimension_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "sellable_variant_dimension_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_variants": {
      "name": "sellable_variants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_sellable_id": {
          "name": "base_sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "variant_sellable_id": {
          "name": "variant_sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "sellable_variant_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "pricing_mode": {
          "name": "pricing_mode",
          "type": "sellable_variant_price_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'inherited'"
        },
        "price_override_minor": {
          "name": "price_override_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "price_delta_minor": {
          "name": "price_delta_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sku_suffix": {
          "name": "sku_suffix",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "display_label": {
          "name": "display_label",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_variants_biz_id_id_unique": {
          "name": "sellable_variants_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_variants_biz_id_id_base_unique": {
          "name": "sellable_variants_biz_id_id_base_unique",
          "columns": [
            "biz_id",
            "id",
            "base_sellable_id"
          ],
          "isUnique": true
        },
        "sellable_variants_variant_sellable_unique": {
          "name": "sellable_variants_variant_sellable_unique",
          "columns": [
            "variant_sellable_id"
          ],
          "isUnique": true
        },
        "sellable_variants_biz_base_variant_unique": {
          "name": "sellable_variants_biz_base_variant_unique",
          "columns": [
            "biz_id",
            "base_sellable_id",
            "variant_sellable_id"
          ],
          "isUnique": true
        },
        "sellable_variants_biz_base_status_idx": {
          "name": "sellable_variants_biz_base_status_idx",
          "columns": [
            "biz_id",
            "base_sellable_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sellable_variants_biz_id_bizes_id_fk": {
          "name": "sellable_variants_biz_id_bizes_id_fk",
          "tableFrom": "sellable_variants",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variants_base_sellable_id_sellables_id_fk": {
          "name": "sellable_variants_base_sellable_id_sellables_id_fk",
          "tableFrom": "sellable_variants",
          "tableTo": "sellables",
          "columnsFrom": [
            "base_sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variants_variant_sellable_id_sellables_id_fk": {
          "name": "sellable_variants_variant_sellable_id_sellables_id_fk",
          "tableFrom": "sellable_variants",
          "tableTo": "sellables",
          "columnsFrom": [
            "variant_sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variants_created_by_users_id_fk": {
          "name": "sellable_variants_created_by_users_id_fk",
          "tableFrom": "sellable_variants",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variants_updated_by_users_id_fk": {
          "name": "sellable_variants_updated_by_users_id_fk",
          "tableFrom": "sellable_variants",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variants_deleted_by_users_id_fk": {
          "name": "sellable_variants_deleted_by_users_id_fk",
          "tableFrom": "sellable_variants",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variants_biz_base_sellable_fk": {
          "name": "sellable_variants_biz_base_sellable_fk",
          "tableFrom": "sellable_variants",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "base_sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_variants_biz_variant_sellable_fk": {
          "name": "sellable_variants_biz_variant_sellable_fk",
          "tableFrom": "sellable_variants",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "variant_sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_pricing_modes": {
      "name": "sellable_pricing_modes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "mode": {
          "name": "mode",
          "type": "sellable_pricing_mode",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "base_price_minor": {
          "name": "base_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "minimum_order_quantity": {
          "name": "minimum_order_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "maximum_order_quantity": {
          "name": "maximum_order_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "billing_unit": {
          "name": "billing_unit",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "default": "'unit'"
        },
        "billing_unit_count": {
          "name": "billing_unit_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "metered_unit_key": {
          "name": "metered_unit_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "external_quote_key": {
          "name": "external_quote_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_pricing_modes_biz_id_id_unique": {
          "name": "sellable_pricing_modes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_pricing_modes_biz_sellable_status_effective_idx": {
          "name": "sellable_pricing_modes_biz_sellable_status_effective_idx",
          "columns": [
            "biz_id",
            "sellable_id",
            "status",
            "effective_from"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sellable_pricing_modes_biz_id_bizes_id_fk": {
          "name": "sellable_pricing_modes_biz_id_bizes_id_fk",
          "tableFrom": "sellable_pricing_modes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_modes_sellable_id_sellables_id_fk": {
          "name": "sellable_pricing_modes_sellable_id_sellables_id_fk",
          "tableFrom": "sellable_pricing_modes",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_modes_created_by_users_id_fk": {
          "name": "sellable_pricing_modes_created_by_users_id_fk",
          "tableFrom": "sellable_pricing_modes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_modes_updated_by_users_id_fk": {
          "name": "sellable_pricing_modes_updated_by_users_id_fk",
          "tableFrom": "sellable_pricing_modes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_modes_deleted_by_users_id_fk": {
          "name": "sellable_pricing_modes_deleted_by_users_id_fk",
          "tableFrom": "sellable_pricing_modes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_modes_biz_sellable_fk": {
          "name": "sellable_pricing_modes_biz_sellable_fk",
          "tableFrom": "sellable_pricing_modes",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_pricing_overrides": {
      "name": "sellable_pricing_overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_pricing_mode_id": {
          "name": "sellable_pricing_mode_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope_type": {
          "name": "scope_type",
          "type": "sellable_pricing_scope_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'biz'"
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel_account_id": {
          "name": "channel_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_type": {
          "name": "custom_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_id": {
          "name": "custom_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "override_type": {
          "name": "override_type",
          "type": "sellable_pricing_override_type",
          "primaryKey": false,
          "notNull": true
        },
        "absolute_price_minor": {
          "name": "absolute_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "delta_price_minor": {
          "name": "delta_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "multiplier_bps": {
          "name": "multiplier_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_text": {
          "name": "reason_text",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_pricing_overrides_biz_id_id_unique": {
          "name": "sellable_pricing_overrides_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_pricing_overrides_biz_mode_scope_effective_idx": {
          "name": "sellable_pricing_overrides_biz_mode_scope_effective_idx",
          "columns": [
            "biz_id",
            "sellable_pricing_mode_id",
            "scope_type",
            "priority",
            "effective_from"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sellable_pricing_overrides_biz_id_bizes_id_fk": {
          "name": "sellable_pricing_overrides_biz_id_bizes_id_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_sellable_pricing_mode_id_sellable_pricing_modes_id_fk": {
          "name": "sellable_pricing_overrides_sellable_pricing_mode_id_sellable_pricing_modes_id_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "sellable_pricing_modes",
          "columnsFrom": [
            "sellable_pricing_mode_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_location_id_locations_id_fk": {
          "name": "sellable_pricing_overrides_location_id_locations_id_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_channel_account_id_channel_accounts_id_fk": {
          "name": "sellable_pricing_overrides_channel_account_id_channel_accounts_id_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "channel_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_created_by_users_id_fk": {
          "name": "sellable_pricing_overrides_created_by_users_id_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_updated_by_users_id_fk": {
          "name": "sellable_pricing_overrides_updated_by_users_id_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_deleted_by_users_id_fk": {
          "name": "sellable_pricing_overrides_deleted_by_users_id_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_biz_mode_fk": {
          "name": "sellable_pricing_overrides_biz_mode_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "sellable_pricing_modes",
          "columnsFrom": [
            "biz_id",
            "sellable_pricing_mode_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_biz_location_fk": {
          "name": "sellable_pricing_overrides_biz_location_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_biz_channel_fk": {
          "name": "sellable_pricing_overrides_biz_channel_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "biz_id",
            "channel_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_overrides_biz_subject_fk": {
          "name": "sellable_pricing_overrides_biz_subject_fk",
          "tableFrom": "sellable_pricing_overrides",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "custom_subject_type",
            "custom_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sellable_pricing_thresholds": {
      "name": "sellable_pricing_thresholds",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_pricing_mode_id": {
          "name": "sellable_pricing_mode_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "threshold_type": {
          "name": "threshold_type",
          "type": "sellable_pricing_threshold_type",
          "primaryKey": false,
          "notNull": true
        },
        "metric_key": {
          "name": "metric_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "comparison_operator": {
          "name": "comparison_operator",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'gte'"
        },
        "min_value": {
          "name": "min_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_value": {
          "name": "max_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "price_minor": {
          "name": "price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sellable_pricing_thresholds_biz_id_id_unique": {
          "name": "sellable_pricing_thresholds_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sellable_pricing_thresholds_biz_mode_sort_idx": {
          "name": "sellable_pricing_thresholds_biz_mode_sort_idx",
          "columns": [
            "biz_id",
            "sellable_pricing_mode_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sellable_pricing_thresholds_biz_id_bizes_id_fk": {
          "name": "sellable_pricing_thresholds_biz_id_bizes_id_fk",
          "tableFrom": "sellable_pricing_thresholds",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_thresholds_sellable_pricing_mode_id_sellable_pricing_modes_id_fk": {
          "name": "sellable_pricing_thresholds_sellable_pricing_mode_id_sellable_pricing_modes_id_fk",
          "tableFrom": "sellable_pricing_thresholds",
          "tableTo": "sellable_pricing_modes",
          "columnsFrom": [
            "sellable_pricing_mode_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_thresholds_created_by_users_id_fk": {
          "name": "sellable_pricing_thresholds_created_by_users_id_fk",
          "tableFrom": "sellable_pricing_thresholds",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_thresholds_updated_by_users_id_fk": {
          "name": "sellable_pricing_thresholds_updated_by_users_id_fk",
          "tableFrom": "sellable_pricing_thresholds",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_thresholds_deleted_by_users_id_fk": {
          "name": "sellable_pricing_thresholds_deleted_by_users_id_fk",
          "tableFrom": "sellable_pricing_thresholds",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sellable_pricing_thresholds_biz_mode_fk": {
          "name": "sellable_pricing_thresholds_biz_mode_fk",
          "tableFrom": "sellable_pricing_thresholds",
          "tableTo": "sellable_pricing_modes",
          "columnsFrom": [
            "biz_id",
            "sellable_pricing_mode_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "service_product_requirement_groups": {
      "name": "service_product_requirement_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "target_resource_type": {
          "name": "target_resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_mode": {
          "name": "requirement_mode",
          "type": "requirement_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "min_quantity": {
          "name": "min_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "max_quantity": {
          "name": "max_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "selector_match_mode": {
          "name": "selector_match_mode",
          "type": "selector_match_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'any'"
        },
        "allow_substitution": {
          "name": "allow_substitution",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "service_product_requirement_groups_biz_id_id_unique": {
          "name": "service_product_requirement_groups_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "service_product_requirement_groups_unique": {
          "name": "service_product_requirement_groups_unique",
          "columns": [
            "service_product_id",
            "slug"
          ],
          "isUnique": true
        },
        "service_product_requirement_groups_biz_product_idx": {
          "name": "service_product_requirement_groups_biz_product_idx",
          "columns": [
            "biz_id",
            "service_product_id"
          ],
          "isUnique": false
        },
        "service_product_requirement_groups_biz_type_idx": {
          "name": "service_product_requirement_groups_biz_type_idx",
          "columns": [
            "biz_id",
            "target_resource_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_product_requirement_groups_biz_id_bizes_id_fk": {
          "name": "service_product_requirement_groups_biz_id_bizes_id_fk",
          "tableFrom": "service_product_requirement_groups",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_groups_service_product_id_service_products_id_fk": {
          "name": "service_product_requirement_groups_service_product_id_service_products_id_fk",
          "tableFrom": "service_product_requirement_groups",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_groups_created_by_users_id_fk": {
          "name": "service_product_requirement_groups_created_by_users_id_fk",
          "tableFrom": "service_product_requirement_groups",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_groups_updated_by_users_id_fk": {
          "name": "service_product_requirement_groups_updated_by_users_id_fk",
          "tableFrom": "service_product_requirement_groups",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_groups_deleted_by_users_id_fk": {
          "name": "service_product_requirement_groups_deleted_by_users_id_fk",
          "tableFrom": "service_product_requirement_groups",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_groups_biz_service_product_fk": {
          "name": "service_product_requirement_groups_biz_service_product_fk",
          "tableFrom": "service_product_requirement_groups",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "service_product_requirement_selectors": {
      "name": "service_product_requirement_selectors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_group_id": {
          "name": "requirement_group_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "selector_type": {
          "name": "selector_type",
          "type": "resource_selector_type",
          "primaryKey": false,
          "notNull": true
        },
        "is_included": {
          "name": "is_included",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": false
        },
        "capability_template_id": {
          "name": "capability_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "service_product_requirement_selectors_group_idx": {
          "name": "service_product_requirement_selectors_group_idx",
          "columns": [
            "requirement_group_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "service_product_requirement_selectors_resource_idx": {
          "name": "service_product_requirement_selectors_resource_idx",
          "columns": [
            "resource_id"
          ],
          "isUnique": false
        },
        "service_product_requirement_selectors_resource_type_idx": {
          "name": "service_product_requirement_selectors_resource_type_idx",
          "columns": [
            "resource_type"
          ],
          "isUnique": false
        },
        "service_product_requirement_selectors_subject_idx": {
          "name": "service_product_requirement_selectors_subject_idx",
          "columns": [
            "subject_type",
            "subject_id"
          ],
          "isUnique": false
        },
        "service_product_requirement_selectors_capability_idx": {
          "name": "service_product_requirement_selectors_capability_idx",
          "columns": [
            "capability_template_id"
          ],
          "isUnique": false
        },
        "service_product_requirement_selectors_location_idx": {
          "name": "service_product_requirement_selectors_location_idx",
          "columns": [
            "location_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_product_requirement_selectors_biz_id_bizes_id_fk": {
          "name": "service_product_requirement_selectors_biz_id_bizes_id_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_requirement_group_id_service_product_requirement_groups_id_fk": {
          "name": "service_product_requirement_selectors_requirement_group_id_service_product_requirement_groups_id_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "service_product_requirement_groups",
          "columnsFrom": [
            "requirement_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_resource_id_resources_id_fk": {
          "name": "service_product_requirement_selectors_resource_id_resources_id_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_capability_template_id_resource_capability_templates_id_fk": {
          "name": "service_product_requirement_selectors_capability_template_id_resource_capability_templates_id_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "capability_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_location_id_locations_id_fk": {
          "name": "service_product_requirement_selectors_location_id_locations_id_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_created_by_users_id_fk": {
          "name": "service_product_requirement_selectors_created_by_users_id_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_updated_by_users_id_fk": {
          "name": "service_product_requirement_selectors_updated_by_users_id_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_deleted_by_users_id_fk": {
          "name": "service_product_requirement_selectors_deleted_by_users_id_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_biz_group_fk": {
          "name": "service_product_requirement_selectors_biz_group_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "service_product_requirement_groups",
          "columnsFrom": [
            "biz_id",
            "requirement_group_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_biz_resource_fk": {
          "name": "service_product_requirement_selectors_biz_resource_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_biz_subject_fk": {
          "name": "service_product_requirement_selectors_biz_subject_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_biz_capability_template_fk": {
          "name": "service_product_requirement_selectors_biz_capability_template_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "biz_id",
            "capability_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_requirement_selectors_biz_location_fk": {
          "name": "service_product_requirement_selectors_biz_location_fk",
          "tableFrom": "service_product_requirement_selectors",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "service_product_seat_type_requirements": {
      "name": "service_product_seat_type_requirements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seat_type_id": {
          "name": "seat_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_group_id": {
          "name": "requirement_group_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "min_quantity_override": {
          "name": "min_quantity_override",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_quantity_override": {
          "name": "max_quantity_override",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "service_product_seat_type_requirements_unique": {
          "name": "service_product_seat_type_requirements_unique",
          "columns": [
            "seat_type_id",
            "requirement_group_id"
          ],
          "isUnique": true
        },
        "service_product_seat_type_requirements_biz_seat_idx": {
          "name": "service_product_seat_type_requirements_biz_seat_idx",
          "columns": [
            "biz_id",
            "seat_type_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_product_seat_type_requirements_biz_id_bizes_id_fk": {
          "name": "service_product_seat_type_requirements_biz_id_bizes_id_fk",
          "tableFrom": "service_product_seat_type_requirements",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_type_requirements_seat_type_id_service_product_seat_types_id_fk": {
          "name": "service_product_seat_type_requirements_seat_type_id_service_product_seat_types_id_fk",
          "tableFrom": "service_product_seat_type_requirements",
          "tableTo": "service_product_seat_types",
          "columnsFrom": [
            "seat_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_type_requirements_requirement_group_id_service_product_requirement_groups_id_fk": {
          "name": "service_product_seat_type_requirements_requirement_group_id_service_product_requirement_groups_id_fk",
          "tableFrom": "service_product_seat_type_requirements",
          "tableTo": "service_product_requirement_groups",
          "columnsFrom": [
            "requirement_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_type_requirements_created_by_users_id_fk": {
          "name": "service_product_seat_type_requirements_created_by_users_id_fk",
          "tableFrom": "service_product_seat_type_requirements",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_type_requirements_updated_by_users_id_fk": {
          "name": "service_product_seat_type_requirements_updated_by_users_id_fk",
          "tableFrom": "service_product_seat_type_requirements",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_type_requirements_deleted_by_users_id_fk": {
          "name": "service_product_seat_type_requirements_deleted_by_users_id_fk",
          "tableFrom": "service_product_seat_type_requirements",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_type_requirements_biz_seat_type_fk": {
          "name": "service_product_seat_type_requirements_biz_seat_type_fk",
          "tableFrom": "service_product_seat_type_requirements",
          "tableTo": "service_product_seat_types",
          "columnsFrom": [
            "biz_id",
            "seat_type_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_type_requirements_biz_requirement_group_fk": {
          "name": "service_product_seat_type_requirements_biz_requirement_group_fk",
          "tableFrom": "service_product_seat_type_requirements",
          "tableTo": "service_product_requirement_groups",
          "columnsFrom": [
            "biz_id",
            "requirement_group_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "service_product_seat_types": {
      "name": "service_product_seat_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "min_seats": {
          "name": "min_seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_seats": {
          "name": "max_seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "default_quantity": {
          "name": "default_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "base_price_amount": {
          "name": "base_price_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "service_product_seat_types_biz_id_id_unique": {
          "name": "service_product_seat_types_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "service_product_seat_types_unique": {
          "name": "service_product_seat_types_unique",
          "columns": [
            "service_product_id",
            "slug"
          ],
          "isUnique": true
        },
        "service_product_seat_types_biz_product_idx": {
          "name": "service_product_seat_types_biz_product_idx",
          "columns": [
            "biz_id",
            "service_product_id"
          ],
          "isUnique": false
        },
        "service_product_seat_types_biz_status_config_idx": {
          "name": "service_product_seat_types_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_product_seat_types_biz_id_bizes_id_fk": {
          "name": "service_product_seat_types_biz_id_bizes_id_fk",
          "tableFrom": "service_product_seat_types",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_types_service_product_id_service_products_id_fk": {
          "name": "service_product_seat_types_service_product_id_service_products_id_fk",
          "tableFrom": "service_product_seat_types",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_types_status_config_value_id_biz_config_values_id_fk": {
          "name": "service_product_seat_types_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "service_product_seat_types",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_types_created_by_users_id_fk": {
          "name": "service_product_seat_types_created_by_users_id_fk",
          "tableFrom": "service_product_seat_types",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_types_updated_by_users_id_fk": {
          "name": "service_product_seat_types_updated_by_users_id_fk",
          "tableFrom": "service_product_seat_types",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_types_deleted_by_users_id_fk": {
          "name": "service_product_seat_types_deleted_by_users_id_fk",
          "tableFrom": "service_product_seat_types",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_types_biz_service_product_fk": {
          "name": "service_product_seat_types_biz_service_product_fk",
          "tableFrom": "service_product_seat_types",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_seat_types_biz_status_config_fk": {
          "name": "service_product_seat_types_biz_status_config_fk",
          "tableFrom": "service_product_seat_types",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "service_product_services": {
      "name": "service_product_services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_group_id": {
          "name": "service_group_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requirement_mode": {
          "name": "requirement_mode",
          "type": "requirement_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "min_quantity": {
          "name": "min_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "max_quantity": {
          "name": "max_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "service_product_services_unique_service": {
          "name": "service_product_services_unique_service",
          "columns": [
            "service_product_id",
            "service_id"
          ],
          "isUnique": true
        },
        "service_product_services_unique_group": {
          "name": "service_product_services_unique_group",
          "columns": [
            "service_product_id",
            "service_group_id"
          ],
          "isUnique": true
        },
        "service_product_services_biz_product_idx": {
          "name": "service_product_services_biz_product_idx",
          "columns": [
            "biz_id",
            "service_product_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_product_services_biz_id_bizes_id_fk": {
          "name": "service_product_services_biz_id_bizes_id_fk",
          "tableFrom": "service_product_services",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_services_service_product_id_service_products_id_fk": {
          "name": "service_product_services_service_product_id_service_products_id_fk",
          "tableFrom": "service_product_services",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_services_service_id_services_id_fk": {
          "name": "service_product_services_service_id_services_id_fk",
          "tableFrom": "service_product_services",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_services_service_group_id_service_groups_id_fk": {
          "name": "service_product_services_service_group_id_service_groups_id_fk",
          "tableFrom": "service_product_services",
          "tableTo": "service_groups",
          "columnsFrom": [
            "service_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_services_created_by_users_id_fk": {
          "name": "service_product_services_created_by_users_id_fk",
          "tableFrom": "service_product_services",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_services_updated_by_users_id_fk": {
          "name": "service_product_services_updated_by_users_id_fk",
          "tableFrom": "service_product_services",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_services_deleted_by_users_id_fk": {
          "name": "service_product_services_deleted_by_users_id_fk",
          "tableFrom": "service_product_services",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_services_biz_service_product_fk": {
          "name": "service_product_services_biz_service_product_fk",
          "tableFrom": "service_product_services",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_services_biz_service_fk": {
          "name": "service_product_services_biz_service_fk",
          "tableFrom": "service_product_services",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_product_services_biz_service_group_fk": {
          "name": "service_product_services_biz_service_group_fk",
          "tableFrom": "service_product_services",
          "tableTo": "service_groups",
          "columnsFrom": [
            "biz_id",
            "service_group_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "service_products": {
      "name": "service_products",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "service_product_kind",
          "primaryKey": false,
          "notNull": true,
          "default": "'booking'"
        },
        "kind_config_value_id": {
          "name": "kind_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_mode": {
          "name": "duration_mode",
          "type": "duration_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'fixed'"
        },
        "duration_mode_config_value_id": {
          "name": "duration_mode_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_duration_minutes": {
          "name": "default_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "min_duration_minutes": {
          "name": "min_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_duration_minutes": {
          "name": "max_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "duration_step_minutes": {
          "name": "duration_step_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 15
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "base_price_amount": {
          "name": "base_price_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "pricing_policy": {
          "name": "pricing_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "availability_policy": {
          "name": "availability_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "service_products_biz_id_id_unique": {
          "name": "service_products_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "service_products_biz_slug_unique": {
          "name": "service_products_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "service_products_product_unique": {
          "name": "service_products_product_unique",
          "columns": [
            "product_id"
          ],
          "isUnique": true
        },
        "service_products_biz_status_idx": {
          "name": "service_products_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "service_products_biz_kind_idx": {
          "name": "service_products_biz_kind_idx",
          "columns": [
            "biz_id",
            "kind"
          ],
          "isUnique": false
        },
        "service_products_biz_kind_config_idx": {
          "name": "service_products_biz_kind_config_idx",
          "columns": [
            "biz_id",
            "kind_config_value_id"
          ],
          "isUnique": false
        },
        "service_products_biz_duration_mode_config_idx": {
          "name": "service_products_biz_duration_mode_config_idx",
          "columns": [
            "biz_id",
            "duration_mode_config_value_id"
          ],
          "isUnique": false
        },
        "service_products_biz_status_config_idx": {
          "name": "service_products_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_products_biz_id_bizes_id_fk": {
          "name": "service_products_biz_id_bizes_id_fk",
          "tableFrom": "service_products",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_product_id_products_id_fk": {
          "name": "service_products_product_id_products_id_fk",
          "tableFrom": "service_products",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_kind_config_value_id_biz_config_values_id_fk": {
          "name": "service_products_kind_config_value_id_biz_config_values_id_fk",
          "tableFrom": "service_products",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "kind_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_duration_mode_config_value_id_biz_config_values_id_fk": {
          "name": "service_products_duration_mode_config_value_id_biz_config_values_id_fk",
          "tableFrom": "service_products",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "duration_mode_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_status_config_value_id_biz_config_values_id_fk": {
          "name": "service_products_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "service_products",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_created_by_users_id_fk": {
          "name": "service_products_created_by_users_id_fk",
          "tableFrom": "service_products",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_updated_by_users_id_fk": {
          "name": "service_products_updated_by_users_id_fk",
          "tableFrom": "service_products",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_deleted_by_users_id_fk": {
          "name": "service_products_deleted_by_users_id_fk",
          "tableFrom": "service_products",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_biz_product_fk": {
          "name": "service_products_biz_product_fk",
          "tableFrom": "service_products",
          "tableTo": "products",
          "columnsFrom": [
            "biz_id",
            "product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_biz_kind_config_fk": {
          "name": "service_products_biz_kind_config_fk",
          "tableFrom": "service_products",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "kind_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_biz_duration_mode_config_fk": {
          "name": "service_products_biz_duration_mode_config_fk",
          "tableFrom": "service_products",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "duration_mode_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_products_biz_status_config_fk": {
          "name": "service_products_biz_status_config_fk",
          "tableFrom": "service_products",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "assets": {
      "name": "assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "assets_biz_id_id_unique": {
          "name": "assets_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "assets_biz_slug_unique": {
          "name": "assets_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "assets_biz_location_idx": {
          "name": "assets_biz_location_idx",
          "columns": [
            "biz_id",
            "location_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "assets_biz_id_bizes_id_fk": {
          "name": "assets_biz_id_bizes_id_fk",
          "tableFrom": "assets",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assets_location_id_locations_id_fk": {
          "name": "assets_location_id_locations_id_fk",
          "tableFrom": "assets",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assets_created_by_users_id_fk": {
          "name": "assets_created_by_users_id_fk",
          "tableFrom": "assets",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assets_updated_by_users_id_fk": {
          "name": "assets_updated_by_users_id_fk",
          "tableFrom": "assets",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assets_deleted_by_users_id_fk": {
          "name": "assets_deleted_by_users_id_fk",
          "tableFrom": "assets",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assets_biz_location_fk": {
          "name": "assets_biz_location_fk",
          "tableFrom": "assets",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "venues": {
      "name": "venues",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "setup_minutes": {
          "name": "setup_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "teardown_minutes": {
          "name": "teardown_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "venues_biz_id_id_unique": {
          "name": "venues_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "venues_biz_slug_unique": {
          "name": "venues_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "venues_biz_location_idx": {
          "name": "venues_biz_location_idx",
          "columns": [
            "biz_id",
            "location_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "venues_biz_id_bizes_id_fk": {
          "name": "venues_biz_id_bizes_id_fk",
          "tableFrom": "venues",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "venues_location_id_locations_id_fk": {
          "name": "venues_location_id_locations_id_fk",
          "tableFrom": "venues",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "venues_created_by_users_id_fk": {
          "name": "venues_created_by_users_id_fk",
          "tableFrom": "venues",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "venues_updated_by_users_id_fk": {
          "name": "venues_updated_by_users_id_fk",
          "tableFrom": "venues",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "venues_deleted_by_users_id_fk": {
          "name": "venues_deleted_by_users_id_fk",
          "tableFrom": "venues",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "venues_biz_location_fk": {
          "name": "venues_biz_location_fk",
          "tableFrom": "venues",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "host_group_members": {
      "name": "host_group_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "host_group_id": {
          "name": "host_group_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "is_assignable": {
          "name": "is_assignable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "host_group_members_unique": {
          "name": "host_group_members_unique",
          "columns": [
            "host_group_id",
            "user_id"
          ],
          "isUnique": true
        },
        "host_group_members_biz_group_idx": {
          "name": "host_group_members_biz_group_idx",
          "columns": [
            "biz_id",
            "host_group_id"
          ],
          "isUnique": false
        },
        "host_group_members_biz_user_idx": {
          "name": "host_group_members_biz_user_idx",
          "columns": [
            "biz_id",
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "host_group_members_biz_id_bizes_id_fk": {
          "name": "host_group_members_biz_id_bizes_id_fk",
          "tableFrom": "host_group_members",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_group_members_host_group_id_host_groups_id_fk": {
          "name": "host_group_members_host_group_id_host_groups_id_fk",
          "tableFrom": "host_group_members",
          "tableTo": "host_groups",
          "columnsFrom": [
            "host_group_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_group_members_user_id_users_id_fk": {
          "name": "host_group_members_user_id_users_id_fk",
          "tableFrom": "host_group_members",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_group_members_created_by_users_id_fk": {
          "name": "host_group_members_created_by_users_id_fk",
          "tableFrom": "host_group_members",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_group_members_updated_by_users_id_fk": {
          "name": "host_group_members_updated_by_users_id_fk",
          "tableFrom": "host_group_members",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_group_members_deleted_by_users_id_fk": {
          "name": "host_group_members_deleted_by_users_id_fk",
          "tableFrom": "host_group_members",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_group_members_biz_host_group_fk": {
          "name": "host_group_members_biz_host_group_fk",
          "tableFrom": "host_group_members",
          "tableTo": "host_groups",
          "columnsFrom": [
            "biz_id",
            "host_group_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "host_groups": {
      "name": "host_groups",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "group_account_id": {
          "name": "group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "dispatch_method": {
          "name": "dispatch_method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "service_radius_miles": {
          "name": "service_radius_miles",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "business_hours": {
          "name": "business_hours",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "host_groups_biz_id_id_unique": {
          "name": "host_groups_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "host_groups_resource_unique": {
          "name": "host_groups_resource_unique",
          "columns": [
            "resource_id"
          ],
          "isUnique": true
        },
        "host_groups_biz_status_idx": {
          "name": "host_groups_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "host_groups_biz_id_bizes_id_fk": {
          "name": "host_groups_biz_id_bizes_id_fk",
          "tableFrom": "host_groups",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_groups_resource_id_resources_id_fk": {
          "name": "host_groups_resource_id_resources_id_fk",
          "tableFrom": "host_groups",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_groups_group_account_id_group_accounts_id_fk": {
          "name": "host_groups_group_account_id_group_accounts_id_fk",
          "tableFrom": "host_groups",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_groups_created_by_users_id_fk": {
          "name": "host_groups_created_by_users_id_fk",
          "tableFrom": "host_groups",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_groups_updated_by_users_id_fk": {
          "name": "host_groups_updated_by_users_id_fk",
          "tableFrom": "host_groups",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_groups_deleted_by_users_id_fk": {
          "name": "host_groups_deleted_by_users_id_fk",
          "tableFrom": "host_groups",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_groups_biz_resource_fk": {
          "name": "host_groups_biz_resource_fk",
          "tableFrom": "host_groups",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_groups_biz_group_account_fk": {
          "name": "host_groups_biz_group_account_fk",
          "tableFrom": "host_groups",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "biz_id",
            "group_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "host_users": {
      "name": "host_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "varchar(1500)",
          "primaryKey": false,
          "notNull": false
        },
        "languages": {
          "name": "languages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "travel_radius_miles": {
          "name": "travel_radius_miles",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_daily_bookings": {
          "name": "max_daily_bookings",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_rest_between_bookings_min": {
          "name": "min_rest_between_bookings_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "payment_profile": {
          "name": "payment_profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "review_count": {
          "name": "review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "host_users_biz_id_id_unique": {
          "name": "host_users_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "host_users_resource_unique": {
          "name": "host_users_resource_unique",
          "columns": [
            "resource_id"
          ],
          "isUnique": true
        },
        "host_users_biz_status_idx": {
          "name": "host_users_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "host_users_biz_id_bizes_id_fk": {
          "name": "host_users_biz_id_bizes_id_fk",
          "tableFrom": "host_users",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_users_resource_id_resources_id_fk": {
          "name": "host_users_resource_id_resources_id_fk",
          "tableFrom": "host_users",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_users_user_id_users_id_fk": {
          "name": "host_users_user_id_users_id_fk",
          "tableFrom": "host_users",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_users_created_by_users_id_fk": {
          "name": "host_users_created_by_users_id_fk",
          "tableFrom": "host_users",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_users_updated_by_users_id_fk": {
          "name": "host_users_updated_by_users_id_fk",
          "tableFrom": "host_users",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_users_deleted_by_users_id_fk": {
          "name": "host_users_deleted_by_users_id_fk",
          "tableFrom": "host_users",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "host_users_biz_resource_fk": {
          "name": "host_users_biz_resource_fk",
          "tableFrom": "host_users",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "resource_service_capabilities": {
      "name": "resource_service_capabilities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "description": {
          "name": "description",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resource_service_capabilities_unique": {
          "name": "resource_service_capabilities_unique",
          "columns": [
            "resource_id",
            "service_id",
            "location_id"
          ],
          "isUnique": true
        },
        "resource_service_capabilities_biz_service_idx": {
          "name": "resource_service_capabilities_biz_service_idx",
          "columns": [
            "biz_id",
            "service_id",
            "is_enabled"
          ],
          "isUnique": false
        },
        "resource_service_capabilities_biz_resource_idx": {
          "name": "resource_service_capabilities_biz_resource_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "is_enabled"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "resource_service_capabilities_biz_id_bizes_id_fk": {
          "name": "resource_service_capabilities_biz_id_bizes_id_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_service_capabilities_resource_id_resources_id_fk": {
          "name": "resource_service_capabilities_resource_id_resources_id_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_service_capabilities_service_id_services_id_fk": {
          "name": "resource_service_capabilities_service_id_services_id_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_service_capabilities_location_id_locations_id_fk": {
          "name": "resource_service_capabilities_location_id_locations_id_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_service_capabilities_created_by_users_id_fk": {
          "name": "resource_service_capabilities_created_by_users_id_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_service_capabilities_updated_by_users_id_fk": {
          "name": "resource_service_capabilities_updated_by_users_id_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_service_capabilities_deleted_by_users_id_fk": {
          "name": "resource_service_capabilities_deleted_by_users_id_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_service_capabilities_biz_resource_fk": {
          "name": "resource_service_capabilities_biz_resource_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_service_capabilities_biz_service_fk": {
          "name": "resource_service_capabilities_biz_service_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_service_capabilities_biz_location_fk": {
          "name": "resource_service_capabilities_biz_location_fk",
          "tableFrom": "resource_service_capabilities",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "resource_status_definitions": {
      "name": "resource_status_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "is_bookable": {
          "name": "is_bookable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resource_status_definitions_biz_id_id_unique": {
          "name": "resource_status_definitions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "resource_status_definitions_biz_location_slug_unique": {
          "name": "resource_status_definitions_biz_location_slug_unique",
          "columns": [
            "biz_id",
            "location_id",
            "slug"
          ],
          "isUnique": true
        },
        "resource_status_definitions_biz_schedulable_idx": {
          "name": "resource_status_definitions_biz_schedulable_idx",
          "columns": [
            "biz_id",
            "is_bookable"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "resource_status_definitions_biz_id_bizes_id_fk": {
          "name": "resource_status_definitions_biz_id_bizes_id_fk",
          "tableFrom": "resource_status_definitions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_status_definitions_location_id_locations_id_fk": {
          "name": "resource_status_definitions_location_id_locations_id_fk",
          "tableFrom": "resource_status_definitions",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_status_definitions_created_by_users_id_fk": {
          "name": "resource_status_definitions_created_by_users_id_fk",
          "tableFrom": "resource_status_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_status_definitions_updated_by_users_id_fk": {
          "name": "resource_status_definitions_updated_by_users_id_fk",
          "tableFrom": "resource_status_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_status_definitions_deleted_by_users_id_fk": {
          "name": "resource_status_definitions_deleted_by_users_id_fk",
          "tableFrom": "resource_status_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_status_definitions_biz_location_fk": {
          "name": "resource_status_definitions_biz_location_fk",
          "tableFrom": "resource_status_definitions",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "resources": {
      "name": "resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "status_definition_id": {
          "name": "status_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "host_user_id": {
          "name": "host_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "group_account_id": {
          "name": "group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "asset_id": {
          "name": "asset_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "venue_id": {
          "name": "venue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allow_simultaneous_bookings": {
          "name": "allow_simultaneous_bookings",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_simultaneous_bookings": {
          "name": "max_simultaneous_bookings",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "buffer_before_minutes": {
          "name": "buffer_before_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "buffer_after_minutes": {
          "name": "buffer_after_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resources_biz_id_id_unique": {
          "name": "resources_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "resources_biz_slug_unique": {
          "name": "resources_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "resources_biz_type_idx": {
          "name": "resources_biz_type_idx",
          "columns": [
            "biz_id",
            "type"
          ],
          "isUnique": false
        },
        "resources_biz_status_definition_idx": {
          "name": "resources_biz_status_definition_idx",
          "columns": [
            "biz_id",
            "status_definition_id"
          ],
          "isUnique": false
        },
        "resources_host_user_single_wrapper_unique": {
          "name": "resources_host_user_single_wrapper_unique",
          "columns": [
            "host_user_id"
          ],
          "isUnique": true
        },
        "resources_group_account_single_wrapper_unique": {
          "name": "resources_group_account_single_wrapper_unique",
          "columns": [
            "group_account_id"
          ],
          "isUnique": true
        },
        "resources_asset_single_wrapper_unique": {
          "name": "resources_asset_single_wrapper_unique",
          "columns": [
            "asset_id"
          ],
          "isUnique": true
        },
        "resources_venue_single_wrapper_unique": {
          "name": "resources_venue_single_wrapper_unique",
          "columns": [
            "venue_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "resources_biz_id_bizes_id_fk": {
          "name": "resources_biz_id_bizes_id_fk",
          "tableFrom": "resources",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_location_id_locations_id_fk": {
          "name": "resources_location_id_locations_id_fk",
          "tableFrom": "resources",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_status_definition_id_resource_status_definitions_id_fk": {
          "name": "resources_status_definition_id_resource_status_definitions_id_fk",
          "tableFrom": "resources",
          "tableTo": "resource_status_definitions",
          "columnsFrom": [
            "status_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_host_user_id_users_id_fk": {
          "name": "resources_host_user_id_users_id_fk",
          "tableFrom": "resources",
          "tableTo": "users",
          "columnsFrom": [
            "host_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_group_account_id_group_accounts_id_fk": {
          "name": "resources_group_account_id_group_accounts_id_fk",
          "tableFrom": "resources",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_asset_id_assets_id_fk": {
          "name": "resources_asset_id_assets_id_fk",
          "tableFrom": "resources",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_venue_id_venues_id_fk": {
          "name": "resources_venue_id_venues_id_fk",
          "tableFrom": "resources",
          "tableTo": "venues",
          "columnsFrom": [
            "venue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_created_by_users_id_fk": {
          "name": "resources_created_by_users_id_fk",
          "tableFrom": "resources",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_updated_by_users_id_fk": {
          "name": "resources_updated_by_users_id_fk",
          "tableFrom": "resources",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_deleted_by_users_id_fk": {
          "name": "resources_deleted_by_users_id_fk",
          "tableFrom": "resources",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_biz_location_fk": {
          "name": "resources_biz_location_fk",
          "tableFrom": "resources",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_biz_status_definition_fk": {
          "name": "resources_biz_status_definition_fk",
          "tableFrom": "resources",
          "tableTo": "resource_status_definitions",
          "columnsFrom": [
            "biz_id",
            "status_definition_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_biz_group_account_fk": {
          "name": "resources_biz_group_account_fk",
          "tableFrom": "resources",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "biz_id",
            "group_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_biz_asset_fk": {
          "name": "resources_biz_asset_fk",
          "tableFrom": "resources",
          "tableTo": "assets",
          "columnsFrom": [
            "biz_id",
            "asset_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resources_biz_venue_fk": {
          "name": "resources_biz_venue_fk",
          "tableFrom": "resources",
          "tableTo": "venues",
          "columnsFrom": [
            "biz_id",
            "venue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "stripe_accounts": {
      "name": "stripe_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_processor_account_id": {
          "name": "payment_processor_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_account_id": {
          "name": "stripe_account_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true,
          "default": "'express'"
        },
        "country": {
          "name": "country",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "default_currency": {
          "name": "default_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "charges_enabled": {
          "name": "charges_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "payouts_enabled": {
          "name": "payouts_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "details_submitted": {
          "name": "details_submitted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "account_usage_model": {
          "name": "account_usage_model",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'platform_mor'"
        },
        "merchant_model": {
          "name": "merchant_model",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'merchant_of_record'"
        },
        "is_default_for_charges": {
          "name": "is_default_for_charges",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_default_for_payouts": {
          "name": "is_default_for_payouts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "requirements_current_deadline": {
          "name": "requirements_current_deadline",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "capabilities": {
          "name": "capabilities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "business_profile": {
          "name": "business_profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "stripe_accounts_biz_id_id_unique": {
          "name": "stripe_accounts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "stripe_accounts_biz_processor_account_unique": {
          "name": "stripe_accounts_biz_processor_account_unique",
          "columns": [
            "biz_id",
            "payment_processor_account_id"
          ],
          "isUnique": true
        },
        "stripe_accounts_biz_stripe_id_unique": {
          "name": "stripe_accounts_biz_stripe_id_unique",
          "columns": [
            "biz_id",
            "stripe_account_id"
          ],
          "isUnique": true
        },
        "stripe_accounts_biz_default_charges_unique": {
          "name": "stripe_accounts_biz_default_charges_unique",
          "columns": [
            "biz_id"
          ],
          "isUnique": true
        },
        "stripe_accounts_biz_default_payouts_unique": {
          "name": "stripe_accounts_biz_default_payouts_unique",
          "columns": [
            "biz_id"
          ],
          "isUnique": true
        },
        "stripe_accounts_enabled_idx": {
          "name": "stripe_accounts_enabled_idx",
          "columns": [
            "charges_enabled",
            "payouts_enabled"
          ],
          "isUnique": false
        },
        "stripe_accounts_biz_usage_model_idx": {
          "name": "stripe_accounts_biz_usage_model_idx",
          "columns": [
            "biz_id",
            "account_usage_model",
            "merchant_model"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stripe_accounts_biz_id_bizes_id_fk": {
          "name": "stripe_accounts_biz_id_bizes_id_fk",
          "tableFrom": "stripe_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_accounts_payment_processor_account_id_payment_processor_accounts_id_fk": {
          "name": "stripe_accounts_payment_processor_account_id_payment_processor_accounts_id_fk",
          "tableFrom": "stripe_accounts",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_accounts_biz_processor_account_fk": {
          "name": "stripe_accounts_biz_processor_account_fk",
          "tableFrom": "stripe_accounts",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "biz_id",
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "stripe_checkout_sessions": {
      "name": "stripe_checkout_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_biz_order_id": {
          "name": "cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_ref_id": {
          "name": "payment_intent_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_ref_id": {
          "name": "stripe_customer_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_account_ref_id": {
          "name": "stripe_account_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_checkout_session_id": {
          "name": "stripe_checkout_session_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "livemode": {
          "name": "livemode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "stripe_checkout_sessions_biz_id_id_unique": {
          "name": "stripe_checkout_sessions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "stripe_checkout_sessions_stripe_id_unique": {
          "name": "stripe_checkout_sessions_stripe_id_unique",
          "columns": [
            "stripe_checkout_session_id"
          ],
          "isUnique": true
        },
        "stripe_checkout_sessions_org_status_idx": {
          "name": "stripe_checkout_sessions_org_status_idx",
          "columns": [
            "biz_id",
            "status",
            "payment_status"
          ],
          "isUnique": false
        },
        "stripe_checkout_sessions_biz_account_idx": {
          "name": "stripe_checkout_sessions_biz_account_idx",
          "columns": [
            "biz_id",
            "stripe_account_ref_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stripe_checkout_sessions_biz_id_bizes_id_fk": {
          "name": "stripe_checkout_sessions_biz_id_bizes_id_fk",
          "tableFrom": "stripe_checkout_sessions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_checkout_sessions_booking_order_id_booking_orders_id_fk": {
          "name": "stripe_checkout_sessions_booking_order_id_booking_orders_id_fk",
          "tableFrom": "stripe_checkout_sessions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_checkout_sessions_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "stripe_checkout_sessions_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "stripe_checkout_sessions",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_checkout_sessions_payment_intent_ref_id_payment_intents_id_fk": {
          "name": "stripe_checkout_sessions_payment_intent_ref_id_payment_intents_id_fk",
          "tableFrom": "stripe_checkout_sessions",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_checkout_sessions_stripe_customer_ref_id_stripe_customers_id_fk": {
          "name": "stripe_checkout_sessions_stripe_customer_ref_id_stripe_customers_id_fk",
          "tableFrom": "stripe_checkout_sessions",
          "tableTo": "stripe_customers",
          "columnsFrom": [
            "stripe_customer_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_checkout_sessions_stripe_account_ref_id_stripe_accounts_id_fk": {
          "name": "stripe_checkout_sessions_stripe_account_ref_id_stripe_accounts_id_fk",
          "tableFrom": "stripe_checkout_sessions",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_checkout_sessions_biz_account_fk": {
          "name": "stripe_checkout_sessions_biz_account_fk",
          "tableFrom": "stripe_checkout_sessions",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "biz_id",
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "stripe_customers": {
      "name": "stripe_customers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_account_ref_id": {
          "name": "stripe_account_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "group_account_id": {
          "name": "group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "default_payment_method_stripe_id": {
          "name": "default_payment_method_stripe_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "livemode": {
          "name": "livemode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "stripe_customers_biz_id_id_unique": {
          "name": "stripe_customers_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "stripe_customers_stripe_id_unique": {
          "name": "stripe_customers_stripe_id_unique",
          "columns": [
            "stripe_customer_id"
          ],
          "isUnique": true
        },
        "stripe_customers_biz_account_user_unique": {
          "name": "stripe_customers_biz_account_user_unique",
          "columns": [
            "biz_id",
            "stripe_account_ref_id",
            "user_id"
          ],
          "isUnique": true
        },
        "stripe_customers_biz_account_group_account_unique": {
          "name": "stripe_customers_biz_account_group_account_unique",
          "columns": [
            "biz_id",
            "stripe_account_ref_id",
            "group_account_id"
          ],
          "isUnique": true
        },
        "stripe_customers_biz_account_idx": {
          "name": "stripe_customers_biz_account_idx",
          "columns": [
            "biz_id",
            "stripe_account_ref_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stripe_customers_biz_id_bizes_id_fk": {
          "name": "stripe_customers_biz_id_bizes_id_fk",
          "tableFrom": "stripe_customers",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_customers_stripe_account_ref_id_stripe_accounts_id_fk": {
          "name": "stripe_customers_stripe_account_ref_id_stripe_accounts_id_fk",
          "tableFrom": "stripe_customers",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_customers_user_id_users_id_fk": {
          "name": "stripe_customers_user_id_users_id_fk",
          "tableFrom": "stripe_customers",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_customers_group_account_id_group_accounts_id_fk": {
          "name": "stripe_customers_group_account_id_group_accounts_id_fk",
          "tableFrom": "stripe_customers",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_customers_biz_account_fk": {
          "name": "stripe_customers_biz_account_fk",
          "tableFrom": "stripe_customers",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "biz_id",
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_customers_biz_group_account_fk": {
          "name": "stripe_customers_biz_group_account_fk",
          "tableFrom": "stripe_customers",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "biz_id",
            "group_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "stripe_invoices": {
      "name": "stripe_invoices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_biz_order_id": {
          "name": "cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_ref_id": {
          "name": "stripe_customer_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_account_ref_id": {
          "name": "stripe_account_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_invoice_id": {
          "name": "stripe_invoice_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "billing_reason": {
          "name": "billing_reason",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_due": {
          "name": "amount_due",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_paid": {
          "name": "amount_paid",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_remaining": {
          "name": "amount_remaining",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "hosted_invoice_url": {
          "name": "hosted_invoice_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_pdf_url": {
          "name": "invoice_pdf_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "livemode": {
          "name": "livemode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "stripe_invoices_biz_id_id_unique": {
          "name": "stripe_invoices_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "stripe_invoices_stripe_id_unique": {
          "name": "stripe_invoices_stripe_id_unique",
          "columns": [
            "stripe_invoice_id"
          ],
          "isUnique": true
        },
        "stripe_invoices_org_status_idx": {
          "name": "stripe_invoices_org_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "stripe_invoices_biz_account_idx": {
          "name": "stripe_invoices_biz_account_idx",
          "columns": [
            "biz_id",
            "stripe_account_ref_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stripe_invoices_biz_id_bizes_id_fk": {
          "name": "stripe_invoices_biz_id_bizes_id_fk",
          "tableFrom": "stripe_invoices",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_invoices_booking_order_id_booking_orders_id_fk": {
          "name": "stripe_invoices_booking_order_id_booking_orders_id_fk",
          "tableFrom": "stripe_invoices",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_invoices_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "stripe_invoices_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "stripe_invoices",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_invoices_stripe_customer_ref_id_stripe_customers_id_fk": {
          "name": "stripe_invoices_stripe_customer_ref_id_stripe_customers_id_fk",
          "tableFrom": "stripe_invoices",
          "tableTo": "stripe_customers",
          "columnsFrom": [
            "stripe_customer_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_invoices_stripe_account_ref_id_stripe_accounts_id_fk": {
          "name": "stripe_invoices_stripe_account_ref_id_stripe_accounts_id_fk",
          "tableFrom": "stripe_invoices",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_invoices_biz_account_fk": {
          "name": "stripe_invoices_biz_account_fk",
          "tableFrom": "stripe_invoices",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "biz_id",
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "stripe_payment_methods": {
      "name": "stripe_payment_methods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_customer_ref_id": {
          "name": "stripe_customer_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_method_id": {
          "name": "stripe_payment_method_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "brand": {
          "name": "brand",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "last4": {
          "name": "last4",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": false
        },
        "exp_month": {
          "name": "exp_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "exp_year": {
          "name": "exp_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fingerprint": {
          "name": "fingerprint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "funding": {
          "name": "funding",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "livemode": {
          "name": "livemode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "billing_details": {
          "name": "billing_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "stripe_payment_methods_biz_id_id_unique": {
          "name": "stripe_payment_methods_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "stripe_payment_methods_stripe_id_unique": {
          "name": "stripe_payment_methods_stripe_id_unique",
          "columns": [
            "stripe_payment_method_id"
          ],
          "isUnique": true
        },
        "stripe_payment_methods_org_customer_idx": {
          "name": "stripe_payment_methods_org_customer_idx",
          "columns": [
            "biz_id",
            "stripe_customer_ref_id"
          ],
          "isUnique": false
        },
        "stripe_payment_methods_fingerprint_idx": {
          "name": "stripe_payment_methods_fingerprint_idx",
          "columns": [
            "fingerprint"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stripe_payment_methods_biz_id_bizes_id_fk": {
          "name": "stripe_payment_methods_biz_id_bizes_id_fk",
          "tableFrom": "stripe_payment_methods",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_payment_methods_stripe_customer_ref_id_stripe_customers_id_fk": {
          "name": "stripe_payment_methods_stripe_customer_ref_id_stripe_customers_id_fk",
          "tableFrom": "stripe_payment_methods",
          "tableTo": "stripe_customers",
          "columnsFrom": [
            "stripe_customer_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_payment_methods_biz_customer_fk": {
          "name": "stripe_payment_methods_biz_customer_fk",
          "tableFrom": "stripe_payment_methods",
          "tableTo": "stripe_customers",
          "columnsFrom": [
            "biz_id",
            "stripe_customer_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "stripe_payouts": {
      "name": "stripe_payouts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_account_ref_id": {
          "name": "stripe_account_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_payout_id": {
          "name": "stripe_payout_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "arrival_at": {
          "name": "arrival_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failure_code": {
          "name": "failure_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "failure_message": {
          "name": "failure_message",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "method": {
          "name": "method",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "statement_descriptor": {
          "name": "statement_descriptor",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "stripe_payouts_biz_id_id_unique": {
          "name": "stripe_payouts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "stripe_payouts_stripe_id_unique": {
          "name": "stripe_payouts_stripe_id_unique",
          "columns": [
            "stripe_payout_id"
          ],
          "isUnique": true
        },
        "stripe_payouts_org_status_idx": {
          "name": "stripe_payouts_org_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "stripe_payouts_biz_account_idx": {
          "name": "stripe_payouts_biz_account_idx",
          "columns": [
            "biz_id",
            "stripe_account_ref_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stripe_payouts_biz_id_bizes_id_fk": {
          "name": "stripe_payouts_biz_id_bizes_id_fk",
          "tableFrom": "stripe_payouts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_payouts_stripe_account_ref_id_stripe_accounts_id_fk": {
          "name": "stripe_payouts_stripe_account_ref_id_stripe_accounts_id_fk",
          "tableFrom": "stripe_payouts",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_payouts_biz_account_fk": {
          "name": "stripe_payouts_biz_account_fk",
          "tableFrom": "stripe_payouts",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "biz_id",
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "stripe_setup_intents": {
      "name": "stripe_setup_intents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "group_account_id": {
          "name": "group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_ref_id": {
          "name": "stripe_customer_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_setup_intent_id": {
          "name": "stripe_setup_intent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "usage": {
          "name": "usage",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_method_id": {
          "name": "stripe_payment_method_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_setup_error": {
          "name": "last_setup_error",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "livemode": {
          "name": "livemode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "stripe_setup_intents_biz_id_id_unique": {
          "name": "stripe_setup_intents_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "stripe_setup_intents_stripe_id_unique": {
          "name": "stripe_setup_intents_stripe_id_unique",
          "columns": [
            "stripe_setup_intent_id"
          ],
          "isUnique": true
        },
        "stripe_setup_intents_org_status_idx": {
          "name": "stripe_setup_intents_org_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stripe_setup_intents_biz_id_bizes_id_fk": {
          "name": "stripe_setup_intents_biz_id_bizes_id_fk",
          "tableFrom": "stripe_setup_intents",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_setup_intents_user_id_users_id_fk": {
          "name": "stripe_setup_intents_user_id_users_id_fk",
          "tableFrom": "stripe_setup_intents",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_setup_intents_group_account_id_group_accounts_id_fk": {
          "name": "stripe_setup_intents_group_account_id_group_accounts_id_fk",
          "tableFrom": "stripe_setup_intents",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_setup_intents_stripe_customer_ref_id_stripe_customers_id_fk": {
          "name": "stripe_setup_intents_stripe_customer_ref_id_stripe_customers_id_fk",
          "tableFrom": "stripe_setup_intents",
          "tableTo": "stripe_customers",
          "columnsFrom": [
            "stripe_customer_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "stripe_transfers": {
      "name": "stripe_transfers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_biz_order_id": {
          "name": "cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_ref_id": {
          "name": "payment_intent_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_ref_id": {
          "name": "payment_transaction_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "destination_account_ref_id": {
          "name": "destination_account_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_transfer_id": {
          "name": "stripe_transfer_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "transfer_group": {
          "name": "transfer_group",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_transaction_id": {
          "name": "source_transaction_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "stripe_transfers_biz_id_id_unique": {
          "name": "stripe_transfers_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "stripe_transfers_stripe_id_unique": {
          "name": "stripe_transfers_stripe_id_unique",
          "columns": [
            "stripe_transfer_id"
          ],
          "isUnique": true
        },
        "stripe_transfers_org_status_idx": {
          "name": "stripe_transfers_org_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "stripe_transfers_biz_destination_account_idx": {
          "name": "stripe_transfers_biz_destination_account_idx",
          "columns": [
            "biz_id",
            "destination_account_ref_id",
            "status"
          ],
          "isUnique": false
        },
        "stripe_transfers_booking_order_idx": {
          "name": "stripe_transfers_booking_order_idx",
          "columns": [
            "booking_order_id"
          ],
          "isUnique": false
        },
        "stripe_transfers_cross_biz_order_idx": {
          "name": "stripe_transfers_cross_biz_order_idx",
          "columns": [
            "cross_biz_order_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stripe_transfers_biz_id_bizes_id_fk": {
          "name": "stripe_transfers_biz_id_bizes_id_fk",
          "tableFrom": "stripe_transfers",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_transfers_booking_order_id_booking_orders_id_fk": {
          "name": "stripe_transfers_booking_order_id_booking_orders_id_fk",
          "tableFrom": "stripe_transfers",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_transfers_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "stripe_transfers_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "stripe_transfers",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_transfers_payment_intent_ref_id_payment_intents_id_fk": {
          "name": "stripe_transfers_payment_intent_ref_id_payment_intents_id_fk",
          "tableFrom": "stripe_transfers",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_transfers_payment_transaction_ref_id_payment_transactions_id_fk": {
          "name": "stripe_transfers_payment_transaction_ref_id_payment_transactions_id_fk",
          "tableFrom": "stripe_transfers",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_transfers_destination_account_ref_id_stripe_accounts_id_fk": {
          "name": "stripe_transfers_destination_account_ref_id_stripe_accounts_id_fk",
          "tableFrom": "stripe_transfers",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "destination_account_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_transfers_biz_destination_account_fk": {
          "name": "stripe_transfers_biz_destination_account_fk",
          "tableFrom": "stripe_transfers",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "biz_id",
            "destination_account_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "stripe_webhook_events": {
      "name": "stripe_webhook_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_event_id": {
          "name": "stripe_event_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_account_id": {
          "name": "stripe_account_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_account_ref_id": {
          "name": "stripe_account_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "api_version": {
          "name": "api_version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "livemode": {
          "name": "livemode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "event_created_at": {
          "name": "event_created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "signature_verified": {
          "name": "signature_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "processing_status": {
          "name": "processing_status",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempts": {
          "name": "attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "processing_error": {
          "name": "processing_error",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "stripe_webhook_events_biz_id_id_unique": {
          "name": "stripe_webhook_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "stripe_webhook_events_stripe_id_unique": {
          "name": "stripe_webhook_events_stripe_id_unique",
          "columns": [
            "stripe_event_id"
          ],
          "isUnique": true
        },
        "stripe_webhook_events_status_idx": {
          "name": "stripe_webhook_events_status_idx",
          "columns": [
            "processing_status",
            "created_at"
          ],
          "isUnique": false
        },
        "stripe_webhook_events_type_idx": {
          "name": "stripe_webhook_events_type_idx",
          "columns": [
            "event_type"
          ],
          "isUnique": false
        },
        "stripe_webhook_events_biz_account_idx": {
          "name": "stripe_webhook_events_biz_account_idx",
          "columns": [
            "biz_id",
            "stripe_account_ref_id",
            "processing_status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stripe_webhook_events_biz_id_bizes_id_fk": {
          "name": "stripe_webhook_events_biz_id_bizes_id_fk",
          "tableFrom": "stripe_webhook_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_webhook_events_stripe_account_ref_id_stripe_accounts_id_fk": {
          "name": "stripe_webhook_events_stripe_account_ref_id_stripe_accounts_id_fk",
          "tableFrom": "stripe_webhook_events",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "stripe_webhook_events_biz_account_fk": {
          "name": "stripe_webhook_events_biz_account_fk",
          "tableFrom": "stripe_webhook_events",
          "tableTo": "stripe_accounts",
          "columnsFrom": [
            "biz_id",
            "stripe_account_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "subject_location_bindings": {
      "name": "subject_location_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "subject_location_bindings_biz_id_id_unique": {
          "name": "subject_location_bindings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "subject_location_bindings_unique": {
          "name": "subject_location_bindings_unique",
          "columns": [
            "biz_id",
            "subject_type",
            "subject_id",
            "location_id"
          ],
          "isUnique": true
        },
        "subject_location_bindings_biz_location_active_idx": {
          "name": "subject_location_bindings_biz_location_active_idx",
          "columns": [
            "biz_id",
            "location_id",
            "is_active"
          ],
          "isUnique": false
        },
        "subject_location_bindings_biz_subject_active_idx": {
          "name": "subject_location_bindings_biz_subject_active_idx",
          "columns": [
            "biz_id",
            "subject_type",
            "subject_id",
            "is_active"
          ],
          "isUnique": false
        },
        "subject_location_bindings_single_primary_per_subject_unique": {
          "name": "subject_location_bindings_single_primary_per_subject_unique",
          "columns": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "subject_location_bindings_biz_id_bizes_id_fk": {
          "name": "subject_location_bindings_biz_id_bizes_id_fk",
          "tableFrom": "subject_location_bindings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_location_bindings_location_id_locations_id_fk": {
          "name": "subject_location_bindings_location_id_locations_id_fk",
          "tableFrom": "subject_location_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_location_bindings_created_by_users_id_fk": {
          "name": "subject_location_bindings_created_by_users_id_fk",
          "tableFrom": "subject_location_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_location_bindings_updated_by_users_id_fk": {
          "name": "subject_location_bindings_updated_by_users_id_fk",
          "tableFrom": "subject_location_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_location_bindings_deleted_by_users_id_fk": {
          "name": "subject_location_bindings_deleted_by_users_id_fk",
          "tableFrom": "subject_location_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_location_bindings_biz_subject_fk": {
          "name": "subject_location_bindings_biz_subject_fk",
          "tableFrom": "subject_location_bindings",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_location_bindings_biz_location_fk": {
          "name": "subject_location_bindings_biz_location_fk",
          "tableFrom": "subject_location_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "subject_relationships": {
      "name": "subject_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_subject_type": {
          "name": "from_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "from_subject_id": {
          "name": "from_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "to_subject_type": {
          "name": "to_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "to_subject_id": {
          "name": "to_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "subject_relationship_direction",
          "primaryKey": false,
          "notNull": true,
          "default": "'directed'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "subject_relationships_biz_id_id_unique": {
          "name": "subject_relationships_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "subject_relationships_biz_edge_unique": {
          "name": "subject_relationships_biz_edge_unique",
          "columns": [
            "biz_id",
            "from_subject_type",
            "from_subject_id",
            "relationship_type",
            "to_subject_type",
            "to_subject_id",
            "direction"
          ],
          "isUnique": true
        },
        "subject_relationships_biz_from_idx": {
          "name": "subject_relationships_biz_from_idx",
          "columns": [
            "biz_id",
            "from_subject_type",
            "from_subject_id",
            "relationship_type",
            "status"
          ],
          "isUnique": false
        },
        "subject_relationships_biz_to_idx": {
          "name": "subject_relationships_biz_to_idx",
          "columns": [
            "biz_id",
            "to_subject_type",
            "to_subject_id",
            "relationship_type",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "subject_relationships_biz_id_bizes_id_fk": {
          "name": "subject_relationships_biz_id_bizes_id_fk",
          "tableFrom": "subject_relationships",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_relationships_created_by_users_id_fk": {
          "name": "subject_relationships_created_by_users_id_fk",
          "tableFrom": "subject_relationships",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_relationships_updated_by_users_id_fk": {
          "name": "subject_relationships_updated_by_users_id_fk",
          "tableFrom": "subject_relationships",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_relationships_deleted_by_users_id_fk": {
          "name": "subject_relationships_deleted_by_users_id_fk",
          "tableFrom": "subject_relationships",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_relationships_biz_from_subject_fk": {
          "name": "subject_relationships_biz_from_subject_fk",
          "tableFrom": "subject_relationships",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "from_subject_type",
            "from_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subject_relationships_biz_to_subject_fk": {
          "name": "subject_relationships_biz_to_subject_fk",
          "tableFrom": "subject_relationships",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "to_subject_type",
            "to_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "subjects": {
      "name": "subjects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_linkable": {
          "name": "is_linkable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "subjects_biz_id_id_unique": {
          "name": "subjects_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "subjects_biz_type_id_unique": {
          "name": "subjects_biz_type_id_unique",
          "columns": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "isUnique": true
        },
        "subjects_biz_status_idx": {
          "name": "subjects_biz_status_idx",
          "columns": [
            "biz_id",
            "status",
            "is_linkable"
          ],
          "isUnique": false
        },
        "subjects_biz_type_idx": {
          "name": "subjects_biz_type_idx",
          "columns": [
            "biz_id",
            "subject_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "subjects_biz_id_bizes_id_fk": {
          "name": "subjects_biz_id_bizes_id_fk",
          "tableFrom": "subjects",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subjects_created_by_users_id_fk": {
          "name": "subjects_created_by_users_id_fk",
          "tableFrom": "subjects",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subjects_updated_by_users_id_fk": {
          "name": "subjects_updated_by_users_id_fk",
          "tableFrom": "subjects",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subjects_deleted_by_users_id_fk": {
          "name": "subjects_deleted_by_users_id_fk",
          "tableFrom": "subjects",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offer_component_seat_types": {
      "name": "offer_component_seat_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "component_id": {
          "name": "component_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(150)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_seats": {
          "name": "min_seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_seats": {
          "name": "max_seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "default_seats": {
          "name": "default_seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "pricing_mode": {
          "name": "pricing_mode",
          "type": "offer_seat_pricing_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'included'"
        },
        "price_delta_minor": {
          "name": "price_delta_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "price_multiplier_bps": {
          "name": "price_multiplier_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offer_component_seat_types_biz_id_id_unique": {
          "name": "offer_component_seat_types_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offer_component_seat_types_unique": {
          "name": "offer_component_seat_types_unique",
          "columns": [
            "offer_version_id",
            "component_id",
            "code"
          ],
          "isUnique": true
        },
        "offer_component_seat_types_biz_offer_version_idx": {
          "name": "offer_component_seat_types_biz_offer_version_idx",
          "columns": [
            "biz_id",
            "offer_version_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offer_component_seat_types_biz_id_bizes_id_fk": {
          "name": "offer_component_seat_types_biz_id_bizes_id_fk",
          "tableFrom": "offer_component_seat_types",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_seat_types_offer_version_id_offer_versions_id_fk": {
          "name": "offer_component_seat_types_offer_version_id_offer_versions_id_fk",
          "tableFrom": "offer_component_seat_types",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_seat_types_component_id_offer_components_id_fk": {
          "name": "offer_component_seat_types_component_id_offer_components_id_fk",
          "tableFrom": "offer_component_seat_types",
          "tableTo": "offer_components",
          "columnsFrom": [
            "component_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_seat_types_created_by_users_id_fk": {
          "name": "offer_component_seat_types_created_by_users_id_fk",
          "tableFrom": "offer_component_seat_types",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_seat_types_updated_by_users_id_fk": {
          "name": "offer_component_seat_types_updated_by_users_id_fk",
          "tableFrom": "offer_component_seat_types",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_seat_types_deleted_by_users_id_fk": {
          "name": "offer_component_seat_types_deleted_by_users_id_fk",
          "tableFrom": "offer_component_seat_types",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_seat_types_biz_offer_version_fk": {
          "name": "offer_component_seat_types_biz_offer_version_fk",
          "tableFrom": "offer_component_seat_types",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_seat_types_biz_component_fk": {
          "name": "offer_component_seat_types_biz_component_fk",
          "tableFrom": "offer_component_seat_types",
          "tableTo": "offer_components",
          "columnsFrom": [
            "biz_id",
            "component_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offer_component_selectors": {
      "name": "offer_component_selectors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "component_id": {
          "name": "component_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "selector_type": {
          "name": "selector_type",
          "type": "resource_selector_type",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": false
        },
        "capability_template_id": {
          "name": "capability_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "weight": {
          "name": "weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offer_component_selectors_biz_id_id_unique": {
          "name": "offer_component_selectors_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offer_component_selectors_biz_component_idx": {
          "name": "offer_component_selectors_biz_component_idx",
          "columns": [
            "biz_id",
            "component_id"
          ],
          "isUnique": false
        },
        "offer_component_selectors_biz_resource_type_idx": {
          "name": "offer_component_selectors_biz_resource_type_idx",
          "columns": [
            "biz_id",
            "resource_type"
          ],
          "isUnique": false
        },
        "offer_component_selectors_biz_subject_idx": {
          "name": "offer_component_selectors_biz_subject_idx",
          "columns": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offer_component_selectors_biz_id_bizes_id_fk": {
          "name": "offer_component_selectors_biz_id_bizes_id_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_component_id_offer_components_id_fk": {
          "name": "offer_component_selectors_component_id_offer_components_id_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "offer_components",
          "columnsFrom": [
            "component_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_resource_id_resources_id_fk": {
          "name": "offer_component_selectors_resource_id_resources_id_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_capability_template_id_resource_capability_templates_id_fk": {
          "name": "offer_component_selectors_capability_template_id_resource_capability_templates_id_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "capability_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_location_id_locations_id_fk": {
          "name": "offer_component_selectors_location_id_locations_id_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_created_by_users_id_fk": {
          "name": "offer_component_selectors_created_by_users_id_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_updated_by_users_id_fk": {
          "name": "offer_component_selectors_updated_by_users_id_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_deleted_by_users_id_fk": {
          "name": "offer_component_selectors_deleted_by_users_id_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_biz_component_fk": {
          "name": "offer_component_selectors_biz_component_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "offer_components",
          "columnsFrom": [
            "biz_id",
            "component_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_biz_resource_fk": {
          "name": "offer_component_selectors_biz_resource_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_biz_capability_template_fk": {
          "name": "offer_component_selectors_biz_capability_template_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "biz_id",
            "capability_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_biz_location_fk": {
          "name": "offer_component_selectors_biz_location_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_component_selectors_biz_subject_fk": {
          "name": "offer_component_selectors_biz_subject_fk",
          "tableFrom": "offer_component_selectors",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offer_components": {
      "name": "offer_components",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "requirement_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "selector_match_mode": {
          "name": "selector_match_mode",
          "type": "selector_match_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'any'"
        },
        "min_quantity": {
          "name": "min_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "max_quantity": {
          "name": "max_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allow_substitution": {
          "name": "allow_substitution",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offer_components_biz_id_id_unique": {
          "name": "offer_components_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offer_components_offer_version_slug_unique": {
          "name": "offer_components_offer_version_slug_unique",
          "columns": [
            "offer_version_id",
            "slug"
          ],
          "isUnique": true
        },
        "offer_components_biz_offer_version_idx": {
          "name": "offer_components_biz_offer_version_idx",
          "columns": [
            "biz_id",
            "offer_version_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offer_components_biz_id_bizes_id_fk": {
          "name": "offer_components_biz_id_bizes_id_fk",
          "tableFrom": "offer_components",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_components_offer_version_id_offer_versions_id_fk": {
          "name": "offer_components_offer_version_id_offer_versions_id_fk",
          "tableFrom": "offer_components",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_components_created_by_users_id_fk": {
          "name": "offer_components_created_by_users_id_fk",
          "tableFrom": "offer_components",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_components_updated_by_users_id_fk": {
          "name": "offer_components_updated_by_users_id_fk",
          "tableFrom": "offer_components",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_components_deleted_by_users_id_fk": {
          "name": "offer_components_deleted_by_users_id_fk",
          "tableFrom": "offer_components",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_components_biz_offer_version_fk": {
          "name": "offer_components_biz_offer_version_fk",
          "tableFrom": "offer_components",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offer_version_admission_modes": {
      "name": "offer_version_admission_modes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "offer_execution_mode",
          "primaryKey": false,
          "notNull": true
        },
        "mode_config_value_id": {
          "name": "mode_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_customer_visible": {
          "name": "is_customer_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "effective_start_at": {
          "name": "effective_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_end_at": {
          "name": "effective_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offer_version_admission_modes_biz_id_id_unique": {
          "name": "offer_version_admission_modes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offer_version_admission_modes_version_mode_unique": {
          "name": "offer_version_admission_modes_version_mode_unique",
          "columns": [
            "offer_version_id",
            "mode"
          ],
          "isUnique": true
        },
        "offer_version_admission_modes_one_primary_unique": {
          "name": "offer_version_admission_modes_one_primary_unique",
          "columns": [
            "offer_version_id"
          ],
          "isUnique": true
        },
        "offer_version_admission_modes_biz_version_status_priority_idx": {
          "name": "offer_version_admission_modes_biz_version_status_priority_idx",
          "columns": [
            "biz_id",
            "offer_version_id",
            "status",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offer_version_admission_modes_biz_id_bizes_id_fk": {
          "name": "offer_version_admission_modes_biz_id_bizes_id_fk",
          "tableFrom": "offer_version_admission_modes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_version_admission_modes_offer_version_id_offer_versions_id_fk": {
          "name": "offer_version_admission_modes_offer_version_id_offer_versions_id_fk",
          "tableFrom": "offer_version_admission_modes",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_version_admission_modes_mode_config_value_id_biz_config_values_id_fk": {
          "name": "offer_version_admission_modes_mode_config_value_id_biz_config_values_id_fk",
          "tableFrom": "offer_version_admission_modes",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "mode_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_version_admission_modes_created_by_users_id_fk": {
          "name": "offer_version_admission_modes_created_by_users_id_fk",
          "tableFrom": "offer_version_admission_modes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_version_admission_modes_updated_by_users_id_fk": {
          "name": "offer_version_admission_modes_updated_by_users_id_fk",
          "tableFrom": "offer_version_admission_modes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_version_admission_modes_deleted_by_users_id_fk": {
          "name": "offer_version_admission_modes_deleted_by_users_id_fk",
          "tableFrom": "offer_version_admission_modes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_version_admission_modes_biz_offer_version_fk": {
          "name": "offer_version_admission_modes_biz_offer_version_fk",
          "tableFrom": "offer_version_admission_modes",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_version_admission_modes_biz_mode_config_fk": {
          "name": "offer_version_admission_modes_biz_mode_config_fk",
          "tableFrom": "offer_version_admission_modes",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "mode_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offer_versions": {
      "name": "offer_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "offer_version_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "publish_at": {
          "name": "publish_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "retire_at": {
          "name": "retire_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_mode": {
          "name": "duration_mode",
          "type": "duration_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'fixed'"
        },
        "duration_mode_config_value_id": {
          "name": "duration_mode_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_duration_min": {
          "name": "default_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "min_duration_min": {
          "name": "min_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_duration_min": {
          "name": "max_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "duration_step_min": {
          "name": "duration_step_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 15
        },
        "base_price_minor": {
          "name": "base_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "pricing_model": {
          "name": "pricing_model",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "policy_model": {
          "name": "policy_model",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "capacity_model": {
          "name": "capacity_model",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "revision_hash": {
          "name": "revision_hash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offer_versions_biz_id_id_unique": {
          "name": "offer_versions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offer_versions_offer_version_unique": {
          "name": "offer_versions_offer_version_unique",
          "columns": [
            "offer_id",
            "version"
          ],
          "isUnique": true
        },
        "offer_versions_single_published_per_offer_unique": {
          "name": "offer_versions_single_published_per_offer_unique",
          "columns": [
            "offer_id"
          ],
          "isUnique": true
        },
        "offer_versions_biz_status_idx": {
          "name": "offer_versions_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "offer_versions_biz_status_config_idx": {
          "name": "offer_versions_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        },
        "offer_versions_biz_duration_mode_config_idx": {
          "name": "offer_versions_biz_duration_mode_config_idx",
          "columns": [
            "biz_id",
            "duration_mode_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offer_versions_biz_id_bizes_id_fk": {
          "name": "offer_versions_biz_id_bizes_id_fk",
          "tableFrom": "offer_versions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_versions_offer_id_offers_id_fk": {
          "name": "offer_versions_offer_id_offers_id_fk",
          "tableFrom": "offer_versions",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_versions_status_config_value_id_biz_config_values_id_fk": {
          "name": "offer_versions_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "offer_versions",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_versions_duration_mode_config_value_id_biz_config_values_id_fk": {
          "name": "offer_versions_duration_mode_config_value_id_biz_config_values_id_fk",
          "tableFrom": "offer_versions",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "duration_mode_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_versions_created_by_users_id_fk": {
          "name": "offer_versions_created_by_users_id_fk",
          "tableFrom": "offer_versions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_versions_updated_by_users_id_fk": {
          "name": "offer_versions_updated_by_users_id_fk",
          "tableFrom": "offer_versions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_versions_deleted_by_users_id_fk": {
          "name": "offer_versions_deleted_by_users_id_fk",
          "tableFrom": "offer_versions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_versions_biz_offer_fk": {
          "name": "offer_versions_biz_offer_fk",
          "tableFrom": "offer_versions",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_versions_biz_status_config_fk": {
          "name": "offer_versions_biz_status_config_fk",
          "tableFrom": "offer_versions",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offer_versions_biz_duration_mode_config_fk": {
          "name": "offer_versions_biz_duration_mode_config_fk",
          "tableFrom": "offer_versions",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "duration_mode_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offers": {
      "name": "offers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "execution_mode": {
          "name": "execution_mode",
          "type": "offer_execution_mode",
          "primaryKey": false,
          "notNull": true
        },
        "execution_mode_config_value_id": {
          "name": "execution_mode_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "offer_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offers_biz_id_id_unique": {
          "name": "offers_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offers_biz_slug_unique": {
          "name": "offers_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "offers_biz_status_idx": {
          "name": "offers_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "offers_biz_status_config_idx": {
          "name": "offers_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        },
        "offers_biz_execution_mode_idx": {
          "name": "offers_biz_execution_mode_idx",
          "columns": [
            "biz_id",
            "execution_mode"
          ],
          "isUnique": false
        },
        "offers_biz_execution_mode_config_idx": {
          "name": "offers_biz_execution_mode_config_idx",
          "columns": [
            "biz_id",
            "execution_mode_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offers_biz_id_bizes_id_fk": {
          "name": "offers_biz_id_bizes_id_fk",
          "tableFrom": "offers",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_execution_mode_config_value_id_biz_config_values_id_fk": {
          "name": "offers_execution_mode_config_value_id_biz_config_values_id_fk",
          "tableFrom": "offers",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "execution_mode_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_status_config_value_id_biz_config_values_id_fk": {
          "name": "offers_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "offers",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_created_by_users_id_fk": {
          "name": "offers_created_by_users_id_fk",
          "tableFrom": "offers",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_updated_by_users_id_fk": {
          "name": "offers_updated_by_users_id_fk",
          "tableFrom": "offers",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_deleted_by_users_id_fk": {
          "name": "offers_deleted_by_users_id_fk",
          "tableFrom": "offers",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_biz_status_config_fk": {
          "name": "offers_biz_status_config_fk",
          "tableFrom": "offers",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_biz_execution_mode_config_fk": {
          "name": "offers_biz_execution_mode_config_fk",
          "tableFrom": "offers",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "execution_mode_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "resource_capability_assignments": {
      "name": "resource_capability_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capability_template_id": {
          "name": "capability_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "proficiency_score": {
          "name": "proficiency_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "valid_to": {
          "name": "valid_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resource_capability_assignments_biz_id_id_unique": {
          "name": "resource_capability_assignments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "resource_capability_assignments_unique": {
          "name": "resource_capability_assignments_unique",
          "columns": [
            "resource_id",
            "capability_template_id"
          ],
          "isUnique": true
        },
        "resource_capability_assignments_biz_resource_idx": {
          "name": "resource_capability_assignments_biz_resource_idx",
          "columns": [
            "biz_id",
            "resource_id"
          ],
          "isUnique": false
        },
        "resource_capability_assignments_biz_capability_idx": {
          "name": "resource_capability_assignments_biz_capability_idx",
          "columns": [
            "biz_id",
            "capability_template_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "resource_capability_assignments_biz_id_bizes_id_fk": {
          "name": "resource_capability_assignments_biz_id_bizes_id_fk",
          "tableFrom": "resource_capability_assignments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_assignments_resource_id_resources_id_fk": {
          "name": "resource_capability_assignments_resource_id_resources_id_fk",
          "tableFrom": "resource_capability_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_assignments_capability_template_id_resource_capability_templates_id_fk": {
          "name": "resource_capability_assignments_capability_template_id_resource_capability_templates_id_fk",
          "tableFrom": "resource_capability_assignments",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "capability_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_assignments_created_by_users_id_fk": {
          "name": "resource_capability_assignments_created_by_users_id_fk",
          "tableFrom": "resource_capability_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_assignments_updated_by_users_id_fk": {
          "name": "resource_capability_assignments_updated_by_users_id_fk",
          "tableFrom": "resource_capability_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_assignments_deleted_by_users_id_fk": {
          "name": "resource_capability_assignments_deleted_by_users_id_fk",
          "tableFrom": "resource_capability_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_assignments_biz_resource_fk": {
          "name": "resource_capability_assignments_biz_resource_fk",
          "tableFrom": "resource_capability_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_assignments_biz_capability_fk": {
          "name": "resource_capability_assignments_biz_capability_fk",
          "tableFrom": "resource_capability_assignments",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "biz_id",
            "capability_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "resource_capability_templates": {
      "name": "resource_capability_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "resource_capability_scope",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resource_capability_templates_biz_id_id_unique": {
          "name": "resource_capability_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "resource_capability_templates_scope_slug_unique": {
          "name": "resource_capability_templates_scope_slug_unique",
          "columns": [
            "biz_id",
            "location_id",
            "scope",
            "slug"
          ],
          "isUnique": true
        },
        "resource_capability_templates_biz_scope_idx": {
          "name": "resource_capability_templates_biz_scope_idx",
          "columns": [
            "biz_id",
            "scope",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "resource_capability_templates_biz_id_bizes_id_fk": {
          "name": "resource_capability_templates_biz_id_bizes_id_fk",
          "tableFrom": "resource_capability_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_templates_location_id_locations_id_fk": {
          "name": "resource_capability_templates_location_id_locations_id_fk",
          "tableFrom": "resource_capability_templates",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_templates_created_by_users_id_fk": {
          "name": "resource_capability_templates_created_by_users_id_fk",
          "tableFrom": "resource_capability_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_templates_updated_by_users_id_fk": {
          "name": "resource_capability_templates_updated_by_users_id_fk",
          "tableFrom": "resource_capability_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_templates_deleted_by_users_id_fk": {
          "name": "resource_capability_templates_deleted_by_users_id_fk",
          "tableFrom": "resource_capability_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_capability_templates_biz_location_fk": {
          "name": "resource_capability_templates_biz_location_fk",
          "tableFrom": "resource_capability_templates",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "resource_condition_reports": {
      "name": "resource_condition_reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "report_type": {
          "name": "report_type",
          "type": "resource_condition_report_type",
          "primaryKey": false,
          "notNull": true
        },
        "reporter_user_id": {
          "name": "reporter_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reported_at": {
          "name": "reported_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "severity": {
          "name": "severity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "summary": {
          "name": "summary",
          "type": "varchar(280)",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checklist": {
          "name": "checklist",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "media_evidence": {
          "name": "media_evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resource_condition_reports_biz_id_id_unique": {
          "name": "resource_condition_reports_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "resource_condition_reports_biz_resource_idx": {
          "name": "resource_condition_reports_biz_resource_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "reported_at"
          ],
          "isUnique": false
        },
        "resource_condition_reports_biz_severity_idx": {
          "name": "resource_condition_reports_biz_severity_idx",
          "columns": [
            "biz_id",
            "severity",
            "resolved_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "resource_condition_reports_biz_id_bizes_id_fk": {
          "name": "resource_condition_reports_biz_id_bizes_id_fk",
          "tableFrom": "resource_condition_reports",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_condition_reports_resource_id_resources_id_fk": {
          "name": "resource_condition_reports_resource_id_resources_id_fk",
          "tableFrom": "resource_condition_reports",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_condition_reports_reporter_user_id_users_id_fk": {
          "name": "resource_condition_reports_reporter_user_id_users_id_fk",
          "tableFrom": "resource_condition_reports",
          "tableTo": "users",
          "columnsFrom": [
            "reporter_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_condition_reports_created_by_users_id_fk": {
          "name": "resource_condition_reports_created_by_users_id_fk",
          "tableFrom": "resource_condition_reports",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_condition_reports_updated_by_users_id_fk": {
          "name": "resource_condition_reports_updated_by_users_id_fk",
          "tableFrom": "resource_condition_reports",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_condition_reports_deleted_by_users_id_fk": {
          "name": "resource_condition_reports_deleted_by_users_id_fk",
          "tableFrom": "resource_condition_reports",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_condition_reports_biz_resource_fk": {
          "name": "resource_condition_reports_biz_resource_fk",
          "tableFrom": "resource_condition_reports",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_condition_reports_reporter_fk": {
          "name": "resource_condition_reports_reporter_fk",
          "tableFrom": "resource_condition_reports",
          "tableTo": "users",
          "columnsFrom": [
            "reporter_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "resource_maintenance_policies": {
      "name": "resource_maintenance_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "capability_template_id": {
          "name": "capability_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope_resource_type": {
          "name": "scope_resource_type",
          "type": "resource_capability_scope",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "maintenance_trigger_type",
          "primaryKey": false,
          "notNull": true
        },
        "threshold_value": {
          "name": "threshold_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trigger_expression": {
          "name": "trigger_expression",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "maintenance_action_type",
          "primaryKey": false,
          "notNull": true
        },
        "auto_create_work_order": {
          "name": "auto_create_work_order",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "block_until_completed": {
          "name": "block_until_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resource_maintenance_policies_biz_id_id_unique": {
          "name": "resource_maintenance_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "resource_maintenance_policies_biz_slug_unique": {
          "name": "resource_maintenance_policies_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "resource_maintenance_policies_biz_active_idx": {
          "name": "resource_maintenance_policies_biz_active_idx",
          "columns": [
            "biz_id",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "resource_maintenance_policies_biz_id_bizes_id_fk": {
          "name": "resource_maintenance_policies_biz_id_bizes_id_fk",
          "tableFrom": "resource_maintenance_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_policies_resource_id_resources_id_fk": {
          "name": "resource_maintenance_policies_resource_id_resources_id_fk",
          "tableFrom": "resource_maintenance_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_policies_capability_template_id_resource_capability_templates_id_fk": {
          "name": "resource_maintenance_policies_capability_template_id_resource_capability_templates_id_fk",
          "tableFrom": "resource_maintenance_policies",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "capability_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_policies_created_by_users_id_fk": {
          "name": "resource_maintenance_policies_created_by_users_id_fk",
          "tableFrom": "resource_maintenance_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_policies_updated_by_users_id_fk": {
          "name": "resource_maintenance_policies_updated_by_users_id_fk",
          "tableFrom": "resource_maintenance_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_policies_deleted_by_users_id_fk": {
          "name": "resource_maintenance_policies_deleted_by_users_id_fk",
          "tableFrom": "resource_maintenance_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_policies_biz_resource_fk": {
          "name": "resource_maintenance_policies_biz_resource_fk",
          "tableFrom": "resource_maintenance_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_policies_biz_capability_fk": {
          "name": "resource_maintenance_policies_biz_capability_fk",
          "tableFrom": "resource_maintenance_policies",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "biz_id",
            "capability_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "resource_maintenance_work_orders": {
      "name": "resource_maintenance_work_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "policy_id": {
          "name": "policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_timeline_event_id": {
          "name": "calendar_timeline_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "maintenance_work_order_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "scheduled_start_at": {
          "name": "scheduled_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_end_at": {
          "name": "scheduled_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "blocks_availability": {
          "name": "blocks_availability",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resource_maintenance_work_orders_biz_id_id_unique": {
          "name": "resource_maintenance_work_orders_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "resource_maintenance_work_orders_biz_status_idx": {
          "name": "resource_maintenance_work_orders_biz_status_idx",
          "columns": [
            "biz_id",
            "status",
            "priority"
          ],
          "isUnique": false
        },
        "resource_maintenance_work_orders_biz_resource_idx": {
          "name": "resource_maintenance_work_orders_biz_resource_idx",
          "columns": [
            "biz_id",
            "resource_id"
          ],
          "isUnique": false
        },
        "resource_maintenance_work_orders_biz_calendar_idx": {
          "name": "resource_maintenance_work_orders_biz_calendar_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "status",
            "scheduled_start_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "resource_maintenance_work_orders_biz_id_bizes_id_fk": {
          "name": "resource_maintenance_work_orders_biz_id_bizes_id_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_resource_id_resources_id_fk": {
          "name": "resource_maintenance_work_orders_resource_id_resources_id_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_policy_id_resource_maintenance_policies_id_fk": {
          "name": "resource_maintenance_work_orders_policy_id_resource_maintenance_policies_id_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "resource_maintenance_policies",
          "columnsFrom": [
            "policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_calendar_id_calendars_id_fk": {
          "name": "resource_maintenance_work_orders_calendar_id_calendars_id_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_calendar_timeline_event_id_calendar_timeline_events_id_fk": {
          "name": "resource_maintenance_work_orders_calendar_timeline_event_id_calendar_timeline_events_id_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "calendar_timeline_events",
          "columnsFrom": [
            "calendar_timeline_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_created_by_users_id_fk": {
          "name": "resource_maintenance_work_orders_created_by_users_id_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_updated_by_users_id_fk": {
          "name": "resource_maintenance_work_orders_updated_by_users_id_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_deleted_by_users_id_fk": {
          "name": "resource_maintenance_work_orders_deleted_by_users_id_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_biz_resource_fk": {
          "name": "resource_maintenance_work_orders_biz_resource_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_biz_policy_fk": {
          "name": "resource_maintenance_work_orders_biz_policy_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "resource_maintenance_policies",
          "columnsFrom": [
            "biz_id",
            "policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_biz_calendar_fk": {
          "name": "resource_maintenance_work_orders_biz_calendar_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_maintenance_work_orders_biz_timeline_event_fk": {
          "name": "resource_maintenance_work_orders_biz_timeline_event_fk",
          "tableFrom": "resource_maintenance_work_orders",
          "tableTo": "calendar_timeline_events",
          "columnsFrom": [
            "biz_id",
            "calendar_timeline_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "resource_usage_counters": {
      "name": "resource_usage_counters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "counter_key": {
          "name": "counter_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true
        },
        "current_value": {
          "name": "current_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_increment_at": {
          "name": "last_increment_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_reset_at": {
          "name": "last_reset_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "resource_usage_counters_biz_id_id_unique": {
          "name": "resource_usage_counters_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "resource_usage_counters_unique": {
          "name": "resource_usage_counters_unique",
          "columns": [
            "resource_id",
            "counter_key"
          ],
          "isUnique": true
        },
        "resource_usage_counters_biz_resource_idx": {
          "name": "resource_usage_counters_biz_resource_idx",
          "columns": [
            "biz_id",
            "resource_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "resource_usage_counters_biz_id_bizes_id_fk": {
          "name": "resource_usage_counters_biz_id_bizes_id_fk",
          "tableFrom": "resource_usage_counters",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_usage_counters_resource_id_resources_id_fk": {
          "name": "resource_usage_counters_resource_id_resources_id_fk",
          "tableFrom": "resource_usage_counters",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_usage_counters_created_by_users_id_fk": {
          "name": "resource_usage_counters_created_by_users_id_fk",
          "tableFrom": "resource_usage_counters",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_usage_counters_updated_by_users_id_fk": {
          "name": "resource_usage_counters_updated_by_users_id_fk",
          "tableFrom": "resource_usage_counters",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_usage_counters_deleted_by_users_id_fk": {
          "name": "resource_usage_counters_deleted_by_users_id_fk",
          "tableFrom": "resource_usage_counters",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "resource_usage_counters_biz_resource_fk": {
          "name": "resource_usage_counters_biz_resource_fk",
          "tableFrom": "resource_usage_counters",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "availability_dependency_rule_targets": {
      "name": "availability_dependency_rule_targets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "availability_dependency_rule_id": {
          "name": "availability_dependency_rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "availability_dependency_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "required_calendar_id": {
          "name": "required_calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "required_subject_type": {
          "name": "required_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "required_subject_id": {
          "name": "required_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "role_key": {
          "name": "role_key",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "weight": {
          "name": "weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "availability_dependency_rule_targets_biz_id_id_unique": {
          "name": "availability_dependency_rule_targets_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "availability_dependency_rule_targets_biz_rule_idx": {
          "name": "availability_dependency_rule_targets_biz_rule_idx",
          "columns": [
            "biz_id",
            "availability_dependency_rule_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "availability_dependency_rule_targets_biz_calendar_idx": {
          "name": "availability_dependency_rule_targets_biz_calendar_idx",
          "columns": [
            "biz_id",
            "required_calendar_id"
          ],
          "isUnique": false
        },
        "availability_dependency_rule_targets_biz_subject_idx": {
          "name": "availability_dependency_rule_targets_biz_subject_idx",
          "columns": [
            "biz_id",
            "required_subject_type",
            "required_subject_id"
          ],
          "isUnique": false
        },
        "availability_dependency_rule_targets_unique_calendar": {
          "name": "availability_dependency_rule_targets_unique_calendar",
          "columns": [
            "availability_dependency_rule_id",
            "required_calendar_id"
          ],
          "isUnique": true
        },
        "availability_dependency_rule_targets_unique_subject": {
          "name": "availability_dependency_rule_targets_unique_subject",
          "columns": [
            "availability_dependency_rule_id",
            "required_subject_type",
            "required_subject_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "availability_dependency_rule_targets_biz_id_bizes_id_fk": {
          "name": "availability_dependency_rule_targets_biz_id_bizes_id_fk",
          "tableFrom": "availability_dependency_rule_targets",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rule_targets_availability_dependency_rule_id_availability_dependency_rules_id_fk": {
          "name": "availability_dependency_rule_targets_availability_dependency_rule_id_availability_dependency_rules_id_fk",
          "tableFrom": "availability_dependency_rule_targets",
          "tableTo": "availability_dependency_rules",
          "columnsFrom": [
            "availability_dependency_rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rule_targets_required_calendar_id_calendars_id_fk": {
          "name": "availability_dependency_rule_targets_required_calendar_id_calendars_id_fk",
          "tableFrom": "availability_dependency_rule_targets",
          "tableTo": "calendars",
          "columnsFrom": [
            "required_calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rule_targets_created_by_users_id_fk": {
          "name": "availability_dependency_rule_targets_created_by_users_id_fk",
          "tableFrom": "availability_dependency_rule_targets",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rule_targets_updated_by_users_id_fk": {
          "name": "availability_dependency_rule_targets_updated_by_users_id_fk",
          "tableFrom": "availability_dependency_rule_targets",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rule_targets_deleted_by_users_id_fk": {
          "name": "availability_dependency_rule_targets_deleted_by_users_id_fk",
          "tableFrom": "availability_dependency_rule_targets",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rule_targets_biz_rule_fk": {
          "name": "availability_dependency_rule_targets_biz_rule_fk",
          "tableFrom": "availability_dependency_rule_targets",
          "tableTo": "availability_dependency_rules",
          "columnsFrom": [
            "biz_id",
            "availability_dependency_rule_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rule_targets_biz_calendar_fk": {
          "name": "availability_dependency_rule_targets_biz_calendar_fk",
          "tableFrom": "availability_dependency_rule_targets",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "required_calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rule_targets_biz_subject_fk": {
          "name": "availability_dependency_rule_targets_biz_subject_fk",
          "tableFrom": "availability_dependency_rule_targets",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "required_subject_type",
            "required_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "availability_dependency_rules": {
      "name": "availability_dependency_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dependent_calendar_id": {
          "name": "dependent_calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(700)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "enforcement_mode": {
          "name": "enforcement_mode",
          "type": "availability_dependency_enforcement_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'hard_block'"
        },
        "evaluation_mode": {
          "name": "evaluation_mode",
          "type": "availability_dependency_evaluation_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'all'"
        },
        "failure_action": {
          "name": "failure_action",
          "type": "availability_rule_action",
          "primaryKey": false,
          "notNull": true,
          "default": "'unavailable'"
        },
        "capacity_delta": {
          "name": "capacity_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_adjustment": {
          "name": "pricing_adjustment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "time_offset_before_min": {
          "name": "time_offset_before_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "time_offset_after_min": {
          "name": "time_offset_after_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "min_satisfied_count": {
          "name": "min_satisfied_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_satisfied_percent": {
          "name": "min_satisfied_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "effective_start_at": {
          "name": "effective_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_end_at": {
          "name": "effective_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "availability_dependency_rules_biz_id_id_unique": {
          "name": "availability_dependency_rules_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "availability_dependency_rules_biz_request_key_unique": {
          "name": "availability_dependency_rules_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "availability_dependency_rules_biz_calendar_status_idx": {
          "name": "availability_dependency_rules_biz_calendar_status_idx",
          "columns": [
            "biz_id",
            "dependent_calendar_id",
            "status",
            "evaluation_mode"
          ],
          "isUnique": false
        },
        "availability_dependency_rules_biz_calendar_window_idx": {
          "name": "availability_dependency_rules_biz_calendar_window_idx",
          "columns": [
            "biz_id",
            "dependent_calendar_id",
            "status",
            "effective_start_at",
            "effective_end_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "availability_dependency_rules_biz_id_bizes_id_fk": {
          "name": "availability_dependency_rules_biz_id_bizes_id_fk",
          "tableFrom": "availability_dependency_rules",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rules_dependent_calendar_id_calendars_id_fk": {
          "name": "availability_dependency_rules_dependent_calendar_id_calendars_id_fk",
          "tableFrom": "availability_dependency_rules",
          "tableTo": "calendars",
          "columnsFrom": [
            "dependent_calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rules_created_by_users_id_fk": {
          "name": "availability_dependency_rules_created_by_users_id_fk",
          "tableFrom": "availability_dependency_rules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rules_updated_by_users_id_fk": {
          "name": "availability_dependency_rules_updated_by_users_id_fk",
          "tableFrom": "availability_dependency_rules",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rules_deleted_by_users_id_fk": {
          "name": "availability_dependency_rules_deleted_by_users_id_fk",
          "tableFrom": "availability_dependency_rules",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_dependency_rules_biz_calendar_fk": {
          "name": "availability_dependency_rules_biz_calendar_fk",
          "tableFrom": "availability_dependency_rules",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "dependent_calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "availability_gates": {
      "name": "availability_gates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "signal_type": {
          "name": "signal_type",
          "type": "availability_gate_signal_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "action": {
          "name": "action",
          "type": "availability_rule_action",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "window_start_at": {
          "name": "window_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "window_end_at": {
          "name": "window_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "capacity_delta": {
          "name": "capacity_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_adjustment": {
          "name": "pricing_adjustment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref_type": {
          "name": "source_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref_id": {
          "name": "source_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "signal_snapshot": {
          "name": "signal_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "availability_gates_biz_id_id_unique": {
          "name": "availability_gates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "availability_gates_biz_request_key_unique": {
          "name": "availability_gates_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "availability_gates_biz_calendar_status_window_idx": {
          "name": "availability_gates_biz_calendar_status_window_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "status",
            "priority",
            "window_start_at",
            "window_end_at"
          ],
          "isUnique": false
        },
        "availability_gates_biz_source_ref_idx": {
          "name": "availability_gates_biz_source_ref_idx",
          "columns": [
            "biz_id",
            "source_ref_type",
            "source_ref_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "availability_gates_biz_id_bizes_id_fk": {
          "name": "availability_gates_biz_id_bizes_id_fk",
          "tableFrom": "availability_gates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_gates_calendar_id_calendars_id_fk": {
          "name": "availability_gates_calendar_id_calendars_id_fk",
          "tableFrom": "availability_gates",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_gates_created_by_users_id_fk": {
          "name": "availability_gates_created_by_users_id_fk",
          "tableFrom": "availability_gates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_gates_updated_by_users_id_fk": {
          "name": "availability_gates_updated_by_users_id_fk",
          "tableFrom": "availability_gates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_gates_deleted_by_users_id_fk": {
          "name": "availability_gates_deleted_by_users_id_fk",
          "tableFrom": "availability_gates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_gates_biz_calendar_fk": {
          "name": "availability_gates_biz_calendar_fk",
          "tableFrom": "availability_gates",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "availability_resolution_runs": {
      "name": "availability_resolution_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "window_start_at": {
          "name": "window_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "window_end_at": {
          "name": "window_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "availability_resolution_status",
          "primaryKey": false,
          "notNull": true
        },
        "request_snapshot": {
          "name": "request_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "decision_trace": {
          "name": "decision_trace",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "resolved_output": {
          "name": "resolved_output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "runtime_ms": {
          "name": "runtime_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "availability_resolution_runs_biz_id_id_unique": {
          "name": "availability_resolution_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "availability_resolution_runs_biz_calendar_resolved_idx": {
          "name": "availability_resolution_runs_biz_calendar_resolved_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "resolved_at"
          ],
          "isUnique": false
        },
        "availability_resolution_runs_biz_calendar_window_status_idx": {
          "name": "availability_resolution_runs_biz_calendar_window_status_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "window_start_at",
            "window_end_at",
            "status"
          ],
          "isUnique": false
        },
        "availability_resolution_runs_biz_request_key_idx": {
          "name": "availability_resolution_runs_biz_request_key_idx",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "availability_resolution_runs_biz_id_bizes_id_fk": {
          "name": "availability_resolution_runs_biz_id_bizes_id_fk",
          "tableFrom": "availability_resolution_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_resolution_runs_calendar_id_calendars_id_fk": {
          "name": "availability_resolution_runs_calendar_id_calendars_id_fk",
          "tableFrom": "availability_resolution_runs",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_resolution_runs_created_by_users_id_fk": {
          "name": "availability_resolution_runs_created_by_users_id_fk",
          "tableFrom": "availability_resolution_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_resolution_runs_updated_by_users_id_fk": {
          "name": "availability_resolution_runs_updated_by_users_id_fk",
          "tableFrom": "availability_resolution_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_resolution_runs_deleted_by_users_id_fk": {
          "name": "availability_resolution_runs_deleted_by_users_id_fk",
          "tableFrom": "availability_resolution_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_resolution_runs_biz_calendar_fk": {
          "name": "availability_resolution_runs_biz_calendar_fk",
          "tableFrom": "availability_resolution_runs",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "availability_rule_exclusion_dates": {
      "name": "availability_rule_exclusion_dates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "availability_rule_id": {
          "name": "availability_rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "exclusion_date": {
          "name": "exclusion_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "availability_rule_exclusion_dates_biz_id_id_unique": {
          "name": "availability_rule_exclusion_dates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "availability_rule_exclusion_dates_unique": {
          "name": "availability_rule_exclusion_dates_unique",
          "columns": [
            "biz_id",
            "availability_rule_id",
            "exclusion_date"
          ],
          "isUnique": true
        },
        "availability_rule_exclusion_dates_biz_rule_date_idx": {
          "name": "availability_rule_exclusion_dates_biz_rule_date_idx",
          "columns": [
            "biz_id",
            "availability_rule_id",
            "exclusion_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "availability_rule_exclusion_dates_biz_id_bizes_id_fk": {
          "name": "availability_rule_exclusion_dates_biz_id_bizes_id_fk",
          "tableFrom": "availability_rule_exclusion_dates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_exclusion_dates_availability_rule_id_availability_rules_id_fk": {
          "name": "availability_rule_exclusion_dates_availability_rule_id_availability_rules_id_fk",
          "tableFrom": "availability_rule_exclusion_dates",
          "tableTo": "availability_rules",
          "columnsFrom": [
            "availability_rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_exclusion_dates_created_by_users_id_fk": {
          "name": "availability_rule_exclusion_dates_created_by_users_id_fk",
          "tableFrom": "availability_rule_exclusion_dates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_exclusion_dates_updated_by_users_id_fk": {
          "name": "availability_rule_exclusion_dates_updated_by_users_id_fk",
          "tableFrom": "availability_rule_exclusion_dates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_exclusion_dates_deleted_by_users_id_fk": {
          "name": "availability_rule_exclusion_dates_deleted_by_users_id_fk",
          "tableFrom": "availability_rule_exclusion_dates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_exclusion_dates_biz_rule_fk": {
          "name": "availability_rule_exclusion_dates_biz_rule_fk",
          "tableFrom": "availability_rule_exclusion_dates",
          "tableTo": "availability_rules",
          "columnsFrom": [
            "biz_id",
            "availability_rule_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "availability_rule_template_items": {
      "name": "availability_rule_template_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "availability_rule_template_id": {
          "name": "availability_rule_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "availability_rule_mode",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "availability_rule_frequency",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "recurrence_rule": {
          "name": "recurrence_rule",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "day_of_month": {
          "name": "day_of_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "start_time": {
          "name": "start_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "end_time": {
          "name": "end_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "availability_rule_action",
          "primaryKey": false,
          "notNull": true
        },
        "capacity_delta": {
          "name": "capacity_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_adjustment": {
          "name": "pricing_adjustment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "availability_rule_template_items_biz_id_id_unique": {
          "name": "availability_rule_template_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "availability_rule_template_items_biz_template_idx": {
          "name": "availability_rule_template_items_biz_template_idx",
          "columns": [
            "biz_id",
            "availability_rule_template_id",
            "is_active",
            "priority"
          ],
          "isUnique": false
        },
        "availability_rule_template_items_biz_tpl_mode_window_idx": {
          "name": "availability_rule_template_items_biz_tpl_mode_window_idx",
          "columns": [
            "biz_id",
            "availability_rule_template_id",
            "is_active",
            "mode",
            "start_at",
            "end_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "availability_rule_template_items_biz_id_bizes_id_fk": {
          "name": "availability_rule_template_items_biz_id_bizes_id_fk",
          "tableFrom": "availability_rule_template_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_template_items_availability_rule_template_id_availability_rule_templates_id_fk": {
          "name": "availability_rule_template_items_availability_rule_template_id_availability_rule_templates_id_fk",
          "tableFrom": "availability_rule_template_items",
          "tableTo": "availability_rule_templates",
          "columnsFrom": [
            "availability_rule_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_template_items_created_by_users_id_fk": {
          "name": "availability_rule_template_items_created_by_users_id_fk",
          "tableFrom": "availability_rule_template_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_template_items_updated_by_users_id_fk": {
          "name": "availability_rule_template_items_updated_by_users_id_fk",
          "tableFrom": "availability_rule_template_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_template_items_deleted_by_users_id_fk": {
          "name": "availability_rule_template_items_deleted_by_users_id_fk",
          "tableFrom": "availability_rule_template_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_template_items_biz_template_fk": {
          "name": "availability_rule_template_items_biz_template_fk",
          "tableFrom": "availability_rule_template_items",
          "tableTo": "availability_rule_templates",
          "columnsFrom": [
            "biz_id",
            "availability_rule_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "availability_rule_templates": {
      "name": "availability_rule_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(800)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "availability_rule_templates_biz_id_id_unique": {
          "name": "availability_rule_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "availability_rule_templates_biz_scope_slug_unique": {
          "name": "availability_rule_templates_biz_scope_slug_unique",
          "columns": [
            "biz_id",
            "location_id",
            "slug"
          ],
          "isUnique": true
        },
        "availability_rule_templates_biz_status_active_idx": {
          "name": "availability_rule_templates_biz_status_active_idx",
          "columns": [
            "biz_id",
            "status",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "availability_rule_templates_biz_id_bizes_id_fk": {
          "name": "availability_rule_templates_biz_id_bizes_id_fk",
          "tableFrom": "availability_rule_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_templates_location_id_locations_id_fk": {
          "name": "availability_rule_templates_location_id_locations_id_fk",
          "tableFrom": "availability_rule_templates",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_templates_created_by_users_id_fk": {
          "name": "availability_rule_templates_created_by_users_id_fk",
          "tableFrom": "availability_rule_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_templates_updated_by_users_id_fk": {
          "name": "availability_rule_templates_updated_by_users_id_fk",
          "tableFrom": "availability_rule_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_templates_deleted_by_users_id_fk": {
          "name": "availability_rule_templates_deleted_by_users_id_fk",
          "tableFrom": "availability_rule_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rule_templates_biz_location_fk": {
          "name": "availability_rule_templates_biz_location_fk",
          "tableFrom": "availability_rule_templates",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "availability_rules": {
      "name": "availability_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "overlay_id": {
          "name": "overlay_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "availability_rule_mode",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "availability_rule_frequency",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "recurrence_rule": {
          "name": "recurrence_rule",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "day_of_month": {
          "name": "day_of_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "start_time": {
          "name": "start_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "end_time": {
          "name": "end_time",
          "type": "time",
          "primaryKey": false,
          "notNull": false
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "availability_rule_action",
          "primaryKey": false,
          "notNull": true
        },
        "capacity_delta": {
          "name": "capacity_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_adjustment": {
          "name": "pricing_adjustment",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "availability_rules_biz_id_id_unique": {
          "name": "availability_rules_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "availability_rules_biz_calendar_idx": {
          "name": "availability_rules_biz_calendar_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "is_active",
            "priority"
          ],
          "isUnique": false
        },
        "availability_rules_biz_calendar_mode_window_idx": {
          "name": "availability_rules_biz_calendar_mode_window_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "is_active",
            "mode",
            "start_at",
            "end_at"
          ],
          "isUnique": false
        },
        "availability_rules_biz_calendar_weekly_idx": {
          "name": "availability_rules_biz_calendar_weekly_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "is_active",
            "frequency",
            "day_of_week",
            "start_time",
            "end_time"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "availability_rules_biz_id_bizes_id_fk": {
          "name": "availability_rules_biz_id_bizes_id_fk",
          "tableFrom": "availability_rules",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rules_calendar_id_calendars_id_fk": {
          "name": "availability_rules_calendar_id_calendars_id_fk",
          "tableFrom": "availability_rules",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rules_overlay_id_calendar_overlays_id_fk": {
          "name": "availability_rules_overlay_id_calendar_overlays_id_fk",
          "tableFrom": "availability_rules",
          "tableTo": "calendar_overlays",
          "columnsFrom": [
            "overlay_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rules_created_by_users_id_fk": {
          "name": "availability_rules_created_by_users_id_fk",
          "tableFrom": "availability_rules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rules_updated_by_users_id_fk": {
          "name": "availability_rules_updated_by_users_id_fk",
          "tableFrom": "availability_rules",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rules_deleted_by_users_id_fk": {
          "name": "availability_rules_deleted_by_users_id_fk",
          "tableFrom": "availability_rules",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rules_biz_calendar_fk": {
          "name": "availability_rules_biz_calendar_fk",
          "tableFrom": "availability_rules",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "availability_rules_biz_overlay_fk": {
          "name": "availability_rules_biz_overlay_fk",
          "tableFrom": "availability_rules",
          "tableTo": "calendar_overlays",
          "columnsFrom": [
            "biz_id",
            "overlay_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_bindings": {
      "name": "calendar_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_type": {
          "name": "owner_type",
          "type": "calendar_owner_type",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_ref_type": {
          "name": "owner_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_ref_id": {
          "name": "owner_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_ref_key": {
          "name": "owner_ref_key",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_bindings_biz_id_id_unique": {
          "name": "calendar_bindings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_bindings_biz_id_id_owner_user_unique": {
          "name": "calendar_bindings_biz_id_id_owner_user_unique",
          "columns": [
            "biz_id",
            "id",
            "owner_user_id"
          ],
          "isUnique": true
        },
        "calendar_bindings_biz_owner_type_idx": {
          "name": "calendar_bindings_biz_owner_type_idx",
          "columns": [
            "biz_id",
            "owner_type"
          ],
          "isUnique": false
        },
        "calendar_bindings_biz_calendar_idx": {
          "name": "calendar_bindings_biz_calendar_idx",
          "columns": [
            "biz_id",
            "calendar_id"
          ],
          "isUnique": false
        },
        "calendar_bindings_biz_owner_ref_idx": {
          "name": "calendar_bindings_biz_owner_ref_idx",
          "columns": [
            "biz_id",
            "owner_ref_type",
            "owner_ref_id"
          ],
          "isUnique": false
        },
        "calendar_bindings_biz_owner_ref_key_idx": {
          "name": "calendar_bindings_biz_owner_ref_key_idx",
          "columns": [
            "biz_id",
            "owner_ref_key"
          ],
          "isUnique": false
        },
        "calendar_bindings_biz_owner_user_idx": {
          "name": "calendar_bindings_biz_owner_user_idx",
          "columns": [
            "biz_id",
            "owner_user_id"
          ],
          "isUnique": false
        },
        "calendar_bindings_primary_per_biz_unique": {
          "name": "calendar_bindings_primary_per_biz_unique",
          "columns": [
            "biz_id"
          ],
          "isUnique": true
        },
        "calendar_bindings_primary_per_user_unique": {
          "name": "calendar_bindings_primary_per_user_unique",
          "columns": [
            "biz_id",
            "owner_user_id"
          ],
          "isUnique": true
        },
        "calendar_bindings_primary_per_resource_unique": {
          "name": "calendar_bindings_primary_per_resource_unique",
          "columns": [
            "biz_id",
            "resource_id"
          ],
          "isUnique": true
        },
        "calendar_bindings_primary_per_service_unique": {
          "name": "calendar_bindings_primary_per_service_unique",
          "columns": [
            "biz_id",
            "service_id"
          ],
          "isUnique": true
        },
        "calendar_bindings_primary_per_service_product_unique": {
          "name": "calendar_bindings_primary_per_service_product_unique",
          "columns": [
            "biz_id",
            "service_product_id"
          ],
          "isUnique": true
        },
        "calendar_bindings_primary_per_offer_unique": {
          "name": "calendar_bindings_primary_per_offer_unique",
          "columns": [
            "biz_id",
            "offer_id"
          ],
          "isUnique": true
        },
        "calendar_bindings_primary_per_offer_version_unique": {
          "name": "calendar_bindings_primary_per_offer_version_unique",
          "columns": [
            "biz_id",
            "offer_version_id"
          ],
          "isUnique": true
        },
        "calendar_bindings_primary_per_location_unique": {
          "name": "calendar_bindings_primary_per_location_unique",
          "columns": [
            "biz_id",
            "location_id"
          ],
          "isUnique": true
        },
        "calendar_bindings_primary_per_custom_subject_unique": {
          "name": "calendar_bindings_primary_per_custom_subject_unique",
          "columns": [
            "biz_id",
            "owner_ref_type",
            "owner_ref_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "calendar_bindings_biz_id_bizes_id_fk": {
          "name": "calendar_bindings_biz_id_bizes_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_calendar_id_calendars_id_fk": {
          "name": "calendar_bindings_calendar_id_calendars_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_resource_id_resources_id_fk": {
          "name": "calendar_bindings_resource_id_resources_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_service_id_services_id_fk": {
          "name": "calendar_bindings_service_id_services_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_service_product_id_service_products_id_fk": {
          "name": "calendar_bindings_service_product_id_service_products_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_offer_id_offers_id_fk": {
          "name": "calendar_bindings_offer_id_offers_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_offer_version_id_offer_versions_id_fk": {
          "name": "calendar_bindings_offer_version_id_offer_versions_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_location_id_locations_id_fk": {
          "name": "calendar_bindings_location_id_locations_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_owner_user_id_users_id_fk": {
          "name": "calendar_bindings_owner_user_id_users_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_created_by_users_id_fk": {
          "name": "calendar_bindings_created_by_users_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_updated_by_users_id_fk": {
          "name": "calendar_bindings_updated_by_users_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_deleted_by_users_id_fk": {
          "name": "calendar_bindings_deleted_by_users_id_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_biz_calendar_fk": {
          "name": "calendar_bindings_biz_calendar_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_biz_resource_fk": {
          "name": "calendar_bindings_biz_resource_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_biz_service_fk": {
          "name": "calendar_bindings_biz_service_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_biz_service_product_fk": {
          "name": "calendar_bindings_biz_service_product_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_biz_offer_fk": {
          "name": "calendar_bindings_biz_offer_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_biz_offer_version_fk": {
          "name": "calendar_bindings_biz_offer_version_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_biz_location_fk": {
          "name": "calendar_bindings_biz_location_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_bindings_biz_owner_ref_subject_fk": {
          "name": "calendar_bindings_biz_owner_ref_subject_fk",
          "tableFrom": "calendar_bindings",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "owner_ref_type",
            "owner_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_overlays": {
      "name": "calendar_overlays",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "kind": {
          "name": "kind",
          "type": "calendar_overlay_kind",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "effective_start_at": {
          "name": "effective_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_end_at": {
          "name": "effective_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_overlays_biz_id_id_unique": {
          "name": "calendar_overlays_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_overlays_biz_calendar_active_idx": {
          "name": "calendar_overlays_biz_calendar_active_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "is_active",
            "priority"
          ],
          "isUnique": false
        },
        "calendar_overlays_biz_calendar_window_idx": {
          "name": "calendar_overlays_biz_calendar_window_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "is_active",
            "effective_start_at",
            "effective_end_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "calendar_overlays_biz_id_bizes_id_fk": {
          "name": "calendar_overlays_biz_id_bizes_id_fk",
          "tableFrom": "calendar_overlays",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_overlays_calendar_id_calendars_id_fk": {
          "name": "calendar_overlays_calendar_id_calendars_id_fk",
          "tableFrom": "calendar_overlays",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_overlays_created_by_users_id_fk": {
          "name": "calendar_overlays_created_by_users_id_fk",
          "tableFrom": "calendar_overlays",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_overlays_updated_by_users_id_fk": {
          "name": "calendar_overlays_updated_by_users_id_fk",
          "tableFrom": "calendar_overlays",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_overlays_deleted_by_users_id_fk": {
          "name": "calendar_overlays_deleted_by_users_id_fk",
          "tableFrom": "calendar_overlays",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_overlays_biz_calendar_fk": {
          "name": "calendar_overlays_biz_calendar_fk",
          "tableFrom": "calendar_overlays",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_owner_timeline_events": {
      "name": "calendar_owner_timeline_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_binding_id": {
          "name": "calendar_binding_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_timeline_event_id": {
          "name": "calendar_timeline_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_type": {
          "name": "owner_type",
          "type": "calendar_owner_type",
          "primaryKey": false,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_ref_type": {
          "name": "owner_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_ref_id": {
          "name": "owner_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_ref_key": {
          "name": "owner_ref_key",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "calendar_timeline_event_source_type",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "calendar_timeline_state",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "calendar_timeline_visibility",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "source_ref_type": {
          "name": "source_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref_id": {
          "name": "source_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_owner_timeline_events_biz_id_id_unique": {
          "name": "calendar_owner_timeline_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_owner_timeline_events_binding_event_unique": {
          "name": "calendar_owner_timeline_events_binding_event_unique",
          "columns": [
            "biz_id",
            "calendar_binding_id",
            "calendar_timeline_event_id"
          ],
          "isUnique": true
        },
        "calendar_owner_timeline_events_binding_idempotency_unique": {
          "name": "calendar_owner_timeline_events_binding_idempotency_unique",
          "columns": [
            "biz_id",
            "calendar_binding_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "calendar_owner_timeline_events_owner_window_state_idx": {
          "name": "calendar_owner_timeline_events_owner_window_state_idx",
          "columns": [
            "biz_id",
            "owner_ref_key",
            "is_active",
            "start_at",
            "end_at",
            "state"
          ],
          "isUnique": false
        },
        "calendar_owner_timeline_events_owner_user_window_idx": {
          "name": "calendar_owner_timeline_events_owner_user_window_idx",
          "columns": [
            "biz_id",
            "owner_user_id",
            "is_active",
            "start_at",
            "end_at"
          ],
          "isUnique": false
        },
        "calendar_owner_timeline_events_binding_window_idx": {
          "name": "calendar_owner_timeline_events_binding_window_idx",
          "columns": [
            "biz_id",
            "calendar_binding_id",
            "start_at",
            "end_at"
          ],
          "isUnique": false
        },
        "calendar_owner_timeline_events_source_ref_idx": {
          "name": "calendar_owner_timeline_events_source_ref_idx",
          "columns": [
            "biz_id",
            "source_type",
            "source_ref_type",
            "source_ref_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "calendar_owner_timeline_events_biz_id_bizes_id_fk": {
          "name": "calendar_owner_timeline_events_biz_id_bizes_id_fk",
          "tableFrom": "calendar_owner_timeline_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_owner_timeline_events_calendar_id_calendars_id_fk": {
          "name": "calendar_owner_timeline_events_calendar_id_calendars_id_fk",
          "tableFrom": "calendar_owner_timeline_events",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_owner_timeline_events_owner_user_id_users_id_fk": {
          "name": "calendar_owner_timeline_events_owner_user_id_users_id_fk",
          "tableFrom": "calendar_owner_timeline_events",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_owner_timeline_events_created_by_users_id_fk": {
          "name": "calendar_owner_timeline_events_created_by_users_id_fk",
          "tableFrom": "calendar_owner_timeline_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_owner_timeline_events_updated_by_users_id_fk": {
          "name": "calendar_owner_timeline_events_updated_by_users_id_fk",
          "tableFrom": "calendar_owner_timeline_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_owner_timeline_events_deleted_by_users_id_fk": {
          "name": "calendar_owner_timeline_events_deleted_by_users_id_fk",
          "tableFrom": "calendar_owner_timeline_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_owner_timeline_events_biz_calendar_fk": {
          "name": "calendar_owner_timeline_events_biz_calendar_fk",
          "tableFrom": "calendar_owner_timeline_events",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_owner_timeline_events_biz_binding_fk": {
          "name": "calendar_owner_timeline_events_biz_binding_fk",
          "tableFrom": "calendar_owner_timeline_events",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "biz_id",
            "calendar_binding_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_owner_timeline_events_biz_timeline_event_fk": {
          "name": "calendar_owner_timeline_events_biz_timeline_event_fk",
          "tableFrom": "calendar_owner_timeline_events",
          "tableTo": "calendar_timeline_events",
          "columnsFrom": [
            "biz_id",
            "calendar_timeline_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_revisions": {
      "name": "calendar_revisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "revision": {
          "name": "revision",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "change_summary": {
          "name": "change_summary",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref_type": {
          "name": "source_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref_id": {
          "name": "source_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot": {
          "name": "snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_revisions_biz_id_id_unique": {
          "name": "calendar_revisions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_revisions_calendar_revision_unique": {
          "name": "calendar_revisions_calendar_revision_unique",
          "columns": [
            "calendar_id",
            "revision"
          ],
          "isUnique": true
        },
        "calendar_revisions_biz_calendar_revision_idx": {
          "name": "calendar_revisions_biz_calendar_revision_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "revision"
          ],
          "isUnique": false
        },
        "calendar_revisions_biz_idempotency_unique": {
          "name": "calendar_revisions_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "calendar_revisions_biz_id_bizes_id_fk": {
          "name": "calendar_revisions_biz_id_bizes_id_fk",
          "tableFrom": "calendar_revisions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_revisions_created_by_users_id_fk": {
          "name": "calendar_revisions_created_by_users_id_fk",
          "tableFrom": "calendar_revisions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_revisions_updated_by_users_id_fk": {
          "name": "calendar_revisions_updated_by_users_id_fk",
          "tableFrom": "calendar_revisions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_revisions_deleted_by_users_id_fk": {
          "name": "calendar_revisions_deleted_by_users_id_fk",
          "tableFrom": "calendar_revisions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_revisions_biz_calendar_fk": {
          "name": "calendar_revisions_biz_calendar_fk",
          "tableFrom": "calendar_revisions",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_rule_template_binding_exclusion_dates": {
      "name": "calendar_rule_template_binding_exclusion_dates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_rule_template_binding_id": {
          "name": "calendar_rule_template_binding_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "exclusion_date": {
          "name": "exclusion_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_rule_template_binding_exclusion_dates_biz_id_id_unique": {
          "name": "calendar_rule_template_binding_exclusion_dates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_rule_template_binding_excl_dates_unique": {
          "name": "calendar_rule_template_binding_excl_dates_unique",
          "columns": [
            "biz_id",
            "calendar_rule_template_binding_id",
            "exclusion_date"
          ],
          "isUnique": true
        },
        "calendar_rule_template_binding_excl_dates_biz_binding_idx": {
          "name": "calendar_rule_template_binding_excl_dates_biz_binding_idx",
          "columns": [
            "biz_id",
            "calendar_rule_template_binding_id",
            "exclusion_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "calendar_rule_template_binding_exclusion_dates_biz_id_bizes_id_fk": {
          "name": "calendar_rule_template_binding_exclusion_dates_biz_id_bizes_id_fk",
          "tableFrom": "calendar_rule_template_binding_exclusion_dates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_binding_exclusion_dates_calendar_rule_template_binding_id_calendar_rule_template_bindings_id_fk": {
          "name": "calendar_rule_template_binding_exclusion_dates_calendar_rule_template_binding_id_calendar_rule_template_bindings_id_fk",
          "tableFrom": "calendar_rule_template_binding_exclusion_dates",
          "tableTo": "calendar_rule_template_bindings",
          "columnsFrom": [
            "calendar_rule_template_binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_binding_exclusion_dates_created_by_users_id_fk": {
          "name": "calendar_rule_template_binding_exclusion_dates_created_by_users_id_fk",
          "tableFrom": "calendar_rule_template_binding_exclusion_dates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_binding_exclusion_dates_updated_by_users_id_fk": {
          "name": "calendar_rule_template_binding_exclusion_dates_updated_by_users_id_fk",
          "tableFrom": "calendar_rule_template_binding_exclusion_dates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_binding_exclusion_dates_deleted_by_users_id_fk": {
          "name": "calendar_rule_template_binding_exclusion_dates_deleted_by_users_id_fk",
          "tableFrom": "calendar_rule_template_binding_exclusion_dates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_binding_excl_dates_biz_binding_fk": {
          "name": "calendar_rule_template_binding_excl_dates_biz_binding_fk",
          "tableFrom": "calendar_rule_template_binding_exclusion_dates",
          "tableTo": "calendar_rule_template_bindings",
          "columnsFrom": [
            "biz_id",
            "calendar_rule_template_binding_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_rule_template_bindings": {
      "name": "calendar_rule_template_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "availability_rule_template_id": {
          "name": "availability_rule_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "merge_mode": {
          "name": "merge_mode",
          "type": "calendar_template_merge_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'append'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "effective_start_at": {
          "name": "effective_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_end_at": {
          "name": "effective_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_rule_template_bindings_biz_id_id_unique": {
          "name": "calendar_rule_template_bindings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_rule_template_bindings_active_pair_unique": {
          "name": "calendar_rule_template_bindings_active_pair_unique",
          "columns": [
            "biz_id",
            "calendar_id",
            "availability_rule_template_id"
          ],
          "isUnique": true
        },
        "calendar_rule_template_bindings_biz_cal_active_idx": {
          "name": "calendar_rule_template_bindings_biz_cal_active_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "is_active",
            "priority",
            "effective_start_at",
            "effective_end_at"
          ],
          "isUnique": false
        },
        "calendar_rule_template_bindings_biz_tpl_active_idx": {
          "name": "calendar_rule_template_bindings_biz_tpl_active_idx",
          "columns": [
            "biz_id",
            "availability_rule_template_id",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "calendar_rule_template_bindings_biz_id_bizes_id_fk": {
          "name": "calendar_rule_template_bindings_biz_id_bizes_id_fk",
          "tableFrom": "calendar_rule_template_bindings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_bindings_calendar_id_calendars_id_fk": {
          "name": "calendar_rule_template_bindings_calendar_id_calendars_id_fk",
          "tableFrom": "calendar_rule_template_bindings",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_bindings_availability_rule_template_id_availability_rule_templates_id_fk": {
          "name": "calendar_rule_template_bindings_availability_rule_template_id_availability_rule_templates_id_fk",
          "tableFrom": "calendar_rule_template_bindings",
          "tableTo": "availability_rule_templates",
          "columnsFrom": [
            "availability_rule_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_bindings_created_by_users_id_fk": {
          "name": "calendar_rule_template_bindings_created_by_users_id_fk",
          "tableFrom": "calendar_rule_template_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_bindings_updated_by_users_id_fk": {
          "name": "calendar_rule_template_bindings_updated_by_users_id_fk",
          "tableFrom": "calendar_rule_template_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_bindings_deleted_by_users_id_fk": {
          "name": "calendar_rule_template_bindings_deleted_by_users_id_fk",
          "tableFrom": "calendar_rule_template_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_bindings_biz_calendar_fk": {
          "name": "calendar_rule_template_bindings_biz_calendar_fk",
          "tableFrom": "calendar_rule_template_bindings",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_rule_template_bindings_biz_template_fk": {
          "name": "calendar_rule_template_bindings_biz_template_fk",
          "tableFrom": "calendar_rule_template_bindings",
          "tableTo": "availability_rule_templates",
          "columnsFrom": [
            "biz_id",
            "availability_rule_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_timeline_events": {
      "name": "calendar_timeline_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "calendar_timeline_event_source_type",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "calendar_timeline_state",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "calendar_timeline_visibility",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "title": {
          "name": "title",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "is_all_day": {
          "name": "is_all_day",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "source_ref_type": {
          "name": "source_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref_id": {
          "name": "source_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_timeline_events_biz_id_id_unique": {
          "name": "calendar_timeline_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_timeline_events_biz_idempotency_unique": {
          "name": "calendar_timeline_events_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "calendar_timeline_events_biz_cal_window_state_idx": {
          "name": "calendar_timeline_events_biz_cal_window_state_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "is_active",
            "start_at",
            "end_at",
            "state"
          ],
          "isUnique": false
        },
        "calendar_timeline_events_biz_source_ref_idx": {
          "name": "calendar_timeline_events_biz_source_ref_idx",
          "columns": [
            "biz_id",
            "source_type",
            "source_ref_type",
            "source_ref_id"
          ],
          "isUnique": false
        },
        "calendar_timeline_events_biz_source_window_unique": {
          "name": "calendar_timeline_events_biz_source_window_unique",
          "columns": [
            "biz_id",
            "source_type",
            "source_ref_type",
            "source_ref_id",
            "start_at",
            "end_at"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "calendar_timeline_events_biz_id_bizes_id_fk": {
          "name": "calendar_timeline_events_biz_id_bizes_id_fk",
          "tableFrom": "calendar_timeline_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_timeline_events_calendar_id_calendars_id_fk": {
          "name": "calendar_timeline_events_calendar_id_calendars_id_fk",
          "tableFrom": "calendar_timeline_events",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_timeline_events_created_by_users_id_fk": {
          "name": "calendar_timeline_events_created_by_users_id_fk",
          "tableFrom": "calendar_timeline_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_timeline_events_updated_by_users_id_fk": {
          "name": "calendar_timeline_events_updated_by_users_id_fk",
          "tableFrom": "calendar_timeline_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_timeline_events_deleted_by_users_id_fk": {
          "name": "calendar_timeline_events_deleted_by_users_id_fk",
          "tableFrom": "calendar_timeline_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_timeline_events_biz_calendar_fk": {
          "name": "calendar_timeline_events_biz_calendar_fk",
          "tableFrom": "calendar_timeline_events",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendars": {
      "name": "calendars",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "slot_duration_min": {
          "name": "slot_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "slot_interval_min": {
          "name": "slot_interval_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 15
        },
        "pre_buffer_min": {
          "name": "pre_buffer_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "post_buffer_min": {
          "name": "post_buffer_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "min_advance_booking_hours": {
          "name": "min_advance_booking_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_advance_booking_days": {
          "name": "max_advance_booking_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 365
        },
        "default_mode": {
          "name": "default_mode",
          "type": "availability_default_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'available_by_default'"
        },
        "rule_evaluation_order": {
          "name": "rule_evaluation_order",
          "type": "calendar_rule_evaluation_order",
          "primaryKey": false,
          "notNull": true,
          "default": "'specificity_then_priority'"
        },
        "conflict_resolution_mode": {
          "name": "conflict_resolution_mode",
          "type": "calendar_conflict_resolution_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'unavailable_wins'"
        },
        "enforce_strict_non_overlap": {
          "name": "enforce_strict_non_overlap",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "emit_timeline_facts": {
          "name": "emit_timeline_facts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "status": {
          "name": "status",
          "type": "calendar_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendars_biz_id_id_unique": {
          "name": "calendars_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "calendars_biz_status_idx": {
          "name": "calendars_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "calendars_biz_policy_mode_idx": {
          "name": "calendars_biz_policy_mode_idx",
          "columns": [
            "biz_id",
            "rule_evaluation_order",
            "conflict_resolution_mode",
            "enforce_strict_non_overlap",
            "emit_timeline_facts"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "calendars_biz_id_bizes_id_fk": {
          "name": "calendars_biz_id_bizes_id_fk",
          "tableFrom": "calendars",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendars_created_by_users_id_fk": {
          "name": "calendars_created_by_users_id_fk",
          "tableFrom": "calendars",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendars_updated_by_users_id_fk": {
          "name": "calendars_updated_by_users_id_fk",
          "tableFrom": "calendars",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendars_deleted_by_users_id_fk": {
          "name": "calendars_deleted_by_users_id_fk",
          "tableFrom": "calendars",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "capacity_hold_demand_alerts": {
      "name": "capacity_hold_demand_alerts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capacity_hold_policy_id": {
          "name": "capacity_hold_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "capacity_hold_policy_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "capacity_pool_id": {
          "name": "capacity_pool_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_type": {
          "name": "target_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_key": {
          "name": "target_ref_key",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "capacity_hold_demand_alert_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "severity": {
          "name": "severity",
          "type": "capacity_hold_demand_alert_severity",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "window_start_at": {
          "name": "window_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "window_end_at": {
          "name": "window_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "blocking_hold_count": {
          "name": "blocking_hold_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "non_blocking_hold_count": {
          "name": "non_blocking_hold_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unique_owner_count": {
          "name": "unique_owner_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "pressure_score": {
          "name": "pressure_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "title": {
          "name": "title",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "varchar(1200)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "first_triggered_at": {
          "name": "first_triggered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_observed_at": {
          "name": "last_observed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expired_at": {
          "name": "expired_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "threshold_snapshot": {
          "name": "threshold_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "capacity_hold_demand_alerts_biz_id_id_unique": {
          "name": "capacity_hold_demand_alerts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "capacity_hold_demand_alerts_biz_request_key_unique": {
          "name": "capacity_hold_demand_alerts_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "capacity_hold_demand_alerts_biz_status_severity_observed_idx": {
          "name": "capacity_hold_demand_alerts_biz_status_severity_observed_idx",
          "columns": [
            "biz_id",
            "status",
            "severity",
            "last_observed_at"
          ],
          "isUnique": false
        },
        "capacity_hold_demand_alerts_biz_target_status_window_idx": {
          "name": "capacity_hold_demand_alerts_biz_target_status_window_idx",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_key",
            "status",
            "window_start_at",
            "window_end_at"
          ],
          "isUnique": false
        },
        "capacity_hold_demand_alerts_biz_calendar_status_window_idx": {
          "name": "capacity_hold_demand_alerts_biz_calendar_status_window_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "status",
            "window_start_at",
            "window_end_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "capacity_hold_demand_alerts_biz_id_bizes_id_fk": {
          "name": "capacity_hold_demand_alerts_biz_id_bizes_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_capacity_hold_policy_id_capacity_hold_policies_id_fk": {
          "name": "capacity_hold_demand_alerts_capacity_hold_policy_id_capacity_hold_policies_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "capacity_hold_policies",
          "columnsFrom": [
            "capacity_hold_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_location_id_locations_id_fk": {
          "name": "capacity_hold_demand_alerts_location_id_locations_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_calendar_id_calendars_id_fk": {
          "name": "capacity_hold_demand_alerts_calendar_id_calendars_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_resource_id_resources_id_fk": {
          "name": "capacity_hold_demand_alerts_resource_id_resources_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_capacity_pool_id_capacity_pools_id_fk": {
          "name": "capacity_hold_demand_alerts_capacity_pool_id_capacity_pools_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "capacity_pools",
          "columnsFrom": [
            "capacity_pool_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_service_id_services_id_fk": {
          "name": "capacity_hold_demand_alerts_service_id_services_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_service_product_id_service_products_id_fk": {
          "name": "capacity_hold_demand_alerts_service_product_id_service_products_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_offer_id_offers_id_fk": {
          "name": "capacity_hold_demand_alerts_offer_id_offers_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_offer_version_id_offer_versions_id_fk": {
          "name": "capacity_hold_demand_alerts_offer_version_id_offer_versions_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_product_id_products_id_fk": {
          "name": "capacity_hold_demand_alerts_product_id_products_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_sellable_id_sellables_id_fk": {
          "name": "capacity_hold_demand_alerts_sellable_id_sellables_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_created_by_users_id_fk": {
          "name": "capacity_hold_demand_alerts_created_by_users_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_updated_by_users_id_fk": {
          "name": "capacity_hold_demand_alerts_updated_by_users_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_deleted_by_users_id_fk": {
          "name": "capacity_hold_demand_alerts_deleted_by_users_id_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_policy_fk": {
          "name": "capacity_hold_demand_alerts_biz_policy_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "capacity_hold_policies",
          "columnsFrom": [
            "biz_id",
            "capacity_hold_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_location_fk": {
          "name": "capacity_hold_demand_alerts_biz_location_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_calendar_fk": {
          "name": "capacity_hold_demand_alerts_biz_calendar_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_resource_fk": {
          "name": "capacity_hold_demand_alerts_biz_resource_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_pool_fk": {
          "name": "capacity_hold_demand_alerts_biz_pool_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "capacity_pools",
          "columnsFrom": [
            "biz_id",
            "capacity_pool_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_service_fk": {
          "name": "capacity_hold_demand_alerts_biz_service_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_service_product_fk": {
          "name": "capacity_hold_demand_alerts_biz_service_product_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_offer_fk": {
          "name": "capacity_hold_demand_alerts_biz_offer_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_offer_version_fk": {
          "name": "capacity_hold_demand_alerts_biz_offer_version_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_product_fk": {
          "name": "capacity_hold_demand_alerts_biz_product_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "products",
          "columnsFrom": [
            "biz_id",
            "product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_sellable_fk": {
          "name": "capacity_hold_demand_alerts_biz_sellable_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_demand_alerts_biz_subject_fk": {
          "name": "capacity_hold_demand_alerts_biz_subject_fk",
          "tableFrom": "capacity_hold_demand_alerts",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_ref_type",
            "target_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "capacity_hold_events": {
      "name": "capacity_hold_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capacity_hold_id": {
          "name": "capacity_hold_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "capacity_hold_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "previous_status": {
          "name": "previous_status",
          "type": "capacity_hold_status",
          "primaryKey": false,
          "notNull": false
        },
        "next_status": {
          "name": "next_status",
          "type": "capacity_hold_status",
          "primaryKey": false,
          "notNull": false
        },
        "previous_effect_mode": {
          "name": "previous_effect_mode",
          "type": "capacity_hold_effect_mode",
          "primaryKey": false,
          "notNull": false
        },
        "next_effect_mode": {
          "name": "next_effect_mode",
          "type": "capacity_hold_effect_mode",
          "primaryKey": false,
          "notNull": false
        },
        "previous_quantity": {
          "name": "previous_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "next_quantity": {
          "name": "next_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_ref": {
          "name": "actor_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "capacity_hold_events_biz_id_id_unique": {
          "name": "capacity_hold_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "capacity_hold_events_biz_hold_occurred_idx": {
          "name": "capacity_hold_events_biz_hold_occurred_idx",
          "columns": [
            "biz_id",
            "capacity_hold_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "capacity_hold_events_biz_type_occurred_idx": {
          "name": "capacity_hold_events_biz_type_occurred_idx",
          "columns": [
            "biz_id",
            "event_type",
            "next_status",
            "occurred_at"
          ],
          "isUnique": false
        },
        "capacity_hold_events_biz_request_occurred_idx": {
          "name": "capacity_hold_events_biz_request_occurred_idx",
          "columns": [
            "biz_id",
            "request_key",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "capacity_hold_events_biz_id_bizes_id_fk": {
          "name": "capacity_hold_events_biz_id_bizes_id_fk",
          "tableFrom": "capacity_hold_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_events_actor_user_id_users_id_fk": {
          "name": "capacity_hold_events_actor_user_id_users_id_fk",
          "tableFrom": "capacity_hold_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_events_created_by_users_id_fk": {
          "name": "capacity_hold_events_created_by_users_id_fk",
          "tableFrom": "capacity_hold_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_events_updated_by_users_id_fk": {
          "name": "capacity_hold_events_updated_by_users_id_fk",
          "tableFrom": "capacity_hold_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_events_deleted_by_users_id_fk": {
          "name": "capacity_hold_events_deleted_by_users_id_fk",
          "tableFrom": "capacity_hold_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_events_biz_hold_fk": {
          "name": "capacity_hold_events_biz_hold_fk",
          "tableFrom": "capacity_hold_events",
          "tableTo": "capacity_holds",
          "columnsFrom": [
            "biz_id",
            "capacity_hold_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "capacity_hold_policies": {
      "name": "capacity_hold_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "target_type": {
          "name": "target_type",
          "type": "capacity_hold_policy_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "capacity_pool_id": {
          "name": "capacity_pool_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "product_id": {
          "name": "product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_type": {
          "name": "target_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_key": {
          "name": "target_ref_key",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allow_blocking_holds": {
          "name": "allow_blocking_holds",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allow_non_blocking_holds": {
          "name": "allow_non_blocking_holds",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "default_effect_mode": {
          "name": "default_effect_mode",
          "type": "capacity_hold_effect_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'blocking'"
        },
        "min_hold_duration_min": {
          "name": "min_hold_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "max_hold_duration_min": {
          "name": "max_hold_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "default_hold_duration_min": {
          "name": "default_hold_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10
        },
        "max_active_holds_per_owner": {
          "name": "max_active_holds_per_owner",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_active_blocking_holds_per_owner": {
          "name": "max_active_blocking_holds_per_owner",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_active_non_blocking_holds_per_owner": {
          "name": "max_active_non_blocking_holds_per_owner",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cooldown_after_expiry_sec": {
          "name": "cooldown_after_expiry_sec",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "require_owner_identity": {
          "name": "require_owner_identity",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "require_payment_intent_for_blocking_hold": {
          "name": "require_payment_intent_for_blocking_hold",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "min_preauth_amount_minor": {
          "name": "min_preauth_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "emit_demand_signals": {
          "name": "emit_demand_signals",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "emit_act_fast_alerts": {
          "name": "emit_act_fast_alerts",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "act_fast_threshold_count": {
          "name": "act_fast_threshold_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "act_fast_threshold_unique_owners": {
          "name": "act_fast_threshold_unique_owners",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "effective_start_at": {
          "name": "effective_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_end_at": {
          "name": "effective_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "notification_policy": {
          "name": "notification_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "anti_abuse_policy": {
          "name": "anti_abuse_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "capacity_hold_policies_biz_id_id_unique": {
          "name": "capacity_hold_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "capacity_hold_policies_biz_status_target_priority_idx": {
          "name": "capacity_hold_policies_biz_status_target_priority_idx",
          "columns": [
            "biz_id",
            "status",
            "target_type",
            "priority"
          ],
          "isUnique": false
        },
        "capacity_hold_policies_biz_target_scope_idx": {
          "name": "capacity_hold_policies_biz_target_scope_idx",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_key",
            "status",
            "priority"
          ],
          "isUnique": false
        },
        "capacity_hold_policies_biz_status_window_idx": {
          "name": "capacity_hold_policies_biz_status_window_idx",
          "columns": [
            "biz_id",
            "status",
            "effective_start_at",
            "effective_end_at"
          ],
          "isUnique": false
        },
        "capacity_hold_policies_target_unique": {
          "name": "capacity_hold_policies_target_unique",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "capacity_hold_policies_biz_id_bizes_id_fk": {
          "name": "capacity_hold_policies_biz_id_bizes_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_location_id_locations_id_fk": {
          "name": "capacity_hold_policies_location_id_locations_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_calendar_id_calendars_id_fk": {
          "name": "capacity_hold_policies_calendar_id_calendars_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_resource_id_resources_id_fk": {
          "name": "capacity_hold_policies_resource_id_resources_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_capacity_pool_id_capacity_pools_id_fk": {
          "name": "capacity_hold_policies_capacity_pool_id_capacity_pools_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "capacity_pools",
          "columnsFrom": [
            "capacity_pool_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_service_id_services_id_fk": {
          "name": "capacity_hold_policies_service_id_services_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_service_product_id_service_products_id_fk": {
          "name": "capacity_hold_policies_service_product_id_service_products_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_offer_id_offers_id_fk": {
          "name": "capacity_hold_policies_offer_id_offers_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_offer_version_id_offer_versions_id_fk": {
          "name": "capacity_hold_policies_offer_version_id_offer_versions_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_product_id_products_id_fk": {
          "name": "capacity_hold_policies_product_id_products_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_sellable_id_sellables_id_fk": {
          "name": "capacity_hold_policies_sellable_id_sellables_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_created_by_users_id_fk": {
          "name": "capacity_hold_policies_created_by_users_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_updated_by_users_id_fk": {
          "name": "capacity_hold_policies_updated_by_users_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_deleted_by_users_id_fk": {
          "name": "capacity_hold_policies_deleted_by_users_id_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_location_fk": {
          "name": "capacity_hold_policies_biz_location_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_calendar_fk": {
          "name": "capacity_hold_policies_biz_calendar_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_resource_fk": {
          "name": "capacity_hold_policies_biz_resource_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_pool_fk": {
          "name": "capacity_hold_policies_biz_pool_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "capacity_pools",
          "columnsFrom": [
            "biz_id",
            "capacity_pool_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_service_fk": {
          "name": "capacity_hold_policies_biz_service_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_service_product_fk": {
          "name": "capacity_hold_policies_biz_service_product_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_offer_fk": {
          "name": "capacity_hold_policies_biz_offer_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_offer_version_fk": {
          "name": "capacity_hold_policies_biz_offer_version_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_product_fk": {
          "name": "capacity_hold_policies_biz_product_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "products",
          "columnsFrom": [
            "biz_id",
            "product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_sellable_fk": {
          "name": "capacity_hold_policies_biz_sellable_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_hold_policies_biz_subject_fk": {
          "name": "capacity_hold_policies_biz_subject_fk",
          "tableFrom": "capacity_hold_policies",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_ref_type",
            "target_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "capacity_holds": {
      "name": "capacity_holds",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capacity_hold_policy_id": {
          "name": "capacity_hold_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_id": {
          "name": "calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "capacity_hold_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "capacity_pool_id": {
          "name": "capacity_pool_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_type": {
          "name": "target_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_key": {
          "name": "target_ref_key",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": true
        },
        "effect_mode": {
          "name": "effect_mode",
          "type": "capacity_hold_effect_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'blocking'"
        },
        "status": {
          "name": "status",
          "type": "capacity_hold_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "demand_weight": {
          "name": "demand_weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "counts_toward_demand": {
          "name": "counts_toward_demand",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "owner_type": {
          "name": "owner_type",
          "type": "capacity_hold_owner_type",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_group_account_id": {
          "name": "owner_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_subject_type": {
          "name": "owner_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_subject_id": {
          "name": "owner_subject_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_fingerprint_hash": {
          "name": "owner_fingerprint_hash",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_ref_key": {
          "name": "owner_ref_key",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "released_at": {
          "name": "released_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "consumed_at": {
          "name": "consumed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source_signal_type": {
          "name": "source_signal_type",
          "type": "availability_gate_signal_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "source_ref_type": {
          "name": "source_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref_id": {
          "name": "source_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "capacity_holds_biz_id_id_unique": {
          "name": "capacity_holds_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "capacity_holds_biz_request_key_unique": {
          "name": "capacity_holds_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "capacity_holds_biz_calendar_status_window_idx": {
          "name": "capacity_holds_biz_calendar_status_window_idx",
          "columns": [
            "biz_id",
            "calendar_id",
            "status",
            "starts_at",
            "ends_at"
          ],
          "isUnique": false
        },
        "capacity_holds_biz_pool_status_window_idx": {
          "name": "capacity_holds_biz_pool_status_window_idx",
          "columns": [
            "biz_id",
            "capacity_pool_id",
            "status",
            "starts_at",
            "ends_at"
          ],
          "isUnique": false
        },
        "capacity_holds_biz_resource_status_window_idx": {
          "name": "capacity_holds_biz_resource_status_window_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "status",
            "starts_at",
            "ends_at"
          ],
          "isUnique": false
        },
        "capacity_holds_biz_target_status_window_idx": {
          "name": "capacity_holds_biz_target_status_window_idx",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_key",
            "status",
            "starts_at",
            "ends_at"
          ],
          "isUnique": false
        },
        "capacity_holds_biz_target_demand_window_idx": {
          "name": "capacity_holds_biz_target_demand_window_idx",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_key",
            "starts_at",
            "ends_at"
          ],
          "isUnique": false
        },
        "capacity_holds_biz_effect_status_window_idx": {
          "name": "capacity_holds_biz_effect_status_window_idx",
          "columns": [
            "biz_id",
            "effect_mode",
            "status",
            "starts_at",
            "ends_at"
          ],
          "isUnique": false
        },
        "capacity_holds_biz_policy_status_window_idx": {
          "name": "capacity_holds_biz_policy_status_window_idx",
          "columns": [
            "biz_id",
            "capacity_hold_policy_id",
            "status",
            "starts_at",
            "ends_at"
          ],
          "isUnique": false
        },
        "capacity_holds_biz_owner_status_window_idx": {
          "name": "capacity_holds_biz_owner_status_window_idx",
          "columns": [
            "biz_id",
            "owner_type",
            "status",
            "starts_at",
            "ends_at"
          ],
          "isUnique": false
        },
        "capacity_holds_biz_owner_ref_status_window_idx": {
          "name": "capacity_holds_biz_owner_ref_status_window_idx",
          "columns": [
            "biz_id",
            "owner_ref_key",
            "status",
            "starts_at",
            "ends_at"
          ],
          "isUnique": false
        },
        "capacity_holds_biz_source_ref_idx": {
          "name": "capacity_holds_biz_source_ref_idx",
          "columns": [
            "biz_id",
            "source_ref_type",
            "source_ref_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "capacity_holds_biz_id_bizes_id_fk": {
          "name": "capacity_holds_biz_id_bizes_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_capacity_hold_policy_id_capacity_hold_policies_id_fk": {
          "name": "capacity_holds_capacity_hold_policy_id_capacity_hold_policies_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "capacity_hold_policies",
          "columnsFrom": [
            "capacity_hold_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_calendar_id_calendars_id_fk": {
          "name": "capacity_holds_calendar_id_calendars_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "calendars",
          "columnsFrom": [
            "calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_capacity_pool_id_capacity_pools_id_fk": {
          "name": "capacity_holds_capacity_pool_id_capacity_pools_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "capacity_pools",
          "columnsFrom": [
            "capacity_pool_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_resource_id_resources_id_fk": {
          "name": "capacity_holds_resource_id_resources_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_offer_version_id_offer_versions_id_fk": {
          "name": "capacity_holds_offer_version_id_offer_versions_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_owner_user_id_users_id_fk": {
          "name": "capacity_holds_owner_user_id_users_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_owner_group_account_id_group_accounts_id_fk": {
          "name": "capacity_holds_owner_group_account_id_group_accounts_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "owner_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_created_by_users_id_fk": {
          "name": "capacity_holds_created_by_users_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_updated_by_users_id_fk": {
          "name": "capacity_holds_updated_by_users_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_deleted_by_users_id_fk": {
          "name": "capacity_holds_deleted_by_users_id_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_biz_calendar_fk": {
          "name": "capacity_holds_biz_calendar_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "calendars",
          "columnsFrom": [
            "biz_id",
            "calendar_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_biz_policy_fk": {
          "name": "capacity_holds_biz_policy_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "capacity_hold_policies",
          "columnsFrom": [
            "biz_id",
            "capacity_hold_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_biz_pool_fk": {
          "name": "capacity_holds_biz_pool_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "capacity_pools",
          "columnsFrom": [
            "biz_id",
            "capacity_pool_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_biz_resource_fk": {
          "name": "capacity_holds_biz_resource_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_biz_offer_version_fk": {
          "name": "capacity_holds_biz_offer_version_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_biz_owner_group_account_fk": {
          "name": "capacity_holds_biz_owner_group_account_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "biz_id",
            "owner_group_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_holds_biz_owner_subject_fk": {
          "name": "capacity_holds_biz_owner_subject_fk",
          "tableFrom": "capacity_holds",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "owner_subject_type",
            "owner_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "capacity_pool_members": {
      "name": "capacity_pool_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capacity_pool_id": {
          "name": "capacity_pool_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "member_type": {
          "name": "member_type",
          "type": "capacity_pool_member_type",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "member_ref_type": {
          "name": "member_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "member_ref_id": {
          "name": "member_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "capacity_weight": {
          "name": "capacity_weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "reserved_capacity": {
          "name": "reserved_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "capacity_pool_members_biz_id_id_unique": {
          "name": "capacity_pool_members_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "capacity_pool_members_biz_pool_idx": {
          "name": "capacity_pool_members_biz_pool_idx",
          "columns": [
            "biz_id",
            "capacity_pool_id"
          ],
          "isUnique": false
        },
        "capacity_pool_members_biz_member_ref_idx": {
          "name": "capacity_pool_members_biz_member_ref_idx",
          "columns": [
            "biz_id",
            "member_ref_type",
            "member_ref_id"
          ],
          "isUnique": false
        },
        "capacity_pool_members_unique_resource": {
          "name": "capacity_pool_members_unique_resource",
          "columns": [
            "capacity_pool_id",
            "resource_id"
          ],
          "isUnique": true
        },
        "capacity_pool_members_unique_offer_version": {
          "name": "capacity_pool_members_unique_offer_version",
          "columns": [
            "capacity_pool_id",
            "offer_version_id"
          ],
          "isUnique": true
        },
        "capacity_pool_members_unique_location": {
          "name": "capacity_pool_members_unique_location",
          "columns": [
            "capacity_pool_id",
            "location_id"
          ],
          "isUnique": true
        },
        "capacity_pool_members_unique_custom_subject": {
          "name": "capacity_pool_members_unique_custom_subject",
          "columns": [
            "capacity_pool_id",
            "member_ref_type",
            "member_ref_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "capacity_pool_members_biz_id_bizes_id_fk": {
          "name": "capacity_pool_members_biz_id_bizes_id_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_capacity_pool_id_capacity_pools_id_fk": {
          "name": "capacity_pool_members_capacity_pool_id_capacity_pools_id_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "capacity_pools",
          "columnsFrom": [
            "capacity_pool_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_resource_id_resources_id_fk": {
          "name": "capacity_pool_members_resource_id_resources_id_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_offer_version_id_offer_versions_id_fk": {
          "name": "capacity_pool_members_offer_version_id_offer_versions_id_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_location_id_locations_id_fk": {
          "name": "capacity_pool_members_location_id_locations_id_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_created_by_users_id_fk": {
          "name": "capacity_pool_members_created_by_users_id_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_updated_by_users_id_fk": {
          "name": "capacity_pool_members_updated_by_users_id_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_deleted_by_users_id_fk": {
          "name": "capacity_pool_members_deleted_by_users_id_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_biz_pool_fk": {
          "name": "capacity_pool_members_biz_pool_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "capacity_pools",
          "columnsFrom": [
            "biz_id",
            "capacity_pool_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_biz_resource_fk": {
          "name": "capacity_pool_members_biz_resource_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_biz_offer_version_fk": {
          "name": "capacity_pool_members_biz_offer_version_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_biz_location_fk": {
          "name": "capacity_pool_members_biz_location_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pool_members_biz_member_ref_subject_fk": {
          "name": "capacity_pool_members_biz_member_ref_subject_fk",
          "tableFrom": "capacity_pool_members",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "member_ref_type",
            "member_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "capacity_pools": {
      "name": "capacity_pools",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "capacity_pool_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "total_capacity": {
          "name": "total_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "overbook_capacity": {
          "name": "overbook_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "capacity_pools_biz_id_id_unique": {
          "name": "capacity_pools_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "capacity_pools_biz_slug_unique": {
          "name": "capacity_pools_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "capacity_pools_biz_status_idx": {
          "name": "capacity_pools_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "capacity_pools_biz_id_bizes_id_fk": {
          "name": "capacity_pools_biz_id_bizes_id_fk",
          "tableFrom": "capacity_pools",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pools_created_by_users_id_fk": {
          "name": "capacity_pools_created_by_users_id_fk",
          "tableFrom": "capacity_pools",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pools_updated_by_users_id_fk": {
          "name": "capacity_pools_updated_by_users_id_fk",
          "tableFrom": "capacity_pools",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "capacity_pools_deleted_by_users_id_fk": {
          "name": "capacity_pools_deleted_by_users_id_fk",
          "tableFrom": "capacity_pools",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_access_grant_sources": {
      "name": "calendar_access_grant_sources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grantee_biz_id": {
          "name": "grantee_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_access_grant_id": {
          "name": "calendar_access_grant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "calendar_grant_source_type",
          "primaryKey": false,
          "notNull": true
        },
        "external_calendar_id": {
          "name": "external_calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_biz_id": {
          "name": "source_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_binding_id": {
          "name": "calendar_binding_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_included": {
          "name": "is_included",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_access_grant_sources_unique_external": {
          "name": "calendar_access_grant_sources_unique_external",
          "columns": [
            "calendar_access_grant_id",
            "external_calendar_id"
          ],
          "isUnique": true
        },
        "calendar_access_grant_sources_unique_internal_binding": {
          "name": "calendar_access_grant_sources_unique_internal_binding",
          "columns": [
            "calendar_access_grant_id",
            "source_biz_id",
            "calendar_binding_id"
          ],
          "isUnique": true
        },
        "calendar_access_grant_sources_grant_idx": {
          "name": "calendar_access_grant_sources_grant_idx",
          "columns": [
            "calendar_access_grant_id",
            "source_type",
            "is_included"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "calendar_access_grant_sources_owner_user_id_users_id_fk": {
          "name": "calendar_access_grant_sources_owner_user_id_users_id_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_grantee_biz_id_bizes_id_fk": {
          "name": "calendar_access_grant_sources_grantee_biz_id_bizes_id_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "bizes",
          "columnsFrom": [
            "grantee_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_calendar_access_grant_id_calendar_access_grants_id_fk": {
          "name": "calendar_access_grant_sources_calendar_access_grant_id_calendar_access_grants_id_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "calendar_access_grants",
          "columnsFrom": [
            "calendar_access_grant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_external_calendar_id_external_calendars_id_fk": {
          "name": "calendar_access_grant_sources_external_calendar_id_external_calendars_id_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "external_calendars",
          "columnsFrom": [
            "external_calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_source_biz_id_bizes_id_fk": {
          "name": "calendar_access_grant_sources_source_biz_id_bizes_id_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "bizes",
          "columnsFrom": [
            "source_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_calendar_binding_id_calendar_bindings_id_fk": {
          "name": "calendar_access_grant_sources_calendar_binding_id_calendar_bindings_id_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "calendar_binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_created_by_users_id_fk": {
          "name": "calendar_access_grant_sources_created_by_users_id_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_updated_by_users_id_fk": {
          "name": "calendar_access_grant_sources_updated_by_users_id_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_deleted_by_users_id_fk": {
          "name": "calendar_access_grant_sources_deleted_by_users_id_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_owner_grant_fk": {
          "name": "calendar_access_grant_sources_owner_grant_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "calendar_access_grants",
          "columnsFrom": [
            "owner_user_id",
            "calendar_access_grant_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_biz_grant_fk": {
          "name": "calendar_access_grant_sources_biz_grant_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "calendar_access_grants",
          "columnsFrom": [
            "grantee_biz_id",
            "calendar_access_grant_id"
          ],
          "columnsTo": [
            "grantee_biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_owner_external_calendar_fk": {
          "name": "calendar_access_grant_sources_owner_external_calendar_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "external_calendars",
          "columnsFrom": [
            "owner_user_id",
            "external_calendar_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_source_biz_binding_fk": {
          "name": "calendar_access_grant_sources_source_biz_binding_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "source_biz_id",
            "calendar_binding_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grant_sources_owner_binding_fk": {
          "name": "calendar_access_grant_sources_owner_binding_fk",
          "tableFrom": "calendar_access_grant_sources",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "source_biz_id",
            "calendar_binding_id",
            "owner_user_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "owner_user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_access_grants": {
      "name": "calendar_access_grants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grantee_biz_id": {
          "name": "grantee_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "calendar_access_grant_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'granted'"
        },
        "access_level": {
          "name": "access_level",
          "type": "calendar_access_level",
          "primaryKey": false,
          "notNull": true,
          "default": "'free_busy'"
        },
        "scope": {
          "name": "scope",
          "type": "calendar_grant_scope",
          "primaryKey": false,
          "notNull": true,
          "default": "'all_sources'"
        },
        "allow_availability_computation": {
          "name": "allow_availability_computation",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allow_conflict_detection": {
          "name": "allow_conflict_detection",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allow_write_back_busy_blocks": {
          "name": "allow_write_back_busy_blocks",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "granted_by_user_id": {
          "name": "granted_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_access_grants_owner_id_unique": {
          "name": "calendar_access_grants_owner_id_unique",
          "columns": [
            "owner_user_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_access_grants_biz_id_unique": {
          "name": "calendar_access_grants_biz_id_unique",
          "columns": [
            "grantee_biz_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_access_grants_active_pair_unique": {
          "name": "calendar_access_grants_active_pair_unique",
          "columns": [
            "owner_user_id",
            "grantee_biz_id"
          ],
          "isUnique": true
        },
        "calendar_access_grants_biz_lookup_idx": {
          "name": "calendar_access_grants_biz_lookup_idx",
          "columns": [
            "grantee_biz_id",
            "status",
            "access_level",
            "scope"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "calendar_access_grants_owner_user_id_users_id_fk": {
          "name": "calendar_access_grants_owner_user_id_users_id_fk",
          "tableFrom": "calendar_access_grants",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grants_grantee_biz_id_bizes_id_fk": {
          "name": "calendar_access_grants_grantee_biz_id_bizes_id_fk",
          "tableFrom": "calendar_access_grants",
          "tableTo": "bizes",
          "columnsFrom": [
            "grantee_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grants_granted_by_user_id_users_id_fk": {
          "name": "calendar_access_grants_granted_by_user_id_users_id_fk",
          "tableFrom": "calendar_access_grants",
          "tableTo": "users",
          "columnsFrom": [
            "granted_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grants_created_by_users_id_fk": {
          "name": "calendar_access_grants_created_by_users_id_fk",
          "tableFrom": "calendar_access_grants",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grants_updated_by_users_id_fk": {
          "name": "calendar_access_grants_updated_by_users_id_fk",
          "tableFrom": "calendar_access_grants",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_access_grants_deleted_by_users_id_fk": {
          "name": "calendar_access_grants_deleted_by_users_id_fk",
          "tableFrom": "calendar_access_grants",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "calendar_sync_connections": {
      "name": "calendar_sync_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "calendar_sync_provider",
          "primaryKey": false,
          "notNull": true
        },
        "provider_account_ref": {
          "name": "provider_account_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "calendar_sync_connection_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "auth_secret_ref": {
          "name": "auth_secret_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_secret_ref": {
          "name": "refresh_secret_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "granted_scopes": {
          "name": "granted_scopes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "provider_timezone": {
          "name": "provider_timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "sync_cursor": {
          "name": "sync_cursor",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "last_successful_sync_at": {
          "name": "last_successful_sync_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_failed_sync_at": {
          "name": "last_failed_sync_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_failure_reason": {
          "name": "last_failure_reason",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_channel_ref": {
          "name": "webhook_channel_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "calendar_sync_connections_owner_id_unique": {
          "name": "calendar_sync_connections_owner_id_unique",
          "columns": [
            "owner_user_id",
            "id"
          ],
          "isUnique": true
        },
        "calendar_sync_connections_owner_provider_account_unique": {
          "name": "calendar_sync_connections_owner_provider_account_unique",
          "columns": [
            "owner_user_id",
            "provider",
            "provider_account_ref"
          ],
          "isUnique": true
        },
        "calendar_sync_connections_owner_status_idx": {
          "name": "calendar_sync_connections_owner_status_idx",
          "columns": [
            "owner_user_id",
            "status",
            "provider"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "calendar_sync_connections_owner_user_id_users_id_fk": {
          "name": "calendar_sync_connections_owner_user_id_users_id_fk",
          "tableFrom": "calendar_sync_connections",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_sync_connections_created_by_users_id_fk": {
          "name": "calendar_sync_connections_created_by_users_id_fk",
          "tableFrom": "calendar_sync_connections",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_sync_connections_updated_by_users_id_fk": {
          "name": "calendar_sync_connections_updated_by_users_id_fk",
          "tableFrom": "calendar_sync_connections",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "calendar_sync_connections_deleted_by_users_id_fk": {
          "name": "calendar_sync_connections_deleted_by_users_id_fk",
          "tableFrom": "calendar_sync_connections",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "external_calendar_events": {
      "name": "external_calendar_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "external_calendar_id": {
          "name": "external_calendar_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_event_ref": {
          "name": "provider_event_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "ical_uid": {
          "name": "ical_uid",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "event_status": {
          "name": "event_status",
          "type": "external_calendar_event_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'confirmed'"
        },
        "busy_status": {
          "name": "busy_status",
          "type": "external_calendar_event_busy_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'busy'"
        },
        "title": {
          "name": "title",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "is_all_day": {
          "name": "is_all_day",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "source_created_at": {
          "name": "source_created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source_updated_at": {
          "name": "source_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "external_calendar_events_owner_id_unique": {
          "name": "external_calendar_events_owner_id_unique",
          "columns": [
            "owner_user_id",
            "id"
          ],
          "isUnique": true
        },
        "external_calendar_events_feed_provider_ref_unique": {
          "name": "external_calendar_events_feed_provider_ref_unique",
          "columns": [
            "external_calendar_id",
            "provider_event_ref"
          ],
          "isUnique": true
        },
        "external_calendar_events_owner_window_idx": {
          "name": "external_calendar_events_owner_window_idx",
          "columns": [
            "owner_user_id",
            "starts_at",
            "ends_at",
            "busy_status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "external_calendar_events_owner_user_id_users_id_fk": {
          "name": "external_calendar_events_owner_user_id_users_id_fk",
          "tableFrom": "external_calendar_events",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendar_events_external_calendar_id_external_calendars_id_fk": {
          "name": "external_calendar_events_external_calendar_id_external_calendars_id_fk",
          "tableFrom": "external_calendar_events",
          "tableTo": "external_calendars",
          "columnsFrom": [
            "external_calendar_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendar_events_created_by_users_id_fk": {
          "name": "external_calendar_events_created_by_users_id_fk",
          "tableFrom": "external_calendar_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendar_events_updated_by_users_id_fk": {
          "name": "external_calendar_events_updated_by_users_id_fk",
          "tableFrom": "external_calendar_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendar_events_deleted_by_users_id_fk": {
          "name": "external_calendar_events_deleted_by_users_id_fk",
          "tableFrom": "external_calendar_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendar_events_owner_external_calendar_fk": {
          "name": "external_calendar_events_owner_external_calendar_fk",
          "tableFrom": "external_calendar_events",
          "tableTo": "external_calendars",
          "columnsFrom": [
            "owner_user_id",
            "external_calendar_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "external_calendars": {
      "name": "external_calendars",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "calendar_sync_connection_id": {
          "name": "calendar_sync_connection_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_calendar_ref": {
          "name": "provider_calendar_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "color": {
          "name": "color",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_selected_for_sync": {
          "name": "is_selected_for_sync",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_read_only": {
          "name": "is_read_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sync_state": {
          "name": "sync_state",
          "type": "external_calendar_sync_state",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_error_at": {
          "name": "last_sync_error_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_error_reason": {
          "name": "last_sync_error_reason",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "external_calendars_owner_id_unique": {
          "name": "external_calendars_owner_id_unique",
          "columns": [
            "owner_user_id",
            "id"
          ],
          "isUnique": true
        },
        "external_calendars_connection_provider_calendar_unique": {
          "name": "external_calendars_connection_provider_calendar_unique",
          "columns": [
            "calendar_sync_connection_id",
            "provider_calendar_ref"
          ],
          "isUnique": true
        },
        "external_calendars_owner_sync_idx": {
          "name": "external_calendars_owner_sync_idx",
          "columns": [
            "owner_user_id",
            "is_selected_for_sync",
            "sync_state"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "external_calendars_owner_user_id_users_id_fk": {
          "name": "external_calendars_owner_user_id_users_id_fk",
          "tableFrom": "external_calendars",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendars_calendar_sync_connection_id_calendar_sync_connections_id_fk": {
          "name": "external_calendars_calendar_sync_connection_id_calendar_sync_connections_id_fk",
          "tableFrom": "external_calendars",
          "tableTo": "calendar_sync_connections",
          "columnsFrom": [
            "calendar_sync_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendars_created_by_users_id_fk": {
          "name": "external_calendars_created_by_users_id_fk",
          "tableFrom": "external_calendars",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendars_updated_by_users_id_fk": {
          "name": "external_calendars_updated_by_users_id_fk",
          "tableFrom": "external_calendars",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendars_deleted_by_users_id_fk": {
          "name": "external_calendars_deleted_by_users_id_fk",
          "tableFrom": "external_calendars",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "external_calendars_owner_connection_fk": {
          "name": "external_calendars_owner_connection_fk",
          "tableFrom": "external_calendars",
          "tableTo": "calendar_sync_connections",
          "columnsFrom": [
            "owner_user_id",
            "calendar_sync_connection_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "booking_order_lines": {
      "name": "booking_order_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "line_type": {
          "name": "line_type",
          "type": "booking_order_line_type",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_component_id": {
          "name": "offer_component_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "seat_type_id": {
          "name": "seat_type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "unit_amount_minor": {
          "name": "unit_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "line_total_minor": {
          "name": "line_total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pricing_detail": {
          "name": "pricing_detail",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "booking_order_lines_biz_id_id_unique": {
          "name": "booking_order_lines_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "booking_order_lines_biz_order_id_id_unique": {
          "name": "booking_order_lines_biz_order_id_id_unique",
          "columns": [
            "biz_id",
            "booking_order_id",
            "id"
          ],
          "isUnique": true
        },
        "booking_order_lines_biz_order_idx": {
          "name": "booking_order_lines_biz_order_idx",
          "columns": [
            "biz_id",
            "booking_order_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "booking_order_lines_biz_id_bizes_id_fk": {
          "name": "booking_order_lines_biz_id_bizes_id_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_lines_booking_order_id_booking_orders_id_fk": {
          "name": "booking_order_lines_booking_order_id_booking_orders_id_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_lines_offer_component_id_offer_components_id_fk": {
          "name": "booking_order_lines_offer_component_id_offer_components_id_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "offer_components",
          "columnsFrom": [
            "offer_component_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_lines_seat_type_id_offer_component_seat_types_id_fk": {
          "name": "booking_order_lines_seat_type_id_offer_component_seat_types_id_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "offer_component_seat_types",
          "columnsFrom": [
            "seat_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_lines_created_by_users_id_fk": {
          "name": "booking_order_lines_created_by_users_id_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_lines_updated_by_users_id_fk": {
          "name": "booking_order_lines_updated_by_users_id_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_lines_deleted_by_users_id_fk": {
          "name": "booking_order_lines_deleted_by_users_id_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_lines_biz_order_fk": {
          "name": "booking_order_lines_biz_order_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_lines_biz_component_fk": {
          "name": "booking_order_lines_biz_component_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "offer_components",
          "columnsFrom": [
            "biz_id",
            "offer_component_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_order_lines_biz_seat_type_fk": {
          "name": "booking_order_lines_biz_seat_type_fk",
          "tableFrom": "booking_order_lines",
          "tableTo": "offer_component_seat_types",
          "columnsFrom": [
            "biz_id",
            "seat_type_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "booking_orders": {
      "name": "booking_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_user_id": {
          "name": "customer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_group_account_id": {
          "name": "customer_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "booking_order_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "subtotal_minor": {
          "name": "subtotal_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fee_minor": {
          "name": "fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "requested_start_at": {
          "name": "requested_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "requested_end_at": {
          "name": "requested_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_start_at": {
          "name": "confirmed_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_end_at": {
          "name": "confirmed_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_snapshot": {
          "name": "pricing_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "booking_orders_biz_id_id_unique": {
          "name": "booking_orders_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "booking_orders_biz_status_idx": {
          "name": "booking_orders_biz_status_idx",
          "columns": [
            "biz_id",
            "status",
            "confirmed_start_at"
          ],
          "isUnique": false
        },
        "booking_orders_biz_status_config_idx": {
          "name": "booking_orders_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        },
        "booking_orders_biz_customer_idx": {
          "name": "booking_orders_biz_customer_idx",
          "columns": [
            "biz_id",
            "customer_user_id",
            "confirmed_start_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "booking_orders_biz_id_bizes_id_fk": {
          "name": "booking_orders_biz_id_bizes_id_fk",
          "tableFrom": "booking_orders",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_offer_id_offers_id_fk": {
          "name": "booking_orders_offer_id_offers_id_fk",
          "tableFrom": "booking_orders",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_offer_version_id_offer_versions_id_fk": {
          "name": "booking_orders_offer_version_id_offer_versions_id_fk",
          "tableFrom": "booking_orders",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_customer_user_id_users_id_fk": {
          "name": "booking_orders_customer_user_id_users_id_fk",
          "tableFrom": "booking_orders",
          "tableTo": "users",
          "columnsFrom": [
            "customer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_customer_group_account_id_group_accounts_id_fk": {
          "name": "booking_orders_customer_group_account_id_group_accounts_id_fk",
          "tableFrom": "booking_orders",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "customer_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_status_config_value_id_biz_config_values_id_fk": {
          "name": "booking_orders_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "booking_orders",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_created_by_users_id_fk": {
          "name": "booking_orders_created_by_users_id_fk",
          "tableFrom": "booking_orders",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_updated_by_users_id_fk": {
          "name": "booking_orders_updated_by_users_id_fk",
          "tableFrom": "booking_orders",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_deleted_by_users_id_fk": {
          "name": "booking_orders_deleted_by_users_id_fk",
          "tableFrom": "booking_orders",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_biz_offer_fk": {
          "name": "booking_orders_biz_offer_fk",
          "tableFrom": "booking_orders",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_biz_offer_version_fk": {
          "name": "booking_orders_biz_offer_version_fk",
          "tableFrom": "booking_orders",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_orders_biz_status_config_fk": {
          "name": "booking_orders_biz_status_config_fk",
          "tableFrom": "booking_orders",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fulfillment_assignment_events": {
      "name": "fulfillment_assignment_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fulfillment_assignment_id": {
          "name": "fulfillment_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "fulfillment_assignment_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "previous_status": {
          "name": "previous_status",
          "type": "fulfillment_assignment_status",
          "primaryKey": false,
          "notNull": false
        },
        "next_status": {
          "name": "next_status",
          "type": "fulfillment_assignment_status",
          "primaryKey": false,
          "notNull": false
        },
        "previous_resource_id": {
          "name": "previous_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "next_resource_id": {
          "name": "next_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_starts_at": {
          "name": "previous_starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_starts_at": {
          "name": "next_starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "previous_ends_at": {
          "name": "previous_ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_ends_at": {
          "name": "next_ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "previous_conflict_policy": {
          "name": "previous_conflict_policy",
          "type": "fulfillment_assignment_conflict_policy",
          "primaryKey": false,
          "notNull": false
        },
        "next_conflict_policy": {
          "name": "next_conflict_policy",
          "type": "fulfillment_assignment_conflict_policy",
          "primaryKey": false,
          "notNull": false
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_ref": {
          "name": "actor_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fulfillment_assignment_events_biz_id_id_unique": {
          "name": "fulfillment_assignment_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fulfillment_assignment_events_biz_assignment_occurred_idx": {
          "name": "fulfillment_assignment_events_biz_assignment_occurred_idx",
          "columns": [
            "biz_id",
            "fulfillment_assignment_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "fulfillment_assignment_events_biz_type_occurred_idx": {
          "name": "fulfillment_assignment_events_biz_type_occurred_idx",
          "columns": [
            "biz_id",
            "event_type",
            "next_status",
            "occurred_at"
          ],
          "isUnique": false
        },
        "fulfillment_assignment_events_biz_request_occurred_idx": {
          "name": "fulfillment_assignment_events_biz_request_occurred_idx",
          "columns": [
            "biz_id",
            "request_key",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fulfillment_assignment_events_biz_id_bizes_id_fk": {
          "name": "fulfillment_assignment_events_biz_id_bizes_id_fk",
          "tableFrom": "fulfillment_assignment_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignment_events_actor_user_id_users_id_fk": {
          "name": "fulfillment_assignment_events_actor_user_id_users_id_fk",
          "tableFrom": "fulfillment_assignment_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignment_events_created_by_users_id_fk": {
          "name": "fulfillment_assignment_events_created_by_users_id_fk",
          "tableFrom": "fulfillment_assignment_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignment_events_updated_by_users_id_fk": {
          "name": "fulfillment_assignment_events_updated_by_users_id_fk",
          "tableFrom": "fulfillment_assignment_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignment_events_deleted_by_users_id_fk": {
          "name": "fulfillment_assignment_events_deleted_by_users_id_fk",
          "tableFrom": "fulfillment_assignment_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignment_events_biz_assignment_fk": {
          "name": "fulfillment_assignment_events_biz_assignment_fk",
          "tableFrom": "fulfillment_assignment_events",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "biz_id",
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignment_events_biz_previous_resource_fk": {
          "name": "fulfillment_assignment_events_biz_previous_resource_fk",
          "tableFrom": "fulfillment_assignment_events",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "previous_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignment_events_biz_next_resource_fk": {
          "name": "fulfillment_assignment_events_biz_next_resource_fk",
          "tableFrom": "fulfillment_assignment_events",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "next_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fulfillment_assignments": {
      "name": "fulfillment_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "fulfillment_assignment_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'proposed'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conflict_policy": {
          "name": "conflict_policy",
          "type": "fulfillment_assignment_conflict_policy",
          "primaryKey": false,
          "notNull": true,
          "default": "'enforce_no_overlap'"
        },
        "role_label": {
          "name": "role_label",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "compensation_split_bps": {
          "name": "compensation_split_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_by_user_id": {
          "name": "assigned_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fulfillment_assignments_biz_id_id_unique": {
          "name": "fulfillment_assignments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fulfillment_assignments_biz_unit_idx": {
          "name": "fulfillment_assignments_biz_unit_idx",
          "columns": [
            "biz_id",
            "fulfillment_unit_id",
            "status"
          ],
          "isUnique": false
        },
        "fulfillment_assignments_biz_resource_idx": {
          "name": "fulfillment_assignments_biz_resource_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "starts_at"
          ],
          "isUnique": false
        },
        "fulfillment_assignments_biz_resource_policy_status_idx": {
          "name": "fulfillment_assignments_biz_resource_policy_status_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "conflict_policy",
            "status",
            "starts_at"
          ],
          "isUnique": false
        },
        "fulfillment_assignments_biz_status_start_idx": {
          "name": "fulfillment_assignments_biz_status_start_idx",
          "columns": [
            "biz_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        },
        "fulfillment_assignments_biz_status_config_idx": {
          "name": "fulfillment_assignments_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fulfillment_assignments_biz_id_bizes_id_fk": {
          "name": "fulfillment_assignments_biz_id_bizes_id_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "fulfillment_assignments_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_resource_id_resources_id_fk": {
          "name": "fulfillment_assignments_resource_id_resources_id_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_status_config_value_id_biz_config_values_id_fk": {
          "name": "fulfillment_assignments_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_assigned_by_user_id_users_id_fk": {
          "name": "fulfillment_assignments_assigned_by_user_id_users_id_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_created_by_users_id_fk": {
          "name": "fulfillment_assignments_created_by_users_id_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_updated_by_users_id_fk": {
          "name": "fulfillment_assignments_updated_by_users_id_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_deleted_by_users_id_fk": {
          "name": "fulfillment_assignments_deleted_by_users_id_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_biz_unit_fk": {
          "name": "fulfillment_assignments_biz_unit_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_biz_resource_fk": {
          "name": "fulfillment_assignments_biz_resource_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_assignments_biz_status_config_fk": {
          "name": "fulfillment_assignments_biz_status_config_fk",
          "tableFrom": "fulfillment_assignments",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fulfillment_checkpoints": {
      "name": "fulfillment_checkpoints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "checkpoint_type": {
          "name": "checkpoint_type",
          "type": "fulfillment_checkpoint_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "fulfillment_checkpoint_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "expected_at": {
          "name": "expected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_by_user_id": {
          "name": "recorded_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fulfillment_checkpoints_biz_id_id_unique": {
          "name": "fulfillment_checkpoints_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fulfillment_checkpoints_unique": {
          "name": "fulfillment_checkpoints_unique",
          "columns": [
            "fulfillment_unit_id",
            "checkpoint_type",
            "sequence"
          ],
          "isUnique": true
        },
        "fulfillment_checkpoints_biz_unit_idx": {
          "name": "fulfillment_checkpoints_biz_unit_idx",
          "columns": [
            "biz_id",
            "fulfillment_unit_id",
            "sequence"
          ],
          "isUnique": false
        },
        "fulfillment_checkpoints_biz_status_config_idx": {
          "name": "fulfillment_checkpoints_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fulfillment_checkpoints_biz_id_bizes_id_fk": {
          "name": "fulfillment_checkpoints_biz_id_bizes_id_fk",
          "tableFrom": "fulfillment_checkpoints",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_checkpoints_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "fulfillment_checkpoints_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "fulfillment_checkpoints",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_checkpoints_status_config_value_id_biz_config_values_id_fk": {
          "name": "fulfillment_checkpoints_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "fulfillment_checkpoints",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_checkpoints_recorded_by_user_id_users_id_fk": {
          "name": "fulfillment_checkpoints_recorded_by_user_id_users_id_fk",
          "tableFrom": "fulfillment_checkpoints",
          "tableTo": "users",
          "columnsFrom": [
            "recorded_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_checkpoints_created_by_users_id_fk": {
          "name": "fulfillment_checkpoints_created_by_users_id_fk",
          "tableFrom": "fulfillment_checkpoints",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_checkpoints_updated_by_users_id_fk": {
          "name": "fulfillment_checkpoints_updated_by_users_id_fk",
          "tableFrom": "fulfillment_checkpoints",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_checkpoints_deleted_by_users_id_fk": {
          "name": "fulfillment_checkpoints_deleted_by_users_id_fk",
          "tableFrom": "fulfillment_checkpoints",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_checkpoints_biz_unit_fk": {
          "name": "fulfillment_checkpoints_biz_unit_fk",
          "tableFrom": "fulfillment_checkpoints",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_checkpoints_biz_status_config_fk": {
          "name": "fulfillment_checkpoints_biz_status_config_fk",
          "tableFrom": "fulfillment_checkpoints",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fulfillment_dependencies": {
      "name": "fulfillment_dependencies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "predecessor_unit_id": {
          "name": "predecessor_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "successor_unit_id": {
          "name": "successor_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "dependency_type": {
          "name": "dependency_type",
          "type": "fulfillment_dependency_type",
          "primaryKey": false,
          "notNull": true
        },
        "min_gap_min": {
          "name": "min_gap_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_gap_min": {
          "name": "max_gap_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hard_block": {
          "name": "hard_block",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fulfillment_dependencies_biz_id_id_unique": {
          "name": "fulfillment_dependencies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fulfillment_dependencies_unique": {
          "name": "fulfillment_dependencies_unique",
          "columns": [
            "predecessor_unit_id",
            "successor_unit_id",
            "dependency_type"
          ],
          "isUnique": true
        },
        "fulfillment_dependencies_biz_predecessor_idx": {
          "name": "fulfillment_dependencies_biz_predecessor_idx",
          "columns": [
            "biz_id",
            "predecessor_unit_id"
          ],
          "isUnique": false
        },
        "fulfillment_dependencies_biz_successor_idx": {
          "name": "fulfillment_dependencies_biz_successor_idx",
          "columns": [
            "biz_id",
            "successor_unit_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fulfillment_dependencies_biz_id_bizes_id_fk": {
          "name": "fulfillment_dependencies_biz_id_bizes_id_fk",
          "tableFrom": "fulfillment_dependencies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_dependencies_predecessor_unit_id_fulfillment_units_id_fk": {
          "name": "fulfillment_dependencies_predecessor_unit_id_fulfillment_units_id_fk",
          "tableFrom": "fulfillment_dependencies",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "predecessor_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_dependencies_successor_unit_id_fulfillment_units_id_fk": {
          "name": "fulfillment_dependencies_successor_unit_id_fulfillment_units_id_fk",
          "tableFrom": "fulfillment_dependencies",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "successor_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_dependencies_created_by_users_id_fk": {
          "name": "fulfillment_dependencies_created_by_users_id_fk",
          "tableFrom": "fulfillment_dependencies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_dependencies_updated_by_users_id_fk": {
          "name": "fulfillment_dependencies_updated_by_users_id_fk",
          "tableFrom": "fulfillment_dependencies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_dependencies_deleted_by_users_id_fk": {
          "name": "fulfillment_dependencies_deleted_by_users_id_fk",
          "tableFrom": "fulfillment_dependencies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_dependencies_biz_predecessor_fk": {
          "name": "fulfillment_dependencies_biz_predecessor_fk",
          "tableFrom": "fulfillment_dependencies",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "predecessor_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_dependencies_biz_successor_fk": {
          "name": "fulfillment_dependencies_biz_successor_fk",
          "tableFrom": "fulfillment_dependencies",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "successor_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fulfillment_units": {
      "name": "fulfillment_units",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_component_id": {
          "name": "offer_component_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "fulfillment_unit_kind",
          "primaryKey": false,
          "notNull": true,
          "default": "'service_task'"
        },
        "status": {
          "name": "status",
          "type": "fulfillment_unit_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "planned_start_at": {
          "name": "planned_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "planned_end_at": {
          "name": "planned_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "actual_start_at": {
          "name": "actual_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "actual_end_at": {
          "name": "actual_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_binding_id": {
          "name": "calendar_binding_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "transport_trip_id": {
          "name": "transport_trip_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "assignment_policy": {
          "name": "assignment_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fulfillment_units_biz_id_id_unique": {
          "name": "fulfillment_units_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fulfillment_units_biz_order_idx": {
          "name": "fulfillment_units_biz_order_idx",
          "columns": [
            "biz_id",
            "booking_order_id",
            "planned_start_at"
          ],
          "isUnique": false
        },
        "fulfillment_units_biz_status_idx": {
          "name": "fulfillment_units_biz_status_idx",
          "columns": [
            "biz_id",
            "status",
            "planned_start_at"
          ],
          "isUnique": false
        },
        "fulfillment_units_biz_status_config_idx": {
          "name": "fulfillment_units_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fulfillment_units_biz_id_bizes_id_fk": {
          "name": "fulfillment_units_biz_id_bizes_id_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_booking_order_id_booking_orders_id_fk": {
          "name": "fulfillment_units_booking_order_id_booking_orders_id_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_offer_component_id_offer_components_id_fk": {
          "name": "fulfillment_units_offer_component_id_offer_components_id_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "offer_components",
          "columnsFrom": [
            "offer_component_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_status_config_value_id_biz_config_values_id_fk": {
          "name": "fulfillment_units_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_location_id_locations_id_fk": {
          "name": "fulfillment_units_location_id_locations_id_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_calendar_binding_id_calendar_bindings_id_fk": {
          "name": "fulfillment_units_calendar_binding_id_calendar_bindings_id_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "calendar_binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_created_by_users_id_fk": {
          "name": "fulfillment_units_created_by_users_id_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_updated_by_users_id_fk": {
          "name": "fulfillment_units_updated_by_users_id_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_deleted_by_users_id_fk": {
          "name": "fulfillment_units_deleted_by_users_id_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_biz_order_fk": {
          "name": "fulfillment_units_biz_order_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_biz_component_fk": {
          "name": "fulfillment_units_biz_component_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "offer_components",
          "columnsFrom": [
            "biz_id",
            "offer_component_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_biz_location_fk": {
          "name": "fulfillment_units_biz_location_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_biz_calendar_binding_fk": {
          "name": "fulfillment_units_biz_calendar_binding_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "biz_id",
            "calendar_binding_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_units_biz_status_config_fk": {
          "name": "fulfillment_units_biz_status_config_fk",
          "tableFrom": "fulfillment_units",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "standing_reservation_contracts": {
      "name": "standing_reservation_contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_user_id": {
          "name": "customer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_group_account_id": {
          "name": "customer_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "standing_reservation_contract_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "anchor_start_at": {
          "name": "anchor_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "default_duration_min": {
          "name": "default_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "recurrence_rule": {
          "name": "recurrence_rule",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "effective_start_date": {
          "name": "effective_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "effective_end_date": {
          "name": "effective_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "auto_create_orders": {
          "name": "auto_create_orders",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "max_generated_ahead_days": {
          "name": "max_generated_ahead_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "next_planned_occurrence_at": {
          "name": "next_planned_occurrence_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_occurrence_generated_at": {
          "name": "last_occurrence_generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paused_at": {
          "name": "paused_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resume_at": {
          "name": "resume_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "standing_reservation_contracts_biz_id_id_unique": {
          "name": "standing_reservation_contracts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "standing_reservation_contracts_biz_status_next_idx": {
          "name": "standing_reservation_contracts_biz_status_next_idx",
          "columns": [
            "biz_id",
            "status",
            "next_planned_occurrence_at"
          ],
          "isUnique": false
        },
        "standing_reservation_contracts_biz_customer_idx": {
          "name": "standing_reservation_contracts_biz_customer_idx",
          "columns": [
            "biz_id",
            "customer_user_id",
            "customer_group_account_id"
          ],
          "isUnique": false
        },
        "standing_reservation_contracts_biz_offer_version_idx": {
          "name": "standing_reservation_contracts_biz_offer_version_idx",
          "columns": [
            "biz_id",
            "offer_version_id"
          ],
          "isUnique": false
        },
        "standing_reservation_contracts_biz_status_config_idx": {
          "name": "standing_reservation_contracts_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "standing_reservation_contracts_biz_id_bizes_id_fk": {
          "name": "standing_reservation_contracts_biz_id_bizes_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_offer_id_offers_id_fk": {
          "name": "standing_reservation_contracts_offer_id_offers_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_offer_version_id_offer_versions_id_fk": {
          "name": "standing_reservation_contracts_offer_version_id_offer_versions_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_location_id_locations_id_fk": {
          "name": "standing_reservation_contracts_location_id_locations_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_customer_user_id_users_id_fk": {
          "name": "standing_reservation_contracts_customer_user_id_users_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "customer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_customer_group_account_id_group_accounts_id_fk": {
          "name": "standing_reservation_contracts_customer_group_account_id_group_accounts_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "customer_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_status_config_value_id_biz_config_values_id_fk": {
          "name": "standing_reservation_contracts_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_created_by_users_id_fk": {
          "name": "standing_reservation_contracts_created_by_users_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_updated_by_users_id_fk": {
          "name": "standing_reservation_contracts_updated_by_users_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_deleted_by_users_id_fk": {
          "name": "standing_reservation_contracts_deleted_by_users_id_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_biz_offer_fk": {
          "name": "standing_reservation_contracts_biz_offer_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_biz_offer_version_fk": {
          "name": "standing_reservation_contracts_biz_offer_version_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_biz_location_fk": {
          "name": "standing_reservation_contracts_biz_location_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_contracts_biz_status_config_fk": {
          "name": "standing_reservation_contracts_biz_status_config_fk",
          "tableFrom": "standing_reservation_contracts",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "standing_reservation_exceptions": {
      "name": "standing_reservation_exceptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "standing_reservation_contract_id": {
          "name": "standing_reservation_contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "standing_reservation_exception_action",
          "primaryKey": false,
          "notNull": true
        },
        "target_occurrence_key": {
          "name": "target_occurrence_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "target_local_date": {
          "name": "target_local_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "override_start_at": {
          "name": "override_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "override_end_at": {
          "name": "override_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "override_location_id": {
          "name": "override_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "override_offer_version_id": {
          "name": "override_offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "standing_reservation_exceptions_biz_id_id_unique": {
          "name": "standing_reservation_exceptions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "standing_reservation_exceptions_biz_contract_action_idx": {
          "name": "standing_reservation_exceptions_biz_contract_action_idx",
          "columns": [
            "biz_id",
            "standing_reservation_contract_id",
            "action",
            "is_active"
          ],
          "isUnique": false
        },
        "standing_reservation_exceptions_biz_contract_date_idx": {
          "name": "standing_reservation_exceptions_biz_contract_date_idx",
          "columns": [
            "biz_id",
            "standing_reservation_contract_id",
            "target_local_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "standing_reservation_exceptions_biz_id_bizes_id_fk": {
          "name": "standing_reservation_exceptions_biz_id_bizes_id_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_exceptions_standing_reservation_contract_id_standing_reservation_contracts_id_fk": {
          "name": "standing_reservation_exceptions_standing_reservation_contract_id_standing_reservation_contracts_id_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "standing_reservation_contracts",
          "columnsFrom": [
            "standing_reservation_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_exceptions_override_location_id_locations_id_fk": {
          "name": "standing_reservation_exceptions_override_location_id_locations_id_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "locations",
          "columnsFrom": [
            "override_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_exceptions_override_offer_version_id_offer_versions_id_fk": {
          "name": "standing_reservation_exceptions_override_offer_version_id_offer_versions_id_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "override_offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_exceptions_created_by_users_id_fk": {
          "name": "standing_reservation_exceptions_created_by_users_id_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_exceptions_updated_by_users_id_fk": {
          "name": "standing_reservation_exceptions_updated_by_users_id_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_exceptions_deleted_by_users_id_fk": {
          "name": "standing_reservation_exceptions_deleted_by_users_id_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_exceptions_biz_contract_fk": {
          "name": "standing_reservation_exceptions_biz_contract_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "standing_reservation_contracts",
          "columnsFrom": [
            "biz_id",
            "standing_reservation_contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_exceptions_biz_location_fk": {
          "name": "standing_reservation_exceptions_biz_location_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "override_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_exceptions_biz_offer_version_fk": {
          "name": "standing_reservation_exceptions_biz_offer_version_fk",
          "tableFrom": "standing_reservation_exceptions",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "override_offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "standing_reservation_occurrences": {
      "name": "standing_reservation_occurrences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "standing_reservation_contract_id": {
          "name": "standing_reservation_contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "occurrence_key": {
          "name": "occurrence_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "occurrence_local_date": {
          "name": "occurrence_local_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "planned_start_at": {
          "name": "planned_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "planned_end_at": {
          "name": "planned_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "standing_reservation_occurrence_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "booked_at": {
          "name": "booked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "fulfilled_at": {
          "name": "fulfilled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "skipped_at": {
          "name": "skipped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "skip_reason": {
          "name": "skip_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "standing_reservation_occurrences_biz_id_id_unique": {
          "name": "standing_reservation_occurrences_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "standing_reservation_occurrences_contract_key_unique": {
          "name": "standing_reservation_occurrences_contract_key_unique",
          "columns": [
            "biz_id",
            "standing_reservation_contract_id",
            "occurrence_key"
          ],
          "isUnique": true
        },
        "standing_reservation_occurrences_booking_order_unique": {
          "name": "standing_reservation_occurrences_booking_order_unique",
          "columns": [
            "biz_id",
            "booking_order_id"
          ],
          "isUnique": true
        },
        "standing_reservation_occurrences_biz_contract_start_idx": {
          "name": "standing_reservation_occurrences_biz_contract_start_idx",
          "columns": [
            "biz_id",
            "standing_reservation_contract_id",
            "planned_start_at"
          ],
          "isUnique": false
        },
        "standing_reservation_occurrences_biz_status_start_idx": {
          "name": "standing_reservation_occurrences_biz_status_start_idx",
          "columns": [
            "biz_id",
            "status",
            "planned_start_at"
          ],
          "isUnique": false
        },
        "standing_reservation_occurrences_biz_status_config_idx": {
          "name": "standing_reservation_occurrences_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "standing_reservation_occurrences_biz_id_bizes_id_fk": {
          "name": "standing_reservation_occurrences_biz_id_bizes_id_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_occurrences_standing_reservation_contract_id_standing_reservation_contracts_id_fk": {
          "name": "standing_reservation_occurrences_standing_reservation_contract_id_standing_reservation_contracts_id_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "standing_reservation_contracts",
          "columnsFrom": [
            "standing_reservation_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_occurrences_status_config_value_id_biz_config_values_id_fk": {
          "name": "standing_reservation_occurrences_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_occurrences_booking_order_id_booking_orders_id_fk": {
          "name": "standing_reservation_occurrences_booking_order_id_booking_orders_id_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_occurrences_created_by_users_id_fk": {
          "name": "standing_reservation_occurrences_created_by_users_id_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_occurrences_updated_by_users_id_fk": {
          "name": "standing_reservation_occurrences_updated_by_users_id_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_occurrences_deleted_by_users_id_fk": {
          "name": "standing_reservation_occurrences_deleted_by_users_id_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_occurrences_biz_contract_fk": {
          "name": "standing_reservation_occurrences_biz_contract_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "standing_reservation_contracts",
          "columnsFrom": [
            "biz_id",
            "standing_reservation_contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_occurrences_biz_booking_order_fk": {
          "name": "standing_reservation_occurrences_biz_booking_order_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "standing_reservation_occurrences_biz_status_config_fk": {
          "name": "standing_reservation_occurrences_biz_status_config_fk",
          "tableFrom": "standing_reservation_occurrences",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_disputes": {
      "name": "payment_disputes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "payment_dispute_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'needs_response'"
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_dispute_ref": {
          "name": "provider_dispute_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "response_due_at": {
          "name": "response_due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_payload": {
          "name": "evidence_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "outcome_payload": {
          "name": "outcome_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_disputes_biz_id_id_unique": {
          "name": "payment_disputes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_disputes_provider_ref_unique": {
          "name": "payment_disputes_provider_ref_unique",
          "columns": [
            "biz_id",
            "provider_dispute_ref"
          ],
          "isUnique": true
        },
        "payment_disputes_biz_status_due_idx": {
          "name": "payment_disputes_biz_status_due_idx",
          "columns": [
            "biz_id",
            "status",
            "response_due_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_disputes_biz_id_bizes_id_fk": {
          "name": "payment_disputes_biz_id_bizes_id_fk",
          "tableFrom": "payment_disputes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_disputes_payment_transaction_id_payment_transactions_id_fk": {
          "name": "payment_disputes_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "payment_disputes",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_disputes_payment_intent_id_payment_intents_id_fk": {
          "name": "payment_disputes_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "payment_disputes",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_disputes_created_by_users_id_fk": {
          "name": "payment_disputes_created_by_users_id_fk",
          "tableFrom": "payment_disputes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_disputes_updated_by_users_id_fk": {
          "name": "payment_disputes_updated_by_users_id_fk",
          "tableFrom": "payment_disputes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_disputes_deleted_by_users_id_fk": {
          "name": "payment_disputes_deleted_by_users_id_fk",
          "tableFrom": "payment_disputes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_disputes_biz_transaction_fk": {
          "name": "payment_disputes_biz_transaction_fk",
          "tableFrom": "payment_disputes",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_disputes_biz_intent_fk": {
          "name": "payment_disputes_biz_intent_fk",
          "tableFrom": "payment_disputes",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_intent_events": {
      "name": "payment_intent_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "payment_intent_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "previous_status": {
          "name": "previous_status",
          "type": "payment_intent_status",
          "primaryKey": false,
          "notNull": false
        },
        "next_status": {
          "name": "next_status",
          "type": "payment_intent_status",
          "primaryKey": false,
          "notNull": false
        },
        "previous_amount_target_minor": {
          "name": "previous_amount_target_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "next_amount_target_minor": {
          "name": "next_amount_target_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "previous_amount_captured_minor": {
          "name": "previous_amount_captured_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "next_amount_captured_minor": {
          "name": "next_amount_captured_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "previous_amount_refunded_minor": {
          "name": "previous_amount_refunded_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "next_amount_refunded_minor": {
          "name": "next_amount_refunded_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_ref": {
          "name": "actor_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_intent_events_biz_id_id_unique": {
          "name": "payment_intent_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_intent_events_biz_intent_occurred_idx": {
          "name": "payment_intent_events_biz_intent_occurred_idx",
          "columns": [
            "biz_id",
            "payment_intent_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "payment_intent_events_biz_type_occurred_idx": {
          "name": "payment_intent_events_biz_type_occurred_idx",
          "columns": [
            "biz_id",
            "event_type",
            "next_status",
            "occurred_at"
          ],
          "isUnique": false
        },
        "payment_intent_events_biz_request_occurred_idx": {
          "name": "payment_intent_events_biz_request_occurred_idx",
          "columns": [
            "biz_id",
            "request_key",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_intent_events_biz_id_bizes_id_fk": {
          "name": "payment_intent_events_biz_id_bizes_id_fk",
          "tableFrom": "payment_intent_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_events_actor_user_id_users_id_fk": {
          "name": "payment_intent_events_actor_user_id_users_id_fk",
          "tableFrom": "payment_intent_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_events_created_by_users_id_fk": {
          "name": "payment_intent_events_created_by_users_id_fk",
          "tableFrom": "payment_intent_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_events_updated_by_users_id_fk": {
          "name": "payment_intent_events_updated_by_users_id_fk",
          "tableFrom": "payment_intent_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_events_deleted_by_users_id_fk": {
          "name": "payment_intent_events_deleted_by_users_id_fk",
          "tableFrom": "payment_intent_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_events_biz_intent_fk": {
          "name": "payment_intent_events_biz_intent_fk",
          "tableFrom": "payment_intent_events",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_intent_line_allocations": {
      "name": "payment_intent_line_allocations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_intent_tender_id": {
          "name": "payment_intent_tender_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "allocated_minor": {
          "name": "allocated_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "captured_minor": {
          "name": "captured_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "refunded_minor": {
          "name": "refunded_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_intent_line_allocations_biz_id_id_unique": {
          "name": "payment_intent_line_allocations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_intent_line_allocations_tender_line_unique": {
          "name": "payment_intent_line_allocations_tender_line_unique",
          "columns": [
            "payment_intent_tender_id",
            "booking_order_line_id"
          ],
          "isUnique": true
        },
        "payment_intent_line_allocations_biz_order_idx": {
          "name": "payment_intent_line_allocations_biz_order_idx",
          "columns": [
            "biz_id",
            "booking_order_id",
            "booking_order_line_id"
          ],
          "isUnique": false
        },
        "payment_intent_line_allocations_biz_tender_idx": {
          "name": "payment_intent_line_allocations_biz_tender_idx",
          "columns": [
            "biz_id",
            "payment_intent_tender_id",
            "booking_order_line_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_intent_line_allocations_biz_id_bizes_id_fk": {
          "name": "payment_intent_line_allocations_biz_id_bizes_id_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_payment_intent_id_payment_intents_id_fk": {
          "name": "payment_intent_line_allocations_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_payment_intent_tender_id_payment_intent_tenders_id_fk": {
          "name": "payment_intent_line_allocations_payment_intent_tender_id_payment_intent_tenders_id_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_booking_order_id_booking_orders_id_fk": {
          "name": "payment_intent_line_allocations_booking_order_id_booking_orders_id_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "payment_intent_line_allocations_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_created_by_users_id_fk": {
          "name": "payment_intent_line_allocations_created_by_users_id_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_updated_by_users_id_fk": {
          "name": "payment_intent_line_allocations_updated_by_users_id_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_deleted_by_users_id_fk": {
          "name": "payment_intent_line_allocations_deleted_by_users_id_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_biz_intent_fk": {
          "name": "payment_intent_line_allocations_biz_intent_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_biz_tender_intent_fk": {
          "name": "payment_intent_line_allocations_biz_tender_intent_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id",
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "biz_id",
            "payment_intent_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_biz_order_fk": {
          "name": "payment_intent_line_allocations_biz_order_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_line_allocations_biz_order_line_fk": {
          "name": "payment_intent_line_allocations_biz_order_line_fk",
          "tableFrom": "payment_intent_line_allocations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "booking_order_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_intent_tenders": {
      "name": "payment_intent_tenders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_method_id": {
          "name": "payment_method_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gift_instrument_id": {
          "name": "gift_instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "method_type": {
          "name": "method_type",
          "type": "payment_method_type",
          "primaryKey": false,
          "notNull": true
        },
        "allocated_minor": {
          "name": "allocated_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "captured_minor": {
          "name": "captured_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "refunded_minor": {
          "name": "refunded_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "external_tender_ref": {
          "name": "external_tender_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_intent_tenders_biz_id_id_unique": {
          "name": "payment_intent_tenders_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_intent_tenders_biz_intent_id_id_unique": {
          "name": "payment_intent_tenders_biz_intent_id_id_unique",
          "columns": [
            "biz_id",
            "payment_intent_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_intent_tenders_intent_sort_unique": {
          "name": "payment_intent_tenders_intent_sort_unique",
          "columns": [
            "payment_intent_id",
            "sort_order"
          ],
          "isUnique": true
        },
        "payment_intent_tenders_biz_intent_idx": {
          "name": "payment_intent_tenders_biz_intent_idx",
          "columns": [
            "biz_id",
            "payment_intent_id"
          ],
          "isUnique": false
        },
        "payment_intent_tenders_biz_gift_idx": {
          "name": "payment_intent_tenders_biz_gift_idx",
          "columns": [
            "biz_id",
            "gift_instrument_id",
            "payment_intent_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_intent_tenders_biz_id_bizes_id_fk": {
          "name": "payment_intent_tenders_biz_id_bizes_id_fk",
          "tableFrom": "payment_intent_tenders",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_tenders_payment_intent_id_payment_intents_id_fk": {
          "name": "payment_intent_tenders_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "payment_intent_tenders",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_tenders_payment_method_id_payment_methods_id_fk": {
          "name": "payment_intent_tenders_payment_method_id_payment_methods_id_fk",
          "tableFrom": "payment_intent_tenders",
          "tableTo": "payment_methods",
          "columnsFrom": [
            "payment_method_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_tenders_created_by_users_id_fk": {
          "name": "payment_intent_tenders_created_by_users_id_fk",
          "tableFrom": "payment_intent_tenders",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_tenders_updated_by_users_id_fk": {
          "name": "payment_intent_tenders_updated_by_users_id_fk",
          "tableFrom": "payment_intent_tenders",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_tenders_deleted_by_users_id_fk": {
          "name": "payment_intent_tenders_deleted_by_users_id_fk",
          "tableFrom": "payment_intent_tenders",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_tenders_biz_intent_fk": {
          "name": "payment_intent_tenders_biz_intent_fk",
          "tableFrom": "payment_intent_tenders",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intent_tenders_biz_method_fk": {
          "name": "payment_intent_tenders_biz_method_fk",
          "tableFrom": "payment_intent_tenders",
          "tableTo": "payment_methods",
          "columnsFrom": [
            "biz_id",
            "payment_method_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_intents": {
      "name": "payment_intents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_biz_order_id": {
          "name": "cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_processor_account_id": {
          "name": "payment_processor_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "payment_intent_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'requires_payment_method'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "amount_target_minor": {
          "name": "amount_target_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "amount_captured_minor": {
          "name": "amount_captured_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "amount_refunded_minor": {
          "name": "amount_refunded_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "requires_capture": {
          "name": "requires_capture",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "provider_intent_ref": {
          "name": "provider_intent_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'api'"
        },
        "authorized_at": {
          "name": "authorized_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "amount_snapshot": {
          "name": "amount_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_intents_biz_id_id_unique": {
          "name": "payment_intents_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_intents_biz_provider_ref_unique": {
          "name": "payment_intents_biz_provider_ref_unique",
          "columns": [
            "biz_id",
            "provider_intent_ref"
          ],
          "isUnique": true
        },
        "payment_intents_biz_status_idx": {
          "name": "payment_intents_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "payment_intents_biz_processor_status_idx": {
          "name": "payment_intents_biz_processor_status_idx",
          "columns": [
            "biz_id",
            "payment_processor_account_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_intents_biz_id_bizes_id_fk": {
          "name": "payment_intents_biz_id_bizes_id_fk",
          "tableFrom": "payment_intents",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intents_booking_order_id_booking_orders_id_fk": {
          "name": "payment_intents_booking_order_id_booking_orders_id_fk",
          "tableFrom": "payment_intents",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intents_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "payment_intents_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "payment_intents",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intents_payment_processor_account_id_payment_processor_accounts_id_fk": {
          "name": "payment_intents_payment_processor_account_id_payment_processor_accounts_id_fk",
          "tableFrom": "payment_intents",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intents_created_by_users_id_fk": {
          "name": "payment_intents_created_by_users_id_fk",
          "tableFrom": "payment_intents",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intents_updated_by_users_id_fk": {
          "name": "payment_intents_updated_by_users_id_fk",
          "tableFrom": "payment_intents",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intents_deleted_by_users_id_fk": {
          "name": "payment_intents_deleted_by_users_id_fk",
          "tableFrom": "payment_intents",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intents_biz_processor_account_fk": {
          "name": "payment_intents_biz_processor_account_fk",
          "tableFrom": "payment_intents",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "biz_id",
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intents_biz_booking_order_fk": {
          "name": "payment_intents_biz_booking_order_fk",
          "tableFrom": "payment_intents",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_intents_biz_cross_biz_order_fk": {
          "name": "payment_intents_biz_cross_biz_order_fk",
          "tableFrom": "payment_intents",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "biz_id",
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_methods": {
      "name": "payment_methods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_processor_account_id": {
          "name": "payment_processor_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "payment_method_type",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_method_ref": {
          "name": "provider_method_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "card_brand": {
          "name": "card_brand",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "card_last4": {
          "name": "card_last4",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": false
        },
        "card_exp_month": {
          "name": "card_exp_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "card_exp_year": {
          "name": "card_exp_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_methods_biz_id_id_unique": {
          "name": "payment_methods_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_methods_biz_provider_ref_unique": {
          "name": "payment_methods_biz_provider_ref_unique",
          "columns": [
            "biz_id",
            "provider",
            "provider_method_ref"
          ],
          "isUnique": true
        },
        "payment_methods_biz_owner_idx": {
          "name": "payment_methods_biz_owner_idx",
          "columns": [
            "biz_id",
            "owner_user_id",
            "is_default",
            "is_active"
          ],
          "isUnique": false
        },
        "payment_methods_biz_processor_owner_idx": {
          "name": "payment_methods_biz_processor_owner_idx",
          "columns": [
            "biz_id",
            "payment_processor_account_id",
            "owner_user_id",
            "is_active"
          ],
          "isUnique": false
        },
        "payment_methods_one_default_per_user_unique": {
          "name": "payment_methods_one_default_per_user_unique",
          "columns": [
            "biz_id",
            "owner_user_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "payment_methods_biz_id_bizes_id_fk": {
          "name": "payment_methods_biz_id_bizes_id_fk",
          "tableFrom": "payment_methods",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_methods_owner_user_id_users_id_fk": {
          "name": "payment_methods_owner_user_id_users_id_fk",
          "tableFrom": "payment_methods",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_methods_payment_processor_account_id_payment_processor_accounts_id_fk": {
          "name": "payment_methods_payment_processor_account_id_payment_processor_accounts_id_fk",
          "tableFrom": "payment_methods",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_methods_created_by_users_id_fk": {
          "name": "payment_methods_created_by_users_id_fk",
          "tableFrom": "payment_methods",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_methods_updated_by_users_id_fk": {
          "name": "payment_methods_updated_by_users_id_fk",
          "tableFrom": "payment_methods",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_methods_deleted_by_users_id_fk": {
          "name": "payment_methods_deleted_by_users_id_fk",
          "tableFrom": "payment_methods",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_methods_biz_processor_account_fk": {
          "name": "payment_methods_biz_processor_account_fk",
          "tableFrom": "payment_methods",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "biz_id",
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_processor_accounts": {
      "name": "payment_processor_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_key": {
          "name": "provider_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "processor_account_ref": {
          "name": "processor_account_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "ownership_model": {
          "name": "ownership_model",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'platform_managed'"
        },
        "commerce_model": {
          "name": "commerce_model",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'merchant_of_record'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "charges_enabled": {
          "name": "charges_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "payouts_enabled": {
          "name": "payouts_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "supports_split_tender": {
          "name": "supports_split_tender",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "supports_disputes": {
          "name": "supports_disputes",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "supports_refunds": {
          "name": "supports_refunds",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "secret_ref": {
          "name": "secret_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "configuration": {
          "name": "configuration",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "capabilities": {
          "name": "capabilities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_processor_accounts_biz_id_id_unique": {
          "name": "payment_processor_accounts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_processor_accounts_biz_provider_account_unique": {
          "name": "payment_processor_accounts_biz_provider_account_unique",
          "columns": [
            "biz_id",
            "provider_key",
            "processor_account_ref"
          ],
          "isUnique": true
        },
        "payment_processor_accounts_biz_default_unique": {
          "name": "payment_processor_accounts_biz_default_unique",
          "columns": [
            "biz_id"
          ],
          "isUnique": true
        },
        "payment_processor_accounts_biz_provider_status_idx": {
          "name": "payment_processor_accounts_biz_provider_status_idx",
          "columns": [
            "biz_id",
            "provider_key",
            "status",
            "is_default"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_processor_accounts_biz_id_bizes_id_fk": {
          "name": "payment_processor_accounts_biz_id_bizes_id_fk",
          "tableFrom": "payment_processor_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_processor_accounts_created_by_users_id_fk": {
          "name": "payment_processor_accounts_created_by_users_id_fk",
          "tableFrom": "payment_processor_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_processor_accounts_updated_by_users_id_fk": {
          "name": "payment_processor_accounts_updated_by_users_id_fk",
          "tableFrom": "payment_processor_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_processor_accounts_deleted_by_users_id_fk": {
          "name": "payment_processor_accounts_deleted_by_users_id_fk",
          "tableFrom": "payment_processor_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_transaction_line_allocations": {
      "name": "payment_transaction_line_allocations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_intent_tender_id": {
          "name": "payment_intent_tender_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_intent_line_allocation_id": {
          "name": "payment_intent_line_allocation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_transaction_line_allocations_biz_id_id_unique": {
          "name": "payment_transaction_line_allocations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_transaction_line_allocations_biz_idempotency_unique": {
          "name": "payment_transaction_line_allocations_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "payment_transaction_line_allocations_txn_line_unique": {
          "name": "payment_transaction_line_allocations_txn_line_unique",
          "columns": [
            "payment_transaction_id",
            "booking_order_line_id"
          ],
          "isUnique": true
        },
        "payment_transaction_line_allocations_biz_txn_idx": {
          "name": "payment_transaction_line_allocations_biz_txn_idx",
          "columns": [
            "biz_id",
            "payment_transaction_id"
          ],
          "isUnique": false
        },
        "payment_transaction_line_allocations_biz_order_line_occurred_idx": {
          "name": "payment_transaction_line_allocations_biz_order_line_occurred_idx",
          "columns": [
            "biz_id",
            "booking_order_line_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_transaction_line_allocations_biz_id_bizes_id_fk": {
          "name": "payment_transaction_line_allocations_biz_id_bizes_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_payment_transaction_id_payment_transactions_id_fk": {
          "name": "payment_transaction_line_allocations_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_payment_intent_id_payment_intents_id_fk": {
          "name": "payment_transaction_line_allocations_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_payment_intent_tender_id_payment_intent_tenders_id_fk": {
          "name": "payment_transaction_line_allocations_payment_intent_tender_id_payment_intent_tenders_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_booking_order_id_booking_orders_id_fk": {
          "name": "payment_transaction_line_allocations_booking_order_id_booking_orders_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "payment_transaction_line_allocations_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_payment_intent_line_allocation_id_payment_intent_line_allocations_id_fk": {
          "name": "payment_transaction_line_allocations_payment_intent_line_allocation_id_payment_intent_line_allocations_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "payment_intent_line_allocations",
          "columnsFrom": [
            "payment_intent_line_allocation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_created_by_users_id_fk": {
          "name": "payment_transaction_line_allocations_created_by_users_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_updated_by_users_id_fk": {
          "name": "payment_transaction_line_allocations_updated_by_users_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_deleted_by_users_id_fk": {
          "name": "payment_transaction_line_allocations_deleted_by_users_id_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_biz_txn_fk": {
          "name": "payment_transaction_line_allocations_biz_txn_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_biz_intent_fk": {
          "name": "payment_transaction_line_allocations_biz_intent_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_biz_tender_intent_fk": {
          "name": "payment_transaction_line_allocations_biz_tender_intent_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id",
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "biz_id",
            "payment_intent_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_biz_order_fk": {
          "name": "payment_transaction_line_allocations_biz_order_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_biz_order_line_fk": {
          "name": "payment_transaction_line_allocations_biz_order_line_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "booking_order_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transaction_line_allocations_biz_intent_line_alloc_fk": {
          "name": "payment_transaction_line_allocations_biz_intent_line_alloc_fk",
          "tableFrom": "payment_transaction_line_allocations",
          "tableTo": "payment_intent_line_allocations",
          "columnsFrom": [
            "biz_id",
            "payment_intent_line_allocation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_transactions": {
      "name": "payment_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_biz_order_id": {
          "name": "cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_tender_id": {
          "name": "payment_intent_tender_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method_id": {
          "name": "payment_method_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_processor_account_id": {
          "name": "payment_processor_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gift_instrument_id": {
          "name": "gift_instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "payment_transaction_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "payment_transaction_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "provider_transaction_ref": {
          "name": "provider_transaction_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "varchar(400)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_payload": {
          "name": "provider_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payment_transactions_biz_id_id_unique": {
          "name": "payment_transactions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payment_transactions_biz_idempotency_unique": {
          "name": "payment_transactions_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "payment_transactions_biz_occurred_idx": {
          "name": "payment_transactions_biz_occurred_idx",
          "columns": [
            "biz_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "payment_transactions_biz_gift_occurred_idx": {
          "name": "payment_transactions_biz_gift_occurred_idx",
          "columns": [
            "biz_id",
            "gift_instrument_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "payment_transactions_biz_processor_occurred_idx": {
          "name": "payment_transactions_biz_processor_occurred_idx",
          "columns": [
            "biz_id",
            "payment_processor_account_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_transactions_biz_id_bizes_id_fk": {
          "name": "payment_transactions_biz_id_bizes_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_payment_intent_id_payment_intents_id_fk": {
          "name": "payment_transactions_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_booking_order_id_booking_orders_id_fk": {
          "name": "payment_transactions_booking_order_id_booking_orders_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "payment_transactions_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_payment_intent_tender_id_payment_intent_tenders_id_fk": {
          "name": "payment_transactions_payment_intent_tender_id_payment_intent_tenders_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_payment_method_id_payment_methods_id_fk": {
          "name": "payment_transactions_payment_method_id_payment_methods_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "payment_methods",
          "columnsFrom": [
            "payment_method_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_payment_processor_account_id_payment_processor_accounts_id_fk": {
          "name": "payment_transactions_payment_processor_account_id_payment_processor_accounts_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_created_by_users_id_fk": {
          "name": "payment_transactions_created_by_users_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_updated_by_users_id_fk": {
          "name": "payment_transactions_updated_by_users_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_deleted_by_users_id_fk": {
          "name": "payment_transactions_deleted_by_users_id_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_biz_intent_fk": {
          "name": "payment_transactions_biz_intent_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_biz_booking_order_fk": {
          "name": "payment_transactions_biz_booking_order_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_biz_cross_biz_order_fk": {
          "name": "payment_transactions_biz_cross_biz_order_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "biz_id",
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_biz_tender_fk": {
          "name": "payment_transactions_biz_tender_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "biz_id",
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_biz_method_fk": {
          "name": "payment_transactions_biz_method_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "payment_methods",
          "columnsFrom": [
            "biz_id",
            "payment_method_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payment_transactions_biz_processor_account_fk": {
          "name": "payment_transactions_biz_processor_account_fk",
          "tableFrom": "payment_transactions",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "biz_id",
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payout_ledger_entries": {
      "name": "payout_ledger_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payout_id": {
          "name": "payout_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "settlement_entry_id": {
          "name": "settlement_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_type": {
          "name": "entry_type",
          "type": "payout_ledger_entry_type",
          "primaryKey": false,
          "notNull": true
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "recorded_at": {
          "name": "recorded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payout_ledger_entries_biz_id_id_unique": {
          "name": "payout_ledger_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payout_ledger_entries_biz_payout_recorded_idx": {
          "name": "payout_ledger_entries_biz_payout_recorded_idx",
          "columns": [
            "biz_id",
            "payout_id",
            "recorded_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payout_ledger_entries_biz_id_bizes_id_fk": {
          "name": "payout_ledger_entries_biz_id_bizes_id_fk",
          "tableFrom": "payout_ledger_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payout_ledger_entries_payout_id_payouts_id_fk": {
          "name": "payout_ledger_entries_payout_id_payouts_id_fk",
          "tableFrom": "payout_ledger_entries",
          "tableTo": "payouts",
          "columnsFrom": [
            "payout_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payout_ledger_entries_settlement_entry_id_settlement_entries_id_fk": {
          "name": "payout_ledger_entries_settlement_entry_id_settlement_entries_id_fk",
          "tableFrom": "payout_ledger_entries",
          "tableTo": "settlement_entries",
          "columnsFrom": [
            "settlement_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payout_ledger_entries_created_by_users_id_fk": {
          "name": "payout_ledger_entries_created_by_users_id_fk",
          "tableFrom": "payout_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payout_ledger_entries_updated_by_users_id_fk": {
          "name": "payout_ledger_entries_updated_by_users_id_fk",
          "tableFrom": "payout_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payout_ledger_entries_deleted_by_users_id_fk": {
          "name": "payout_ledger_entries_deleted_by_users_id_fk",
          "tableFrom": "payout_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payout_ledger_entries_biz_payout_fk": {
          "name": "payout_ledger_entries_biz_payout_fk",
          "tableFrom": "payout_ledger_entries",
          "tableTo": "payouts",
          "columnsFrom": [
            "biz_id",
            "payout_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payout_ledger_entries_biz_settlement_entry_fk": {
          "name": "payout_ledger_entries_biz_settlement_entry_fk",
          "tableFrom": "payout_ledger_entries",
          "tableTo": "settlement_entries",
          "columnsFrom": [
            "biz_id",
            "settlement_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payouts": {
      "name": "payouts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "settlement_batch_id": {
          "name": "settlement_batch_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_processor_account_id": {
          "name": "payment_processor_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "payout_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "destination_ref": {
          "name": "destination_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_payout_ref": {
          "name": "provider_payout_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "initiated_at": {
          "name": "initiated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expected_arrival_at": {
          "name": "expected_arrival_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "varchar(400)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payouts_biz_id_id_unique": {
          "name": "payouts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payouts_provider_ref_unique": {
          "name": "payouts_provider_ref_unique",
          "columns": [
            "biz_id",
            "provider_payout_ref"
          ],
          "isUnique": true
        },
        "payouts_biz_status_initiated_idx": {
          "name": "payouts_biz_status_initiated_idx",
          "columns": [
            "biz_id",
            "status",
            "initiated_at"
          ],
          "isUnique": false
        },
        "payouts_biz_processor_status_initiated_idx": {
          "name": "payouts_biz_processor_status_initiated_idx",
          "columns": [
            "biz_id",
            "payment_processor_account_id",
            "status",
            "initiated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payouts_biz_id_bizes_id_fk": {
          "name": "payouts_biz_id_bizes_id_fk",
          "tableFrom": "payouts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payouts_settlement_batch_id_settlement_batches_id_fk": {
          "name": "payouts_settlement_batch_id_settlement_batches_id_fk",
          "tableFrom": "payouts",
          "tableTo": "settlement_batches",
          "columnsFrom": [
            "settlement_batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payouts_payment_processor_account_id_payment_processor_accounts_id_fk": {
          "name": "payouts_payment_processor_account_id_payment_processor_accounts_id_fk",
          "tableFrom": "payouts",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payouts_created_by_users_id_fk": {
          "name": "payouts_created_by_users_id_fk",
          "tableFrom": "payouts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payouts_updated_by_users_id_fk": {
          "name": "payouts_updated_by_users_id_fk",
          "tableFrom": "payouts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payouts_deleted_by_users_id_fk": {
          "name": "payouts_deleted_by_users_id_fk",
          "tableFrom": "payouts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payouts_biz_settlement_batch_fk": {
          "name": "payouts_biz_settlement_batch_fk",
          "tableFrom": "payouts",
          "tableTo": "settlement_batches",
          "columnsFrom": [
            "biz_id",
            "settlement_batch_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payouts_biz_processor_account_fk": {
          "name": "payouts_biz_processor_account_fk",
          "tableFrom": "payouts",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "biz_id",
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "settlement_batches": {
      "name": "settlement_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "settlement_batch_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "payment_processor_account_id": {
          "name": "payment_processor_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "period_start_at": {
          "name": "period_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "period_end_at": {
          "name": "period_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "gross_minor": {
          "name": "gross_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fees_minor": {
          "name": "fees_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "entry_count": {
          "name": "entry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "payout_due_at": {
          "name": "payout_due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "provider_batch_ref": {
          "name": "provider_batch_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "settlement_batches_biz_id_id_unique": {
          "name": "settlement_batches_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "settlement_batches_biz_status_period_idx": {
          "name": "settlement_batches_biz_status_period_idx",
          "columns": [
            "biz_id",
            "status",
            "period_start_at"
          ],
          "isUnique": false
        },
        "settlement_batches_biz_processor_status_period_idx": {
          "name": "settlement_batches_biz_processor_status_period_idx",
          "columns": [
            "biz_id",
            "payment_processor_account_id",
            "status",
            "period_start_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "settlement_batches_biz_id_bizes_id_fk": {
          "name": "settlement_batches_biz_id_bizes_id_fk",
          "tableFrom": "settlement_batches",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_batches_payment_processor_account_id_payment_processor_accounts_id_fk": {
          "name": "settlement_batches_payment_processor_account_id_payment_processor_accounts_id_fk",
          "tableFrom": "settlement_batches",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_batches_created_by_users_id_fk": {
          "name": "settlement_batches_created_by_users_id_fk",
          "tableFrom": "settlement_batches",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_batches_updated_by_users_id_fk": {
          "name": "settlement_batches_updated_by_users_id_fk",
          "tableFrom": "settlement_batches",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_batches_deleted_by_users_id_fk": {
          "name": "settlement_batches_deleted_by_users_id_fk",
          "tableFrom": "settlement_batches",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_batches_biz_processor_account_fk": {
          "name": "settlement_batches_biz_processor_account_fk",
          "tableFrom": "settlement_batches",
          "tableTo": "payment_processor_accounts",
          "columnsFrom": [
            "biz_id",
            "payment_processor_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "settlement_entries": {
      "name": "settlement_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "settlement_batch_id": {
          "name": "settlement_batch_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_biz_order_id": {
          "name": "cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_type": {
          "name": "entry_type",
          "type": "payment_transaction_type",
          "primaryKey": false,
          "notNull": true
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "settlement_entries_biz_id_id_unique": {
          "name": "settlement_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "settlement_entries_biz_batch_idx": {
          "name": "settlement_entries_biz_batch_idx",
          "columns": [
            "biz_id",
            "settlement_batch_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "settlement_entries_biz_id_bizes_id_fk": {
          "name": "settlement_entries_biz_id_bizes_id_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_settlement_batch_id_settlement_batches_id_fk": {
          "name": "settlement_entries_settlement_batch_id_settlement_batches_id_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "settlement_batches",
          "columnsFrom": [
            "settlement_batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_payment_transaction_id_payment_transactions_id_fk": {
          "name": "settlement_entries_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_booking_order_id_booking_orders_id_fk": {
          "name": "settlement_entries_booking_order_id_booking_orders_id_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "settlement_entries_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_created_by_users_id_fk": {
          "name": "settlement_entries_created_by_users_id_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_updated_by_users_id_fk": {
          "name": "settlement_entries_updated_by_users_id_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_deleted_by_users_id_fk": {
          "name": "settlement_entries_deleted_by_users_id_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_biz_batch_fk": {
          "name": "settlement_entries_biz_batch_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "settlement_batches",
          "columnsFrom": [
            "biz_id",
            "settlement_batch_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_biz_transaction_fk": {
          "name": "settlement_entries_biz_transaction_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_biz_booking_order_fk": {
          "name": "settlement_entries_biz_booking_order_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "settlement_entries_biz_cross_biz_order_fk": {
          "name": "settlement_entries_biz_cross_biz_order_fk",
          "tableFrom": "settlement_entries",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "biz_id",
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compensation_assignment_roles": {
      "name": "compensation_assignment_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fulfillment_assignment_id": {
          "name": "fulfillment_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role_template_id": {
          "name": "role_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "assigned_by_user_id": {
          "name": "assigned_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "compensation_assignment_roles_biz_id_id_unique": {
          "name": "compensation_assignment_roles_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "compensation_assignment_roles_assignment_unique": {
          "name": "compensation_assignment_roles_assignment_unique",
          "columns": [
            "fulfillment_assignment_id"
          ],
          "isUnique": true
        },
        "compensation_assignment_roles_biz_role_idx": {
          "name": "compensation_assignment_roles_biz_role_idx",
          "columns": [
            "biz_id",
            "role_template_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "compensation_assignment_roles_biz_id_bizes_id_fk": {
          "name": "compensation_assignment_roles_biz_id_bizes_id_fk",
          "tableFrom": "compensation_assignment_roles",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_assignment_roles_fulfillment_assignment_id_fulfillment_assignments_id_fk": {
          "name": "compensation_assignment_roles_fulfillment_assignment_id_fulfillment_assignments_id_fk",
          "tableFrom": "compensation_assignment_roles",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_assignment_roles_role_template_id_compensation_role_templates_id_fk": {
          "name": "compensation_assignment_roles_role_template_id_compensation_role_templates_id_fk",
          "tableFrom": "compensation_assignment_roles",
          "tableTo": "compensation_role_templates",
          "columnsFrom": [
            "role_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_assignment_roles_assigned_by_user_id_users_id_fk": {
          "name": "compensation_assignment_roles_assigned_by_user_id_users_id_fk",
          "tableFrom": "compensation_assignment_roles",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_assignment_roles_created_by_users_id_fk": {
          "name": "compensation_assignment_roles_created_by_users_id_fk",
          "tableFrom": "compensation_assignment_roles",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_assignment_roles_updated_by_users_id_fk": {
          "name": "compensation_assignment_roles_updated_by_users_id_fk",
          "tableFrom": "compensation_assignment_roles",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_assignment_roles_deleted_by_users_id_fk": {
          "name": "compensation_assignment_roles_deleted_by_users_id_fk",
          "tableFrom": "compensation_assignment_roles",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_assignment_roles_biz_assignment_fk": {
          "name": "compensation_assignment_roles_biz_assignment_fk",
          "tableFrom": "compensation_assignment_roles",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "biz_id",
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_assignment_roles_biz_role_template_fk": {
          "name": "compensation_assignment_roles_biz_role_template_fk",
          "tableFrom": "compensation_assignment_roles",
          "tableTo": "compensation_role_templates",
          "columnsFrom": [
            "biz_id",
            "role_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compensation_ledger_entries": {
      "name": "compensation_ledger_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payee_resource_id": {
          "name": "payee_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role_template_id": {
          "name": "role_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compensation_assignment_role_id": {
          "name": "compensation_assignment_role_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compensation_plan_version_id": {
          "name": "compensation_plan_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compensation_plan_rule_id": {
          "name": "compensation_plan_rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_assignment_id": {
          "name": "fulfillment_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "staffing_assignment_id": {
          "name": "staffing_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "work_time_segment_id": {
          "name": "work_time_segment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_biz_order_id": {
          "name": "cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_type": {
          "name": "entry_type",
          "type": "compensation_ledger_entry_type",
          "primaryKey": false,
          "notNull": true
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_at": {
          "name": "effective_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "compensation_ledger_entries_biz_id_id_unique": {
          "name": "compensation_ledger_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "compensation_ledger_entries_biz_idempotency_unique": {
          "name": "compensation_ledger_entries_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "compensation_ledger_entries_biz_payee_occurred_idx": {
          "name": "compensation_ledger_entries_biz_payee_occurred_idx",
          "columns": [
            "biz_id",
            "payee_resource_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "compensation_ledger_entries_biz_payee_effective_idx": {
          "name": "compensation_ledger_entries_biz_payee_effective_idx",
          "columns": [
            "biz_id",
            "payee_resource_id",
            "effective_at"
          ],
          "isUnique": false
        },
        "compensation_ledger_entries_biz_booking_occurred_idx": {
          "name": "compensation_ledger_entries_biz_booking_occurred_idx",
          "columns": [
            "biz_id",
            "booking_order_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "compensation_ledger_entries_biz_id_bizes_id_fk": {
          "name": "compensation_ledger_entries_biz_id_bizes_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_payee_resource_id_resources_id_fk": {
          "name": "compensation_ledger_entries_payee_resource_id_resources_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "resources",
          "columnsFrom": [
            "payee_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_role_template_id_compensation_role_templates_id_fk": {
          "name": "compensation_ledger_entries_role_template_id_compensation_role_templates_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "compensation_role_templates",
          "columnsFrom": [
            "role_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_compensation_assignment_role_id_compensation_assignment_roles_id_fk": {
          "name": "compensation_ledger_entries_compensation_assignment_role_id_compensation_assignment_roles_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "compensation_assignment_roles",
          "columnsFrom": [
            "compensation_assignment_role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_compensation_plan_version_id_compensation_plan_versions_id_fk": {
          "name": "compensation_ledger_entries_compensation_plan_version_id_compensation_plan_versions_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "compensation_plan_versions",
          "columnsFrom": [
            "compensation_plan_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_compensation_plan_rule_id_compensation_plan_rules_id_fk": {
          "name": "compensation_ledger_entries_compensation_plan_rule_id_compensation_plan_rules_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "compensation_plan_rules",
          "columnsFrom": [
            "compensation_plan_rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_booking_order_id_booking_orders_id_fk": {
          "name": "compensation_ledger_entries_booking_order_id_booking_orders_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "compensation_ledger_entries_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "compensation_ledger_entries_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_fulfillment_assignment_id_fulfillment_assignments_id_fk": {
          "name": "compensation_ledger_entries_fulfillment_assignment_id_fulfillment_assignments_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_staffing_assignment_id_staffing_assignments_id_fk": {
          "name": "compensation_ledger_entries_staffing_assignment_id_staffing_assignments_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "staffing_assignments",
          "columnsFrom": [
            "staffing_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_work_time_segment_id_work_time_segments_id_fk": {
          "name": "compensation_ledger_entries_work_time_segment_id_work_time_segments_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "work_time_segments",
          "columnsFrom": [
            "work_time_segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_payment_transaction_id_payment_transactions_id_fk": {
          "name": "compensation_ledger_entries_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "compensation_ledger_entries_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_created_by_users_id_fk": {
          "name": "compensation_ledger_entries_created_by_users_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_updated_by_users_id_fk": {
          "name": "compensation_ledger_entries_updated_by_users_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_deleted_by_users_id_fk": {
          "name": "compensation_ledger_entries_deleted_by_users_id_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_payee_fk": {
          "name": "compensation_ledger_entries_biz_payee_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "payee_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_role_template_fk": {
          "name": "compensation_ledger_entries_biz_role_template_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "compensation_role_templates",
          "columnsFrom": [
            "biz_id",
            "role_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_assignment_role_fk": {
          "name": "compensation_ledger_entries_biz_assignment_role_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "compensation_assignment_roles",
          "columnsFrom": [
            "biz_id",
            "compensation_assignment_role_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_plan_version_fk": {
          "name": "compensation_ledger_entries_biz_plan_version_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "compensation_plan_versions",
          "columnsFrom": [
            "biz_id",
            "compensation_plan_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_plan_rule_fk": {
          "name": "compensation_ledger_entries_biz_plan_rule_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "compensation_plan_rules",
          "columnsFrom": [
            "biz_id",
            "compensation_plan_rule_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_booking_order_fk": {
          "name": "compensation_ledger_entries_biz_booking_order_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_booking_order_line_fk": {
          "name": "compensation_ledger_entries_biz_booking_order_line_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_fulfillment_unit_fk": {
          "name": "compensation_ledger_entries_biz_fulfillment_unit_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_fulfillment_assignment_fk": {
          "name": "compensation_ledger_entries_biz_fulfillment_assignment_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "biz_id",
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_staffing_assignment_fk": {
          "name": "compensation_ledger_entries_biz_staffing_assignment_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "staffing_assignments",
          "columnsFrom": [
            "biz_id",
            "staffing_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_work_time_segment_fk": {
          "name": "compensation_ledger_entries_biz_work_time_segment_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "work_time_segments",
          "columnsFrom": [
            "biz_id",
            "work_time_segment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_payment_transaction_fk": {
          "name": "compensation_ledger_entries_biz_payment_transaction_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_ledger_entries_biz_cross_biz_order_fk": {
          "name": "compensation_ledger_entries_biz_cross_biz_order_fk",
          "tableFrom": "compensation_ledger_entries",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "biz_id",
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compensation_pay_run_item_entries": {
      "name": "compensation_pay_run_item_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compensation_pay_run_item_id": {
          "name": "compensation_pay_run_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compensation_ledger_entry_id": {
          "name": "compensation_ledger_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "included_amount_minor": {
          "name": "included_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "compensation_pay_run_item_entries_biz_id_id_unique": {
          "name": "compensation_pay_run_item_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "compensation_pay_run_item_entries_unique": {
          "name": "compensation_pay_run_item_entries_unique",
          "columns": [
            "compensation_pay_run_item_id",
            "compensation_ledger_entry_id"
          ],
          "isUnique": true
        },
        "compensation_pay_run_item_entries_biz_item_idx": {
          "name": "compensation_pay_run_item_entries_biz_item_idx",
          "columns": [
            "biz_id",
            "compensation_pay_run_item_id"
          ],
          "isUnique": false
        },
        "compensation_pay_run_item_entries_biz_ledger_idx": {
          "name": "compensation_pay_run_item_entries_biz_ledger_idx",
          "columns": [
            "biz_id",
            "compensation_ledger_entry_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "compensation_pay_run_item_entries_biz_id_bizes_id_fk": {
          "name": "compensation_pay_run_item_entries_biz_id_bizes_id_fk",
          "tableFrom": "compensation_pay_run_item_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_item_entries_compensation_pay_run_item_id_compensation_pay_run_items_id_fk": {
          "name": "compensation_pay_run_item_entries_compensation_pay_run_item_id_compensation_pay_run_items_id_fk",
          "tableFrom": "compensation_pay_run_item_entries",
          "tableTo": "compensation_pay_run_items",
          "columnsFrom": [
            "compensation_pay_run_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_item_entries_compensation_ledger_entry_id_compensation_ledger_entries_id_fk": {
          "name": "compensation_pay_run_item_entries_compensation_ledger_entry_id_compensation_ledger_entries_id_fk",
          "tableFrom": "compensation_pay_run_item_entries",
          "tableTo": "compensation_ledger_entries",
          "columnsFrom": [
            "compensation_ledger_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_item_entries_created_by_users_id_fk": {
          "name": "compensation_pay_run_item_entries_created_by_users_id_fk",
          "tableFrom": "compensation_pay_run_item_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_item_entries_updated_by_users_id_fk": {
          "name": "compensation_pay_run_item_entries_updated_by_users_id_fk",
          "tableFrom": "compensation_pay_run_item_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_item_entries_deleted_by_users_id_fk": {
          "name": "compensation_pay_run_item_entries_deleted_by_users_id_fk",
          "tableFrom": "compensation_pay_run_item_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_item_entries_biz_item_fk": {
          "name": "compensation_pay_run_item_entries_biz_item_fk",
          "tableFrom": "compensation_pay_run_item_entries",
          "tableTo": "compensation_pay_run_items",
          "columnsFrom": [
            "biz_id",
            "compensation_pay_run_item_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_item_entries_biz_ledger_fk": {
          "name": "compensation_pay_run_item_entries_biz_ledger_fk",
          "tableFrom": "compensation_pay_run_item_entries",
          "tableTo": "compensation_ledger_entries",
          "columnsFrom": [
            "biz_id",
            "compensation_ledger_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compensation_pay_run_items": {
      "name": "compensation_pay_run_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compensation_pay_run_id": {
          "name": "compensation_pay_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payee_resource_id": {
          "name": "payee_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "compensation_pay_run_item_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "accrual_minor": {
          "name": "accrual_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "adjustment_minor": {
          "name": "adjustment_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "deduction_minor": {
          "name": "deduction_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "entry_count": {
          "name": "entry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "payout_id": {
          "name": "payout_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payout_destination_ref": {
          "name": "payout_destination_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "compensation_pay_run_items_biz_id_id_unique": {
          "name": "compensation_pay_run_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "compensation_pay_run_items_run_payee_unique": {
          "name": "compensation_pay_run_items_run_payee_unique",
          "columns": [
            "compensation_pay_run_id",
            "payee_resource_id"
          ],
          "isUnique": true
        },
        "compensation_pay_run_items_biz_run_status_idx": {
          "name": "compensation_pay_run_items_biz_run_status_idx",
          "columns": [
            "biz_id",
            "compensation_pay_run_id",
            "status"
          ],
          "isUnique": false
        },
        "compensation_pay_run_items_biz_payee_paid_idx": {
          "name": "compensation_pay_run_items_biz_payee_paid_idx",
          "columns": [
            "biz_id",
            "payee_resource_id",
            "paid_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "compensation_pay_run_items_biz_id_bizes_id_fk": {
          "name": "compensation_pay_run_items_biz_id_bizes_id_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_items_compensation_pay_run_id_compensation_pay_runs_id_fk": {
          "name": "compensation_pay_run_items_compensation_pay_run_id_compensation_pay_runs_id_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "compensation_pay_runs",
          "columnsFrom": [
            "compensation_pay_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_items_payee_resource_id_resources_id_fk": {
          "name": "compensation_pay_run_items_payee_resource_id_resources_id_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "resources",
          "columnsFrom": [
            "payee_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_items_payout_id_payouts_id_fk": {
          "name": "compensation_pay_run_items_payout_id_payouts_id_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "payouts",
          "columnsFrom": [
            "payout_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_items_created_by_users_id_fk": {
          "name": "compensation_pay_run_items_created_by_users_id_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_items_updated_by_users_id_fk": {
          "name": "compensation_pay_run_items_updated_by_users_id_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_items_deleted_by_users_id_fk": {
          "name": "compensation_pay_run_items_deleted_by_users_id_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_items_biz_pay_run_fk": {
          "name": "compensation_pay_run_items_biz_pay_run_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "compensation_pay_runs",
          "columnsFrom": [
            "biz_id",
            "compensation_pay_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_items_biz_payee_fk": {
          "name": "compensation_pay_run_items_biz_payee_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "payee_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_run_items_biz_payout_fk": {
          "name": "compensation_pay_run_items_biz_payout_fk",
          "tableFrom": "compensation_pay_run_items",
          "tableTo": "payouts",
          "columnsFrom": [
            "biz_id",
            "payout_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compensation_pay_runs": {
      "name": "compensation_pay_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "compensation_pay_run_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "period_start_at": {
          "name": "period_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "period_end_at": {
          "name": "period_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_pay_at": {
          "name": "scheduled_pay_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by_user_id": {
          "name": "approved_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "finalized_at": {
          "name": "finalized_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "compensation_pay_runs_biz_id_id_unique": {
          "name": "compensation_pay_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "compensation_pay_runs_biz_status_period_idx": {
          "name": "compensation_pay_runs_biz_status_period_idx",
          "columns": [
            "biz_id",
            "status",
            "period_start_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "compensation_pay_runs_biz_id_bizes_id_fk": {
          "name": "compensation_pay_runs_biz_id_bizes_id_fk",
          "tableFrom": "compensation_pay_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_runs_approved_by_user_id_users_id_fk": {
          "name": "compensation_pay_runs_approved_by_user_id_users_id_fk",
          "tableFrom": "compensation_pay_runs",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_runs_created_by_users_id_fk": {
          "name": "compensation_pay_runs_created_by_users_id_fk",
          "tableFrom": "compensation_pay_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_runs_updated_by_users_id_fk": {
          "name": "compensation_pay_runs_updated_by_users_id_fk",
          "tableFrom": "compensation_pay_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_pay_runs_deleted_by_users_id_fk": {
          "name": "compensation_pay_runs_deleted_by_users_id_fk",
          "tableFrom": "compensation_pay_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compensation_plan_rules": {
      "name": "compensation_plan_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compensation_plan_version_id": {
          "name": "compensation_plan_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "role_template_id": {
          "name": "role_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "selector_type": {
          "name": "selector_type",
          "type": "compensation_rule_selector_type",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": false
        },
        "capability_template_id": {
          "name": "capability_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_component_id": {
          "name": "offer_component_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calculation_mode": {
          "name": "calculation_mode",
          "type": "compensation_calculation_mode",
          "primaryKey": false,
          "notNull": true
        },
        "flat_amount_minor": {
          "name": "flat_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "base_amount_minor": {
          "name": "base_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "percent_bps": {
          "name": "percent_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "hourly_rate_minor": {
          "name": "hourly_rate_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "minimum_payout_minor": {
          "name": "minimum_payout_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "maximum_payout_minor": {
          "name": "maximum_payout_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "apply_per_quantity": {
          "name": "apply_per_quantity",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "effective_from_at": {
          "name": "effective_from_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to_at": {
          "name": "effective_to_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "compensation_plan_rules_biz_id_id_unique": {
          "name": "compensation_plan_rules_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "compensation_plan_rules_biz_version_enabled_priority_idx": {
          "name": "compensation_plan_rules_biz_version_enabled_priority_idx",
          "columns": [
            "biz_id",
            "compensation_plan_version_id",
            "is_enabled",
            "priority"
          ],
          "isUnique": false
        },
        "compensation_plan_rules_biz_role_enabled_idx": {
          "name": "compensation_plan_rules_biz_role_enabled_idx",
          "columns": [
            "biz_id",
            "role_template_id",
            "is_enabled",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "compensation_plan_rules_biz_id_bizes_id_fk": {
          "name": "compensation_plan_rules_biz_id_bizes_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_compensation_plan_version_id_compensation_plan_versions_id_fk": {
          "name": "compensation_plan_rules_compensation_plan_version_id_compensation_plan_versions_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "compensation_plan_versions",
          "columnsFrom": [
            "compensation_plan_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_role_template_id_compensation_role_templates_id_fk": {
          "name": "compensation_plan_rules_role_template_id_compensation_role_templates_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "compensation_role_templates",
          "columnsFrom": [
            "role_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_resource_id_resources_id_fk": {
          "name": "compensation_plan_rules_resource_id_resources_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_capability_template_id_resource_capability_templates_id_fk": {
          "name": "compensation_plan_rules_capability_template_id_resource_capability_templates_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "capability_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_location_id_locations_id_fk": {
          "name": "compensation_plan_rules_location_id_locations_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_service_id_services_id_fk": {
          "name": "compensation_plan_rules_service_id_services_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_service_product_id_service_products_id_fk": {
          "name": "compensation_plan_rules_service_product_id_service_products_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_offer_component_id_offer_components_id_fk": {
          "name": "compensation_plan_rules_offer_component_id_offer_components_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "offer_components",
          "columnsFrom": [
            "offer_component_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_created_by_users_id_fk": {
          "name": "compensation_plan_rules_created_by_users_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_updated_by_users_id_fk": {
          "name": "compensation_plan_rules_updated_by_users_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_deleted_by_users_id_fk": {
          "name": "compensation_plan_rules_deleted_by_users_id_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_biz_plan_version_fk": {
          "name": "compensation_plan_rules_biz_plan_version_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "compensation_plan_versions",
          "columnsFrom": [
            "biz_id",
            "compensation_plan_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_biz_role_template_fk": {
          "name": "compensation_plan_rules_biz_role_template_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "compensation_role_templates",
          "columnsFrom": [
            "biz_id",
            "role_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_biz_resource_fk": {
          "name": "compensation_plan_rules_biz_resource_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_biz_capability_template_fk": {
          "name": "compensation_plan_rules_biz_capability_template_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "biz_id",
            "capability_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_biz_location_fk": {
          "name": "compensation_plan_rules_biz_location_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_biz_service_fk": {
          "name": "compensation_plan_rules_biz_service_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_biz_service_product_fk": {
          "name": "compensation_plan_rules_biz_service_product_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_rules_biz_offer_component_fk": {
          "name": "compensation_plan_rules_biz_offer_component_fk",
          "tableFrom": "compensation_plan_rules",
          "tableTo": "offer_components",
          "columnsFrom": [
            "biz_id",
            "offer_component_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compensation_plan_versions": {
      "name": "compensation_plan_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compensation_plan_id": {
          "name": "compensation_plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "compensation_plan_version_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "effective_from_at": {
          "name": "effective_from_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "effective_to_at": {
          "name": "effective_to_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calculation_policy": {
          "name": "calculation_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "compensation_plan_versions_biz_id_id_unique": {
          "name": "compensation_plan_versions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "compensation_plan_versions_plan_version_unique": {
          "name": "compensation_plan_versions_plan_version_unique",
          "columns": [
            "compensation_plan_id",
            "version_number"
          ],
          "isUnique": true
        },
        "compensation_plan_versions_current_unique": {
          "name": "compensation_plan_versions_current_unique",
          "columns": [
            "compensation_plan_id"
          ],
          "isUnique": true
        },
        "compensation_plan_versions_biz_plan_status_idx": {
          "name": "compensation_plan_versions_biz_plan_status_idx",
          "columns": [
            "biz_id",
            "compensation_plan_id",
            "status",
            "effective_from_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "compensation_plan_versions_biz_id_bizes_id_fk": {
          "name": "compensation_plan_versions_biz_id_bizes_id_fk",
          "tableFrom": "compensation_plan_versions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_versions_compensation_plan_id_compensation_plans_id_fk": {
          "name": "compensation_plan_versions_compensation_plan_id_compensation_plans_id_fk",
          "tableFrom": "compensation_plan_versions",
          "tableTo": "compensation_plans",
          "columnsFrom": [
            "compensation_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_versions_created_by_users_id_fk": {
          "name": "compensation_plan_versions_created_by_users_id_fk",
          "tableFrom": "compensation_plan_versions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_versions_updated_by_users_id_fk": {
          "name": "compensation_plan_versions_updated_by_users_id_fk",
          "tableFrom": "compensation_plan_versions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_versions_deleted_by_users_id_fk": {
          "name": "compensation_plan_versions_deleted_by_users_id_fk",
          "tableFrom": "compensation_plan_versions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plan_versions_biz_plan_fk": {
          "name": "compensation_plan_versions_biz_plan_fk",
          "tableFrom": "compensation_plan_versions",
          "tableTo": "compensation_plans",
          "columnsFrom": [
            "biz_id",
            "compensation_plan_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compensation_plans": {
      "name": "compensation_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "compensation_plans_biz_id_id_unique": {
          "name": "compensation_plans_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "compensation_plans_biz_slug_unique": {
          "name": "compensation_plans_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "compensation_plans_biz_default_unique": {
          "name": "compensation_plans_biz_default_unique",
          "columns": [
            "biz_id"
          ],
          "isUnique": true
        },
        "compensation_plans_biz_status_priority_idx": {
          "name": "compensation_plans_biz_status_priority_idx",
          "columns": [
            "biz_id",
            "status",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "compensation_plans_biz_id_bizes_id_fk": {
          "name": "compensation_plans_biz_id_bizes_id_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plans_location_id_locations_id_fk": {
          "name": "compensation_plans_location_id_locations_id_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plans_service_id_services_id_fk": {
          "name": "compensation_plans_service_id_services_id_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plans_service_product_id_service_products_id_fk": {
          "name": "compensation_plans_service_product_id_service_products_id_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plans_created_by_users_id_fk": {
          "name": "compensation_plans_created_by_users_id_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plans_updated_by_users_id_fk": {
          "name": "compensation_plans_updated_by_users_id_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plans_deleted_by_users_id_fk": {
          "name": "compensation_plans_deleted_by_users_id_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plans_biz_location_fk": {
          "name": "compensation_plans_biz_location_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plans_biz_service_fk": {
          "name": "compensation_plans_biz_service_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_plans_biz_service_product_fk": {
          "name": "compensation_plans_biz_service_product_fk",
          "tableFrom": "compensation_plans",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "compensation_role_templates": {
      "name": "compensation_role_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "compensation_role_templates_biz_id_id_unique": {
          "name": "compensation_role_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "compensation_role_templates_biz_location_slug_unique": {
          "name": "compensation_role_templates_biz_location_slug_unique",
          "columns": [
            "biz_id",
            "location_id",
            "slug"
          ],
          "isUnique": true
        },
        "compensation_role_templates_biz_global_slug_unique": {
          "name": "compensation_role_templates_biz_global_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "compensation_role_templates_biz_status_sort_idx": {
          "name": "compensation_role_templates_biz_status_sort_idx",
          "columns": [
            "biz_id",
            "status",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "compensation_role_templates_biz_id_bizes_id_fk": {
          "name": "compensation_role_templates_biz_id_bizes_id_fk",
          "tableFrom": "compensation_role_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_role_templates_location_id_locations_id_fk": {
          "name": "compensation_role_templates_location_id_locations_id_fk",
          "tableFrom": "compensation_role_templates",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_role_templates_created_by_users_id_fk": {
          "name": "compensation_role_templates_created_by_users_id_fk",
          "tableFrom": "compensation_role_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_role_templates_updated_by_users_id_fk": {
          "name": "compensation_role_templates_updated_by_users_id_fk",
          "tableFrom": "compensation_role_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_role_templates_deleted_by_users_id_fk": {
          "name": "compensation_role_templates_deleted_by_users_id_fk",
          "tableFrom": "compensation_role_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "compensation_role_templates_biz_location_fk": {
          "name": "compensation_role_templates_biz_location_fk",
          "tableFrom": "compensation_role_templates",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "demand_pricing_applications": {
      "name": "demand_pricing_applications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "demand_pricing_evaluation_id": {
          "name": "demand_pricing_evaluation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "applied_amount_minor": {
          "name": "applied_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "applied_final_unit_price_minor": {
          "name": "applied_final_unit_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_locked": {
          "name": "is_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "reversal_of_application_id": {
          "name": "reversal_of_application_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "demand_pricing_applications_biz_id_id_unique": {
          "name": "demand_pricing_applications_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "demand_pricing_applications_biz_booking_line_at_idx": {
          "name": "demand_pricing_applications_biz_booking_line_at_idx",
          "columns": [
            "biz_id",
            "booking_order_line_id",
            "applied_at"
          ],
          "isUnique": false
        },
        "demand_pricing_applications_biz_booking_order_at_idx": {
          "name": "demand_pricing_applications_biz_booking_order_at_idx",
          "columns": [
            "biz_id",
            "booking_order_id",
            "applied_at"
          ],
          "isUnique": false
        },
        "demand_pricing_applications_biz_evaluation_at_idx": {
          "name": "demand_pricing_applications_biz_evaluation_at_idx",
          "columns": [
            "biz_id",
            "demand_pricing_evaluation_id",
            "applied_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "demand_pricing_applications_biz_id_bizes_id_fk": {
          "name": "demand_pricing_applications_biz_id_bizes_id_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_demand_pricing_evaluation_id_demand_pricing_evaluations_id_fk": {
          "name": "demand_pricing_applications_demand_pricing_evaluation_id_demand_pricing_evaluations_id_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "demand_pricing_evaluations",
          "columnsFrom": [
            "demand_pricing_evaluation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_booking_order_id_booking_orders_id_fk": {
          "name": "demand_pricing_applications_booking_order_id_booking_orders_id_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "demand_pricing_applications_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_created_by_users_id_fk": {
          "name": "demand_pricing_applications_created_by_users_id_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_updated_by_users_id_fk": {
          "name": "demand_pricing_applications_updated_by_users_id_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_deleted_by_users_id_fk": {
          "name": "demand_pricing_applications_deleted_by_users_id_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_biz_evaluation_fk": {
          "name": "demand_pricing_applications_biz_evaluation_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "demand_pricing_evaluations",
          "columnsFrom": [
            "biz_id",
            "demand_pricing_evaluation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_biz_booking_order_fk": {
          "name": "demand_pricing_applications_biz_booking_order_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_biz_booking_line_fk": {
          "name": "demand_pricing_applications_biz_booking_line_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_applications_biz_reversal_fk": {
          "name": "demand_pricing_applications_biz_reversal_fk",
          "tableFrom": "demand_pricing_applications",
          "tableTo": "demand_pricing_applications",
          "columnsFrom": [
            "biz_id",
            "reversal_of_application_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "demand_pricing_evaluations": {
      "name": "demand_pricing_evaluations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "demand_pricing_policy_id": {
          "name": "demand_pricing_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "demand_pricing_policy_tier_id": {
          "name": "demand_pricing_policy_tier_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "window_start_at": {
          "name": "window_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "window_end_at": {
          "name": "window_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "demand_pricing_evaluation_status",
          "primaryKey": false,
          "notNull": true
        },
        "base_unit_price_minor": {
          "name": "base_unit_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "computed_score": {
          "name": "computed_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "adjustment_type": {
          "name": "adjustment_type",
          "type": "pricing_adjustment_type",
          "primaryKey": false,
          "notNull": false
        },
        "apply_as": {
          "name": "apply_as",
          "type": "pricing_apply_as",
          "primaryKey": false,
          "notNull": false
        },
        "adjustment_value": {
          "name": "adjustment_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "adjustment_amount_minor": {
          "name": "adjustment_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "final_unit_price_minor": {
          "name": "final_unit_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "signal_snapshot": {
          "name": "signal_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "calculation_trace": {
          "name": "calculation_trace",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "evaluated_at": {
          "name": "evaluated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "demand_pricing_evaluations_biz_id_id_unique": {
          "name": "demand_pricing_evaluations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "demand_pricing_evaluations_biz_request_key_unique": {
          "name": "demand_pricing_evaluations_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "demand_pricing_evaluations_biz_policy_at_idx": {
          "name": "demand_pricing_evaluations_biz_policy_at_idx",
          "columns": [
            "biz_id",
            "demand_pricing_policy_id",
            "evaluated_at"
          ],
          "isUnique": false
        },
        "demand_pricing_evaluations_biz_booking_line_idx": {
          "name": "demand_pricing_evaluations_biz_booking_line_idx",
          "columns": [
            "biz_id",
            "booking_order_line_id",
            "evaluated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "demand_pricing_evaluations_biz_id_bizes_id_fk": {
          "name": "demand_pricing_evaluations_biz_id_bizes_id_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_demand_pricing_policy_id_demand_pricing_policies_id_fk": {
          "name": "demand_pricing_evaluations_demand_pricing_policy_id_demand_pricing_policies_id_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "demand_pricing_policies",
          "columnsFrom": [
            "demand_pricing_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_demand_pricing_policy_tier_id_demand_pricing_policy_tiers_id_fk": {
          "name": "demand_pricing_evaluations_demand_pricing_policy_tier_id_demand_pricing_policy_tiers_id_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "demand_pricing_policy_tiers",
          "columnsFrom": [
            "demand_pricing_policy_tier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_booking_order_id_booking_orders_id_fk": {
          "name": "demand_pricing_evaluations_booking_order_id_booking_orders_id_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "demand_pricing_evaluations_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_created_by_users_id_fk": {
          "name": "demand_pricing_evaluations_created_by_users_id_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_updated_by_users_id_fk": {
          "name": "demand_pricing_evaluations_updated_by_users_id_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_deleted_by_users_id_fk": {
          "name": "demand_pricing_evaluations_deleted_by_users_id_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_biz_policy_fk": {
          "name": "demand_pricing_evaluations_biz_policy_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "demand_pricing_policies",
          "columnsFrom": [
            "biz_id",
            "demand_pricing_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_biz_tier_fk": {
          "name": "demand_pricing_evaluations_biz_tier_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "demand_pricing_policy_tiers",
          "columnsFrom": [
            "biz_id",
            "demand_pricing_policy_tier_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_biz_booking_order_fk": {
          "name": "demand_pricing_evaluations_biz_booking_order_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_evaluations_biz_booking_line_fk": {
          "name": "demand_pricing_evaluations_biz_booking_line_fk",
          "tableFrom": "demand_pricing_evaluations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "demand_pricing_policies": {
      "name": "demand_pricing_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "demand_pricing_policy_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "target_type": {
          "name": "target_type",
          "type": "demand_pricing_target_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'global'"
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scoring_mode": {
          "name": "scoring_mode",
          "type": "demand_pricing_scoring_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'weighted_sum'"
        },
        "score_floor": {
          "name": "score_floor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "score_ceiling": {
          "name": "score_ceiling",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10000
        },
        "default_adjustment_type": {
          "name": "default_adjustment_type",
          "type": "pricing_adjustment_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'percentage'"
        },
        "default_apply_as": {
          "name": "default_apply_as",
          "type": "pricing_apply_as",
          "primaryKey": false,
          "notNull": true,
          "default": "'surcharge'"
        },
        "default_adjustment_value": {
          "name": "default_adjustment_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_adjustment_minor": {
          "name": "min_adjustment_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_adjustment_minor": {
          "name": "max_adjustment_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_final_unit_price_minor": {
          "name": "min_final_unit_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_final_unit_price_minor": {
          "name": "max_final_unit_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cooldown_min": {
          "name": "cooldown_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "effective_start_at": {
          "name": "effective_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_end_at": {
          "name": "effective_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "demand_pricing_policies_biz_id_id_unique": {
          "name": "demand_pricing_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "demand_pricing_policies_biz_slug_unique": {
          "name": "demand_pricing_policies_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "demand_pricing_policies_biz_enabled_priority_idx": {
          "name": "demand_pricing_policies_biz_enabled_priority_idx",
          "columns": [
            "biz_id",
            "is_enabled",
            "status",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "demand_pricing_policies_biz_id_bizes_id_fk": {
          "name": "demand_pricing_policies_biz_id_bizes_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_resource_id_resources_id_fk": {
          "name": "demand_pricing_policies_resource_id_resources_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_service_id_services_id_fk": {
          "name": "demand_pricing_policies_service_id_services_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_service_product_id_service_products_id_fk": {
          "name": "demand_pricing_policies_service_product_id_service_products_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_offer_id_offers_id_fk": {
          "name": "demand_pricing_policies_offer_id_offers_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_offer_version_id_offer_versions_id_fk": {
          "name": "demand_pricing_policies_offer_version_id_offer_versions_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_location_id_locations_id_fk": {
          "name": "demand_pricing_policies_location_id_locations_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_created_by_users_id_fk": {
          "name": "demand_pricing_policies_created_by_users_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_updated_by_users_id_fk": {
          "name": "demand_pricing_policies_updated_by_users_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_deleted_by_users_id_fk": {
          "name": "demand_pricing_policies_deleted_by_users_id_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_biz_resource_fk": {
          "name": "demand_pricing_policies_biz_resource_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_biz_service_fk": {
          "name": "demand_pricing_policies_biz_service_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_biz_service_product_fk": {
          "name": "demand_pricing_policies_biz_service_product_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_biz_offer_fk": {
          "name": "demand_pricing_policies_biz_offer_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_biz_offer_version_fk": {
          "name": "demand_pricing_policies_biz_offer_version_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policies_biz_location_fk": {
          "name": "demand_pricing_policies_biz_location_fk",
          "tableFrom": "demand_pricing_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "demand_pricing_policy_signals": {
      "name": "demand_pricing_policy_signals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "demand_pricing_policy_id": {
          "name": "demand_pricing_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "demand_signal_definition_id": {
          "name": "demand_signal_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "weight_bps": {
          "name": "weight_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10000
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "freshness_max_min": {
          "name": "freshness_max_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 180
        },
        "offset_value": {
          "name": "offset_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "multiplier_bps": {
          "name": "multiplier_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10000
        },
        "clamp_min_value": {
          "name": "clamp_min_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "clamp_max_value": {
          "name": "clamp_max_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "demand_pricing_policy_signals_biz_id_id_unique": {
          "name": "demand_pricing_policy_signals_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "demand_pricing_policy_signals_unique": {
          "name": "demand_pricing_policy_signals_unique",
          "columns": [
            "demand_pricing_policy_id",
            "demand_signal_definition_id"
          ],
          "isUnique": true
        },
        "demand_pricing_policy_signals_biz_policy_sort_idx": {
          "name": "demand_pricing_policy_signals_biz_policy_sort_idx",
          "columns": [
            "biz_id",
            "demand_pricing_policy_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "demand_pricing_policy_signals_biz_id_bizes_id_fk": {
          "name": "demand_pricing_policy_signals_biz_id_bizes_id_fk",
          "tableFrom": "demand_pricing_policy_signals",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_signals_demand_pricing_policy_id_demand_pricing_policies_id_fk": {
          "name": "demand_pricing_policy_signals_demand_pricing_policy_id_demand_pricing_policies_id_fk",
          "tableFrom": "demand_pricing_policy_signals",
          "tableTo": "demand_pricing_policies",
          "columnsFrom": [
            "demand_pricing_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_signals_demand_signal_definition_id_demand_signal_definitions_id_fk": {
          "name": "demand_pricing_policy_signals_demand_signal_definition_id_demand_signal_definitions_id_fk",
          "tableFrom": "demand_pricing_policy_signals",
          "tableTo": "demand_signal_definitions",
          "columnsFrom": [
            "demand_signal_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_signals_created_by_users_id_fk": {
          "name": "demand_pricing_policy_signals_created_by_users_id_fk",
          "tableFrom": "demand_pricing_policy_signals",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_signals_updated_by_users_id_fk": {
          "name": "demand_pricing_policy_signals_updated_by_users_id_fk",
          "tableFrom": "demand_pricing_policy_signals",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_signals_deleted_by_users_id_fk": {
          "name": "demand_pricing_policy_signals_deleted_by_users_id_fk",
          "tableFrom": "demand_pricing_policy_signals",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_signals_biz_policy_fk": {
          "name": "demand_pricing_policy_signals_biz_policy_fk",
          "tableFrom": "demand_pricing_policy_signals",
          "tableTo": "demand_pricing_policies",
          "columnsFrom": [
            "biz_id",
            "demand_pricing_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_signals_biz_signal_fk": {
          "name": "demand_pricing_policy_signals_biz_signal_fk",
          "tableFrom": "demand_pricing_policy_signals",
          "tableTo": "demand_signal_definitions",
          "columnsFrom": [
            "biz_id",
            "demand_signal_definition_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "demand_pricing_policy_tiers": {
      "name": "demand_pricing_policy_tiers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "demand_pricing_policy_id": {
          "name": "demand_pricing_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "min_score": {
          "name": "min_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_score": {
          "name": "max_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "adjustment_type": {
          "name": "adjustment_type",
          "type": "pricing_adjustment_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'percentage'"
        },
        "apply_as": {
          "name": "apply_as",
          "type": "pricing_apply_as",
          "primaryKey": false,
          "notNull": true,
          "default": "'surcharge'"
        },
        "adjustment_value": {
          "name": "adjustment_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "min_adjustment_minor": {
          "name": "min_adjustment_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_adjustment_minor": {
          "name": "max_adjustment_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "demand_pricing_policy_tiers_biz_id_id_unique": {
          "name": "demand_pricing_policy_tiers_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "demand_pricing_policy_tiers_biz_policy_sort_idx": {
          "name": "demand_pricing_policy_tiers_biz_policy_sort_idx",
          "columns": [
            "biz_id",
            "demand_pricing_policy_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "demand_pricing_policy_tiers_biz_id_bizes_id_fk": {
          "name": "demand_pricing_policy_tiers_biz_id_bizes_id_fk",
          "tableFrom": "demand_pricing_policy_tiers",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_tiers_demand_pricing_policy_id_demand_pricing_policies_id_fk": {
          "name": "demand_pricing_policy_tiers_demand_pricing_policy_id_demand_pricing_policies_id_fk",
          "tableFrom": "demand_pricing_policy_tiers",
          "tableTo": "demand_pricing_policies",
          "columnsFrom": [
            "demand_pricing_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_tiers_created_by_users_id_fk": {
          "name": "demand_pricing_policy_tiers_created_by_users_id_fk",
          "tableFrom": "demand_pricing_policy_tiers",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_tiers_updated_by_users_id_fk": {
          "name": "demand_pricing_policy_tiers_updated_by_users_id_fk",
          "tableFrom": "demand_pricing_policy_tiers",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_tiers_deleted_by_users_id_fk": {
          "name": "demand_pricing_policy_tiers_deleted_by_users_id_fk",
          "tableFrom": "demand_pricing_policy_tiers",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_pricing_policy_tiers_biz_policy_fk": {
          "name": "demand_pricing_policy_tiers_biz_policy_fk",
          "tableFrom": "demand_pricing_policy_tiers",
          "tableTo": "demand_pricing_policies",
          "columnsFrom": [
            "biz_id",
            "demand_pricing_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "demand_signal_definitions": {
      "name": "demand_signal_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "demand_signal_kind",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "demand_signal_source",
          "primaryKey": false,
          "notNull": true,
          "default": "'system'"
        },
        "aggregation_method": {
          "name": "aggregation_method",
          "type": "demand_signal_aggregation_method",
          "primaryKey": false,
          "notNull": true,
          "default": "'avg'"
        },
        "aggregation_window_min": {
          "name": "aggregation_window_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "value_scale": {
          "name": "value_scale",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10000
        },
        "target_type": {
          "name": "target_type",
          "type": "demand_pricing_target_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'global'"
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "demand_signal_definitions_biz_id_id_unique": {
          "name": "demand_signal_definitions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "demand_signal_definitions_biz_slug_unique": {
          "name": "demand_signal_definitions_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "demand_signal_definitions_biz_enabled_kind_idx": {
          "name": "demand_signal_definitions_biz_enabled_kind_idx",
          "columns": [
            "biz_id",
            "is_enabled",
            "kind"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "demand_signal_definitions_biz_id_bizes_id_fk": {
          "name": "demand_signal_definitions_biz_id_bizes_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_resource_id_resources_id_fk": {
          "name": "demand_signal_definitions_resource_id_resources_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_service_id_services_id_fk": {
          "name": "demand_signal_definitions_service_id_services_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_service_product_id_service_products_id_fk": {
          "name": "demand_signal_definitions_service_product_id_service_products_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_offer_id_offers_id_fk": {
          "name": "demand_signal_definitions_offer_id_offers_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_offer_version_id_offer_versions_id_fk": {
          "name": "demand_signal_definitions_offer_version_id_offer_versions_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_location_id_locations_id_fk": {
          "name": "demand_signal_definitions_location_id_locations_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_created_by_users_id_fk": {
          "name": "demand_signal_definitions_created_by_users_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_updated_by_users_id_fk": {
          "name": "demand_signal_definitions_updated_by_users_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_deleted_by_users_id_fk": {
          "name": "demand_signal_definitions_deleted_by_users_id_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_biz_resource_fk": {
          "name": "demand_signal_definitions_biz_resource_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_biz_service_fk": {
          "name": "demand_signal_definitions_biz_service_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_biz_service_product_fk": {
          "name": "demand_signal_definitions_biz_service_product_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_biz_offer_fk": {
          "name": "demand_signal_definitions_biz_offer_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_biz_offer_version_fk": {
          "name": "demand_signal_definitions_biz_offer_version_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_definitions_biz_location_fk": {
          "name": "demand_signal_definitions_biz_location_fk",
          "tableFrom": "demand_signal_definitions",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "demand_signal_observations": {
      "name": "demand_signal_observations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "demand_signal_definition_id": {
          "name": "demand_signal_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "window_start_at": {
          "name": "window_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "window_end_at": {
          "name": "window_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "observed_at": {
          "name": "observed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "value": {
          "name": "value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sample_size": {
          "name": "sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_bps": {
          "name": "confidence_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "demand_signal_source",
          "primaryKey": false,
          "notNull": true,
          "default": "'system'"
        },
        "source_ref": {
          "name": "source_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "dimensions": {
          "name": "dimensions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "demand_signal_observations_biz_id_id_unique": {
          "name": "demand_signal_observations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "demand_signal_observations_definition_window_unique": {
          "name": "demand_signal_observations_definition_window_unique",
          "columns": [
            "demand_signal_definition_id",
            "window_start_at",
            "window_end_at",
            "source"
          ],
          "isUnique": true
        },
        "demand_signal_observations_biz_idempotency_unique": {
          "name": "demand_signal_observations_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "demand_signal_observations_biz_signal_window_idx": {
          "name": "demand_signal_observations_biz_signal_window_idx",
          "columns": [
            "biz_id",
            "demand_signal_definition_id",
            "window_start_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "demand_signal_observations_biz_id_bizes_id_fk": {
          "name": "demand_signal_observations_biz_id_bizes_id_fk",
          "tableFrom": "demand_signal_observations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_observations_demand_signal_definition_id_demand_signal_definitions_id_fk": {
          "name": "demand_signal_observations_demand_signal_definition_id_demand_signal_definitions_id_fk",
          "tableFrom": "demand_signal_observations",
          "tableTo": "demand_signal_definitions",
          "columnsFrom": [
            "demand_signal_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_observations_created_by_users_id_fk": {
          "name": "demand_signal_observations_created_by_users_id_fk",
          "tableFrom": "demand_signal_observations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_observations_updated_by_users_id_fk": {
          "name": "demand_signal_observations_updated_by_users_id_fk",
          "tableFrom": "demand_signal_observations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_observations_deleted_by_users_id_fk": {
          "name": "demand_signal_observations_deleted_by_users_id_fk",
          "tableFrom": "demand_signal_observations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "demand_signal_observations_biz_definition_fk": {
          "name": "demand_signal_observations_biz_definition_fk",
          "tableFrom": "demand_signal_observations",
          "tableTo": "demand_signal_definitions",
          "columnsFrom": [
            "biz_id",
            "demand_signal_definition_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "entitlement_grants": {
      "name": "entitlement_grants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "wallet_id": {
          "name": "wallet_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "membership_id": {
          "name": "membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "grant_type": {
          "name": "grant_type",
          "type": "entitlement_grant_type",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "valid_from_at": {
          "name": "valid_from_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "valid_until_at": {
          "name": "valid_until_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rollover_eligible": {
          "name": "rollover_eligible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "transferable": {
          "name": "transferable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "reason": {
          "name": "reason",
          "type": "varchar(400)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "entitlement_grants_biz_id_id_unique": {
          "name": "entitlement_grants_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "entitlement_grants_biz_wallet_valid_idx": {
          "name": "entitlement_grants_biz_wallet_valid_idx",
          "columns": [
            "biz_id",
            "wallet_id",
            "valid_from_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "entitlement_grants_biz_id_bizes_id_fk": {
          "name": "entitlement_grants_biz_id_bizes_id_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_grants_wallet_id_entitlement_wallets_id_fk": {
          "name": "entitlement_grants_wallet_id_entitlement_wallets_id_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "entitlement_wallets",
          "columnsFrom": [
            "wallet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_grants_membership_id_memberships_id_fk": {
          "name": "entitlement_grants_membership_id_memberships_id_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "memberships",
          "columnsFrom": [
            "membership_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_grants_booking_order_id_booking_orders_id_fk": {
          "name": "entitlement_grants_booking_order_id_booking_orders_id_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_grants_created_by_users_id_fk": {
          "name": "entitlement_grants_created_by_users_id_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_grants_updated_by_users_id_fk": {
          "name": "entitlement_grants_updated_by_users_id_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_grants_deleted_by_users_id_fk": {
          "name": "entitlement_grants_deleted_by_users_id_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_grants_biz_wallet_fk": {
          "name": "entitlement_grants_biz_wallet_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "entitlement_wallets",
          "columnsFrom": [
            "biz_id",
            "wallet_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_grants_biz_membership_fk": {
          "name": "entitlement_grants_biz_membership_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "memberships",
          "columnsFrom": [
            "biz_id",
            "membership_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_grants_biz_booking_order_fk": {
          "name": "entitlement_grants_biz_booking_order_fk",
          "tableFrom": "entitlement_grants",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "entitlement_ledger_entries": {
      "name": "entitlement_ledger_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "wallet_id": {
          "name": "wallet_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grant_id": {
          "name": "grant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_id": {
          "name": "transfer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_type": {
          "name": "entry_type",
          "type": "entitlement_ledger_entry_type",
          "primaryKey": false,
          "notNull": true
        },
        "quantity_delta": {
          "name": "quantity_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "balance_after": {
          "name": "balance_after",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "entitlement_ledger_entries_biz_id_id_unique": {
          "name": "entitlement_ledger_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "entitlement_ledger_entries_biz_wallet_occurred_idx": {
          "name": "entitlement_ledger_entries_biz_wallet_occurred_idx",
          "columns": [
            "biz_id",
            "wallet_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "entitlement_ledger_entries_biz_id_bizes_id_fk": {
          "name": "entitlement_ledger_entries_biz_id_bizes_id_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_wallet_id_entitlement_wallets_id_fk": {
          "name": "entitlement_ledger_entries_wallet_id_entitlement_wallets_id_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "entitlement_wallets",
          "columnsFrom": [
            "wallet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_grant_id_entitlement_grants_id_fk": {
          "name": "entitlement_ledger_entries_grant_id_entitlement_grants_id_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "entitlement_grants",
          "columnsFrom": [
            "grant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_transfer_id_entitlement_transfers_id_fk": {
          "name": "entitlement_ledger_entries_transfer_id_entitlement_transfers_id_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "entitlement_transfers",
          "columnsFrom": [
            "transfer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_booking_order_id_booking_orders_id_fk": {
          "name": "entitlement_ledger_entries_booking_order_id_booking_orders_id_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "entitlement_ledger_entries_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_created_by_users_id_fk": {
          "name": "entitlement_ledger_entries_created_by_users_id_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_updated_by_users_id_fk": {
          "name": "entitlement_ledger_entries_updated_by_users_id_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_deleted_by_users_id_fk": {
          "name": "entitlement_ledger_entries_deleted_by_users_id_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_biz_wallet_fk": {
          "name": "entitlement_ledger_entries_biz_wallet_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "entitlement_wallets",
          "columnsFrom": [
            "biz_id",
            "wallet_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_biz_grant_fk": {
          "name": "entitlement_ledger_entries_biz_grant_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "entitlement_grants",
          "columnsFrom": [
            "biz_id",
            "grant_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_biz_transfer_fk": {
          "name": "entitlement_ledger_entries_biz_transfer_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "entitlement_transfers",
          "columnsFrom": [
            "biz_id",
            "transfer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_biz_booking_order_fk": {
          "name": "entitlement_ledger_entries_biz_booking_order_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_ledger_entries_biz_fulfillment_unit_fk": {
          "name": "entitlement_ledger_entries_biz_fulfillment_unit_fk",
          "tableFrom": "entitlement_ledger_entries",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "entitlement_transfers": {
      "name": "entitlement_transfers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_wallet_id": {
          "name": "from_wallet_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_wallet_id": {
          "name": "to_wallet_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "entitlement_transfer_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'requested'"
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by_user_id": {
          "name": "requested_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by_user_id": {
          "name": "reviewed_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "entitlement_transfers_biz_id_id_unique": {
          "name": "entitlement_transfers_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "entitlement_transfers_biz_status_requested_idx": {
          "name": "entitlement_transfers_biz_status_requested_idx",
          "columns": [
            "biz_id",
            "status",
            "requested_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "entitlement_transfers_biz_id_bizes_id_fk": {
          "name": "entitlement_transfers_biz_id_bizes_id_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_transfers_from_wallet_id_entitlement_wallets_id_fk": {
          "name": "entitlement_transfers_from_wallet_id_entitlement_wallets_id_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "entitlement_wallets",
          "columnsFrom": [
            "from_wallet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_transfers_to_wallet_id_entitlement_wallets_id_fk": {
          "name": "entitlement_transfers_to_wallet_id_entitlement_wallets_id_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "entitlement_wallets",
          "columnsFrom": [
            "to_wallet_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_transfers_requested_by_user_id_users_id_fk": {
          "name": "entitlement_transfers_requested_by_user_id_users_id_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_transfers_reviewed_by_user_id_users_id_fk": {
          "name": "entitlement_transfers_reviewed_by_user_id_users_id_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_transfers_created_by_users_id_fk": {
          "name": "entitlement_transfers_created_by_users_id_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_transfers_updated_by_users_id_fk": {
          "name": "entitlement_transfers_updated_by_users_id_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_transfers_deleted_by_users_id_fk": {
          "name": "entitlement_transfers_deleted_by_users_id_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_transfers_biz_from_wallet_fk": {
          "name": "entitlement_transfers_biz_from_wallet_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "entitlement_wallets",
          "columnsFrom": [
            "biz_id",
            "from_wallet_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_transfers_biz_to_wallet_fk": {
          "name": "entitlement_transfers_biz_to_wallet_fk",
          "tableFrom": "entitlement_transfers",
          "tableTo": "entitlement_wallets",
          "columnsFrom": [
            "biz_id",
            "to_wallet_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "entitlement_wallets": {
      "name": "entitlement_wallets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "membership_id": {
          "name": "membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_group_account_id": {
          "name": "owner_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "entitlement_type": {
          "name": "entitlement_type",
          "type": "entitlement_grant_type",
          "primaryKey": false,
          "notNull": true
        },
        "unit_code": {
          "name": "unit_code",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'credits'"
        },
        "balance_quantity": {
          "name": "balance_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "entitlement_wallets_biz_id_id_unique": {
          "name": "entitlement_wallets_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "entitlement_wallets_biz_owner_idx": {
          "name": "entitlement_wallets_biz_owner_idx",
          "columns": [
            "biz_id",
            "owner_user_id",
            "owner_group_account_id",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "entitlement_wallets_biz_id_bizes_id_fk": {
          "name": "entitlement_wallets_biz_id_bizes_id_fk",
          "tableFrom": "entitlement_wallets",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_wallets_membership_id_memberships_id_fk": {
          "name": "entitlement_wallets_membership_id_memberships_id_fk",
          "tableFrom": "entitlement_wallets",
          "tableTo": "memberships",
          "columnsFrom": [
            "membership_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_wallets_owner_user_id_users_id_fk": {
          "name": "entitlement_wallets_owner_user_id_users_id_fk",
          "tableFrom": "entitlement_wallets",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_wallets_owner_group_account_id_group_accounts_id_fk": {
          "name": "entitlement_wallets_owner_group_account_id_group_accounts_id_fk",
          "tableFrom": "entitlement_wallets",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "owner_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_wallets_created_by_users_id_fk": {
          "name": "entitlement_wallets_created_by_users_id_fk",
          "tableFrom": "entitlement_wallets",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_wallets_updated_by_users_id_fk": {
          "name": "entitlement_wallets_updated_by_users_id_fk",
          "tableFrom": "entitlement_wallets",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_wallets_deleted_by_users_id_fk": {
          "name": "entitlement_wallets_deleted_by_users_id_fk",
          "tableFrom": "entitlement_wallets",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "entitlement_wallets_biz_membership_fk": {
          "name": "entitlement_wallets_biz_membership_fk",
          "tableFrom": "entitlement_wallets",
          "tableTo": "memberships",
          "columnsFrom": [
            "biz_id",
            "membership_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "membership_plans": {
      "name": "membership_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "membership_plan_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "billing_interval_count": {
          "name": "billing_interval_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "billing_interval_unit": {
          "name": "billing_interval_unit",
          "type": "membership_billing_interval_unit",
          "primaryKey": false,
          "notNull": true,
          "default": "'month'"
        },
        "price_minor": {
          "name": "price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "entitlement_type": {
          "name": "entitlement_type",
          "type": "entitlement_grant_type",
          "primaryKey": false,
          "notNull": true
        },
        "entitlement_quantity_per_cycle": {
          "name": "entitlement_quantity_per_cycle",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "allow_rollover": {
          "name": "allow_rollover",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "rollover_cap_quantity": {
          "name": "rollover_cap_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allow_transfers": {
          "name": "allow_transfers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "transfer_fee_minor": {
          "name": "transfer_fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "entitlement_policy": {
          "name": "entitlement_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "membership_policy": {
          "name": "membership_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "membership_plans_biz_id_id_unique": {
          "name": "membership_plans_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "membership_plans_biz_slug_unique": {
          "name": "membership_plans_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "membership_plans_biz_status_idx": {
          "name": "membership_plans_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "membership_plans_biz_id_bizes_id_fk": {
          "name": "membership_plans_biz_id_bizes_id_fk",
          "tableFrom": "membership_plans",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "membership_plans_created_by_users_id_fk": {
          "name": "membership_plans_created_by_users_id_fk",
          "tableFrom": "membership_plans",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "membership_plans_updated_by_users_id_fk": {
          "name": "membership_plans_updated_by_users_id_fk",
          "tableFrom": "membership_plans",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "membership_plans_deleted_by_users_id_fk": {
          "name": "membership_plans_deleted_by_users_id_fk",
          "tableFrom": "membership_plans",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "memberships": {
      "name": "memberships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "membership_plan_id": {
          "name": "membership_plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_group_account_id": {
          "name": "owner_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "membership_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'trialing'"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "current_period_start_at": {
          "name": "current_period_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "current_period_end_at": {
          "name": "current_period_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "paused_at": {
          "name": "paused_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "auto_renew": {
          "name": "auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "provider_subscription_ref": {
          "name": "provider_subscription_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "status_reason": {
          "name": "status_reason",
          "type": "varchar(400)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "memberships_biz_id_id_unique": {
          "name": "memberships_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "memberships_active_per_user_plan_unique": {
          "name": "memberships_active_per_user_plan_unique",
          "columns": [
            "biz_id",
            "membership_plan_id",
            "owner_user_id"
          ],
          "isUnique": true
        },
        "memberships_biz_status_period_idx": {
          "name": "memberships_biz_status_period_idx",
          "columns": [
            "biz_id",
            "status",
            "current_period_end_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "memberships_biz_id_bizes_id_fk": {
          "name": "memberships_biz_id_bizes_id_fk",
          "tableFrom": "memberships",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "memberships_membership_plan_id_membership_plans_id_fk": {
          "name": "memberships_membership_plan_id_membership_plans_id_fk",
          "tableFrom": "memberships",
          "tableTo": "membership_plans",
          "columnsFrom": [
            "membership_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "memberships_owner_user_id_users_id_fk": {
          "name": "memberships_owner_user_id_users_id_fk",
          "tableFrom": "memberships",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "memberships_owner_group_account_id_group_accounts_id_fk": {
          "name": "memberships_owner_group_account_id_group_accounts_id_fk",
          "tableFrom": "memberships",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "owner_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "memberships_created_by_users_id_fk": {
          "name": "memberships_created_by_users_id_fk",
          "tableFrom": "memberships",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "memberships_updated_by_users_id_fk": {
          "name": "memberships_updated_by_users_id_fk",
          "tableFrom": "memberships",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "memberships_deleted_by_users_id_fk": {
          "name": "memberships_deleted_by_users_id_fk",
          "tableFrom": "memberships",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "memberships_biz_plan_fk": {
          "name": "memberships_biz_plan_fk",
          "tableFrom": "memberships",
          "tableTo": "membership_plans",
          "columnsFrom": [
            "biz_id",
            "membership_plan_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "rollover_runs": {
      "name": "rollover_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "membership_plan_id": {
          "name": "membership_plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "membership_id": {
          "name": "membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "rollover_run_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "source_period_start_at": {
          "name": "source_period_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "source_period_end_at": {
          "name": "source_period_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "run_at": {
          "name": "run_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rolled_over_quantity": {
          "name": "rolled_over_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "expired_quantity": {
          "name": "expired_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "summary": {
          "name": "summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "rollover_runs_biz_id_id_unique": {
          "name": "rollover_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "rollover_runs_biz_status_run_idx": {
          "name": "rollover_runs_biz_status_run_idx",
          "columns": [
            "biz_id",
            "status",
            "run_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "rollover_runs_biz_id_bizes_id_fk": {
          "name": "rollover_runs_biz_id_bizes_id_fk",
          "tableFrom": "rollover_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rollover_runs_membership_plan_id_membership_plans_id_fk": {
          "name": "rollover_runs_membership_plan_id_membership_plans_id_fk",
          "tableFrom": "rollover_runs",
          "tableTo": "membership_plans",
          "columnsFrom": [
            "membership_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rollover_runs_membership_id_memberships_id_fk": {
          "name": "rollover_runs_membership_id_memberships_id_fk",
          "tableFrom": "rollover_runs",
          "tableTo": "memberships",
          "columnsFrom": [
            "membership_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rollover_runs_created_by_users_id_fk": {
          "name": "rollover_runs_created_by_users_id_fk",
          "tableFrom": "rollover_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rollover_runs_updated_by_users_id_fk": {
          "name": "rollover_runs_updated_by_users_id_fk",
          "tableFrom": "rollover_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rollover_runs_deleted_by_users_id_fk": {
          "name": "rollover_runs_deleted_by_users_id_fk",
          "tableFrom": "rollover_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rollover_runs_biz_plan_fk": {
          "name": "rollover_runs_biz_plan_fk",
          "tableFrom": "rollover_runs",
          "tableTo": "membership_plans",
          "columnsFrom": [
            "biz_id",
            "membership_plan_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "rollover_runs_biz_membership_fk": {
          "name": "rollover_runs_biz_membership_fk",
          "tableFrom": "rollover_runs",
          "tableTo": "memberships",
          "columnsFrom": [
            "biz_id",
            "membership_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "channel_accounts": {
      "name": "channel_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "channel_provider",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "channel_connection_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "provider_account_ref": {
          "name": "provider_account_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "scopes": {
          "name": "scopes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "auth_config": {
          "name": "auth_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_error": {
          "name": "last_error",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "channel_accounts_biz_id_id_unique": {
          "name": "channel_accounts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "channel_accounts_provider_account_unique": {
          "name": "channel_accounts_provider_account_unique",
          "columns": [
            "biz_id",
            "provider",
            "provider_account_ref"
          ],
          "isUnique": true
        },
        "channel_accounts_biz_provider_status_idx": {
          "name": "channel_accounts_biz_provider_status_idx",
          "columns": [
            "biz_id",
            "provider",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "channel_accounts_biz_id_bizes_id_fk": {
          "name": "channel_accounts_biz_id_bizes_id_fk",
          "tableFrom": "channel_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_accounts_created_by_users_id_fk": {
          "name": "channel_accounts_created_by_users_id_fk",
          "tableFrom": "channel_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_accounts_updated_by_users_id_fk": {
          "name": "channel_accounts_updated_by_users_id_fk",
          "tableFrom": "channel_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_accounts_deleted_by_users_id_fk": {
          "name": "channel_accounts_deleted_by_users_id_fk",
          "tableFrom": "channel_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "channel_entity_links": {
      "name": "channel_entity_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel_account_id": {
          "name": "channel_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "object_type": {
          "name": "object_type",
          "type": "channel_object_type",
          "primaryKey": false,
          "notNull": true
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_user_id": {
          "name": "customer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "local_reference_key": {
          "name": "local_reference_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "external_object_id": {
          "name": "external_object_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "external_parent_id": {
          "name": "external_parent_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "sync_hash": {
          "name": "sync_hash",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "channel_entity_links_biz_id_id_unique": {
          "name": "channel_entity_links_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "channel_entity_links_external_unique": {
          "name": "channel_entity_links_external_unique",
          "columns": [
            "channel_account_id",
            "external_object_id"
          ],
          "isUnique": true
        },
        "channel_entity_links_local_offer_version_unique": {
          "name": "channel_entity_links_local_offer_version_unique",
          "columns": [
            "channel_account_id",
            "object_type",
            "offer_version_id"
          ],
          "isUnique": true
        },
        "channel_entity_links_local_booking_order_unique": {
          "name": "channel_entity_links_local_booking_order_unique",
          "columns": [
            "channel_account_id",
            "object_type",
            "booking_order_id"
          ],
          "isUnique": true
        },
        "channel_entity_links_local_resource_unique": {
          "name": "channel_entity_links_local_resource_unique",
          "columns": [
            "channel_account_id",
            "object_type",
            "resource_id"
          ],
          "isUnique": true
        },
        "channel_entity_links_local_customer_unique": {
          "name": "channel_entity_links_local_customer_unique",
          "columns": [
            "channel_account_id",
            "object_type",
            "customer_user_id"
          ],
          "isUnique": true
        },
        "channel_entity_links_local_ref_key_unique": {
          "name": "channel_entity_links_local_ref_key_unique",
          "columns": [
            "channel_account_id",
            "object_type",
            "local_reference_key"
          ],
          "isUnique": true
        },
        "channel_entity_links_biz_account_type_idx": {
          "name": "channel_entity_links_biz_account_type_idx",
          "columns": [
            "biz_id",
            "channel_account_id",
            "object_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "channel_entity_links_biz_id_bizes_id_fk": {
          "name": "channel_entity_links_biz_id_bizes_id_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_channel_account_id_channel_accounts_id_fk": {
          "name": "channel_entity_links_channel_account_id_channel_accounts_id_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "channel_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_offer_version_id_offer_versions_id_fk": {
          "name": "channel_entity_links_offer_version_id_offer_versions_id_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_booking_order_id_booking_orders_id_fk": {
          "name": "channel_entity_links_booking_order_id_booking_orders_id_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_resource_id_resources_id_fk": {
          "name": "channel_entity_links_resource_id_resources_id_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_customer_user_id_users_id_fk": {
          "name": "channel_entity_links_customer_user_id_users_id_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "users",
          "columnsFrom": [
            "customer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_created_by_users_id_fk": {
          "name": "channel_entity_links_created_by_users_id_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_updated_by_users_id_fk": {
          "name": "channel_entity_links_updated_by_users_id_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_deleted_by_users_id_fk": {
          "name": "channel_entity_links_deleted_by_users_id_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_biz_account_fk": {
          "name": "channel_entity_links_biz_account_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "biz_id",
            "channel_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_biz_offer_version_fk": {
          "name": "channel_entity_links_biz_offer_version_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_biz_booking_order_fk": {
          "name": "channel_entity_links_biz_booking_order_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_entity_links_biz_resource_fk": {
          "name": "channel_entity_links_biz_resource_fk",
          "tableFrom": "channel_entity_links",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "channel_sync_items": {
      "name": "channel_sync_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel_sync_job_id": {
          "name": "channel_sync_job_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel_entity_link_id": {
          "name": "channel_entity_link_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "object_type": {
          "name": "object_type",
          "type": "channel_object_type",
          "primaryKey": false,
          "notNull": true
        },
        "local_reference_key": {
          "name": "local_reference_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "external_object_id": {
          "name": "external_object_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "channel_sync_item_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "channel_sync_items_biz_id_id_unique": {
          "name": "channel_sync_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "channel_sync_items_biz_job_status_idx": {
          "name": "channel_sync_items_biz_job_status_idx",
          "columns": [
            "biz_id",
            "channel_sync_job_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "channel_sync_items_biz_id_bizes_id_fk": {
          "name": "channel_sync_items_biz_id_bizes_id_fk",
          "tableFrom": "channel_sync_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_items_channel_sync_job_id_channel_sync_jobs_id_fk": {
          "name": "channel_sync_items_channel_sync_job_id_channel_sync_jobs_id_fk",
          "tableFrom": "channel_sync_items",
          "tableTo": "channel_sync_jobs",
          "columnsFrom": [
            "channel_sync_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_items_channel_entity_link_id_channel_entity_links_id_fk": {
          "name": "channel_sync_items_channel_entity_link_id_channel_entity_links_id_fk",
          "tableFrom": "channel_sync_items",
          "tableTo": "channel_entity_links",
          "columnsFrom": [
            "channel_entity_link_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_items_created_by_users_id_fk": {
          "name": "channel_sync_items_created_by_users_id_fk",
          "tableFrom": "channel_sync_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_items_updated_by_users_id_fk": {
          "name": "channel_sync_items_updated_by_users_id_fk",
          "tableFrom": "channel_sync_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_items_deleted_by_users_id_fk": {
          "name": "channel_sync_items_deleted_by_users_id_fk",
          "tableFrom": "channel_sync_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_items_biz_job_fk": {
          "name": "channel_sync_items_biz_job_fk",
          "tableFrom": "channel_sync_items",
          "tableTo": "channel_sync_jobs",
          "columnsFrom": [
            "biz_id",
            "channel_sync_job_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_items_biz_entity_link_fk": {
          "name": "channel_sync_items_biz_entity_link_fk",
          "tableFrom": "channel_sync_items",
          "tableTo": "channel_entity_links",
          "columnsFrom": [
            "biz_id",
            "channel_entity_link_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "channel_sync_jobs": {
      "name": "channel_sync_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel_account_id": {
          "name": "channel_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "channel_sync_direction",
          "primaryKey": false,
          "notNull": true
        },
        "object_type": {
          "name": "object_type",
          "type": "channel_object_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "channel_sync_job_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cursor_snapshot": {
          "name": "cursor_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "processed_count": {
          "name": "processed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_count": {
          "name": "failed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "summary": {
          "name": "summary",
          "type": "varchar(800)",
          "primaryKey": false,
          "notNull": false
        },
        "error_payload": {
          "name": "error_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "channel_sync_jobs_biz_id_id_unique": {
          "name": "channel_sync_jobs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "channel_sync_jobs_biz_status_requested_idx": {
          "name": "channel_sync_jobs_biz_status_requested_idx",
          "columns": [
            "biz_id",
            "status",
            "requested_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "channel_sync_jobs_biz_id_bizes_id_fk": {
          "name": "channel_sync_jobs_biz_id_bizes_id_fk",
          "tableFrom": "channel_sync_jobs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_jobs_channel_account_id_channel_accounts_id_fk": {
          "name": "channel_sync_jobs_channel_account_id_channel_accounts_id_fk",
          "tableFrom": "channel_sync_jobs",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "channel_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_jobs_created_by_users_id_fk": {
          "name": "channel_sync_jobs_created_by_users_id_fk",
          "tableFrom": "channel_sync_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_jobs_updated_by_users_id_fk": {
          "name": "channel_sync_jobs_updated_by_users_id_fk",
          "tableFrom": "channel_sync_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_jobs_deleted_by_users_id_fk": {
          "name": "channel_sync_jobs_deleted_by_users_id_fk",
          "tableFrom": "channel_sync_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_jobs_biz_account_fk": {
          "name": "channel_sync_jobs_biz_account_fk",
          "tableFrom": "channel_sync_jobs",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "biz_id",
            "channel_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "channel_sync_states": {
      "name": "channel_sync_states",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel_account_id": {
          "name": "channel_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "object_type": {
          "name": "object_type",
          "type": "channel_object_type",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "channel_sync_direction",
          "primaryKey": false,
          "notNull": true
        },
        "inbound_cursor": {
          "name": "inbound_cursor",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "outbound_cursor": {
          "name": "outbound_cursor",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_success_at": {
          "name": "last_success_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_failure": {
          "name": "last_failure",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "channel_sync_states_biz_id_id_unique": {
          "name": "channel_sync_states_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "channel_sync_states_unique": {
          "name": "channel_sync_states_unique",
          "columns": [
            "channel_account_id",
            "object_type",
            "direction"
          ],
          "isUnique": true
        },
        "channel_sync_states_biz_account_type_idx": {
          "name": "channel_sync_states_biz_account_type_idx",
          "columns": [
            "biz_id",
            "channel_account_id",
            "object_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "channel_sync_states_biz_id_bizes_id_fk": {
          "name": "channel_sync_states_biz_id_bizes_id_fk",
          "tableFrom": "channel_sync_states",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_states_channel_account_id_channel_accounts_id_fk": {
          "name": "channel_sync_states_channel_account_id_channel_accounts_id_fk",
          "tableFrom": "channel_sync_states",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "channel_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_states_created_by_users_id_fk": {
          "name": "channel_sync_states_created_by_users_id_fk",
          "tableFrom": "channel_sync_states",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_states_updated_by_users_id_fk": {
          "name": "channel_sync_states_updated_by_users_id_fk",
          "tableFrom": "channel_sync_states",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_states_deleted_by_users_id_fk": {
          "name": "channel_sync_states_deleted_by_users_id_fk",
          "tableFrom": "channel_sync_states",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_sync_states_biz_account_fk": {
          "name": "channel_sync_states_biz_account_fk",
          "tableFrom": "channel_sync_states",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "biz_id",
            "channel_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "channel_webhook_events": {
      "name": "channel_webhook_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel_account_id": {
          "name": "channel_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "channel_webhook_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'received'"
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "external_event_id": {
          "name": "external_event_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "channel_webhook_events_biz_id_id_unique": {
          "name": "channel_webhook_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "channel_webhook_events_account_external_unique": {
          "name": "channel_webhook_events_account_external_unique",
          "columns": [
            "channel_account_id",
            "external_event_id"
          ],
          "isUnique": true
        },
        "channel_webhook_events_biz_status_received_idx": {
          "name": "channel_webhook_events_biz_status_received_idx",
          "columns": [
            "biz_id",
            "status",
            "received_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "channel_webhook_events_biz_id_bizes_id_fk": {
          "name": "channel_webhook_events_biz_id_bizes_id_fk",
          "tableFrom": "channel_webhook_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_webhook_events_channel_account_id_channel_accounts_id_fk": {
          "name": "channel_webhook_events_channel_account_id_channel_accounts_id_fk",
          "tableFrom": "channel_webhook_events",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "channel_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_webhook_events_created_by_users_id_fk": {
          "name": "channel_webhook_events_created_by_users_id_fk",
          "tableFrom": "channel_webhook_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_webhook_events_updated_by_users_id_fk": {
          "name": "channel_webhook_events_updated_by_users_id_fk",
          "tableFrom": "channel_webhook_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_webhook_events_deleted_by_users_id_fk": {
          "name": "channel_webhook_events_deleted_by_users_id_fk",
          "tableFrom": "channel_webhook_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "channel_webhook_events_biz_account_fk": {
          "name": "channel_webhook_events_biz_account_fk",
          "tableFrom": "channel_webhook_events",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "biz_id",
            "channel_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "overtime_forecasts": {
      "name": "overtime_forecasts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "overtime_policy_id": {
          "name": "overtime_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "forecast_date": {
          "name": "forecast_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "overtime_forecast_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'projected'"
        },
        "scheduled_minutes": {
          "name": "scheduled_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "projected_overtime_minutes": {
          "name": "projected_overtime_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "projected_overtime_cost_minor": {
          "name": "projected_overtime_cost_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "mitigation_suggestion": {
          "name": "mitigation_suggestion",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "feature_snapshot": {
          "name": "feature_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "overtime_forecasts_biz_id_id_unique": {
          "name": "overtime_forecasts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "overtime_forecasts_unique": {
          "name": "overtime_forecasts_unique",
          "columns": [
            "overtime_policy_id",
            "resource_id",
            "forecast_date"
          ],
          "isUnique": true
        },
        "overtime_forecasts_biz_date_status_idx": {
          "name": "overtime_forecasts_biz_date_status_idx",
          "columns": [
            "biz_id",
            "forecast_date",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "overtime_forecasts_biz_id_bizes_id_fk": {
          "name": "overtime_forecasts_biz_id_bizes_id_fk",
          "tableFrom": "overtime_forecasts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_forecasts_overtime_policy_id_overtime_policies_id_fk": {
          "name": "overtime_forecasts_overtime_policy_id_overtime_policies_id_fk",
          "tableFrom": "overtime_forecasts",
          "tableTo": "overtime_policies",
          "columnsFrom": [
            "overtime_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_forecasts_resource_id_resources_id_fk": {
          "name": "overtime_forecasts_resource_id_resources_id_fk",
          "tableFrom": "overtime_forecasts",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_forecasts_created_by_users_id_fk": {
          "name": "overtime_forecasts_created_by_users_id_fk",
          "tableFrom": "overtime_forecasts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_forecasts_updated_by_users_id_fk": {
          "name": "overtime_forecasts_updated_by_users_id_fk",
          "tableFrom": "overtime_forecasts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_forecasts_deleted_by_users_id_fk": {
          "name": "overtime_forecasts_deleted_by_users_id_fk",
          "tableFrom": "overtime_forecasts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_forecasts_biz_policy_fk": {
          "name": "overtime_forecasts_biz_policy_fk",
          "tableFrom": "overtime_forecasts",
          "tableTo": "overtime_policies",
          "columnsFrom": [
            "biz_id",
            "overtime_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_forecasts_biz_resource_fk": {
          "name": "overtime_forecasts_biz_resource_fk",
          "tableFrom": "overtime_forecasts",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "overtime_policies": {
      "name": "overtime_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "overtime_policy_scope",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "overtime_policy_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "daily_threshold_min": {
          "name": "daily_threshold_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 480
        },
        "weekly_threshold_min": {
          "name": "weekly_threshold_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2400
        },
        "overtime_rate_bps": {
          "name": "overtime_rate_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 15000
        },
        "mitigation_policy": {
          "name": "mitigation_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "overtime_policies_biz_id_id_unique": {
          "name": "overtime_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "overtime_policies_biz_status_scope_idx": {
          "name": "overtime_policies_biz_status_scope_idx",
          "columns": [
            "biz_id",
            "status",
            "scope"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "overtime_policies_biz_id_bizes_id_fk": {
          "name": "overtime_policies_biz_id_bizes_id_fk",
          "tableFrom": "overtime_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_policies_location_id_locations_id_fk": {
          "name": "overtime_policies_location_id_locations_id_fk",
          "tableFrom": "overtime_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_policies_resource_id_resources_id_fk": {
          "name": "overtime_policies_resource_id_resources_id_fk",
          "tableFrom": "overtime_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_policies_created_by_users_id_fk": {
          "name": "overtime_policies_created_by_users_id_fk",
          "tableFrom": "overtime_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_policies_updated_by_users_id_fk": {
          "name": "overtime_policies_updated_by_users_id_fk",
          "tableFrom": "overtime_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_policies_deleted_by_users_id_fk": {
          "name": "overtime_policies_deleted_by_users_id_fk",
          "tableFrom": "overtime_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_policies_biz_location_fk": {
          "name": "overtime_policies_biz_location_fk",
          "tableFrom": "overtime_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "overtime_policies_biz_resource_fk": {
          "name": "overtime_policies_biz_resource_fk",
          "tableFrom": "overtime_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "ranking_events": {
      "name": "ranking_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ranking_profile_id": {
          "name": "ranking_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "ranking_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "score_delta": {
          "name": "score_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source_ref": {
          "name": "source_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ranking_events_biz_id_id_unique": {
          "name": "ranking_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "ranking_events_biz_profile_occurred_idx": {
          "name": "ranking_events_biz_profile_occurred_idx",
          "columns": [
            "biz_id",
            "ranking_profile_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ranking_events_biz_id_bizes_id_fk": {
          "name": "ranking_events_biz_id_bizes_id_fk",
          "tableFrom": "ranking_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_events_ranking_profile_id_ranking_profiles_id_fk": {
          "name": "ranking_events_ranking_profile_id_ranking_profiles_id_fk",
          "tableFrom": "ranking_events",
          "tableTo": "ranking_profiles",
          "columnsFrom": [
            "ranking_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_events_resource_id_resources_id_fk": {
          "name": "ranking_events_resource_id_resources_id_fk",
          "tableFrom": "ranking_events",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_events_created_by_users_id_fk": {
          "name": "ranking_events_created_by_users_id_fk",
          "tableFrom": "ranking_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_events_updated_by_users_id_fk": {
          "name": "ranking_events_updated_by_users_id_fk",
          "tableFrom": "ranking_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_events_deleted_by_users_id_fk": {
          "name": "ranking_events_deleted_by_users_id_fk",
          "tableFrom": "ranking_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_events_biz_profile_fk": {
          "name": "ranking_events_biz_profile_fk",
          "tableFrom": "ranking_events",
          "tableTo": "ranking_profiles",
          "columnsFrom": [
            "biz_id",
            "ranking_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_events_biz_resource_fk": {
          "name": "ranking_events_biz_resource_fk",
          "tableFrom": "ranking_events",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "ranking_profiles": {
      "name": "ranking_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "ranking_model_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "weights": {
          "name": "weights",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ranking_profiles_biz_id_id_unique": {
          "name": "ranking_profiles_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "ranking_profiles_biz_slug_unique": {
          "name": "ranking_profiles_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "ranking_profiles_default_unique": {
          "name": "ranking_profiles_default_unique",
          "columns": [
            "biz_id"
          ],
          "isUnique": true
        },
        "ranking_profiles_biz_status_idx": {
          "name": "ranking_profiles_biz_status_idx",
          "columns": [
            "biz_id",
            "status",
            "location_id",
            "service_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ranking_profiles_biz_id_bizes_id_fk": {
          "name": "ranking_profiles_biz_id_bizes_id_fk",
          "tableFrom": "ranking_profiles",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_profiles_location_id_locations_id_fk": {
          "name": "ranking_profiles_location_id_locations_id_fk",
          "tableFrom": "ranking_profiles",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_profiles_service_id_services_id_fk": {
          "name": "ranking_profiles_service_id_services_id_fk",
          "tableFrom": "ranking_profiles",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_profiles_created_by_users_id_fk": {
          "name": "ranking_profiles_created_by_users_id_fk",
          "tableFrom": "ranking_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_profiles_updated_by_users_id_fk": {
          "name": "ranking_profiles_updated_by_users_id_fk",
          "tableFrom": "ranking_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_profiles_deleted_by_users_id_fk": {
          "name": "ranking_profiles_deleted_by_users_id_fk",
          "tableFrom": "ranking_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_profiles_biz_location_fk": {
          "name": "ranking_profiles_biz_location_fk",
          "tableFrom": "ranking_profiles",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_profiles_biz_service_fk": {
          "name": "ranking_profiles_biz_service_fk",
          "tableFrom": "ranking_profiles",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "ranking_scores": {
      "name": "ranking_scores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ranking_profile_id": {
          "name": "ranking_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "percentile": {
          "name": "percentile",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_manual_override": {
          "name": "is_manual_override",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "computed_at": {
          "name": "computed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "component_breakdown": {
          "name": "component_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ranking_scores_biz_id_id_unique": {
          "name": "ranking_scores_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "ranking_scores_profile_resource_unique": {
          "name": "ranking_scores_profile_resource_unique",
          "columns": [
            "ranking_profile_id",
            "resource_id"
          ],
          "isUnique": true
        },
        "ranking_scores_biz_profile_score_idx": {
          "name": "ranking_scores_biz_profile_score_idx",
          "columns": [
            "biz_id",
            "ranking_profile_id",
            "score"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ranking_scores_biz_id_bizes_id_fk": {
          "name": "ranking_scores_biz_id_bizes_id_fk",
          "tableFrom": "ranking_scores",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_scores_ranking_profile_id_ranking_profiles_id_fk": {
          "name": "ranking_scores_ranking_profile_id_ranking_profiles_id_fk",
          "tableFrom": "ranking_scores",
          "tableTo": "ranking_profiles",
          "columnsFrom": [
            "ranking_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_scores_resource_id_resources_id_fk": {
          "name": "ranking_scores_resource_id_resources_id_fk",
          "tableFrom": "ranking_scores",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_scores_created_by_users_id_fk": {
          "name": "ranking_scores_created_by_users_id_fk",
          "tableFrom": "ranking_scores",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_scores_updated_by_users_id_fk": {
          "name": "ranking_scores_updated_by_users_id_fk",
          "tableFrom": "ranking_scores",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_scores_deleted_by_users_id_fk": {
          "name": "ranking_scores_deleted_by_users_id_fk",
          "tableFrom": "ranking_scores",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_scores_biz_profile_fk": {
          "name": "ranking_scores_biz_profile_fk",
          "tableFrom": "ranking_scores",
          "tableTo": "ranking_profiles",
          "columnsFrom": [
            "biz_id",
            "ranking_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ranking_scores_biz_resource_fk": {
          "name": "ranking_scores_biz_resource_fk",
          "tableFrom": "ranking_scores",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "staffing_assignments": {
      "name": "staffing_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "staffing_demand_id": {
          "name": "staffing_demand_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "staffing_response_id": {
          "name": "staffing_response_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_assignment_id": {
          "name": "fulfillment_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "staffing_assignment_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "compensation_rate_minor": {
          "name": "compensation_rate_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "compensation_currency": {
          "name": "compensation_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "assigned_by_user_id": {
          "name": "assigned_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "staffing_assignments_biz_id_id_unique": {
          "name": "staffing_assignments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "staffing_assignments_response_unique": {
          "name": "staffing_assignments_response_unique",
          "columns": [
            "staffing_response_id"
          ],
          "isUnique": true
        },
        "staffing_assignments_biz_demand_status_idx": {
          "name": "staffing_assignments_biz_demand_status_idx",
          "columns": [
            "biz_id",
            "staffing_demand_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        },
        "staffing_assignments_biz_resource_status_idx": {
          "name": "staffing_assignments_biz_resource_status_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staffing_assignments_biz_id_bizes_id_fk": {
          "name": "staffing_assignments_biz_id_bizes_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_staffing_demand_id_staffing_demands_id_fk": {
          "name": "staffing_assignments_staffing_demand_id_staffing_demands_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "staffing_demands",
          "columnsFrom": [
            "staffing_demand_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_resource_id_resources_id_fk": {
          "name": "staffing_assignments_resource_id_resources_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_staffing_response_id_staffing_responses_id_fk": {
          "name": "staffing_assignments_staffing_response_id_staffing_responses_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "staffing_responses",
          "columnsFrom": [
            "staffing_response_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_fulfillment_assignment_id_fulfillment_assignments_id_fk": {
          "name": "staffing_assignments_fulfillment_assignment_id_fulfillment_assignments_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "staffing_assignments_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_assigned_by_user_id_users_id_fk": {
          "name": "staffing_assignments_assigned_by_user_id_users_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_created_by_users_id_fk": {
          "name": "staffing_assignments_created_by_users_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_updated_by_users_id_fk": {
          "name": "staffing_assignments_updated_by_users_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_deleted_by_users_id_fk": {
          "name": "staffing_assignments_deleted_by_users_id_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_biz_demand_fk": {
          "name": "staffing_assignments_biz_demand_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "staffing_demands",
          "columnsFrom": [
            "biz_id",
            "staffing_demand_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_biz_resource_fk": {
          "name": "staffing_assignments_biz_resource_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_biz_response_fk": {
          "name": "staffing_assignments_biz_response_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "staffing_responses",
          "columnsFrom": [
            "biz_id",
            "staffing_response_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_biz_fulfillment_assignment_fk": {
          "name": "staffing_assignments_biz_fulfillment_assignment_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "biz_id",
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_assignments_biz_fulfillment_unit_fk": {
          "name": "staffing_assignments_biz_fulfillment_unit_fk",
          "tableFrom": "staffing_assignments",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "staffing_demand_requirements": {
      "name": "staffing_demand_requirements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "staffing_demand_id": {
          "name": "staffing_demand_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "target_resource_type": {
          "name": "target_resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_mode": {
          "name": "requirement_mode",
          "type": "staffing_requirement_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "min_quantity": {
          "name": "min_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "max_quantity": {
          "name": "max_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "selector_match_mode": {
          "name": "selector_match_mode",
          "type": "staffing_selector_match_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'any'"
        },
        "allow_substitution": {
          "name": "allow_substitution",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "description": {
          "name": "description",
          "type": "varchar(700)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "staffing_demand_requirements_biz_id_id_unique": {
          "name": "staffing_demand_requirements_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "staffing_demand_requirements_unique": {
          "name": "staffing_demand_requirements_unique",
          "columns": [
            "staffing_demand_id",
            "slug"
          ],
          "isUnique": true
        },
        "staffing_demand_requirements_biz_demand_sort_idx": {
          "name": "staffing_demand_requirements_biz_demand_sort_idx",
          "columns": [
            "biz_id",
            "staffing_demand_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staffing_demand_requirements_biz_id_bizes_id_fk": {
          "name": "staffing_demand_requirements_biz_id_bizes_id_fk",
          "tableFrom": "staffing_demand_requirements",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_requirements_staffing_demand_id_staffing_demands_id_fk": {
          "name": "staffing_demand_requirements_staffing_demand_id_staffing_demands_id_fk",
          "tableFrom": "staffing_demand_requirements",
          "tableTo": "staffing_demands",
          "columnsFrom": [
            "staffing_demand_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_requirements_created_by_users_id_fk": {
          "name": "staffing_demand_requirements_created_by_users_id_fk",
          "tableFrom": "staffing_demand_requirements",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_requirements_updated_by_users_id_fk": {
          "name": "staffing_demand_requirements_updated_by_users_id_fk",
          "tableFrom": "staffing_demand_requirements",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_requirements_deleted_by_users_id_fk": {
          "name": "staffing_demand_requirements_deleted_by_users_id_fk",
          "tableFrom": "staffing_demand_requirements",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_requirements_biz_demand_fk": {
          "name": "staffing_demand_requirements_biz_demand_fk",
          "tableFrom": "staffing_demand_requirements",
          "tableTo": "staffing_demands",
          "columnsFrom": [
            "biz_id",
            "staffing_demand_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "staffing_demand_selectors": {
      "name": "staffing_demand_selectors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "staffing_demand_requirement_id": {
          "name": "staffing_demand_requirement_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "selector_type": {
          "name": "selector_type",
          "type": "staffing_selector_type",
          "primaryKey": false,
          "notNull": true
        },
        "is_included": {
          "name": "is_included",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": false
        },
        "capability_template_id": {
          "name": "capability_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "description": {
          "name": "description",
          "type": "varchar(700)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "staffing_demand_selectors_biz_id_id_unique": {
          "name": "staffing_demand_selectors_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "staffing_demand_selectors_biz_requirement_sort_idx": {
          "name": "staffing_demand_selectors_biz_requirement_sort_idx",
          "columns": [
            "biz_id",
            "staffing_demand_requirement_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "staffing_demand_selectors_biz_resource_idx": {
          "name": "staffing_demand_selectors_biz_resource_idx",
          "columns": [
            "biz_id",
            "resource_id"
          ],
          "isUnique": false
        },
        "staffing_demand_selectors_biz_capability_idx": {
          "name": "staffing_demand_selectors_biz_capability_idx",
          "columns": [
            "biz_id",
            "capability_template_id"
          ],
          "isUnique": false
        },
        "staffing_demand_selectors_biz_subject_idx": {
          "name": "staffing_demand_selectors_biz_subject_idx",
          "columns": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staffing_demand_selectors_biz_id_bizes_id_fk": {
          "name": "staffing_demand_selectors_biz_id_bizes_id_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_staffing_demand_requirement_id_staffing_demand_requirements_id_fk": {
          "name": "staffing_demand_selectors_staffing_demand_requirement_id_staffing_demand_requirements_id_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "staffing_demand_requirements",
          "columnsFrom": [
            "staffing_demand_requirement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_resource_id_resources_id_fk": {
          "name": "staffing_demand_selectors_resource_id_resources_id_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_capability_template_id_resource_capability_templates_id_fk": {
          "name": "staffing_demand_selectors_capability_template_id_resource_capability_templates_id_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "capability_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_location_id_locations_id_fk": {
          "name": "staffing_demand_selectors_location_id_locations_id_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_created_by_users_id_fk": {
          "name": "staffing_demand_selectors_created_by_users_id_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_updated_by_users_id_fk": {
          "name": "staffing_demand_selectors_updated_by_users_id_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_deleted_by_users_id_fk": {
          "name": "staffing_demand_selectors_deleted_by_users_id_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_biz_requirement_fk": {
          "name": "staffing_demand_selectors_biz_requirement_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "staffing_demand_requirements",
          "columnsFrom": [
            "biz_id",
            "staffing_demand_requirement_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_biz_resource_fk": {
          "name": "staffing_demand_selectors_biz_resource_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_biz_capability_fk": {
          "name": "staffing_demand_selectors_biz_capability_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "biz_id",
            "capability_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_biz_location_fk": {
          "name": "staffing_demand_selectors_biz_location_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demand_selectors_biz_subject_fk": {
          "name": "staffing_demand_selectors_biz_subject_fk",
          "tableFrom": "staffing_demand_selectors",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "staffing_demands": {
      "name": "staffing_demands",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "staffing_pool_id": {
          "name": "staffing_pool_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "demand_type": {
          "name": "demand_type",
          "type": "staffing_demand_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'open_shift'"
        },
        "fill_mode": {
          "name": "fill_mode",
          "type": "staffing_fill_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'fcfs_claim'"
        },
        "status": {
          "name": "status",
          "type": "staffing_demand_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "title": {
          "name": "title",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_resource_type": {
          "name": "target_resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": false
        },
        "required_count": {
          "name": "required_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "filled_count": {
          "name": "filled_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "claim_opens_at": {
          "name": "claim_opens_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "claim_closes_at": {
          "name": "claim_closes_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "auction_opens_at": {
          "name": "auction_opens_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "auction_closes_at": {
          "name": "auction_closes_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "auction_id": {
          "name": "auction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "base_rate_minor": {
          "name": "base_rate_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_rate_minor": {
          "name": "max_rate_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_assignment_id": {
          "name": "fulfillment_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_resource_id": {
          "name": "from_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_resource_id": {
          "name": "assigned_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by_user_id": {
          "name": "requested_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref_id": {
          "name": "source_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "staffing_demands_biz_id_id_unique": {
          "name": "staffing_demands_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "staffing_demands_biz_status_start_idx": {
          "name": "staffing_demands_biz_status_start_idx",
          "columns": [
            "biz_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        },
        "staffing_demands_biz_fill_mode_start_idx": {
          "name": "staffing_demands_biz_fill_mode_start_idx",
          "columns": [
            "biz_id",
            "fill_mode",
            "starts_at"
          ],
          "isUnique": false
        },
        "staffing_demands_biz_auction_idx": {
          "name": "staffing_demands_biz_auction_idx",
          "columns": [
            "biz_id",
            "auction_id"
          ],
          "isUnique": false
        },
        "staffing_demands_auction_unique": {
          "name": "staffing_demands_auction_unique",
          "columns": [
            "auction_id"
          ],
          "isUnique": true
        },
        "staffing_demands_biz_source_assignment_idx": {
          "name": "staffing_demands_biz_source_assignment_idx",
          "columns": [
            "biz_id",
            "fulfillment_assignment_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staffing_demands_biz_id_bizes_id_fk": {
          "name": "staffing_demands_biz_id_bizes_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_staffing_pool_id_staffing_pools_id_fk": {
          "name": "staffing_demands_staffing_pool_id_staffing_pools_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "staffing_pools",
          "columnsFrom": [
            "staffing_pool_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_location_id_locations_id_fk": {
          "name": "staffing_demands_location_id_locations_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_auction_id_auctions_id_fk": {
          "name": "staffing_demands_auction_id_auctions_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "auctions",
          "columnsFrom": [
            "auction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_fulfillment_assignment_id_fulfillment_assignments_id_fk": {
          "name": "staffing_demands_fulfillment_assignment_id_fulfillment_assignments_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "staffing_demands_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_from_resource_id_resources_id_fk": {
          "name": "staffing_demands_from_resource_id_resources_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "resources",
          "columnsFrom": [
            "from_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_assigned_resource_id_resources_id_fk": {
          "name": "staffing_demands_assigned_resource_id_resources_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "resources",
          "columnsFrom": [
            "assigned_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_requested_by_user_id_users_id_fk": {
          "name": "staffing_demands_requested_by_user_id_users_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_created_by_users_id_fk": {
          "name": "staffing_demands_created_by_users_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_updated_by_users_id_fk": {
          "name": "staffing_demands_updated_by_users_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_deleted_by_users_id_fk": {
          "name": "staffing_demands_deleted_by_users_id_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_biz_pool_fk": {
          "name": "staffing_demands_biz_pool_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "staffing_pools",
          "columnsFrom": [
            "biz_id",
            "staffing_pool_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_biz_location_fk": {
          "name": "staffing_demands_biz_location_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_biz_assignment_fk": {
          "name": "staffing_demands_biz_assignment_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "biz_id",
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_biz_auction_fk": {
          "name": "staffing_demands_biz_auction_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "auctions",
          "columnsFrom": [
            "biz_id",
            "auction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_biz_unit_fk": {
          "name": "staffing_demands_biz_unit_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_biz_from_resource_fk": {
          "name": "staffing_demands_biz_from_resource_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "from_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_demands_biz_assigned_resource_fk": {
          "name": "staffing_demands_biz_assigned_resource_fk",
          "tableFrom": "staffing_demands",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "assigned_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "staffing_fairness_counters": {
      "name": "staffing_fairness_counters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "staffing_pool_id": {
          "name": "staffing_pool_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "window_start_at": {
          "name": "window_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "window_end_at": {
          "name": "window_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "offered_count": {
          "name": "offered_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "claim_count": {
          "name": "claim_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "bid_count": {
          "name": "bid_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "accepted_count": {
          "name": "accepted_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "assigned_count": {
          "name": "assigned_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "declined_count": {
          "name": "declined_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "no_response_count": {
          "name": "no_response_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "staffing_fairness_counters_biz_id_id_unique": {
          "name": "staffing_fairness_counters_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "staffing_fairness_counters_unique": {
          "name": "staffing_fairness_counters_unique",
          "columns": [
            "staffing_pool_id",
            "resource_id",
            "window_start_at"
          ],
          "isUnique": true
        },
        "staffing_fairness_counters_biz_pool_window_idx": {
          "name": "staffing_fairness_counters_biz_pool_window_idx",
          "columns": [
            "biz_id",
            "staffing_pool_id",
            "window_start_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staffing_fairness_counters_biz_id_bizes_id_fk": {
          "name": "staffing_fairness_counters_biz_id_bizes_id_fk",
          "tableFrom": "staffing_fairness_counters",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_fairness_counters_staffing_pool_id_staffing_pools_id_fk": {
          "name": "staffing_fairness_counters_staffing_pool_id_staffing_pools_id_fk",
          "tableFrom": "staffing_fairness_counters",
          "tableTo": "staffing_pools",
          "columnsFrom": [
            "staffing_pool_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_fairness_counters_resource_id_resources_id_fk": {
          "name": "staffing_fairness_counters_resource_id_resources_id_fk",
          "tableFrom": "staffing_fairness_counters",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_fairness_counters_created_by_users_id_fk": {
          "name": "staffing_fairness_counters_created_by_users_id_fk",
          "tableFrom": "staffing_fairness_counters",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_fairness_counters_updated_by_users_id_fk": {
          "name": "staffing_fairness_counters_updated_by_users_id_fk",
          "tableFrom": "staffing_fairness_counters",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_fairness_counters_deleted_by_users_id_fk": {
          "name": "staffing_fairness_counters_deleted_by_users_id_fk",
          "tableFrom": "staffing_fairness_counters",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_fairness_counters_biz_pool_fk": {
          "name": "staffing_fairness_counters_biz_pool_fk",
          "tableFrom": "staffing_fairness_counters",
          "tableTo": "staffing_pools",
          "columnsFrom": [
            "biz_id",
            "staffing_pool_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_fairness_counters_biz_resource_fk": {
          "name": "staffing_fairness_counters_biz_resource_fk",
          "tableFrom": "staffing_fairness_counters",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "staffing_pool_members": {
      "name": "staffing_pool_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "staffing_pool_id": {
          "name": "staffing_pool_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "capability_template_id": {
          "name": "capability_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority_score": {
          "name": "priority_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "weight": {
          "name": "weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "last_assigned_at": {
          "name": "last_assigned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "staffing_pool_members_biz_id_id_unique": {
          "name": "staffing_pool_members_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "staffing_pool_members_unique": {
          "name": "staffing_pool_members_unique",
          "columns": [
            "staffing_pool_id",
            "resource_id"
          ],
          "isUnique": true
        },
        "staffing_pool_members_biz_pool_active_idx": {
          "name": "staffing_pool_members_biz_pool_active_idx",
          "columns": [
            "biz_id",
            "staffing_pool_id",
            "is_active",
            "priority_score"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staffing_pool_members_biz_id_bizes_id_fk": {
          "name": "staffing_pool_members_biz_id_bizes_id_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pool_members_staffing_pool_id_staffing_pools_id_fk": {
          "name": "staffing_pool_members_staffing_pool_id_staffing_pools_id_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "staffing_pools",
          "columnsFrom": [
            "staffing_pool_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pool_members_resource_id_resources_id_fk": {
          "name": "staffing_pool_members_resource_id_resources_id_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pool_members_capability_template_id_resource_capability_templates_id_fk": {
          "name": "staffing_pool_members_capability_template_id_resource_capability_templates_id_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "capability_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pool_members_created_by_users_id_fk": {
          "name": "staffing_pool_members_created_by_users_id_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pool_members_updated_by_users_id_fk": {
          "name": "staffing_pool_members_updated_by_users_id_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pool_members_deleted_by_users_id_fk": {
          "name": "staffing_pool_members_deleted_by_users_id_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pool_members_biz_pool_fk": {
          "name": "staffing_pool_members_biz_pool_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "staffing_pools",
          "columnsFrom": [
            "biz_id",
            "staffing_pool_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pool_members_biz_resource_fk": {
          "name": "staffing_pool_members_biz_resource_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pool_members_biz_capability_fk": {
          "name": "staffing_pool_members_biz_capability_fk",
          "tableFrom": "staffing_pool_members",
          "tableTo": "resource_capability_templates",
          "columnsFrom": [
            "biz_id",
            "capability_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "staffing_pools": {
      "name": "staffing_pools",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_resource_type": {
          "name": "target_resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "fairness_window_value": {
          "name": "fairness_window_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "fairness_window_unit": {
          "name": "fairness_window_unit",
          "type": "fairness_window_unit",
          "primaryKey": false,
          "notNull": true,
          "default": "'week'"
        },
        "selection_policy": {
          "name": "selection_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "claim_policy": {
          "name": "claim_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "staffing_pools_biz_id_id_unique": {
          "name": "staffing_pools_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "staffing_pools_biz_slug_unique": {
          "name": "staffing_pools_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "staffing_pools_biz_type_location_idx": {
          "name": "staffing_pools_biz_type_location_idx",
          "columns": [
            "biz_id",
            "target_resource_type",
            "location_id",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "staffing_pools_biz_id_bizes_id_fk": {
          "name": "staffing_pools_biz_id_bizes_id_fk",
          "tableFrom": "staffing_pools",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pools_location_id_locations_id_fk": {
          "name": "staffing_pools_location_id_locations_id_fk",
          "tableFrom": "staffing_pools",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pools_created_by_users_id_fk": {
          "name": "staffing_pools_created_by_users_id_fk",
          "tableFrom": "staffing_pools",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pools_updated_by_users_id_fk": {
          "name": "staffing_pools_updated_by_users_id_fk",
          "tableFrom": "staffing_pools",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pools_deleted_by_users_id_fk": {
          "name": "staffing_pools_deleted_by_users_id_fk",
          "tableFrom": "staffing_pools",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_pools_biz_location_fk": {
          "name": "staffing_pools_biz_location_fk",
          "tableFrom": "staffing_pools",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "staffing_responses": {
      "name": "staffing_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "staffing_demand_id": {
          "name": "staffing_demand_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_resource_id": {
          "name": "candidate_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "response_mode": {
          "name": "response_mode",
          "type": "staffing_response_mode",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "staffing_response_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "rank_order": {
          "name": "rank_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "offered_at": {
          "name": "offered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_hourly_rate_minor": {
          "name": "proposed_hourly_rate_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_total_minor": {
          "name": "proposed_total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "response_reason": {
          "name": "response_reason",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "responded_by_user_id": {
          "name": "responded_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "staffing_responses_biz_id_id_unique": {
          "name": "staffing_responses_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "staffing_responses_biz_demand_status_idx": {
          "name": "staffing_responses_biz_demand_status_idx",
          "columns": [
            "biz_id",
            "staffing_demand_id",
            "status",
            "offered_at"
          ],
          "isUnique": false
        },
        "staffing_responses_biz_candidate_status_idx": {
          "name": "staffing_responses_biz_candidate_status_idx",
          "columns": [
            "biz_id",
            "candidate_resource_id",
            "status",
            "offered_at"
          ],
          "isUnique": false
        },
        "staffing_responses_unique_non_bid": {
          "name": "staffing_responses_unique_non_bid",
          "columns": [
            "staffing_demand_id",
            "candidate_resource_id",
            "response_mode"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "staffing_responses_biz_id_bizes_id_fk": {
          "name": "staffing_responses_biz_id_bizes_id_fk",
          "tableFrom": "staffing_responses",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_responses_staffing_demand_id_staffing_demands_id_fk": {
          "name": "staffing_responses_staffing_demand_id_staffing_demands_id_fk",
          "tableFrom": "staffing_responses",
          "tableTo": "staffing_demands",
          "columnsFrom": [
            "staffing_demand_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_responses_candidate_resource_id_resources_id_fk": {
          "name": "staffing_responses_candidate_resource_id_resources_id_fk",
          "tableFrom": "staffing_responses",
          "tableTo": "resources",
          "columnsFrom": [
            "candidate_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_responses_responded_by_user_id_users_id_fk": {
          "name": "staffing_responses_responded_by_user_id_users_id_fk",
          "tableFrom": "staffing_responses",
          "tableTo": "users",
          "columnsFrom": [
            "responded_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_responses_created_by_users_id_fk": {
          "name": "staffing_responses_created_by_users_id_fk",
          "tableFrom": "staffing_responses",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_responses_updated_by_users_id_fk": {
          "name": "staffing_responses_updated_by_users_id_fk",
          "tableFrom": "staffing_responses",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_responses_deleted_by_users_id_fk": {
          "name": "staffing_responses_deleted_by_users_id_fk",
          "tableFrom": "staffing_responses",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_responses_biz_demand_fk": {
          "name": "staffing_responses_biz_demand_fk",
          "tableFrom": "staffing_responses",
          "tableTo": "staffing_demands",
          "columnsFrom": [
            "biz_id",
            "staffing_demand_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "staffing_responses_biz_candidate_fk": {
          "name": "staffing_responses_biz_candidate_fk",
          "tableFrom": "staffing_responses",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "candidate_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "certification_awards": {
      "name": "certification_awards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "certification_template_id": {
          "name": "certification_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "learner_user_id": {
          "name": "learner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "certification_award_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'awarded'"
        },
        "awarded_at": {
          "name": "awarded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "certificate_code": {
          "name": "certificate_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "certification_awards_biz_id_id_unique": {
          "name": "certification_awards_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "certification_awards_template_enrollment_unique": {
          "name": "certification_awards_template_enrollment_unique",
          "columns": [
            "certification_template_id",
            "enrollment_id"
          ],
          "isUnique": true
        },
        "certification_awards_code_unique": {
          "name": "certification_awards_code_unique",
          "columns": [
            "biz_id",
            "certificate_code"
          ],
          "isUnique": true
        },
        "certification_awards_biz_learner_status_idx": {
          "name": "certification_awards_biz_learner_status_idx",
          "columns": [
            "biz_id",
            "learner_user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "certification_awards_biz_id_bizes_id_fk": {
          "name": "certification_awards_biz_id_bizes_id_fk",
          "tableFrom": "certification_awards",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_awards_certification_template_id_certification_templates_id_fk": {
          "name": "certification_awards_certification_template_id_certification_templates_id_fk",
          "tableFrom": "certification_awards",
          "tableTo": "certification_templates",
          "columnsFrom": [
            "certification_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_awards_enrollment_id_cohort_enrollments_id_fk": {
          "name": "certification_awards_enrollment_id_cohort_enrollments_id_fk",
          "tableFrom": "certification_awards",
          "tableTo": "cohort_enrollments",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_awards_learner_user_id_users_id_fk": {
          "name": "certification_awards_learner_user_id_users_id_fk",
          "tableFrom": "certification_awards",
          "tableTo": "users",
          "columnsFrom": [
            "learner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_awards_created_by_users_id_fk": {
          "name": "certification_awards_created_by_users_id_fk",
          "tableFrom": "certification_awards",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_awards_updated_by_users_id_fk": {
          "name": "certification_awards_updated_by_users_id_fk",
          "tableFrom": "certification_awards",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_awards_deleted_by_users_id_fk": {
          "name": "certification_awards_deleted_by_users_id_fk",
          "tableFrom": "certification_awards",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_awards_biz_template_fk": {
          "name": "certification_awards_biz_template_fk",
          "tableFrom": "certification_awards",
          "tableTo": "certification_templates",
          "columnsFrom": [
            "biz_id",
            "certification_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_awards_biz_enrollment_fk": {
          "name": "certification_awards_biz_enrollment_fk",
          "tableFrom": "certification_awards",
          "tableTo": "cohort_enrollments",
          "columnsFrom": [
            "biz_id",
            "enrollment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "certification_templates": {
      "name": "certification_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "program_id": {
          "name": "program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "criteria": {
          "name": "criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "valid_for_days": {
          "name": "valid_for_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "certification_templates_biz_id_id_unique": {
          "name": "certification_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "certification_templates_program_slug_unique": {
          "name": "certification_templates_program_slug_unique",
          "columns": [
            "program_id",
            "slug"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "certification_templates_biz_id_bizes_id_fk": {
          "name": "certification_templates_biz_id_bizes_id_fk",
          "tableFrom": "certification_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_templates_program_id_programs_id_fk": {
          "name": "certification_templates_program_id_programs_id_fk",
          "tableFrom": "certification_templates",
          "tableTo": "programs",
          "columnsFrom": [
            "program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_templates_created_by_users_id_fk": {
          "name": "certification_templates_created_by_users_id_fk",
          "tableFrom": "certification_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_templates_updated_by_users_id_fk": {
          "name": "certification_templates_updated_by_users_id_fk",
          "tableFrom": "certification_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_templates_deleted_by_users_id_fk": {
          "name": "certification_templates_deleted_by_users_id_fk",
          "tableFrom": "certification_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "certification_templates_biz_program_fk": {
          "name": "certification_templates_biz_program_fk",
          "tableFrom": "certification_templates",
          "tableTo": "programs",
          "columnsFrom": [
            "biz_id",
            "program_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "cohort_enrollments": {
      "name": "cohort_enrollments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cohort_id": {
          "name": "cohort_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "learner_user_id": {
          "name": "learner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "enrollment_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'enrolled'"
        },
        "enrolled_at": {
          "name": "enrolled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "dropped_at": {
          "name": "dropped_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "final_score": {
          "name": "final_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "cohort_enrollments_biz_id_id_unique": {
          "name": "cohort_enrollments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "cohort_enrollments_unique": {
          "name": "cohort_enrollments_unique",
          "columns": [
            "cohort_id",
            "learner_user_id"
          ],
          "isUnique": true
        },
        "cohort_enrollments_biz_status_idx": {
          "name": "cohort_enrollments_biz_status_idx",
          "columns": [
            "biz_id",
            "status",
            "enrolled_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "cohort_enrollments_biz_id_bizes_id_fk": {
          "name": "cohort_enrollments_biz_id_bizes_id_fk",
          "tableFrom": "cohort_enrollments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cohort_enrollments_cohort_id_program_cohorts_id_fk": {
          "name": "cohort_enrollments_cohort_id_program_cohorts_id_fk",
          "tableFrom": "cohort_enrollments",
          "tableTo": "program_cohorts",
          "columnsFrom": [
            "cohort_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cohort_enrollments_learner_user_id_users_id_fk": {
          "name": "cohort_enrollments_learner_user_id_users_id_fk",
          "tableFrom": "cohort_enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "learner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cohort_enrollments_booking_order_id_booking_orders_id_fk": {
          "name": "cohort_enrollments_booking_order_id_booking_orders_id_fk",
          "tableFrom": "cohort_enrollments",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cohort_enrollments_created_by_users_id_fk": {
          "name": "cohort_enrollments_created_by_users_id_fk",
          "tableFrom": "cohort_enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cohort_enrollments_updated_by_users_id_fk": {
          "name": "cohort_enrollments_updated_by_users_id_fk",
          "tableFrom": "cohort_enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cohort_enrollments_deleted_by_users_id_fk": {
          "name": "cohort_enrollments_deleted_by_users_id_fk",
          "tableFrom": "cohort_enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cohort_enrollments_biz_cohort_fk": {
          "name": "cohort_enrollments_biz_cohort_fk",
          "tableFrom": "cohort_enrollments",
          "tableTo": "program_cohorts",
          "columnsFrom": [
            "biz_id",
            "cohort_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cohort_enrollments_biz_booking_order_fk": {
          "name": "cohort_enrollments_biz_booking_order_fk",
          "tableFrom": "cohort_enrollments",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "program_cohort_sessions": {
      "name": "program_cohort_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cohort_id": {
          "name": "cohort_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "program_session_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instructor_resource_id": {
          "name": "instructor_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "program_cohort_sessions_biz_id_id_unique": {
          "name": "program_cohort_sessions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "program_cohort_sessions_sequence_unique": {
          "name": "program_cohort_sessions_sequence_unique",
          "columns": [
            "cohort_id",
            "sequence"
          ],
          "isUnique": true
        },
        "program_cohort_sessions_biz_cohort_starts_idx": {
          "name": "program_cohort_sessions_biz_cohort_starts_idx",
          "columns": [
            "biz_id",
            "cohort_id",
            "starts_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "program_cohort_sessions_biz_id_bizes_id_fk": {
          "name": "program_cohort_sessions_biz_id_bizes_id_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_cohort_id_program_cohorts_id_fk": {
          "name": "program_cohort_sessions_cohort_id_program_cohorts_id_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "program_cohorts",
          "columnsFrom": [
            "cohort_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_location_id_locations_id_fk": {
          "name": "program_cohort_sessions_location_id_locations_id_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_instructor_resource_id_resources_id_fk": {
          "name": "program_cohort_sessions_instructor_resource_id_resources_id_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "resources",
          "columnsFrom": [
            "instructor_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "program_cohort_sessions_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_created_by_users_id_fk": {
          "name": "program_cohort_sessions_created_by_users_id_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_updated_by_users_id_fk": {
          "name": "program_cohort_sessions_updated_by_users_id_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_deleted_by_users_id_fk": {
          "name": "program_cohort_sessions_deleted_by_users_id_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_biz_cohort_fk": {
          "name": "program_cohort_sessions_biz_cohort_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "program_cohorts",
          "columnsFrom": [
            "biz_id",
            "cohort_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_biz_location_fk": {
          "name": "program_cohort_sessions_biz_location_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_biz_instructor_fk": {
          "name": "program_cohort_sessions_biz_instructor_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "instructor_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohort_sessions_biz_fulfillment_unit_fk": {
          "name": "program_cohort_sessions_biz_fulfillment_unit_fk",
          "tableFrom": "program_cohort_sessions",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "program_cohorts": {
      "name": "program_cohorts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "program_id": {
          "name": "program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "cohort_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "enrollment_opens_at": {
          "name": "enrollment_opens_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "enrollment_closes_at": {
          "name": "enrollment_closes_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lead_resource_id": {
          "name": "lead_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_enrollment": {
          "name": "min_enrollment",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "program_cohorts_biz_id_id_unique": {
          "name": "program_cohorts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "program_cohorts_program_code_unique": {
          "name": "program_cohorts_program_code_unique",
          "columns": [
            "program_id",
            "code"
          ],
          "isUnique": true
        },
        "program_cohorts_biz_status_starts_idx": {
          "name": "program_cohorts_biz_status_starts_idx",
          "columns": [
            "biz_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "program_cohorts_biz_id_bizes_id_fk": {
          "name": "program_cohorts_biz_id_bizes_id_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohorts_program_id_programs_id_fk": {
          "name": "program_cohorts_program_id_programs_id_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "programs",
          "columnsFrom": [
            "program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohorts_location_id_locations_id_fk": {
          "name": "program_cohorts_location_id_locations_id_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohorts_lead_resource_id_resources_id_fk": {
          "name": "program_cohorts_lead_resource_id_resources_id_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "resources",
          "columnsFrom": [
            "lead_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohorts_created_by_users_id_fk": {
          "name": "program_cohorts_created_by_users_id_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohorts_updated_by_users_id_fk": {
          "name": "program_cohorts_updated_by_users_id_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohorts_deleted_by_users_id_fk": {
          "name": "program_cohorts_deleted_by_users_id_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohorts_biz_program_fk": {
          "name": "program_cohorts_biz_program_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "programs",
          "columnsFrom": [
            "biz_id",
            "program_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohorts_biz_location_fk": {
          "name": "program_cohorts_biz_location_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "program_cohorts_biz_lead_resource_fk": {
          "name": "program_cohorts_biz_lead_resource_fk",
          "tableFrom": "program_cohorts",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "lead_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "programs": {
      "name": "programs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "program_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_binding_id": {
          "name": "calendar_binding_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expected_duration_days": {
          "name": "expected_duration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "required_attendance_bps": {
          "name": "required_attendance_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 8000
        },
        "curriculum": {
          "name": "curriculum",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "programs_biz_id_id_unique": {
          "name": "programs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "programs_biz_slug_unique": {
          "name": "programs_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "programs_biz_status_idx": {
          "name": "programs_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "programs_biz_id_bizes_id_fk": {
          "name": "programs_biz_id_bizes_id_fk",
          "tableFrom": "programs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "programs_offer_version_id_offer_versions_id_fk": {
          "name": "programs_offer_version_id_offer_versions_id_fk",
          "tableFrom": "programs",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "programs_calendar_binding_id_calendar_bindings_id_fk": {
          "name": "programs_calendar_binding_id_calendar_bindings_id_fk",
          "tableFrom": "programs",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "calendar_binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "programs_created_by_users_id_fk": {
          "name": "programs_created_by_users_id_fk",
          "tableFrom": "programs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "programs_updated_by_users_id_fk": {
          "name": "programs_updated_by_users_id_fk",
          "tableFrom": "programs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "programs_deleted_by_users_id_fk": {
          "name": "programs_deleted_by_users_id_fk",
          "tableFrom": "programs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "programs_biz_offer_version_fk": {
          "name": "programs_biz_offer_version_fk",
          "tableFrom": "programs",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "programs_biz_calendar_binding_fk": {
          "name": "programs_biz_calendar_binding_fk",
          "tableFrom": "programs",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "biz_id",
            "calendar_binding_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "session_attendance_records": {
      "name": "session_attendance_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enrollment_id": {
          "name": "enrollment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "session_attendance_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'present'"
        },
        "checked_in_at": {
          "name": "checked_in_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "checked_out_at": {
          "name": "checked_out_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "attended_minutes": {
          "name": "attended_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "varchar(800)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "session_attendance_records_biz_id_id_unique": {
          "name": "session_attendance_records_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "session_attendance_records_unique": {
          "name": "session_attendance_records_unique",
          "columns": [
            "session_id",
            "enrollment_id"
          ],
          "isUnique": true
        },
        "session_attendance_records_biz_session_status_idx": {
          "name": "session_attendance_records_biz_session_status_idx",
          "columns": [
            "biz_id",
            "session_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "session_attendance_records_biz_id_bizes_id_fk": {
          "name": "session_attendance_records_biz_id_bizes_id_fk",
          "tableFrom": "session_attendance_records",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_attendance_records_session_id_program_cohort_sessions_id_fk": {
          "name": "session_attendance_records_session_id_program_cohort_sessions_id_fk",
          "tableFrom": "session_attendance_records",
          "tableTo": "program_cohort_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_attendance_records_enrollment_id_cohort_enrollments_id_fk": {
          "name": "session_attendance_records_enrollment_id_cohort_enrollments_id_fk",
          "tableFrom": "session_attendance_records",
          "tableTo": "cohort_enrollments",
          "columnsFrom": [
            "enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_attendance_records_created_by_users_id_fk": {
          "name": "session_attendance_records_created_by_users_id_fk",
          "tableFrom": "session_attendance_records",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_attendance_records_updated_by_users_id_fk": {
          "name": "session_attendance_records_updated_by_users_id_fk",
          "tableFrom": "session_attendance_records",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_attendance_records_deleted_by_users_id_fk": {
          "name": "session_attendance_records_deleted_by_users_id_fk",
          "tableFrom": "session_attendance_records",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_attendance_records_biz_session_fk": {
          "name": "session_attendance_records_biz_session_fk",
          "tableFrom": "session_attendance_records",
          "tableTo": "program_cohort_sessions",
          "columnsFrom": [
            "biz_id",
            "session_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_attendance_records_biz_enrollment_fk": {
          "name": "session_attendance_records_biz_enrollment_fk",
          "tableFrom": "session_attendance_records",
          "tableTo": "cohort_enrollments",
          "columnsFrom": [
            "biz_id",
            "enrollment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "requirement_edges": {
      "name": "requirement_edges",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_set_id": {
          "name": "requirement_set_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_node_id": {
          "name": "from_node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_node_id": {
          "name": "to_node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "edge_type": {
          "name": "edge_type",
          "type": "requirement_edge_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'depends_on'"
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "requirement_edges_biz_id_id_unique": {
          "name": "requirement_edges_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_edges_set_edge_unique": {
          "name": "requirement_edges_set_edge_unique",
          "columns": [
            "requirement_set_id",
            "from_node_id",
            "to_node_id",
            "edge_type"
          ],
          "isUnique": true
        },
        "requirement_edges_biz_set_from_idx": {
          "name": "requirement_edges_biz_set_from_idx",
          "columns": [
            "biz_id",
            "requirement_set_id",
            "from_node_id"
          ],
          "isUnique": false
        },
        "requirement_edges_biz_set_to_idx": {
          "name": "requirement_edges_biz_set_to_idx",
          "columns": [
            "biz_id",
            "requirement_set_id",
            "to_node_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requirement_edges_biz_id_bizes_id_fk": {
          "name": "requirement_edges_biz_id_bizes_id_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_edges_requirement_set_id_requirement_sets_id_fk": {
          "name": "requirement_edges_requirement_set_id_requirement_sets_id_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "requirement_sets",
          "columnsFrom": [
            "requirement_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_edges_from_node_id_requirement_nodes_id_fk": {
          "name": "requirement_edges_from_node_id_requirement_nodes_id_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "requirement_nodes",
          "columnsFrom": [
            "from_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_edges_to_node_id_requirement_nodes_id_fk": {
          "name": "requirement_edges_to_node_id_requirement_nodes_id_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "requirement_nodes",
          "columnsFrom": [
            "to_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_edges_created_by_users_id_fk": {
          "name": "requirement_edges_created_by_users_id_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_edges_updated_by_users_id_fk": {
          "name": "requirement_edges_updated_by_users_id_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_edges_deleted_by_users_id_fk": {
          "name": "requirement_edges_deleted_by_users_id_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_edges_biz_set_fk": {
          "name": "requirement_edges_biz_set_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "requirement_sets",
          "columnsFrom": [
            "biz_id",
            "requirement_set_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_edges_biz_set_from_node_fk": {
          "name": "requirement_edges_biz_set_from_node_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "requirement_nodes",
          "columnsFrom": [
            "biz_id",
            "requirement_set_id",
            "from_node_id"
          ],
          "columnsTo": [
            "biz_id",
            "requirement_set_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_edges_biz_set_to_node_fk": {
          "name": "requirement_edges_biz_set_to_node_fk",
          "tableFrom": "requirement_edges",
          "tableTo": "requirement_nodes",
          "columnsFrom": [
            "biz_id",
            "requirement_set_id",
            "to_node_id"
          ],
          "columnsTo": [
            "biz_id",
            "requirement_set_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "requirement_evaluations": {
      "name": "requirement_evaluations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_set_id": {
          "name": "requirement_set_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "evaluated_subject_type": {
          "name": "evaluated_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "evaluated_subject_id": {
          "name": "evaluated_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "context_subject_type": {
          "name": "context_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "context_subject_id": {
          "name": "context_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "requirement_evaluation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "evaluated_at": {
          "name": "evaluated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "total_node_count": {
          "name": "total_node_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "satisfied_node_count": {
          "name": "satisfied_node_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "score_percent": {
          "name": "score_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "result_snapshot": {
          "name": "result_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "requirement_evaluations_biz_id_id_unique": {
          "name": "requirement_evaluations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_evaluations_biz_request_key_unique": {
          "name": "requirement_evaluations_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "requirement_evaluations_biz_set_status_started_idx": {
          "name": "requirement_evaluations_biz_set_status_started_idx",
          "columns": [
            "biz_id",
            "requirement_set_id",
            "status",
            "started_at"
          ],
          "isUnique": false
        },
        "requirement_evaluations_biz_subject_started_idx": {
          "name": "requirement_evaluations_biz_subject_started_idx",
          "columns": [
            "biz_id",
            "evaluated_subject_type",
            "evaluated_subject_id",
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requirement_evaluations_biz_id_bizes_id_fk": {
          "name": "requirement_evaluations_biz_id_bizes_id_fk",
          "tableFrom": "requirement_evaluations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evaluations_requirement_set_id_requirement_sets_id_fk": {
          "name": "requirement_evaluations_requirement_set_id_requirement_sets_id_fk",
          "tableFrom": "requirement_evaluations",
          "tableTo": "requirement_sets",
          "columnsFrom": [
            "requirement_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evaluations_created_by_users_id_fk": {
          "name": "requirement_evaluations_created_by_users_id_fk",
          "tableFrom": "requirement_evaluations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evaluations_updated_by_users_id_fk": {
          "name": "requirement_evaluations_updated_by_users_id_fk",
          "tableFrom": "requirement_evaluations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evaluations_deleted_by_users_id_fk": {
          "name": "requirement_evaluations_deleted_by_users_id_fk",
          "tableFrom": "requirement_evaluations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evaluations_biz_set_fk": {
          "name": "requirement_evaluations_biz_set_fk",
          "tableFrom": "requirement_evaluations",
          "tableTo": "requirement_sets",
          "columnsFrom": [
            "biz_id",
            "requirement_set_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evaluations_biz_evaluated_subject_fk": {
          "name": "requirement_evaluations_biz_evaluated_subject_fk",
          "tableFrom": "requirement_evaluations",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "evaluated_subject_type",
            "evaluated_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evaluations_biz_context_subject_fk": {
          "name": "requirement_evaluations_biz_context_subject_fk",
          "tableFrom": "requirement_evaluations",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "context_subject_type",
            "context_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "requirement_evidence_links": {
      "name": "requirement_evidence_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_evaluation_id": {
          "name": "requirement_evaluation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_node_id": {
          "name": "requirement_node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_type": {
          "name": "evidence_type",
          "type": "requirement_evidence_type",
          "primaryKey": false,
          "notNull": true
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "external_reference_type": {
          "name": "external_reference_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "external_reference_id": {
          "name": "external_reference_id",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "artifact_type": {
          "name": "artifact_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "artifact_id": {
          "name": "artifact_id",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "requirement_evidence_links_biz_id_id_unique": {
          "name": "requirement_evidence_links_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_evidence_links_biz_evaluation_idx": {
          "name": "requirement_evidence_links_biz_evaluation_idx",
          "columns": [
            "biz_id",
            "requirement_evaluation_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "requirement_evidence_links_biz_node_idx": {
          "name": "requirement_evidence_links_biz_node_idx",
          "columns": [
            "biz_id",
            "requirement_node_id",
            "evidence_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requirement_evidence_links_biz_id_bizes_id_fk": {
          "name": "requirement_evidence_links_biz_id_bizes_id_fk",
          "tableFrom": "requirement_evidence_links",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evidence_links_requirement_evaluation_id_requirement_evaluations_id_fk": {
          "name": "requirement_evidence_links_requirement_evaluation_id_requirement_evaluations_id_fk",
          "tableFrom": "requirement_evidence_links",
          "tableTo": "requirement_evaluations",
          "columnsFrom": [
            "requirement_evaluation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evidence_links_requirement_node_id_requirement_nodes_id_fk": {
          "name": "requirement_evidence_links_requirement_node_id_requirement_nodes_id_fk",
          "tableFrom": "requirement_evidence_links",
          "tableTo": "requirement_nodes",
          "columnsFrom": [
            "requirement_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evidence_links_created_by_users_id_fk": {
          "name": "requirement_evidence_links_created_by_users_id_fk",
          "tableFrom": "requirement_evidence_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evidence_links_updated_by_users_id_fk": {
          "name": "requirement_evidence_links_updated_by_users_id_fk",
          "tableFrom": "requirement_evidence_links",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evidence_links_deleted_by_users_id_fk": {
          "name": "requirement_evidence_links_deleted_by_users_id_fk",
          "tableFrom": "requirement_evidence_links",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evidence_links_biz_evaluation_fk": {
          "name": "requirement_evidence_links_biz_evaluation_fk",
          "tableFrom": "requirement_evidence_links",
          "tableTo": "requirement_evaluations",
          "columnsFrom": [
            "biz_id",
            "requirement_evaluation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evidence_links_biz_node_fk": {
          "name": "requirement_evidence_links_biz_node_fk",
          "tableFrom": "requirement_evidence_links",
          "tableTo": "requirement_nodes",
          "columnsFrom": [
            "biz_id",
            "requirement_node_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_evidence_links_biz_subject_fk": {
          "name": "requirement_evidence_links_biz_subject_fk",
          "tableFrom": "requirement_evidence_links",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "requirement_nodes": {
      "name": "requirement_nodes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_set_id": {
          "name": "requirement_set_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "node_key": {
          "name": "node_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "node_type": {
          "name": "node_type",
          "type": "requirement_node_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "description": {
          "name": "description",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "weight": {
          "name": "weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_blocking": {
          "name": "is_blocking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "predicate_type": {
          "name": "predicate_type",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "predicate_config": {
          "name": "predicate_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "requirement_nodes_biz_id_id_unique": {
          "name": "requirement_nodes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_nodes_biz_set_id_id_unique": {
          "name": "requirement_nodes_biz_set_id_id_unique",
          "columns": [
            "biz_id",
            "requirement_set_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_nodes_set_node_key_unique": {
          "name": "requirement_nodes_set_node_key_unique",
          "columns": [
            "requirement_set_id",
            "node_key"
          ],
          "isUnique": true
        },
        "requirement_nodes_biz_set_sort_idx": {
          "name": "requirement_nodes_biz_set_sort_idx",
          "columns": [
            "biz_id",
            "requirement_set_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "requirement_nodes_biz_target_subject_idx": {
          "name": "requirement_nodes_biz_target_subject_idx",
          "columns": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requirement_nodes_biz_id_bizes_id_fk": {
          "name": "requirement_nodes_biz_id_bizes_id_fk",
          "tableFrom": "requirement_nodes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_nodes_requirement_set_id_requirement_sets_id_fk": {
          "name": "requirement_nodes_requirement_set_id_requirement_sets_id_fk",
          "tableFrom": "requirement_nodes",
          "tableTo": "requirement_sets",
          "columnsFrom": [
            "requirement_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_nodes_created_by_users_id_fk": {
          "name": "requirement_nodes_created_by_users_id_fk",
          "tableFrom": "requirement_nodes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_nodes_updated_by_users_id_fk": {
          "name": "requirement_nodes_updated_by_users_id_fk",
          "tableFrom": "requirement_nodes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_nodes_deleted_by_users_id_fk": {
          "name": "requirement_nodes_deleted_by_users_id_fk",
          "tableFrom": "requirement_nodes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_nodes_biz_set_fk": {
          "name": "requirement_nodes_biz_set_fk",
          "tableFrom": "requirement_nodes",
          "tableTo": "requirement_sets",
          "columnsFrom": [
            "biz_id",
            "requirement_set_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_nodes_biz_target_subject_fk": {
          "name": "requirement_nodes_biz_target_subject_fk",
          "tableFrom": "requirement_nodes",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "requirement_sets": {
      "name": "requirement_sets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "requirement_set_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "evaluation_mode": {
          "name": "evaluation_mode",
          "type": "requirement_set_evaluation_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'all'"
        },
        "min_satisfied_count": {
          "name": "min_satisfied_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pass_threshold_percent": {
          "name": "pass_threshold_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "requirement_sets_biz_id_id_unique": {
          "name": "requirement_sets_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_sets_biz_slug_unique": {
          "name": "requirement_sets_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "requirement_sets_biz_status_idx": {
          "name": "requirement_sets_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requirement_sets_biz_id_bizes_id_fk": {
          "name": "requirement_sets_biz_id_bizes_id_fk",
          "tableFrom": "requirement_sets",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_sets_created_by_users_id_fk": {
          "name": "requirement_sets_created_by_users_id_fk",
          "tableFrom": "requirement_sets",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_sets_updated_by_users_id_fk": {
          "name": "requirement_sets_updated_by_users_id_fk",
          "tableFrom": "requirement_sets",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_sets_deleted_by_users_id_fk": {
          "name": "requirement_sets_deleted_by_users_id_fk",
          "tableFrom": "requirement_sets",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "assessment_attempts": {
      "name": "assessment_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_template_id": {
          "name": "assessment_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_subject_type": {
          "name": "candidate_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_subject_id": {
          "name": "candidate_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "context_subject_type": {
          "name": "context_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "context_subject_id": {
          "name": "context_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "requirement_evaluation_id": {
          "name": "requirement_evaluation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "assessment_attempt_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'started'"
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "graded_at": {
          "name": "graded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "score_percent": {
          "name": "score_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_score": {
          "name": "max_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "earned_score": {
          "name": "earned_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "evaluation_mode": {
          "name": "evaluation_mode",
          "type": "assessment_evaluation_mode",
          "primaryKey": false,
          "notNull": false
        },
        "reviewer_user_id": {
          "name": "reviewer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "result_snapshot": {
          "name": "result_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "assessment_attempts_biz_id_id_unique": {
          "name": "assessment_attempts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "assessment_attempts_biz_id_id_template_unique": {
          "name": "assessment_attempts_biz_id_id_template_unique",
          "columns": [
            "biz_id",
            "id",
            "assessment_template_id"
          ],
          "isUnique": true
        },
        "assessment_attempts_template_candidate_attempt_unique": {
          "name": "assessment_attempts_template_candidate_attempt_unique",
          "columns": [
            "assessment_template_id",
            "candidate_subject_type",
            "candidate_subject_id",
            "attempt_number"
          ],
          "isUnique": true
        },
        "assessment_attempts_biz_request_key_unique": {
          "name": "assessment_attempts_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "assessment_attempts_biz_template_status_started_idx": {
          "name": "assessment_attempts_biz_template_status_started_idx",
          "columns": [
            "biz_id",
            "assessment_template_id",
            "status",
            "started_at"
          ],
          "isUnique": false
        },
        "assessment_attempts_biz_candidate_started_idx": {
          "name": "assessment_attempts_biz_candidate_started_idx",
          "columns": [
            "biz_id",
            "candidate_subject_type",
            "candidate_subject_id",
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "assessment_attempts_biz_id_bizes_id_fk": {
          "name": "assessment_attempts_biz_id_bizes_id_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_assessment_template_id_assessment_templates_id_fk": {
          "name": "assessment_attempts_assessment_template_id_assessment_templates_id_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "assessment_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_requirement_evaluation_id_requirement_evaluations_id_fk": {
          "name": "assessment_attempts_requirement_evaluation_id_requirement_evaluations_id_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "requirement_evaluations",
          "columnsFrom": [
            "requirement_evaluation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_reviewer_user_id_users_id_fk": {
          "name": "assessment_attempts_reviewer_user_id_users_id_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "reviewer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_created_by_users_id_fk": {
          "name": "assessment_attempts_created_by_users_id_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_updated_by_users_id_fk": {
          "name": "assessment_attempts_updated_by_users_id_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_deleted_by_users_id_fk": {
          "name": "assessment_attempts_deleted_by_users_id_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_biz_template_fk": {
          "name": "assessment_attempts_biz_template_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "biz_id",
            "assessment_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_biz_candidate_fk": {
          "name": "assessment_attempts_biz_candidate_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "candidate_subject_type",
            "candidate_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_biz_context_fk": {
          "name": "assessment_attempts_biz_context_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "context_subject_type",
            "context_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_attempts_biz_requirement_eval_fk": {
          "name": "assessment_attempts_biz_requirement_eval_fk",
          "tableFrom": "assessment_attempts",
          "tableTo": "requirement_evaluations",
          "columnsFrom": [
            "biz_id",
            "requirement_evaluation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "assessment_items": {
      "name": "assessment_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_template_id": {
          "name": "assessment_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "item_key": {
          "name": "item_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "prompt": {
          "name": "prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_type": {
          "name": "item_type",
          "type": "assessment_item_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "max_score": {
          "name": "max_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "requirement_node_id": {
          "name": "requirement_node_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "assessment_items_biz_id_id_unique": {
          "name": "assessment_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "assessment_items_biz_id_id_template_unique": {
          "name": "assessment_items_biz_id_id_template_unique",
          "columns": [
            "biz_id",
            "id",
            "assessment_template_id"
          ],
          "isUnique": true
        },
        "assessment_items_template_item_key_unique": {
          "name": "assessment_items_template_item_key_unique",
          "columns": [
            "assessment_template_id",
            "item_key"
          ],
          "isUnique": true
        },
        "assessment_items_biz_template_sort_idx": {
          "name": "assessment_items_biz_template_sort_idx",
          "columns": [
            "biz_id",
            "assessment_template_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "assessment_items_biz_id_bizes_id_fk": {
          "name": "assessment_items_biz_id_bizes_id_fk",
          "tableFrom": "assessment_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_items_assessment_template_id_assessment_templates_id_fk": {
          "name": "assessment_items_assessment_template_id_assessment_templates_id_fk",
          "tableFrom": "assessment_items",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "assessment_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_items_requirement_node_id_requirement_nodes_id_fk": {
          "name": "assessment_items_requirement_node_id_requirement_nodes_id_fk",
          "tableFrom": "assessment_items",
          "tableTo": "requirement_nodes",
          "columnsFrom": [
            "requirement_node_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_items_created_by_users_id_fk": {
          "name": "assessment_items_created_by_users_id_fk",
          "tableFrom": "assessment_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_items_updated_by_users_id_fk": {
          "name": "assessment_items_updated_by_users_id_fk",
          "tableFrom": "assessment_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_items_deleted_by_users_id_fk": {
          "name": "assessment_items_deleted_by_users_id_fk",
          "tableFrom": "assessment_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_items_biz_template_fk": {
          "name": "assessment_items_biz_template_fk",
          "tableFrom": "assessment_items",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "biz_id",
            "assessment_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_items_biz_requirement_node_fk": {
          "name": "assessment_items_biz_requirement_node_fk",
          "tableFrom": "assessment_items",
          "tableTo": "requirement_nodes",
          "columnsFrom": [
            "biz_id",
            "requirement_node_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "assessment_responses": {
      "name": "assessment_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_attempt_id": {
          "name": "assessment_attempt_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_template_id": {
          "name": "assessment_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_item_id": {
          "name": "assessment_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "response_payload": {
          "name": "response_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "response_text": {
          "name": "response_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "score_awarded": {
          "name": "score_awarded",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "auto_scored": {
          "name": "auto_scored",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "scored_by_user_id": {
          "name": "scored_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "scored_at": {
          "name": "scored_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "assessment_responses_biz_id_id_unique": {
          "name": "assessment_responses_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "assessment_responses_attempt_item_unique": {
          "name": "assessment_responses_attempt_item_unique",
          "columns": [
            "assessment_attempt_id",
            "assessment_item_id"
          ],
          "isUnique": true
        },
        "assessment_responses_biz_attempt_idx": {
          "name": "assessment_responses_biz_attempt_idx",
          "columns": [
            "biz_id",
            "assessment_attempt_id",
            "responded_at"
          ],
          "isUnique": false
        },
        "assessment_responses_biz_item_idx": {
          "name": "assessment_responses_biz_item_idx",
          "columns": [
            "biz_id",
            "assessment_item_id",
            "responded_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "assessment_responses_biz_id_bizes_id_fk": {
          "name": "assessment_responses_biz_id_bizes_id_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_assessment_attempt_id_assessment_attempts_id_fk": {
          "name": "assessment_responses_assessment_attempt_id_assessment_attempts_id_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "assessment_attempts",
          "columnsFrom": [
            "assessment_attempt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_assessment_template_id_assessment_templates_id_fk": {
          "name": "assessment_responses_assessment_template_id_assessment_templates_id_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "assessment_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_assessment_item_id_assessment_items_id_fk": {
          "name": "assessment_responses_assessment_item_id_assessment_items_id_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "assessment_items",
          "columnsFrom": [
            "assessment_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_scored_by_user_id_users_id_fk": {
          "name": "assessment_responses_scored_by_user_id_users_id_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "users",
          "columnsFrom": [
            "scored_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_created_by_users_id_fk": {
          "name": "assessment_responses_created_by_users_id_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_updated_by_users_id_fk": {
          "name": "assessment_responses_updated_by_users_id_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_deleted_by_users_id_fk": {
          "name": "assessment_responses_deleted_by_users_id_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_biz_template_fk": {
          "name": "assessment_responses_biz_template_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "biz_id",
            "assessment_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_biz_attempt_template_fk": {
          "name": "assessment_responses_biz_attempt_template_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "assessment_attempts",
          "columnsFrom": [
            "biz_id",
            "assessment_attempt_id",
            "assessment_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "assessment_template_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_responses_biz_item_template_fk": {
          "name": "assessment_responses_biz_item_template_fk",
          "tableFrom": "assessment_responses",
          "tableTo": "assessment_items",
          "columnsFrom": [
            "biz_id",
            "assessment_item_id",
            "assessment_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "assessment_template_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "assessment_results": {
      "name": "assessment_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_attempt_id": {
          "name": "assessment_attempt_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_template_id": {
          "name": "assessment_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_subject_type": {
          "name": "candidate_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_subject_id": {
          "name": "candidate_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "assessment_result_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "score_percent": {
          "name": "score_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_score": {
          "name": "max_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "earned_score": {
          "name": "earned_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "invalidated_at": {
          "name": "invalidated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "requirement_evaluation_id": {
          "name": "requirement_evaluation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "assessment_results_biz_id_id_unique": {
          "name": "assessment_results_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "assessment_results_attempt_unique": {
          "name": "assessment_results_attempt_unique",
          "columns": [
            "assessment_attempt_id"
          ],
          "isUnique": true
        },
        "assessment_results_biz_status_decided_idx": {
          "name": "assessment_results_biz_status_decided_idx",
          "columns": [
            "biz_id",
            "status",
            "decided_at"
          ],
          "isUnique": false
        },
        "assessment_results_biz_candidate_decided_idx": {
          "name": "assessment_results_biz_candidate_decided_idx",
          "columns": [
            "biz_id",
            "candidate_subject_type",
            "candidate_subject_id",
            "decided_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "assessment_results_biz_id_bizes_id_fk": {
          "name": "assessment_results_biz_id_bizes_id_fk",
          "tableFrom": "assessment_results",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_assessment_attempt_id_assessment_attempts_id_fk": {
          "name": "assessment_results_assessment_attempt_id_assessment_attempts_id_fk",
          "tableFrom": "assessment_results",
          "tableTo": "assessment_attempts",
          "columnsFrom": [
            "assessment_attempt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_assessment_template_id_assessment_templates_id_fk": {
          "name": "assessment_results_assessment_template_id_assessment_templates_id_fk",
          "tableFrom": "assessment_results",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "assessment_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_requirement_evaluation_id_requirement_evaluations_id_fk": {
          "name": "assessment_results_requirement_evaluation_id_requirement_evaluations_id_fk",
          "tableFrom": "assessment_results",
          "tableTo": "requirement_evaluations",
          "columnsFrom": [
            "requirement_evaluation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_created_by_users_id_fk": {
          "name": "assessment_results_created_by_users_id_fk",
          "tableFrom": "assessment_results",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_updated_by_users_id_fk": {
          "name": "assessment_results_updated_by_users_id_fk",
          "tableFrom": "assessment_results",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_deleted_by_users_id_fk": {
          "name": "assessment_results_deleted_by_users_id_fk",
          "tableFrom": "assessment_results",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_biz_attempt_template_fk": {
          "name": "assessment_results_biz_attempt_template_fk",
          "tableFrom": "assessment_results",
          "tableTo": "assessment_attempts",
          "columnsFrom": [
            "biz_id",
            "assessment_attempt_id",
            "assessment_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "assessment_template_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_biz_template_fk": {
          "name": "assessment_results_biz_template_fk",
          "tableFrom": "assessment_results",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "biz_id",
            "assessment_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_biz_candidate_fk": {
          "name": "assessment_results_biz_candidate_fk",
          "tableFrom": "assessment_results",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "candidate_subject_type",
            "candidate_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_results_biz_requirement_eval_fk": {
          "name": "assessment_results_biz_requirement_eval_fk",
          "tableFrom": "assessment_results",
          "tableTo": "requirement_evaluations",
          "columnsFrom": [
            "biz_id",
            "requirement_evaluation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "assessment_templates": {
      "name": "assessment_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "assessment_template_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "evaluation_mode": {
          "name": "evaluation_mode",
          "type": "assessment_evaluation_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'hybrid'"
        },
        "pass_score_percent": {
          "name": "pass_score_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_duration_seconds": {
          "name": "attempt_duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "requirement_set_id": {
          "name": "requirement_set_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "assessment_templates_biz_id_id_unique": {
          "name": "assessment_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "assessment_templates_biz_slug_unique": {
          "name": "assessment_templates_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "assessment_templates_biz_status_idx": {
          "name": "assessment_templates_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "assessment_templates_biz_id_bizes_id_fk": {
          "name": "assessment_templates_biz_id_bizes_id_fk",
          "tableFrom": "assessment_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_templates_requirement_set_id_requirement_sets_id_fk": {
          "name": "assessment_templates_requirement_set_id_requirement_sets_id_fk",
          "tableFrom": "assessment_templates",
          "tableTo": "requirement_sets",
          "columnsFrom": [
            "requirement_set_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_templates_created_by_users_id_fk": {
          "name": "assessment_templates_created_by_users_id_fk",
          "tableFrom": "assessment_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_templates_updated_by_users_id_fk": {
          "name": "assessment_templates_updated_by_users_id_fk",
          "tableFrom": "assessment_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_templates_deleted_by_users_id_fk": {
          "name": "assessment_templates_deleted_by_users_id_fk",
          "tableFrom": "assessment_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "assessment_templates_biz_requirement_set_fk": {
          "name": "assessment_templates_biz_requirement_set_fk",
          "tableFrom": "assessment_templates",
          "tableTo": "requirement_sets",
          "columnsFrom": [
            "biz_id",
            "requirement_set_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "grading_events": {
      "name": "grading_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_attempt_id": {
          "name": "assessment_attempt_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_template_id": {
          "name": "assessment_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assessment_response_id": {
          "name": "assessment_response_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "grading_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_type": {
          "name": "actor_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_id": {
          "name": "actor_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "score_delta": {
          "name": "score_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "grading_events_biz_id_id_unique": {
          "name": "grading_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "grading_events_biz_attempt_happened_idx": {
          "name": "grading_events_biz_attempt_happened_idx",
          "columns": [
            "biz_id",
            "assessment_attempt_id",
            "happened_at"
          ],
          "isUnique": false
        },
        "grading_events_biz_type_happened_idx": {
          "name": "grading_events_biz_type_happened_idx",
          "columns": [
            "biz_id",
            "event_type",
            "happened_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "grading_events_biz_id_bizes_id_fk": {
          "name": "grading_events_biz_id_bizes_id_fk",
          "tableFrom": "grading_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_assessment_attempt_id_assessment_attempts_id_fk": {
          "name": "grading_events_assessment_attempt_id_assessment_attempts_id_fk",
          "tableFrom": "grading_events",
          "tableTo": "assessment_attempts",
          "columnsFrom": [
            "assessment_attempt_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_assessment_template_id_assessment_templates_id_fk": {
          "name": "grading_events_assessment_template_id_assessment_templates_id_fk",
          "tableFrom": "grading_events",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "assessment_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_assessment_response_id_assessment_responses_id_fk": {
          "name": "grading_events_assessment_response_id_assessment_responses_id_fk",
          "tableFrom": "grading_events",
          "tableTo": "assessment_responses",
          "columnsFrom": [
            "assessment_response_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_actor_user_id_users_id_fk": {
          "name": "grading_events_actor_user_id_users_id_fk",
          "tableFrom": "grading_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_created_by_users_id_fk": {
          "name": "grading_events_created_by_users_id_fk",
          "tableFrom": "grading_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_updated_by_users_id_fk": {
          "name": "grading_events_updated_by_users_id_fk",
          "tableFrom": "grading_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_deleted_by_users_id_fk": {
          "name": "grading_events_deleted_by_users_id_fk",
          "tableFrom": "grading_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_biz_template_fk": {
          "name": "grading_events_biz_template_fk",
          "tableFrom": "grading_events",
          "tableTo": "assessment_templates",
          "columnsFrom": [
            "biz_id",
            "assessment_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_biz_attempt_template_fk": {
          "name": "grading_events_biz_attempt_template_fk",
          "tableFrom": "grading_events",
          "tableTo": "assessment_attempts",
          "columnsFrom": [
            "biz_id",
            "assessment_attempt_id",
            "assessment_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "assessment_template_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_biz_response_fk": {
          "name": "grading_events_biz_response_fk",
          "tableFrom": "grading_events",
          "tableTo": "assessment_responses",
          "columnsFrom": [
            "biz_id",
            "assessment_response_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "grading_events_biz_actor_subject_fk": {
          "name": "grading_events_biz_actor_subject_fk",
          "tableFrom": "grading_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "actor_subject_type",
            "actor_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "audit_events": {
      "name": "audit_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stream_id": {
          "name": "stream_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "audit_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "actor_type": {
          "name": "actor_type",
          "type": "audit_actor_type",
          "primaryKey": false,
          "notNull": true
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_ref": {
          "name": "actor_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "request_ref": {
          "name": "request_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ip": {
          "name": "source_ip",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "before_state": {
          "name": "before_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "after_state": {
          "name": "after_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "diff": {
          "name": "diff",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "previous_event_hash": {
          "name": "previous_event_hash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "event_hash": {
          "name": "event_hash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": true
        },
        "signature": {
          "name": "signature",
          "type": "varchar(256)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        }
      },
      "indexes": {
        "audit_events_biz_id_id_unique": {
          "name": "audit_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "audit_events_stream_sequence_unique": {
          "name": "audit_events_stream_sequence_unique",
          "columns": [
            "stream_id",
            "sequence"
          ],
          "isUnique": true
        },
        "audit_events_stream_hash_unique": {
          "name": "audit_events_stream_hash_unique",
          "columns": [
            "stream_id",
            "event_hash"
          ],
          "isUnique": true
        },
        "audit_events_biz_stream_sequence_idx": {
          "name": "audit_events_biz_stream_sequence_idx",
          "columns": [
            "biz_id",
            "stream_id",
            "sequence"
          ],
          "isUnique": false
        },
        "audit_events_biz_entity_occurred_idx": {
          "name": "audit_events_biz_entity_occurred_idx",
          "columns": [
            "biz_id",
            "entity_type",
            "entity_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "audit_events_biz_id_bizes_id_fk": {
          "name": "audit_events_biz_id_bizes_id_fk",
          "tableFrom": "audit_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_events_stream_id_audit_streams_id_fk": {
          "name": "audit_events_stream_id_audit_streams_id_fk",
          "tableFrom": "audit_events",
          "tableTo": "audit_streams",
          "columnsFrom": [
            "stream_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_events_actor_user_id_users_id_fk": {
          "name": "audit_events_actor_user_id_users_id_fk",
          "tableFrom": "audit_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_events_biz_stream_fk": {
          "name": "audit_events_biz_stream_fk",
          "tableFrom": "audit_events",
          "tableTo": "audit_streams",
          "columnsFrom": [
            "biz_id",
            "stream_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "audit_integrity_runs": {
      "name": "audit_integrity_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stream_id": {
          "name": "stream_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "audit_integrity_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'unverified'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "checked_events": {
          "name": "checked_events",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "broken_events": {
          "name": "broken_events",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "first_broken_event_id": {
          "name": "first_broken_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "varchar(800)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_integrity_runs_biz_id_id_unique": {
          "name": "audit_integrity_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "audit_integrity_runs_biz_started_idx": {
          "name": "audit_integrity_runs_biz_started_idx",
          "columns": [
            "biz_id",
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "audit_integrity_runs_biz_id_bizes_id_fk": {
          "name": "audit_integrity_runs_biz_id_bizes_id_fk",
          "tableFrom": "audit_integrity_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_integrity_runs_stream_id_audit_streams_id_fk": {
          "name": "audit_integrity_runs_stream_id_audit_streams_id_fk",
          "tableFrom": "audit_integrity_runs",
          "tableTo": "audit_streams",
          "columnsFrom": [
            "stream_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_integrity_runs_first_broken_event_id_audit_events_id_fk": {
          "name": "audit_integrity_runs_first_broken_event_id_audit_events_id_fk",
          "tableFrom": "audit_integrity_runs",
          "tableTo": "audit_events",
          "columnsFrom": [
            "first_broken_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_integrity_runs_created_by_users_id_fk": {
          "name": "audit_integrity_runs_created_by_users_id_fk",
          "tableFrom": "audit_integrity_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_integrity_runs_updated_by_users_id_fk": {
          "name": "audit_integrity_runs_updated_by_users_id_fk",
          "tableFrom": "audit_integrity_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_integrity_runs_deleted_by_users_id_fk": {
          "name": "audit_integrity_runs_deleted_by_users_id_fk",
          "tableFrom": "audit_integrity_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_integrity_runs_biz_stream_fk": {
          "name": "audit_integrity_runs_biz_stream_fk",
          "tableFrom": "audit_integrity_runs",
          "tableTo": "audit_streams",
          "columnsFrom": [
            "biz_id",
            "stream_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_integrity_runs_biz_first_broken_event_fk": {
          "name": "audit_integrity_runs_biz_first_broken_event_fk",
          "tableFrom": "audit_integrity_runs",
          "tableTo": "audit_events",
          "columnsFrom": [
            "biz_id",
            "first_broken_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "audit_streams": {
      "name": "audit_streams",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stream_key": {
          "name": "stream_key",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": true
        },
        "stream_type": {
          "name": "stream_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "audit_streams_biz_id_id_unique": {
          "name": "audit_streams_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "audit_streams_biz_stream_key_unique": {
          "name": "audit_streams_biz_stream_key_unique",
          "columns": [
            "biz_id",
            "stream_key"
          ],
          "isUnique": true
        },
        "audit_streams_biz_type_active_idx": {
          "name": "audit_streams_biz_type_active_idx",
          "columns": [
            "biz_id",
            "stream_type",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "audit_streams_biz_id_bizes_id_fk": {
          "name": "audit_streams_biz_id_bizes_id_fk",
          "tableFrom": "audit_streams",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_streams_created_by_users_id_fk": {
          "name": "audit_streams_created_by_users_id_fk",
          "tableFrom": "audit_streams",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_streams_updated_by_users_id_fk": {
          "name": "audit_streams_updated_by_users_id_fk",
          "tableFrom": "audit_streams",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_streams_deleted_by_users_id_fk": {
          "name": "audit_streams_deleted_by_users_id_fk",
          "tableFrom": "audit_streams",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_extension_installs": {
      "name": "biz_extension_installs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extension_definition_id": {
          "name": "extension_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "extension_install_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "installed_version": {
          "name": "installed_version",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "configuration": {
          "name": "configuration",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "secret_ref": {
          "name": "secret_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_healthcheck_at": {
          "name": "last_healthcheck_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_health_status": {
          "name": "last_health_status",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "installed_at": {
          "name": "installed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_extension_installs_biz_id_id_unique": {
          "name": "biz_extension_installs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_extension_installs_biz_extension_unique": {
          "name": "biz_extension_installs_biz_extension_unique",
          "columns": [
            "biz_id",
            "extension_definition_id"
          ],
          "isUnique": true
        },
        "biz_extension_installs_biz_status_idx": {
          "name": "biz_extension_installs_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_extension_installs_biz_id_bizes_id_fk": {
          "name": "biz_extension_installs_biz_id_bizes_id_fk",
          "tableFrom": "biz_extension_installs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_installs_extension_definition_id_extension_definitions_id_fk": {
          "name": "biz_extension_installs_extension_definition_id_extension_definitions_id_fk",
          "tableFrom": "biz_extension_installs",
          "tableTo": "extension_definitions",
          "columnsFrom": [
            "extension_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_installs_created_by_users_id_fk": {
          "name": "biz_extension_installs_created_by_users_id_fk",
          "tableFrom": "biz_extension_installs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_installs_updated_by_users_id_fk": {
          "name": "biz_extension_installs_updated_by_users_id_fk",
          "tableFrom": "biz_extension_installs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_installs_deleted_by_users_id_fk": {
          "name": "biz_extension_installs_deleted_by_users_id_fk",
          "tableFrom": "biz_extension_installs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_extension_permission_grants": {
      "name": "biz_extension_permission_grants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extension_permission_definition_id": {
          "name": "extension_permission_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "extension_scope",
          "primaryKey": false,
          "notNull": true,
          "default": "'biz'"
        },
        "scope_ref_key": {
          "name": "scope_ref_key",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_ref_type": {
          "name": "subject_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_ref_id": {
          "name": "subject_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "effect": {
          "name": "effect",
          "type": "extension_permission_effect",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "granted_by_user_id": {
          "name": "granted_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "varchar(1200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_extension_permission_grants_biz_id_id_unique": {
          "name": "biz_extension_permission_grants_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_extension_permission_grants_unique": {
          "name": "biz_extension_permission_grants_unique",
          "columns": [
            "biz_id",
            "biz_extension_install_id",
            "extension_permission_definition_id",
            "scope_ref_key"
          ],
          "isUnique": true
        },
        "biz_extension_permission_grants_biz_install_status_idx": {
          "name": "biz_extension_permission_grants_biz_install_status_idx",
          "columns": [
            "biz_id",
            "biz_extension_install_id",
            "status",
            "scope"
          ],
          "isUnique": false
        },
        "biz_extension_permission_grants_biz_expiry_idx": {
          "name": "biz_extension_permission_grants_biz_expiry_idx",
          "columns": [
            "biz_id",
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_extension_permission_grants_biz_id_bizes_id_fk": {
          "name": "biz_extension_permission_grants_biz_id_bizes_id_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "biz_extension_permission_grants_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_extension_permission_definition_id_extension_permission_definitions_id_fk": {
          "name": "biz_extension_permission_grants_extension_permission_definition_id_extension_permission_definitions_id_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "extension_permission_definitions",
          "columnsFrom": [
            "extension_permission_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_location_id_locations_id_fk": {
          "name": "biz_extension_permission_grants_location_id_locations_id_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_granted_by_user_id_users_id_fk": {
          "name": "biz_extension_permission_grants_granted_by_user_id_users_id_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "users",
          "columnsFrom": [
            "granted_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_created_by_users_id_fk": {
          "name": "biz_extension_permission_grants_created_by_users_id_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_updated_by_users_id_fk": {
          "name": "biz_extension_permission_grants_updated_by_users_id_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_deleted_by_users_id_fk": {
          "name": "biz_extension_permission_grants_deleted_by_users_id_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_biz_install_fk": {
          "name": "biz_extension_permission_grants_biz_install_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_biz_location_fk": {
          "name": "biz_extension_permission_grants_biz_location_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_extension_permission_grants_biz_subject_fk": {
          "name": "biz_extension_permission_grants_biz_subject_fk",
          "tableFrom": "biz_extension_permission_grants",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_ref_type",
            "subject_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "custom_field_definition_options": {
      "name": "custom_field_definition_options",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "custom_field_definition_id": {
          "name": "custom_field_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "option_key": {
          "name": "option_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(800)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "custom_field_definition_options_biz_id_id_unique": {
          "name": "custom_field_definition_options_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "custom_field_definition_options_unique": {
          "name": "custom_field_definition_options_unique",
          "columns": [
            "biz_id",
            "custom_field_definition_id",
            "option_key"
          ],
          "isUnique": true
        },
        "custom_field_definition_options_biz_field_status_idx": {
          "name": "custom_field_definition_options_biz_field_status_idx",
          "columns": [
            "biz_id",
            "custom_field_definition_id",
            "status",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "custom_field_definition_options_biz_id_bizes_id_fk": {
          "name": "custom_field_definition_options_biz_id_bizes_id_fk",
          "tableFrom": "custom_field_definition_options",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definition_options_custom_field_definition_id_custom_field_definitions_id_fk": {
          "name": "custom_field_definition_options_custom_field_definition_id_custom_field_definitions_id_fk",
          "tableFrom": "custom_field_definition_options",
          "tableTo": "custom_field_definitions",
          "columnsFrom": [
            "custom_field_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definition_options_created_by_users_id_fk": {
          "name": "custom_field_definition_options_created_by_users_id_fk",
          "tableFrom": "custom_field_definition_options",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definition_options_updated_by_users_id_fk": {
          "name": "custom_field_definition_options_updated_by_users_id_fk",
          "tableFrom": "custom_field_definition_options",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definition_options_deleted_by_users_id_fk": {
          "name": "custom_field_definition_options_deleted_by_users_id_fk",
          "tableFrom": "custom_field_definition_options",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definition_options_biz_definition_fk": {
          "name": "custom_field_definition_options_biz_definition_fk",
          "tableFrom": "custom_field_definition_options",
          "tableTo": "custom_field_definitions",
          "columnsFrom": [
            "biz_id",
            "custom_field_definition_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "custom_field_definitions": {
      "name": "custom_field_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "custom_field_scope",
          "primaryKey": false,
          "notNull": true,
          "default": "'biz'"
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "field_key": {
          "name": "field_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "data_type": {
          "name": "data_type",
          "type": "custom_field_data_type",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "custom_field_visibility",
          "primaryKey": false,
          "notNull": true,
          "default": "'internal'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "validation_schema": {
          "name": "validation_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "default_value": {
          "name": "default_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "help_text": {
          "name": "help_text",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "custom_field_definitions_biz_id_id_unique": {
          "name": "custom_field_definitions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "custom_field_definitions_biz_scope_unique": {
          "name": "custom_field_definitions_biz_scope_unique",
          "columns": [
            "biz_id",
            "target_type",
            "field_key"
          ],
          "isUnique": true
        },
        "custom_field_definitions_location_scope_unique": {
          "name": "custom_field_definitions_location_scope_unique",
          "columns": [
            "biz_id",
            "target_type",
            "location_id",
            "field_key"
          ],
          "isUnique": true
        },
        "custom_field_definitions_biz_target_status_idx": {
          "name": "custom_field_definitions_biz_target_status_idx",
          "columns": [
            "biz_id",
            "target_type",
            "status",
            "scope"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "custom_field_definitions_biz_id_bizes_id_fk": {
          "name": "custom_field_definitions_biz_id_bizes_id_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definitions_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "custom_field_definitions_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definitions_location_id_locations_id_fk": {
          "name": "custom_field_definitions_location_id_locations_id_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definitions_created_by_users_id_fk": {
          "name": "custom_field_definitions_created_by_users_id_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definitions_updated_by_users_id_fk": {
          "name": "custom_field_definitions_updated_by_users_id_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definitions_deleted_by_users_id_fk": {
          "name": "custom_field_definitions_deleted_by_users_id_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definitions_biz_install_fk": {
          "name": "custom_field_definitions_biz_install_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_definitions_biz_location_fk": {
          "name": "custom_field_definitions_biz_location_fk",
          "tableFrom": "custom_field_definitions",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "custom_field_values": {
      "name": "custom_field_values",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "custom_field_definition_id": {
          "name": "custom_field_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "value_text_search": {
          "name": "value_text_search",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "value_number_search": {
          "name": "value_number_search",
          "type": "numeric(24, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "value_boolean_search": {
          "name": "value_boolean_search",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "value_date_search": {
          "name": "value_date_search",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "value_timestamp_search": {
          "name": "value_timestamp_search",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "custom_field_value_source",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "set_by_user_id": {
          "name": "set_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "set_at": {
          "name": "set_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "custom_field_values_biz_id_id_unique": {
          "name": "custom_field_values_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "custom_field_values_target_field_unique": {
          "name": "custom_field_values_target_field_unique",
          "columns": [
            "biz_id",
            "custom_field_definition_id",
            "target_type",
            "target_ref_id"
          ],
          "isUnique": true
        },
        "custom_field_values_biz_target_idx": {
          "name": "custom_field_values_biz_target_idx",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_id"
          ],
          "isUnique": false
        },
        "custom_field_values_biz_definition_idx": {
          "name": "custom_field_values_biz_definition_idx",
          "columns": [
            "biz_id",
            "custom_field_definition_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "custom_field_values_biz_id_bizes_id_fk": {
          "name": "custom_field_values_biz_id_bizes_id_fk",
          "tableFrom": "custom_field_values",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_values_custom_field_definition_id_custom_field_definitions_id_fk": {
          "name": "custom_field_values_custom_field_definition_id_custom_field_definitions_id_fk",
          "tableFrom": "custom_field_values",
          "tableTo": "custom_field_definitions",
          "columnsFrom": [
            "custom_field_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_values_set_by_user_id_users_id_fk": {
          "name": "custom_field_values_set_by_user_id_users_id_fk",
          "tableFrom": "custom_field_values",
          "tableTo": "users",
          "columnsFrom": [
            "set_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_values_created_by_users_id_fk": {
          "name": "custom_field_values_created_by_users_id_fk",
          "tableFrom": "custom_field_values",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_values_updated_by_users_id_fk": {
          "name": "custom_field_values_updated_by_users_id_fk",
          "tableFrom": "custom_field_values",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_values_deleted_by_users_id_fk": {
          "name": "custom_field_values_deleted_by_users_id_fk",
          "tableFrom": "custom_field_values",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "custom_field_values_biz_definition_fk": {
          "name": "custom_field_values_biz_definition_fk",
          "tableFrom": "custom_field_values",
          "tableTo": "custom_field_definitions",
          "columnsFrom": [
            "biz_id",
            "custom_field_definition_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_api_call_runs": {
      "name": "extension_api_call_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extension_service_connection_id": {
          "name": "extension_service_connection_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "operation_key": {
          "name": "operation_key",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": true
        },
        "http_method": {
          "name": "http_method",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint_key": {
          "name": "endpoint_key",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "outbox_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "next_attempt_at": {
          "name": "next_attempt_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "http_status": {
          "name": "http_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "request_payload": {
          "name": "request_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "response_payload": {
          "name": "response_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_api_call_runs_biz_id_id_unique": {
          "name": "extension_api_call_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "extension_api_call_runs_biz_idempotency_unique": {
          "name": "extension_api_call_runs_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "extension_api_call_runs_biz_connection_status_next_attempt_idx": {
          "name": "extension_api_call_runs_biz_connection_status_next_attempt_idx",
          "columns": [
            "biz_id",
            "extension_service_connection_id",
            "status",
            "next_attempt_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_api_call_runs_biz_id_bizes_id_fk": {
          "name": "extension_api_call_runs_biz_id_bizes_id_fk",
          "tableFrom": "extension_api_call_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_api_call_runs_extension_service_connection_id_extension_service_connections_id_fk": {
          "name": "extension_api_call_runs_extension_service_connection_id_extension_service_connections_id_fk",
          "tableFrom": "extension_api_call_runs",
          "tableTo": "extension_service_connections",
          "columnsFrom": [
            "extension_service_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_api_call_runs_created_by_users_id_fk": {
          "name": "extension_api_call_runs_created_by_users_id_fk",
          "tableFrom": "extension_api_call_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_api_call_runs_updated_by_users_id_fk": {
          "name": "extension_api_call_runs_updated_by_users_id_fk",
          "tableFrom": "extension_api_call_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_api_call_runs_deleted_by_users_id_fk": {
          "name": "extension_api_call_runs_deleted_by_users_id_fk",
          "tableFrom": "extension_api_call_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_api_call_runs_biz_connection_fk": {
          "name": "extension_api_call_runs_biz_connection_fk",
          "tableFrom": "extension_api_call_runs",
          "tableTo": "extension_service_connections",
          "columnsFrom": [
            "biz_id",
            "extension_service_connection_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_definitions": {
      "name": "extension_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "publisher": {
          "name": "publisher",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "extension_source_type",
          "primaryKey": false,
          "notNull": true
        },
        "runtime_type": {
          "name": "runtime_type",
          "type": "extension_runtime_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "current_version": {
          "name": "current_version",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "docs_url": {
          "name": "docs_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "homepage_url": {
          "name": "homepage_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "manifest": {
          "name": "manifest",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "capabilities": {
          "name": "capabilities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_definitions_key_unique": {
          "name": "extension_definitions_key_unique",
          "columns": [
            "key"
          ],
          "isUnique": true
        },
        "extension_definitions_status_source_idx": {
          "name": "extension_definitions_status_source_idx",
          "columns": [
            "status",
            "source_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_definitions_created_by_users_id_fk": {
          "name": "extension_definitions_created_by_users_id_fk",
          "tableFrom": "extension_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_definitions_updated_by_users_id_fk": {
          "name": "extension_definitions_updated_by_users_id_fk",
          "tableFrom": "extension_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_definitions_deleted_by_users_id_fk": {
          "name": "extension_definitions_deleted_by_users_id_fk",
          "tableFrom": "extension_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_instances": {
      "name": "extension_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extension_definition_id": {
          "name": "extension_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "data": {
          "name": "data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "label": {
          "name": "label",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_instances_biz_id_id_unique": {
          "name": "extension_instances_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "extension_instances_biz_entity_extension_unique": {
          "name": "extension_instances_biz_entity_extension_unique",
          "columns": [
            "biz_id",
            "entity_type",
            "entity_id",
            "extension_definition_id"
          ],
          "isUnique": true
        },
        "extension_instances_biz_entity_idx": {
          "name": "extension_instances_biz_entity_idx",
          "columns": [
            "biz_id",
            "entity_type",
            "entity_id"
          ],
          "isUnique": false
        },
        "extension_instances_biz_extension_idx": {
          "name": "extension_instances_biz_extension_idx",
          "columns": [
            "biz_id",
            "extension_definition_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_instances_biz_id_bizes_id_fk": {
          "name": "extension_instances_biz_id_bizes_id_fk",
          "tableFrom": "extension_instances",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_instances_extension_definition_id_extension_definitions_id_fk": {
          "name": "extension_instances_extension_definition_id_extension_definitions_id_fk",
          "tableFrom": "extension_instances",
          "tableTo": "extension_definitions",
          "columnsFrom": [
            "extension_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_instances_created_by_users_id_fk": {
          "name": "extension_instances_created_by_users_id_fk",
          "tableFrom": "extension_instances",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_instances_updated_by_users_id_fk": {
          "name": "extension_instances_updated_by_users_id_fk",
          "tableFrom": "extension_instances",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_instances_deleted_by_users_id_fk": {
          "name": "extension_instances_deleted_by_users_id_fk",
          "tableFrom": "extension_instances",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_instances_extension_def_fk": {
          "name": "extension_instances_extension_def_fk",
          "tableFrom": "extension_instances",
          "tableTo": "extension_definitions",
          "columnsFrom": [
            "extension_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_permission_definitions": {
      "name": "extension_permission_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "extension_definition_id": {
          "name": "extension_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "permission_key": {
          "name": "permission_key",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "extension_scope",
          "primaryKey": false,
          "notNull": true,
          "default": "'biz'"
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "default_effect": {
          "name": "default_effect",
          "type": "extension_permission_effect",
          "primaryKey": false,
          "notNull": true,
          "default": "'deny'"
        },
        "risk_level": {
          "name": "risk_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_permission_definitions_unique": {
          "name": "extension_permission_definitions_unique",
          "columns": [
            "extension_definition_id",
            "permission_key"
          ],
          "isUnique": true
        },
        "extension_permission_definitions_status_scope_idx": {
          "name": "extension_permission_definitions_status_scope_idx",
          "columns": [
            "status",
            "scope",
            "is_required"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_permission_definitions_extension_definition_id_extension_definitions_id_fk": {
          "name": "extension_permission_definitions_extension_definition_id_extension_definitions_id_fk",
          "tableFrom": "extension_permission_definitions",
          "tableTo": "extension_definitions",
          "columnsFrom": [
            "extension_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_permission_definitions_created_by_users_id_fk": {
          "name": "extension_permission_definitions_created_by_users_id_fk",
          "tableFrom": "extension_permission_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_permission_definitions_updated_by_users_id_fk": {
          "name": "extension_permission_definitions_updated_by_users_id_fk",
          "tableFrom": "extension_permission_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_permission_definitions_deleted_by_users_id_fk": {
          "name": "extension_permission_definitions_deleted_by_users_id_fk",
          "tableFrom": "extension_permission_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_service_connections": {
      "name": "extension_service_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "connection_key": {
          "name": "connection_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_key": {
          "name": "provider_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "service_category": {
          "name": "service_category",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "default": "'api'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "auth_mode": {
          "name": "auth_mode",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'oauth2'"
        },
        "external_account_ref": {
          "name": "external_account_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "secret_ref": {
          "name": "secret_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "scopes": {
          "name": "scopes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "capabilities": {
          "name": "capabilities",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "sync_cursor": {
          "name": "sync_cursor",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "last_successful_at": {
          "name": "last_successful_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_failed_at": {
          "name": "last_failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_failure_reason": {
          "name": "last_failure_reason",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_service_connections_biz_id_id_unique": {
          "name": "extension_service_connections_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "extension_service_connections_biz_install_key_unique": {
          "name": "extension_service_connections_biz_install_key_unique",
          "columns": [
            "biz_id",
            "biz_extension_install_id",
            "connection_key"
          ],
          "isUnique": true
        },
        "extension_service_connections_biz_provider_account_unique": {
          "name": "extension_service_connections_biz_provider_account_unique",
          "columns": [
            "biz_id",
            "provider_key",
            "external_account_ref"
          ],
          "isUnique": true
        },
        "extension_service_connections_biz_status_provider_idx": {
          "name": "extension_service_connections_biz_status_provider_idx",
          "columns": [
            "biz_id",
            "status",
            "provider_key",
            "service_category"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_service_connections_biz_id_bizes_id_fk": {
          "name": "extension_service_connections_biz_id_bizes_id_fk",
          "tableFrom": "extension_service_connections",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_connections_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "extension_service_connections_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "extension_service_connections",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_connections_created_by_users_id_fk": {
          "name": "extension_service_connections_created_by_users_id_fk",
          "tableFrom": "extension_service_connections",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_connections_updated_by_users_id_fk": {
          "name": "extension_service_connections_updated_by_users_id_fk",
          "tableFrom": "extension_service_connections",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_connections_deleted_by_users_id_fk": {
          "name": "extension_service_connections_deleted_by_users_id_fk",
          "tableFrom": "extension_service_connections",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_connections_biz_install_fk": {
          "name": "extension_service_connections_biz_install_fk",
          "tableFrom": "extension_service_connections",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_service_object_links": {
      "name": "extension_service_object_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extension_service_connection_id": {
          "name": "extension_service_connection_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "local_reference_key": {
          "name": "local_reference_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "external_object_type": {
          "name": "external_object_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "external_object_ref": {
          "name": "external_object_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "sync_hash": {
          "name": "sync_hash",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "last_synced_at": {
          "name": "last_synced_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_service_object_links_biz_id_id_unique": {
          "name": "extension_service_object_links_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "extension_service_object_links_external_unique": {
          "name": "extension_service_object_links_external_unique",
          "columns": [
            "extension_service_connection_id",
            "external_object_type",
            "external_object_ref"
          ],
          "isUnique": true
        },
        "extension_service_object_links_local_subject_unique": {
          "name": "extension_service_object_links_local_subject_unique",
          "columns": [
            "extension_service_connection_id",
            "subject_type",
            "subject_id",
            "external_object_type"
          ],
          "isUnique": true
        },
        "extension_service_object_links_local_ref_key_unique": {
          "name": "extension_service_object_links_local_ref_key_unique",
          "columns": [
            "extension_service_connection_id",
            "local_reference_key",
            "external_object_type"
          ],
          "isUnique": true
        },
        "extension_service_object_links_biz_connection_status_type_idx": {
          "name": "extension_service_object_links_biz_connection_status_type_idx",
          "columns": [
            "biz_id",
            "extension_service_connection_id",
            "status",
            "external_object_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_service_object_links_biz_id_bizes_id_fk": {
          "name": "extension_service_object_links_biz_id_bizes_id_fk",
          "tableFrom": "extension_service_object_links",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_object_links_extension_service_connection_id_extension_service_connections_id_fk": {
          "name": "extension_service_object_links_extension_service_connection_id_extension_service_connections_id_fk",
          "tableFrom": "extension_service_object_links",
          "tableTo": "extension_service_connections",
          "columnsFrom": [
            "extension_service_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_object_links_created_by_users_id_fk": {
          "name": "extension_service_object_links_created_by_users_id_fk",
          "tableFrom": "extension_service_object_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_object_links_updated_by_users_id_fk": {
          "name": "extension_service_object_links_updated_by_users_id_fk",
          "tableFrom": "extension_service_object_links",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_object_links_deleted_by_users_id_fk": {
          "name": "extension_service_object_links_deleted_by_users_id_fk",
          "tableFrom": "extension_service_object_links",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_object_links_biz_connection_fk": {
          "name": "extension_service_object_links_biz_connection_fk",
          "tableFrom": "extension_service_object_links",
          "tableTo": "extension_service_connections",
          "columnsFrom": [
            "biz_id",
            "extension_service_connection_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_object_links_biz_subject_fk": {
          "name": "extension_service_object_links_biz_subject_fk",
          "tableFrom": "extension_service_object_links",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_service_sync_items": {
      "name": "extension_service_sync_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extension_service_sync_job_id": {
          "name": "extension_service_sync_job_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extension_service_object_link_id": {
          "name": "extension_service_object_link_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "object_type": {
          "name": "object_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "local_reference_key": {
          "name": "local_reference_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "external_object_ref": {
          "name": "external_object_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_service_sync_items_biz_id_id_unique": {
          "name": "extension_service_sync_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "extension_service_sync_items_biz_job_status_idx": {
          "name": "extension_service_sync_items_biz_job_status_idx",
          "columns": [
            "biz_id",
            "extension_service_sync_job_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_service_sync_items_biz_id_bizes_id_fk": {
          "name": "extension_service_sync_items_biz_id_bizes_id_fk",
          "tableFrom": "extension_service_sync_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_items_extension_service_sync_job_id_extension_service_sync_jobs_id_fk": {
          "name": "extension_service_sync_items_extension_service_sync_job_id_extension_service_sync_jobs_id_fk",
          "tableFrom": "extension_service_sync_items",
          "tableTo": "extension_service_sync_jobs",
          "columnsFrom": [
            "extension_service_sync_job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_items_extension_service_object_link_id_extension_service_object_links_id_fk": {
          "name": "extension_service_sync_items_extension_service_object_link_id_extension_service_object_links_id_fk",
          "tableFrom": "extension_service_sync_items",
          "tableTo": "extension_service_object_links",
          "columnsFrom": [
            "extension_service_object_link_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_items_created_by_users_id_fk": {
          "name": "extension_service_sync_items_created_by_users_id_fk",
          "tableFrom": "extension_service_sync_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_items_updated_by_users_id_fk": {
          "name": "extension_service_sync_items_updated_by_users_id_fk",
          "tableFrom": "extension_service_sync_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_items_deleted_by_users_id_fk": {
          "name": "extension_service_sync_items_deleted_by_users_id_fk",
          "tableFrom": "extension_service_sync_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_items_biz_job_fk": {
          "name": "extension_service_sync_items_biz_job_fk",
          "tableFrom": "extension_service_sync_items",
          "tableTo": "extension_service_sync_jobs",
          "columnsFrom": [
            "biz_id",
            "extension_service_sync_job_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_items_biz_object_link_fk": {
          "name": "extension_service_sync_items_biz_object_link_fk",
          "tableFrom": "extension_service_sync_items",
          "tableTo": "extension_service_object_links",
          "columnsFrom": [
            "biz_id",
            "extension_service_object_link_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_service_sync_jobs": {
      "name": "extension_service_sync_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extension_service_connection_id": {
          "name": "extension_service_connection_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "direction": {
          "name": "direction",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'bidirectional'"
        },
        "object_type": {
          "name": "object_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "processed_count": {
          "name": "processed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_count": {
          "name": "failed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cursor_snapshot": {
          "name": "cursor_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "summary": {
          "name": "summary",
          "type": "varchar(800)",
          "primaryKey": false,
          "notNull": false
        },
        "error_payload": {
          "name": "error_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_service_sync_jobs_biz_id_id_unique": {
          "name": "extension_service_sync_jobs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "extension_service_sync_jobs_biz_connection_status_idx": {
          "name": "extension_service_sync_jobs_biz_connection_status_idx",
          "columns": [
            "biz_id",
            "extension_service_connection_id",
            "status",
            "requested_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_service_sync_jobs_biz_id_bizes_id_fk": {
          "name": "extension_service_sync_jobs_biz_id_bizes_id_fk",
          "tableFrom": "extension_service_sync_jobs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_jobs_extension_service_connection_id_extension_service_connections_id_fk": {
          "name": "extension_service_sync_jobs_extension_service_connection_id_extension_service_connections_id_fk",
          "tableFrom": "extension_service_sync_jobs",
          "tableTo": "extension_service_connections",
          "columnsFrom": [
            "extension_service_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_jobs_created_by_users_id_fk": {
          "name": "extension_service_sync_jobs_created_by_users_id_fk",
          "tableFrom": "extension_service_sync_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_jobs_updated_by_users_id_fk": {
          "name": "extension_service_sync_jobs_updated_by_users_id_fk",
          "tableFrom": "extension_service_sync_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_jobs_deleted_by_users_id_fk": {
          "name": "extension_service_sync_jobs_deleted_by_users_id_fk",
          "tableFrom": "extension_service_sync_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_service_sync_jobs_biz_connection_fk": {
          "name": "extension_service_sync_jobs_biz_connection_fk",
          "tableFrom": "extension_service_sync_jobs",
          "tableTo": "extension_service_connections",
          "columnsFrom": [
            "biz_id",
            "extension_service_connection_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_state_documents": {
      "name": "extension_state_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "namespace": {
          "name": "namespace",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "document_key": {
          "name": "document_key",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "extension_scope",
          "primaryKey": false,
          "notNull": true,
          "default": "'biz'"
        },
        "scope_ref_key": {
          "name": "scope_ref_key",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_ref_type": {
          "name": "subject_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_ref_id": {
          "name": "subject_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "revision": {
          "name": "revision",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "schema_version": {
          "name": "schema_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "last_lifecycle_event_id": {
          "name": "last_lifecycle_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_materialized_at": {
          "name": "last_materialized_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "payload_checksum": {
          "name": "payload_checksum",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_state_documents_biz_id_id_unique": {
          "name": "extension_state_documents_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "extension_state_documents_unique": {
          "name": "extension_state_documents_unique",
          "columns": [
            "biz_id",
            "biz_extension_install_id",
            "namespace",
            "document_key",
            "scope_ref_key"
          ],
          "isUnique": true
        },
        "extension_state_documents_biz_install_namespace_idx": {
          "name": "extension_state_documents_biz_install_namespace_idx",
          "columns": [
            "biz_id",
            "biz_extension_install_id",
            "namespace",
            "status"
          ],
          "isUnique": false
        },
        "extension_state_documents_biz_scope_idx": {
          "name": "extension_state_documents_biz_scope_idx",
          "columns": [
            "biz_id",
            "scope",
            "scope_ref_key",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_state_documents_biz_id_bizes_id_fk": {
          "name": "extension_state_documents_biz_id_bizes_id_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "extension_state_documents_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_location_id_locations_id_fk": {
          "name": "extension_state_documents_location_id_locations_id_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_last_lifecycle_event_id_lifecycle_events_id_fk": {
          "name": "extension_state_documents_last_lifecycle_event_id_lifecycle_events_id_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "lifecycle_events",
          "columnsFrom": [
            "last_lifecycle_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_created_by_users_id_fk": {
          "name": "extension_state_documents_created_by_users_id_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_updated_by_users_id_fk": {
          "name": "extension_state_documents_updated_by_users_id_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_deleted_by_users_id_fk": {
          "name": "extension_state_documents_deleted_by_users_id_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_biz_install_fk": {
          "name": "extension_state_documents_biz_install_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_biz_location_fk": {
          "name": "extension_state_documents_biz_location_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_biz_subject_fk": {
          "name": "extension_state_documents_biz_subject_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_ref_type",
            "subject_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_state_documents_biz_lifecycle_event_fk": {
          "name": "extension_state_documents_biz_lifecycle_event_fk",
          "tableFrom": "extension_state_documents",
          "tableTo": "lifecycle_events",
          "columnsFrom": [
            "biz_id",
            "last_lifecycle_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_webhook_ingress_events": {
      "name": "extension_webhook_ingress_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "extension_service_connection_id": {
          "name": "extension_service_connection_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'received'"
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": true
        },
        "external_event_id": {
          "name": "external_event_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "signature_verified": {
          "name": "signature_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "extension_webhook_ingress_events_biz_id_id_unique": {
          "name": "extension_webhook_ingress_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "extension_webhook_ingress_events_connection_event_unique": {
          "name": "extension_webhook_ingress_events_connection_event_unique",
          "columns": [
            "extension_service_connection_id",
            "external_event_id"
          ],
          "isUnique": true
        },
        "extension_webhook_ingress_events_biz_status_received_idx": {
          "name": "extension_webhook_ingress_events_biz_status_received_idx",
          "columns": [
            "biz_id",
            "status",
            "received_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "extension_webhook_ingress_events_biz_id_bizes_id_fk": {
          "name": "extension_webhook_ingress_events_biz_id_bizes_id_fk",
          "tableFrom": "extension_webhook_ingress_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_webhook_ingress_events_extension_service_connection_id_extension_service_connections_id_fk": {
          "name": "extension_webhook_ingress_events_extension_service_connection_id_extension_service_connections_id_fk",
          "tableFrom": "extension_webhook_ingress_events",
          "tableTo": "extension_service_connections",
          "columnsFrom": [
            "extension_service_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_webhook_ingress_events_created_by_users_id_fk": {
          "name": "extension_webhook_ingress_events_created_by_users_id_fk",
          "tableFrom": "extension_webhook_ingress_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_webhook_ingress_events_updated_by_users_id_fk": {
          "name": "extension_webhook_ingress_events_updated_by_users_id_fk",
          "tableFrom": "extension_webhook_ingress_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_webhook_ingress_events_deleted_by_users_id_fk": {
          "name": "extension_webhook_ingress_events_deleted_by_users_id_fk",
          "tableFrom": "extension_webhook_ingress_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_webhook_ingress_events_biz_connection_fk": {
          "name": "extension_webhook_ingress_events_biz_connection_fk",
          "tableFrom": "extension_webhook_ingress_events",
          "tableTo": "extension_service_connections",
          "columnsFrom": [
            "biz_id",
            "extension_service_connection_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "idempotency_keys": {
      "name": "idempotency_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": true
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "idempotency_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'processing'"
        },
        "request_hash": {
          "name": "request_hash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "response_code": {
          "name": "response_code",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "locked_until": {
          "name": "locked_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "first_seen_at": {
          "name": "first_seen_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idempotency_keys_biz_id_id_unique": {
          "name": "idempotency_keys_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "idempotency_keys_biz_scope_key_unique": {
          "name": "idempotency_keys_biz_scope_key_unique",
          "columns": [
            "biz_id",
            "scope",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "idempotency_keys_biz_scope_status_idx": {
          "name": "idempotency_keys_biz_scope_status_idx",
          "columns": [
            "biz_id",
            "scope",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "idempotency_keys_biz_id_bizes_id_fk": {
          "name": "idempotency_keys_biz_id_bizes_id_fk",
          "tableFrom": "idempotency_keys",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "idempotency_keys_created_by_users_id_fk": {
          "name": "idempotency_keys_created_by_users_id_fk",
          "tableFrom": "idempotency_keys",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "idempotency_keys_updated_by_users_id_fk": {
          "name": "idempotency_keys_updated_by_users_id_fk",
          "tableFrom": "idempotency_keys",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "idempotency_keys_deleted_by_users_id_fk": {
          "name": "idempotency_keys_deleted_by_users_id_fk",
          "tableFrom": "idempotency_keys",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "lifecycle_event_deliveries": {
      "name": "lifecycle_event_deliveries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lifecycle_event_id": {
          "name": "lifecycle_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lifecycle_event_subscription_id": {
          "name": "lifecycle_event_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "outbox_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "next_attempt_at": {
          "name": "next_attempt_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "locked_at": {
          "name": "locked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "dead_lettered_at": {
          "name": "dead_lettered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "http_status": {
          "name": "http_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_error_code": {
          "name": "last_error_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "last_error_message": {
          "name": "last_error_message",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "request_payload": {
          "name": "request_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "response_payload": {
          "name": "response_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "lifecycle_event_deliveries_biz_id_id_unique": {
          "name": "lifecycle_event_deliveries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "lifecycle_event_deliveries_biz_event_subscription_unique": {
          "name": "lifecycle_event_deliveries_biz_event_subscription_unique",
          "columns": [
            "biz_id",
            "lifecycle_event_id",
            "lifecycle_event_subscription_id"
          ],
          "isUnique": true
        },
        "lifecycle_event_deliveries_biz_idempotency_unique": {
          "name": "lifecycle_event_deliveries_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "lifecycle_event_deliveries_biz_status_next_attempt_idx": {
          "name": "lifecycle_event_deliveries_biz_status_next_attempt_idx",
          "columns": [
            "biz_id",
            "status",
            "next_attempt_at"
          ],
          "isUnique": false
        },
        "lifecycle_event_deliveries_biz_subscription_status_idx": {
          "name": "lifecycle_event_deliveries_biz_subscription_status_idx",
          "columns": [
            "biz_id",
            "lifecycle_event_subscription_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "lifecycle_event_deliveries_biz_id_bizes_id_fk": {
          "name": "lifecycle_event_deliveries_biz_id_bizes_id_fk",
          "tableFrom": "lifecycle_event_deliveries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_deliveries_lifecycle_event_id_lifecycle_events_id_fk": {
          "name": "lifecycle_event_deliveries_lifecycle_event_id_lifecycle_events_id_fk",
          "tableFrom": "lifecycle_event_deliveries",
          "tableTo": "lifecycle_events",
          "columnsFrom": [
            "lifecycle_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_deliveries_lifecycle_event_subscription_id_lifecycle_event_subscriptions_id_fk": {
          "name": "lifecycle_event_deliveries_lifecycle_event_subscription_id_lifecycle_event_subscriptions_id_fk",
          "tableFrom": "lifecycle_event_deliveries",
          "tableTo": "lifecycle_event_subscriptions",
          "columnsFrom": [
            "lifecycle_event_subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_deliveries_created_by_users_id_fk": {
          "name": "lifecycle_event_deliveries_created_by_users_id_fk",
          "tableFrom": "lifecycle_event_deliveries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_deliveries_updated_by_users_id_fk": {
          "name": "lifecycle_event_deliveries_updated_by_users_id_fk",
          "tableFrom": "lifecycle_event_deliveries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_deliveries_deleted_by_users_id_fk": {
          "name": "lifecycle_event_deliveries_deleted_by_users_id_fk",
          "tableFrom": "lifecycle_event_deliveries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_deliveries_biz_event_fk": {
          "name": "lifecycle_event_deliveries_biz_event_fk",
          "tableFrom": "lifecycle_event_deliveries",
          "tableTo": "lifecycle_events",
          "columnsFrom": [
            "biz_id",
            "lifecycle_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_deliveries_biz_subscription_fk": {
          "name": "lifecycle_event_deliveries_biz_subscription_fk",
          "tableFrom": "lifecycle_event_deliveries",
          "tableTo": "lifecycle_event_subscriptions",
          "columnsFrom": [
            "biz_id",
            "lifecycle_event_subscription_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "lifecycle_event_subscriptions": {
      "name": "lifecycle_event_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "event_pattern": {
          "name": "event_pattern",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "phase": {
          "name": "phase",
          "type": "lifecycle_event_phase",
          "primaryKey": false,
          "notNull": true,
          "default": "'after'"
        },
        "delivery_mode": {
          "name": "delivery_mode",
          "type": "extension_hook_delivery_mode",
          "primaryKey": false,
          "notNull": true
        },
        "internal_handler_key": {
          "name": "internal_handler_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "signing_secret_ref": {
          "name": "signing_secret_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "timeout_ms": {
          "name": "timeout_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10000
        },
        "max_attempts": {
          "name": "max_attempts",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 8
        },
        "retry_policy": {
          "name": "retry_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "filter": {
          "name": "filter",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "lifecycle_event_subscriptions_biz_id_id_unique": {
          "name": "lifecycle_event_subscriptions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "lifecycle_event_subscriptions_biz_name_unique": {
          "name": "lifecycle_event_subscriptions_biz_name_unique",
          "columns": [
            "biz_id",
            "name"
          ],
          "isUnique": true
        },
        "lifecycle_event_subscriptions_biz_status_pattern_idx": {
          "name": "lifecycle_event_subscriptions_biz_status_pattern_idx",
          "columns": [
            "biz_id",
            "status",
            "event_pattern",
            "phase"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "lifecycle_event_subscriptions_biz_id_bizes_id_fk": {
          "name": "lifecycle_event_subscriptions_biz_id_bizes_id_fk",
          "tableFrom": "lifecycle_event_subscriptions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_subscriptions_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "lifecycle_event_subscriptions_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "lifecycle_event_subscriptions",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_subscriptions_created_by_users_id_fk": {
          "name": "lifecycle_event_subscriptions_created_by_users_id_fk",
          "tableFrom": "lifecycle_event_subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_subscriptions_updated_by_users_id_fk": {
          "name": "lifecycle_event_subscriptions_updated_by_users_id_fk",
          "tableFrom": "lifecycle_event_subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_subscriptions_deleted_by_users_id_fk": {
          "name": "lifecycle_event_subscriptions_deleted_by_users_id_fk",
          "tableFrom": "lifecycle_event_subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_event_subscriptions_biz_install_fk": {
          "name": "lifecycle_event_subscriptions_biz_install_fk",
          "tableFrom": "lifecycle_event_subscriptions",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "lifecycle_events": {
      "name": "lifecycle_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "lifecycle_event_source",
          "primaryKey": false,
          "notNull": true
        },
        "event_name": {
          "name": "event_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "event_version": {
          "name": "event_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "aggregate_type": {
          "name": "aggregate_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "aggregate_id": {
          "name": "aggregate_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "causation_event_id": {
          "name": "causation_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "lifecycle_events_biz_id_id_unique": {
          "name": "lifecycle_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "lifecycle_events_biz_event_occurred_idx": {
          "name": "lifecycle_events_biz_event_occurred_idx",
          "columns": [
            "biz_id",
            "event_name",
            "occurred_at"
          ],
          "isUnique": false
        },
        "lifecycle_events_biz_entity_occurred_idx": {
          "name": "lifecycle_events_biz_entity_occurred_idx",
          "columns": [
            "biz_id",
            "entity_type",
            "entity_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "lifecycle_events_biz_idempotency_unique": {
          "name": "lifecycle_events_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "lifecycle_events_biz_id_bizes_id_fk": {
          "name": "lifecycle_events_biz_id_bizes_id_fk",
          "tableFrom": "lifecycle_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_events_actor_user_id_users_id_fk": {
          "name": "lifecycle_events_actor_user_id_users_id_fk",
          "tableFrom": "lifecycle_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "lifecycle_events_causation_event_id_lifecycle_events_id_fk": {
          "name": "lifecycle_events_causation_event_id_lifecycle_events_id_fk",
          "tableFrom": "lifecycle_events",
          "tableTo": "lifecycle_events",
          "columnsFrom": [
            "causation_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_action_token_events": {
      "name": "access_action_token_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_action_token_id": {
          "name": "access_action_token_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "access_action_token_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "outcome": {
          "name": "outcome",
          "type": "access_action_outcome",
          "primaryKey": false,
          "notNull": false
        },
        "access_activity_log_id": {
          "name": "access_activity_log_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_type": {
          "name": "actor_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_id": {
          "name": "actor_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent_hash": {
          "name": "user_agent_hash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "device_fingerprint": {
          "name": "device_fingerprint",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_text": {
          "name": "reason_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_action_token_events_biz_id_id_unique": {
          "name": "access_action_token_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_action_token_events_biz_token_happened_idx": {
          "name": "access_action_token_events_biz_token_happened_idx",
          "columns": [
            "biz_id",
            "access_action_token_id",
            "happened_at"
          ],
          "isUnique": false
        },
        "access_action_token_events_biz_type_happened_idx": {
          "name": "access_action_token_events_biz_type_happened_idx",
          "columns": [
            "biz_id",
            "event_type",
            "happened_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_action_token_events_biz_id_bizes_id_fk": {
          "name": "access_action_token_events_biz_id_bizes_id_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_token_events_access_action_token_id_access_action_tokens_id_fk": {
          "name": "access_action_token_events_access_action_token_id_access_action_tokens_id_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "access_action_tokens",
          "columnsFrom": [
            "access_action_token_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_token_events_access_activity_log_id_access_activity_logs_id_fk": {
          "name": "access_action_token_events_access_activity_log_id_access_activity_logs_id_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "access_activity_logs",
          "columnsFrom": [
            "access_activity_log_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_token_events_actor_user_id_users_id_fk": {
          "name": "access_action_token_events_actor_user_id_users_id_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_token_events_created_by_users_id_fk": {
          "name": "access_action_token_events_created_by_users_id_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_token_events_updated_by_users_id_fk": {
          "name": "access_action_token_events_updated_by_users_id_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_token_events_deleted_by_users_id_fk": {
          "name": "access_action_token_events_deleted_by_users_id_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_token_events_biz_token_fk": {
          "name": "access_action_token_events_biz_token_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "access_action_tokens",
          "columnsFrom": [
            "biz_id",
            "access_action_token_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_token_events_biz_activity_log_fk": {
          "name": "access_action_token_events_biz_activity_log_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "access_activity_logs",
          "columnsFrom": [
            "biz_id",
            "access_activity_log_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_token_events_biz_actor_subject_fk": {
          "name": "access_action_token_events_biz_actor_subject_fk",
          "tableFrom": "access_action_token_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "actor_subject_type",
            "actor_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_action_tokens": {
      "name": "access_action_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "access_action_type",
          "primaryKey": false,
          "notNull": true
        },
        "token_type": {
          "name": "token_type",
          "type": "access_action_token_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'opaque_link'"
        },
        "status": {
          "name": "status",
          "type": "access_action_token_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token_preview": {
          "name": "token_preview",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "max_validation_count": {
          "name": "max_validation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "successful_validation_count": {
          "name": "successful_validation_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "first_validated_at": {
          "name": "first_validated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_validated_at": {
          "name": "last_validated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "intended_holder_user_id": {
          "name": "intended_holder_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "intended_holder_group_account_id": {
          "name": "intended_holder_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "intended_holder_subject_type": {
          "name": "intended_holder_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "intended_holder_subject_id": {
          "name": "intended_holder_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_action_tokens_biz_id_id_unique": {
          "name": "access_action_tokens_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_action_tokens_biz_token_hash_unique": {
          "name": "access_action_tokens_biz_token_hash_unique",
          "columns": [
            "biz_id",
            "token_hash"
          ],
          "isUnique": true
        },
        "access_action_tokens_biz_request_key_unique": {
          "name": "access_action_tokens_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "access_action_tokens_biz_artifact_action_status_idx": {
          "name": "access_action_tokens_biz_artifact_action_status_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "action_type",
            "status"
          ],
          "isUnique": false
        },
        "access_action_tokens_biz_status_expiry_idx": {
          "name": "access_action_tokens_biz_status_expiry_idx",
          "columns": [
            "biz_id",
            "status",
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_action_tokens_biz_id_bizes_id_fk": {
          "name": "access_action_tokens_biz_id_bizes_id_fk",
          "tableFrom": "access_action_tokens",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_tokens_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_action_tokens_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_action_tokens",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_tokens_intended_holder_user_id_users_id_fk": {
          "name": "access_action_tokens_intended_holder_user_id_users_id_fk",
          "tableFrom": "access_action_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "intended_holder_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_tokens_intended_holder_group_account_id_group_accounts_id_fk": {
          "name": "access_action_tokens_intended_holder_group_account_id_group_accounts_id_fk",
          "tableFrom": "access_action_tokens",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "intended_holder_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_tokens_created_by_users_id_fk": {
          "name": "access_action_tokens_created_by_users_id_fk",
          "tableFrom": "access_action_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_tokens_updated_by_users_id_fk": {
          "name": "access_action_tokens_updated_by_users_id_fk",
          "tableFrom": "access_action_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_tokens_deleted_by_users_id_fk": {
          "name": "access_action_tokens_deleted_by_users_id_fk",
          "tableFrom": "access_action_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_tokens_biz_artifact_fk": {
          "name": "access_action_tokens_biz_artifact_fk",
          "tableFrom": "access_action_tokens",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_action_tokens_biz_intended_subject_fk": {
          "name": "access_action_tokens_biz_intended_subject_fk",
          "tableFrom": "access_action_tokens",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "intended_holder_subject_type",
            "intended_holder_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_activity_logs": {
      "name": "access_activity_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "access_action_type",
          "primaryKey": false,
          "notNull": true
        },
        "outcome": {
          "name": "outcome",
          "type": "access_action_outcome",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_type": {
          "name": "actor_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_id": {
          "name": "actor_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "country_code": {
          "name": "country_code",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent_hash": {
          "name": "user_agent_hash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "device_fingerprint": {
          "name": "device_fingerprint",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "risk_score": {
          "name": "risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "risk_signals": {
          "name": "risk_signals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "message": {
          "name": "message",
          "type": "varchar(400)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_activity_logs_biz_id_id_unique": {
          "name": "access_activity_logs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_activity_logs_biz_occurred_idx": {
          "name": "access_activity_logs_biz_occurred_idx",
          "columns": [
            "biz_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "access_activity_logs_biz_artifact_occurred_idx": {
          "name": "access_activity_logs_biz_artifact_occurred_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "access_activity_logs_biz_action_outcome_occurred_idx": {
          "name": "access_activity_logs_biz_action_outcome_occurred_idx",
          "columns": [
            "biz_id",
            "action_type",
            "outcome",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_activity_logs_biz_id_bizes_id_fk": {
          "name": "access_activity_logs_biz_id_bizes_id_fk",
          "tableFrom": "access_activity_logs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_activity_logs_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_activity_logs_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_activity_logs",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_activity_logs_actor_user_id_users_id_fk": {
          "name": "access_activity_logs_actor_user_id_users_id_fk",
          "tableFrom": "access_activity_logs",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_activity_logs_created_by_users_id_fk": {
          "name": "access_activity_logs_created_by_users_id_fk",
          "tableFrom": "access_activity_logs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_activity_logs_updated_by_users_id_fk": {
          "name": "access_activity_logs_updated_by_users_id_fk",
          "tableFrom": "access_activity_logs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_activity_logs_deleted_by_users_id_fk": {
          "name": "access_activity_logs_deleted_by_users_id_fk",
          "tableFrom": "access_activity_logs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_activity_logs_biz_artifact_fk": {
          "name": "access_activity_logs_biz_artifact_fk",
          "tableFrom": "access_activity_logs",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_activity_logs_biz_actor_subject_fk": {
          "name": "access_activity_logs_biz_actor_subject_fk",
          "tableFrom": "access_activity_logs",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "actor_subject_type",
            "actor_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_artifact_events": {
      "name": "access_artifact_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "access_artifact_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "quantity_delta": {
          "name": "quantity_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "outcome": {
          "name": "outcome",
          "type": "access_action_outcome",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_text": {
          "name": "reason_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_type": {
          "name": "actor_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_id": {
          "name": "actor_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_artifact_events_biz_id_id_unique": {
          "name": "access_artifact_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_artifact_events_biz_artifact_happened_idx": {
          "name": "access_artifact_events_biz_artifact_happened_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "happened_at"
          ],
          "isUnique": false
        },
        "access_artifact_events_biz_type_happened_idx": {
          "name": "access_artifact_events_biz_type_happened_idx",
          "columns": [
            "biz_id",
            "event_type",
            "happened_at"
          ],
          "isUnique": false
        },
        "access_artifact_events_biz_request_key_unique": {
          "name": "access_artifact_events_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "access_artifact_events_biz_id_bizes_id_fk": {
          "name": "access_artifact_events_biz_id_bizes_id_fk",
          "tableFrom": "access_artifact_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_events_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_artifact_events_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_artifact_events",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_events_actor_user_id_users_id_fk": {
          "name": "access_artifact_events_actor_user_id_users_id_fk",
          "tableFrom": "access_artifact_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_events_created_by_users_id_fk": {
          "name": "access_artifact_events_created_by_users_id_fk",
          "tableFrom": "access_artifact_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_events_updated_by_users_id_fk": {
          "name": "access_artifact_events_updated_by_users_id_fk",
          "tableFrom": "access_artifact_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_events_deleted_by_users_id_fk": {
          "name": "access_artifact_events_deleted_by_users_id_fk",
          "tableFrom": "access_artifact_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_events_biz_artifact_fk": {
          "name": "access_artifact_events_biz_artifact_fk",
          "tableFrom": "access_artifact_events",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_events_biz_actor_subject_fk": {
          "name": "access_artifact_events_biz_actor_subject_fk",
          "tableFrom": "access_artifact_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "actor_subject_type",
            "actor_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_artifact_links": {
      "name": "access_artifact_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "link_type": {
          "name": "link_type",
          "type": "access_artifact_link_type",
          "primaryKey": false,
          "notNull": true
        },
        "relation_key": {
          "name": "relation_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true,
          "default": "'source'"
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "membership_id": {
          "name": "membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entitlement_grant_id": {
          "name": "entitlement_grant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_type": {
          "name": "custom_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_id": {
          "name": "custom_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "external_reference_type": {
          "name": "external_reference_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "external_reference_id": {
          "name": "external_reference_id",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_artifact_links_biz_id_id_unique": {
          "name": "access_artifact_links_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_artifact_links_biz_artifact_type_idx": {
          "name": "access_artifact_links_biz_artifact_type_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "link_type"
          ],
          "isUnique": false
        },
        "access_artifact_links_biz_artifact_role_idx": {
          "name": "access_artifact_links_biz_artifact_role_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "relation_key"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_artifact_links_biz_id_bizes_id_fk": {
          "name": "access_artifact_links_biz_id_bizes_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_artifact_links_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_sellable_id_sellables_id_fk": {
          "name": "access_artifact_links_sellable_id_sellables_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_booking_order_id_booking_orders_id_fk": {
          "name": "access_artifact_links_booking_order_id_booking_orders_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "access_artifact_links_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_membership_id_memberships_id_fk": {
          "name": "access_artifact_links_membership_id_memberships_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "memberships",
          "columnsFrom": [
            "membership_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_entitlement_grant_id_entitlement_grants_id_fk": {
          "name": "access_artifact_links_entitlement_grant_id_entitlement_grants_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "entitlement_grants",
          "columnsFrom": [
            "entitlement_grant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_payment_transaction_id_payment_transactions_id_fk": {
          "name": "access_artifact_links_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "access_artifact_links_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_created_by_users_id_fk": {
          "name": "access_artifact_links_created_by_users_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_updated_by_users_id_fk": {
          "name": "access_artifact_links_updated_by_users_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_deleted_by_users_id_fk": {
          "name": "access_artifact_links_deleted_by_users_id_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_biz_artifact_fk": {
          "name": "access_artifact_links_biz_artifact_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_biz_sellable_fk": {
          "name": "access_artifact_links_biz_sellable_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_biz_booking_order_fk": {
          "name": "access_artifact_links_biz_booking_order_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_biz_booking_order_line_fk": {
          "name": "access_artifact_links_biz_booking_order_line_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_biz_membership_fk": {
          "name": "access_artifact_links_biz_membership_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "memberships",
          "columnsFrom": [
            "biz_id",
            "membership_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_biz_entitlement_grant_fk": {
          "name": "access_artifact_links_biz_entitlement_grant_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "entitlement_grants",
          "columnsFrom": [
            "biz_id",
            "entitlement_grant_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_biz_payment_transaction_fk": {
          "name": "access_artifact_links_biz_payment_transaction_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_biz_fulfillment_unit_fk": {
          "name": "access_artifact_links_biz_fulfillment_unit_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifact_links_biz_custom_subject_fk": {
          "name": "access_artifact_links_biz_custom_subject_fk",
          "tableFrom": "access_artifact_links",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "custom_subject_type",
            "custom_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_artifacts": {
      "name": "access_artifacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "artifact_type": {
          "name": "artifact_type",
          "type": "access_artifact_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "access_artifact_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "public_code": {
          "name": "public_code",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "secret_hash": {
          "name": "secret_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "holder_user_id": {
          "name": "holder_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "holder_group_account_id": {
          "name": "holder_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "holder_subject_type": {
          "name": "holder_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "holder_subject_id": {
          "name": "holder_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "activated_at": {
          "name": "activated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "suspended_at": {
          "name": "suspended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "consumed_at": {
          "name": "consumed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "transferable": {
          "name": "transferable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "usage_granted": {
          "name": "usage_granted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usage_remaining": {
          "name": "usage_remaining",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_artifacts_biz_id_id_unique": {
          "name": "access_artifacts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_artifacts_biz_public_code_unique": {
          "name": "access_artifacts_biz_public_code_unique",
          "columns": [
            "biz_id",
            "public_code"
          ],
          "isUnique": true
        },
        "access_artifacts_biz_type_status_issued_idx": {
          "name": "access_artifacts_biz_type_status_issued_idx",
          "columns": [
            "biz_id",
            "artifact_type",
            "status",
            "issued_at"
          ],
          "isUnique": false
        },
        "access_artifacts_biz_holder_user_status_idx": {
          "name": "access_artifacts_biz_holder_user_status_idx",
          "columns": [
            "biz_id",
            "holder_user_id",
            "status"
          ],
          "isUnique": false
        },
        "access_artifacts_biz_holder_group_status_idx": {
          "name": "access_artifacts_biz_holder_group_status_idx",
          "columns": [
            "biz_id",
            "holder_group_account_id",
            "status"
          ],
          "isUnique": false
        },
        "access_artifacts_biz_sellable_status_idx": {
          "name": "access_artifacts_biz_sellable_status_idx",
          "columns": [
            "biz_id",
            "sellable_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_artifacts_biz_id_bizes_id_fk": {
          "name": "access_artifacts_biz_id_bizes_id_fk",
          "tableFrom": "access_artifacts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifacts_holder_user_id_users_id_fk": {
          "name": "access_artifacts_holder_user_id_users_id_fk",
          "tableFrom": "access_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "holder_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifacts_holder_group_account_id_group_accounts_id_fk": {
          "name": "access_artifacts_holder_group_account_id_group_accounts_id_fk",
          "tableFrom": "access_artifacts",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "holder_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifacts_sellable_id_sellables_id_fk": {
          "name": "access_artifacts_sellable_id_sellables_id_fk",
          "tableFrom": "access_artifacts",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifacts_created_by_users_id_fk": {
          "name": "access_artifacts_created_by_users_id_fk",
          "tableFrom": "access_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifacts_updated_by_users_id_fk": {
          "name": "access_artifacts_updated_by_users_id_fk",
          "tableFrom": "access_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifacts_deleted_by_users_id_fk": {
          "name": "access_artifacts_deleted_by_users_id_fk",
          "tableFrom": "access_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifacts_biz_sellable_fk": {
          "name": "access_artifacts_biz_sellable_fk",
          "tableFrom": "access_artifacts",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_artifacts_biz_holder_subject_fk": {
          "name": "access_artifacts_biz_holder_subject_fk",
          "tableFrom": "access_artifacts",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "holder_subject_type",
            "holder_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_delivery_links": {
      "name": "access_delivery_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "access_delivery_link_channel",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "access_delivery_link_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token_preview": {
          "name": "token_preview",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "consumed_at": {
          "name": "consumed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "max_access_count": {
          "name": "max_access_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "used_access_count": {
          "name": "used_access_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_access_at": {
          "name": "last_access_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_target": {
          "name": "delivery_target",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_delivery_links_biz_id_id_unique": {
          "name": "access_delivery_links_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_delivery_links_biz_token_hash_unique": {
          "name": "access_delivery_links_biz_token_hash_unique",
          "columns": [
            "biz_id",
            "token_hash"
          ],
          "isUnique": true
        },
        "access_delivery_links_biz_request_key_unique": {
          "name": "access_delivery_links_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "access_delivery_links_biz_artifact_status_expiry_idx": {
          "name": "access_delivery_links_biz_artifact_status_expiry_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "status",
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_delivery_links_biz_id_bizes_id_fk": {
          "name": "access_delivery_links_biz_id_bizes_id_fk",
          "tableFrom": "access_delivery_links",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_delivery_links_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_delivery_links_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_delivery_links",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_delivery_links_created_by_users_id_fk": {
          "name": "access_delivery_links_created_by_users_id_fk",
          "tableFrom": "access_delivery_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_delivery_links_updated_by_users_id_fk": {
          "name": "access_delivery_links_updated_by_users_id_fk",
          "tableFrom": "access_delivery_links",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_delivery_links_deleted_by_users_id_fk": {
          "name": "access_delivery_links_deleted_by_users_id_fk",
          "tableFrom": "access_delivery_links",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_delivery_links_biz_artifact_fk": {
          "name": "access_delivery_links_biz_artifact_fk",
          "tableFrom": "access_delivery_links",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_resale_listings": {
      "name": "access_resale_listings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_transfer_policy_id": {
          "name": "access_transfer_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "access_resale_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "seller_user_id": {
          "name": "seller_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "seller_group_account_id": {
          "name": "seller_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "seller_subject_type": {
          "name": "seller_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "seller_subject_id": {
          "name": "seller_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "listed_price_minor": {
          "name": "listed_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "min_acceptable_price_minor": {
          "name": "min_acceptable_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "listed_at": {
          "name": "listed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reserved_at": {
          "name": "reserved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sold_at": {
          "name": "sold_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "buyer_user_id": {
          "name": "buyer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "buyer_group_account_id": {
          "name": "buyer_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "buyer_subject_type": {
          "name": "buyer_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "buyer_subject_id": {
          "name": "buyer_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "completed_transfer_id": {
          "name": "completed_transfer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_resale_listings_biz_id_id_unique": {
          "name": "access_resale_listings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_resale_listings_biz_status_listed_idx": {
          "name": "access_resale_listings_biz_status_listed_idx",
          "columns": [
            "biz_id",
            "status",
            "listed_at"
          ],
          "isUnique": false
        },
        "access_resale_listings_biz_artifact_listed_idx": {
          "name": "access_resale_listings_biz_artifact_listed_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "listed_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_resale_listings_biz_id_bizes_id_fk": {
          "name": "access_resale_listings_biz_id_bizes_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_resale_listings_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_access_transfer_policy_id_access_transfer_policies_id_fk": {
          "name": "access_resale_listings_access_transfer_policy_id_access_transfer_policies_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "access_transfer_policies",
          "columnsFrom": [
            "access_transfer_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_seller_user_id_users_id_fk": {
          "name": "access_resale_listings_seller_user_id_users_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "users",
          "columnsFrom": [
            "seller_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_seller_group_account_id_group_accounts_id_fk": {
          "name": "access_resale_listings_seller_group_account_id_group_accounts_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "seller_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_buyer_user_id_users_id_fk": {
          "name": "access_resale_listings_buyer_user_id_users_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "users",
          "columnsFrom": [
            "buyer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_buyer_group_account_id_group_accounts_id_fk": {
          "name": "access_resale_listings_buyer_group_account_id_group_accounts_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "buyer_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_completed_transfer_id_access_transfers_id_fk": {
          "name": "access_resale_listings_completed_transfer_id_access_transfers_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "access_transfers",
          "columnsFrom": [
            "completed_transfer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_created_by_users_id_fk": {
          "name": "access_resale_listings_created_by_users_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_updated_by_users_id_fk": {
          "name": "access_resale_listings_updated_by_users_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_deleted_by_users_id_fk": {
          "name": "access_resale_listings_deleted_by_users_id_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_biz_artifact_fk": {
          "name": "access_resale_listings_biz_artifact_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_biz_policy_fk": {
          "name": "access_resale_listings_biz_policy_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "access_transfer_policies",
          "columnsFrom": [
            "biz_id",
            "access_transfer_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_biz_transfer_fk": {
          "name": "access_resale_listings_biz_transfer_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "access_transfers",
          "columnsFrom": [
            "biz_id",
            "completed_transfer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_biz_seller_subject_fk": {
          "name": "access_resale_listings_biz_seller_subject_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "seller_subject_type",
            "seller_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_resale_listings_biz_buyer_subject_fk": {
          "name": "access_resale_listings_biz_buyer_subject_fk",
          "tableFrom": "access_resale_listings",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "buyer_subject_type",
            "buyer_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_security_decisions": {
      "name": "access_security_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "outcome": {
          "name": "outcome",
          "type": "access_security_decision_outcome",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "access_security_decision_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_until": {
          "name": "effective_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reverted_at": {
          "name": "reverted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "access_security_signal_id": {
          "name": "access_security_signal_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_action_token_id": {
          "name": "access_action_token_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_activity_log_id": {
          "name": "access_activity_log_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decided_by_user_id": {
          "name": "decided_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decided_by_subject_type": {
          "name": "decided_by_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "decided_by_subject_id": {
          "name": "decided_by_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_text": {
          "name": "reason_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_security_decisions_biz_id_id_unique": {
          "name": "access_security_decisions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_security_decisions_biz_decided_idx": {
          "name": "access_security_decisions_biz_decided_idx",
          "columns": [
            "biz_id",
            "decided_at"
          ],
          "isUnique": false
        },
        "access_security_decisions_biz_artifact_decided_idx": {
          "name": "access_security_decisions_biz_artifact_decided_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "decided_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_security_decisions_biz_id_bizes_id_fk": {
          "name": "access_security_decisions_biz_id_bizes_id_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_access_security_signal_id_access_security_signals_id_fk": {
          "name": "access_security_decisions_access_security_signal_id_access_security_signals_id_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "access_security_signals",
          "columnsFrom": [
            "access_security_signal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_security_decisions_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_access_action_token_id_access_action_tokens_id_fk": {
          "name": "access_security_decisions_access_action_token_id_access_action_tokens_id_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "access_action_tokens",
          "columnsFrom": [
            "access_action_token_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_access_activity_log_id_access_activity_logs_id_fk": {
          "name": "access_security_decisions_access_activity_log_id_access_activity_logs_id_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "access_activity_logs",
          "columnsFrom": [
            "access_activity_log_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_decided_by_user_id_users_id_fk": {
          "name": "access_security_decisions_decided_by_user_id_users_id_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "decided_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_created_by_users_id_fk": {
          "name": "access_security_decisions_created_by_users_id_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_updated_by_users_id_fk": {
          "name": "access_security_decisions_updated_by_users_id_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_deleted_by_users_id_fk": {
          "name": "access_security_decisions_deleted_by_users_id_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_biz_signal_fk": {
          "name": "access_security_decisions_biz_signal_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "access_security_signals",
          "columnsFrom": [
            "biz_id",
            "access_security_signal_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_biz_artifact_fk": {
          "name": "access_security_decisions_biz_artifact_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_biz_token_fk": {
          "name": "access_security_decisions_biz_token_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "access_action_tokens",
          "columnsFrom": [
            "biz_id",
            "access_action_token_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_biz_activity_log_fk": {
          "name": "access_security_decisions_biz_activity_log_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "access_activity_logs",
          "columnsFrom": [
            "biz_id",
            "access_activity_log_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_decisions_biz_actor_subject_fk": {
          "name": "access_security_decisions_biz_actor_subject_fk",
          "tableFrom": "access_security_decisions",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "decided_by_subject_type",
            "decided_by_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_security_signals": {
      "name": "access_security_signals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signal_type": {
          "name": "signal_type",
          "type": "access_security_signal_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "access_security_signal_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "severity": {
          "name": "severity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 50
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_action_token_id": {
          "name": "access_action_token_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_activity_log_id": {
          "name": "access_activity_log_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_subject_type": {
          "name": "source_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_subject_id": {
          "name": "source_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_security_signals_biz_id_id_unique": {
          "name": "access_security_signals_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_security_signals_biz_status_detected_idx": {
          "name": "access_security_signals_biz_status_detected_idx",
          "columns": [
            "biz_id",
            "status",
            "detected_at"
          ],
          "isUnique": false
        },
        "access_security_signals_biz_artifact_detected_idx": {
          "name": "access_security_signals_biz_artifact_detected_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "detected_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_security_signals_biz_id_bizes_id_fk": {
          "name": "access_security_signals_biz_id_bizes_id_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_security_signals_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_access_action_token_id_access_action_tokens_id_fk": {
          "name": "access_security_signals_access_action_token_id_access_action_tokens_id_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "access_action_tokens",
          "columnsFrom": [
            "access_action_token_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_access_activity_log_id_access_activity_logs_id_fk": {
          "name": "access_security_signals_access_activity_log_id_access_activity_logs_id_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "access_activity_logs",
          "columnsFrom": [
            "access_activity_log_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_created_by_users_id_fk": {
          "name": "access_security_signals_created_by_users_id_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_updated_by_users_id_fk": {
          "name": "access_security_signals_updated_by_users_id_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_deleted_by_users_id_fk": {
          "name": "access_security_signals_deleted_by_users_id_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_biz_artifact_fk": {
          "name": "access_security_signals_biz_artifact_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_biz_token_fk": {
          "name": "access_security_signals_biz_token_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "access_action_tokens",
          "columnsFrom": [
            "biz_id",
            "access_action_token_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_biz_activity_log_fk": {
          "name": "access_security_signals_biz_activity_log_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "access_activity_logs",
          "columnsFrom": [
            "biz_id",
            "access_activity_log_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_security_signals_biz_source_subject_fk": {
          "name": "access_security_signals_biz_source_subject_fk",
          "tableFrom": "access_security_signals",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "source_subject_type",
            "source_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_transfer_policies": {
      "name": "access_transfer_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "applies_to_artifact_type": {
          "name": "applies_to_artifact_type",
          "type": "access_artifact_type",
          "primaryKey": false,
          "notNull": false
        },
        "applies_to_sellable_id": {
          "name": "applies_to_sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "allow_transfers": {
          "name": "allow_transfers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allow_resale": {
          "name": "allow_resale",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "approval_required": {
          "name": "approval_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "max_transfers_per_artifact": {
          "name": "max_transfers_per_artifact",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_hold_seconds": {
          "name": "min_hold_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_cooldown_seconds": {
          "name": "transfer_cooldown_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_fee_minor": {
          "name": "transfer_fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_transfer_policies_biz_id_id_unique": {
          "name": "access_transfer_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_transfer_policies_biz_slug_unique": {
          "name": "access_transfer_policies_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "access_transfer_policies_biz_status_idx": {
          "name": "access_transfer_policies_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "access_transfer_policies_biz_sellable_status_idx": {
          "name": "access_transfer_policies_biz_sellable_status_idx",
          "columns": [
            "biz_id",
            "applies_to_sellable_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_transfer_policies_biz_id_bizes_id_fk": {
          "name": "access_transfer_policies_biz_id_bizes_id_fk",
          "tableFrom": "access_transfer_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfer_policies_applies_to_sellable_id_sellables_id_fk": {
          "name": "access_transfer_policies_applies_to_sellable_id_sellables_id_fk",
          "tableFrom": "access_transfer_policies",
          "tableTo": "sellables",
          "columnsFrom": [
            "applies_to_sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfer_policies_created_by_users_id_fk": {
          "name": "access_transfer_policies_created_by_users_id_fk",
          "tableFrom": "access_transfer_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfer_policies_updated_by_users_id_fk": {
          "name": "access_transfer_policies_updated_by_users_id_fk",
          "tableFrom": "access_transfer_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfer_policies_deleted_by_users_id_fk": {
          "name": "access_transfer_policies_deleted_by_users_id_fk",
          "tableFrom": "access_transfer_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfer_policies_biz_sellable_fk": {
          "name": "access_transfer_policies_biz_sellable_fk",
          "tableFrom": "access_transfer_policies",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "applies_to_sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_transfers": {
      "name": "access_transfers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_access_artifact_id": {
          "name": "source_access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_access_artifact_id": {
          "name": "target_access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_transfer_policy_id": {
          "name": "access_transfer_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mode": {
          "name": "mode",
          "type": "access_transfer_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'full_transfer'"
        },
        "status": {
          "name": "status",
          "type": "access_transfer_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'requested'"
        },
        "quantity_requested": {
          "name": "quantity_requested",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "quantity_transferred": {
          "name": "quantity_transferred",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by_user_id": {
          "name": "requested_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by_user_id": {
          "name": "approved_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reversed_at": {
          "name": "reversed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "target_holder_user_id": {
          "name": "target_holder_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_holder_group_account_id": {
          "name": "target_holder_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_holder_subject_type": {
          "name": "target_holder_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_holder_subject_id": {
          "name": "target_holder_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_text": {
          "name": "reason_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_holder_snapshot": {
          "name": "from_holder_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "to_holder_snapshot": {
          "name": "to_holder_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_transfers_biz_id_id_unique": {
          "name": "access_transfers_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_transfers_biz_status_requested_idx": {
          "name": "access_transfers_biz_status_requested_idx",
          "columns": [
            "biz_id",
            "status",
            "requested_at"
          ],
          "isUnique": false
        },
        "access_transfers_biz_source_requested_idx": {
          "name": "access_transfers_biz_source_requested_idx",
          "columns": [
            "biz_id",
            "source_access_artifact_id",
            "requested_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_transfers_biz_id_bizes_id_fk": {
          "name": "access_transfers_biz_id_bizes_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_source_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_transfers_source_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "source_access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_target_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_transfers_target_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "target_access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_access_transfer_policy_id_access_transfer_policies_id_fk": {
          "name": "access_transfers_access_transfer_policy_id_access_transfer_policies_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "access_transfer_policies",
          "columnsFrom": [
            "access_transfer_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_requested_by_user_id_users_id_fk": {
          "name": "access_transfers_requested_by_user_id_users_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_approved_by_user_id_users_id_fk": {
          "name": "access_transfers_approved_by_user_id_users_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_target_holder_user_id_users_id_fk": {
          "name": "access_transfers_target_holder_user_id_users_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "target_holder_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_target_holder_group_account_id_group_accounts_id_fk": {
          "name": "access_transfers_target_holder_group_account_id_group_accounts_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "target_holder_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_created_by_users_id_fk": {
          "name": "access_transfers_created_by_users_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_updated_by_users_id_fk": {
          "name": "access_transfers_updated_by_users_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_deleted_by_users_id_fk": {
          "name": "access_transfers_deleted_by_users_id_fk",
          "tableFrom": "access_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_biz_source_artifact_fk": {
          "name": "access_transfers_biz_source_artifact_fk",
          "tableFrom": "access_transfers",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "source_access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_biz_target_artifact_fk": {
          "name": "access_transfers_biz_target_artifact_fk",
          "tableFrom": "access_transfers",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "target_access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_biz_policy_fk": {
          "name": "access_transfers_biz_policy_fk",
          "tableFrom": "access_transfers",
          "tableTo": "access_transfer_policies",
          "columnsFrom": [
            "biz_id",
            "access_transfer_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_transfers_biz_target_subject_fk": {
          "name": "access_transfers_biz_target_subject_fk",
          "tableFrom": "access_transfers",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_holder_subject_type",
            "target_holder_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_usage_windows": {
      "name": "access_usage_windows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "access_action_type",
          "primaryKey": false,
          "notNull": true
        },
        "window_mode": {
          "name": "window_mode",
          "type": "access_usage_window_mode",
          "primaryKey": false,
          "notNull": true
        },
        "max_events": {
          "name": "max_events",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_quantity": {
          "name": "max_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "window_seconds": {
          "name": "window_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "window_starts_at": {
          "name": "window_starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "window_ends_at": {
          "name": "window_ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "is_soft_limit": {
          "name": "is_soft_limit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_usage_windows_biz_id_id_unique": {
          "name": "access_usage_windows_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_usage_windows_biz_artifact_action_idx": {
          "name": "access_usage_windows_biz_artifact_action_idx",
          "columns": [
            "biz_id",
            "access_artifact_id",
            "action_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_usage_windows_biz_id_bizes_id_fk": {
          "name": "access_usage_windows_biz_id_bizes_id_fk",
          "tableFrom": "access_usage_windows",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_usage_windows_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_usage_windows_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_usage_windows",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_usage_windows_created_by_users_id_fk": {
          "name": "access_usage_windows_created_by_users_id_fk",
          "tableFrom": "access_usage_windows",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_usage_windows_updated_by_users_id_fk": {
          "name": "access_usage_windows_updated_by_users_id_fk",
          "tableFrom": "access_usage_windows",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_usage_windows_deleted_by_users_id_fk": {
          "name": "access_usage_windows_deleted_by_users_id_fk",
          "tableFrom": "access_usage_windows",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_usage_windows_biz_artifact_fk": {
          "name": "access_usage_windows_biz_artifact_fk",
          "tableFrom": "access_usage_windows",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "checkout_recovery_links": {
      "name": "checkout_recovery_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "checkout_session_id": {
          "name": "checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "checkout_recovery_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "channel": {
          "name": "channel",
          "type": "checkout_recovery_channel",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token_preview": {
          "name": "token_preview",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "used_at": {
          "name": "used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "max_use_count": {
          "name": "max_use_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "used_count": {
          "name": "used_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_campaign_id": {
          "name": "discount_campaign_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_target": {
          "name": "delivery_target",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "checkout_recovery_links_biz_id_id_unique": {
          "name": "checkout_recovery_links_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "checkout_recovery_links_biz_token_hash_unique": {
          "name": "checkout_recovery_links_biz_token_hash_unique",
          "columns": [
            "biz_id",
            "token_hash"
          ],
          "isUnique": true
        },
        "checkout_recovery_links_biz_request_key_unique": {
          "name": "checkout_recovery_links_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "checkout_recovery_links_biz_session_status_issued_idx": {
          "name": "checkout_recovery_links_biz_session_status_issued_idx",
          "columns": [
            "biz_id",
            "checkout_session_id",
            "status",
            "issued_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "checkout_recovery_links_biz_id_bizes_id_fk": {
          "name": "checkout_recovery_links_biz_id_bizes_id_fk",
          "tableFrom": "checkout_recovery_links",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_recovery_links_checkout_session_id_checkout_sessions_id_fk": {
          "name": "checkout_recovery_links_checkout_session_id_checkout_sessions_id_fk",
          "tableFrom": "checkout_recovery_links",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "checkout_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_recovery_links_discount_campaign_id_discount_campaigns_id_fk": {
          "name": "checkout_recovery_links_discount_campaign_id_discount_campaigns_id_fk",
          "tableFrom": "checkout_recovery_links",
          "tableTo": "discount_campaigns",
          "columnsFrom": [
            "discount_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_recovery_links_created_by_users_id_fk": {
          "name": "checkout_recovery_links_created_by_users_id_fk",
          "tableFrom": "checkout_recovery_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_recovery_links_updated_by_users_id_fk": {
          "name": "checkout_recovery_links_updated_by_users_id_fk",
          "tableFrom": "checkout_recovery_links",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_recovery_links_deleted_by_users_id_fk": {
          "name": "checkout_recovery_links_deleted_by_users_id_fk",
          "tableFrom": "checkout_recovery_links",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_recovery_links_biz_session_fk": {
          "name": "checkout_recovery_links_biz_session_fk",
          "tableFrom": "checkout_recovery_links",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "biz_id",
            "checkout_session_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_recovery_links_biz_discount_campaign_fk": {
          "name": "checkout_recovery_links_biz_discount_campaign_fk",
          "tableFrom": "checkout_recovery_links",
          "tableTo": "discount_campaigns",
          "columnsFrom": [
            "biz_id",
            "discount_campaign_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "checkout_session_events": {
      "name": "checkout_session_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "checkout_session_id": {
          "name": "checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "checkout_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "event_at": {
          "name": "event_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_type": {
          "name": "actor_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_id": {
          "name": "actor_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "checkout_session_events_biz_id_id_unique": {
          "name": "checkout_session_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "checkout_session_events_biz_session_event_idx": {
          "name": "checkout_session_events_biz_session_event_idx",
          "columns": [
            "biz_id",
            "checkout_session_id",
            "event_at"
          ],
          "isUnique": false
        },
        "checkout_session_events_biz_type_event_idx": {
          "name": "checkout_session_events_biz_type_event_idx",
          "columns": [
            "biz_id",
            "event_type",
            "event_at"
          ],
          "isUnique": false
        },
        "checkout_session_events_biz_request_key_unique": {
          "name": "checkout_session_events_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "checkout_session_events_biz_id_bizes_id_fk": {
          "name": "checkout_session_events_biz_id_bizes_id_fk",
          "tableFrom": "checkout_session_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_events_checkout_session_id_checkout_sessions_id_fk": {
          "name": "checkout_session_events_checkout_session_id_checkout_sessions_id_fk",
          "tableFrom": "checkout_session_events",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "checkout_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_events_actor_user_id_users_id_fk": {
          "name": "checkout_session_events_actor_user_id_users_id_fk",
          "tableFrom": "checkout_session_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_events_created_by_users_id_fk": {
          "name": "checkout_session_events_created_by_users_id_fk",
          "tableFrom": "checkout_session_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_events_updated_by_users_id_fk": {
          "name": "checkout_session_events_updated_by_users_id_fk",
          "tableFrom": "checkout_session_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_events_deleted_by_users_id_fk": {
          "name": "checkout_session_events_deleted_by_users_id_fk",
          "tableFrom": "checkout_session_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_events_biz_session_fk": {
          "name": "checkout_session_events_biz_session_fk",
          "tableFrom": "checkout_session_events",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "biz_id",
            "checkout_session_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_events_biz_actor_subject_fk": {
          "name": "checkout_session_events_biz_actor_subject_fk",
          "tableFrom": "checkout_session_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "actor_subject_type",
            "actor_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "checkout_session_items": {
      "name": "checkout_session_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "checkout_session_id": {
          "name": "checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "item_type": {
          "name": "item_type",
          "type": "checkout_item_type",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_type": {
          "name": "custom_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_id": {
          "name": "custom_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "unit_price_minor": {
          "name": "unit_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "line_subtotal_minor": {
          "name": "line_subtotal_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fee_minor": {
          "name": "fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "requested_start_at": {
          "name": "requested_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "requested_end_at": {
          "name": "requested_end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "checkout_session_items_biz_id_id_unique": {
          "name": "checkout_session_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "checkout_session_items_biz_session_idx": {
          "name": "checkout_session_items_biz_session_idx",
          "columns": [
            "biz_id",
            "checkout_session_id"
          ],
          "isUnique": false
        },
        "checkout_session_items_biz_sellable_idx": {
          "name": "checkout_session_items_biz_sellable_idx",
          "columns": [
            "biz_id",
            "sellable_id"
          ],
          "isUnique": false
        },
        "checkout_session_items_session_sellable_unique": {
          "name": "checkout_session_items_session_sellable_unique",
          "columns": [
            "checkout_session_id",
            "sellable_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "checkout_session_items_biz_id_bizes_id_fk": {
          "name": "checkout_session_items_biz_id_bizes_id_fk",
          "tableFrom": "checkout_session_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_items_checkout_session_id_checkout_sessions_id_fk": {
          "name": "checkout_session_items_checkout_session_id_checkout_sessions_id_fk",
          "tableFrom": "checkout_session_items",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "checkout_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_items_sellable_id_sellables_id_fk": {
          "name": "checkout_session_items_sellable_id_sellables_id_fk",
          "tableFrom": "checkout_session_items",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_items_created_by_users_id_fk": {
          "name": "checkout_session_items_created_by_users_id_fk",
          "tableFrom": "checkout_session_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_items_updated_by_users_id_fk": {
          "name": "checkout_session_items_updated_by_users_id_fk",
          "tableFrom": "checkout_session_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_items_deleted_by_users_id_fk": {
          "name": "checkout_session_items_deleted_by_users_id_fk",
          "tableFrom": "checkout_session_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_items_biz_session_fk": {
          "name": "checkout_session_items_biz_session_fk",
          "tableFrom": "checkout_session_items",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "biz_id",
            "checkout_session_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_items_biz_sellable_fk": {
          "name": "checkout_session_items_biz_sellable_fk",
          "tableFrom": "checkout_session_items",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_session_items_biz_custom_subject_fk": {
          "name": "checkout_session_items_biz_custom_subject_fk",
          "tableFrom": "checkout_session_items",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "custom_subject_type",
            "custom_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "checkout_sessions": {
      "name": "checkout_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "checkout_session_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "channel": {
          "name": "channel",
          "type": "checkout_channel",
          "primaryKey": false,
          "notNull": true,
          "default": "'web'"
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_group_account_id": {
          "name": "owner_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "subtotal_minor": {
          "name": "subtotal_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fee_minor": {
          "name": "fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_activity_at": {
          "name": "last_activity_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "abandoned_at": {
          "name": "abandoned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "recovered_at": {
          "name": "recovered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recovered_from_checkout_session_id": {
          "name": "recovered_from_checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "acquisition_source": {
          "name": "acquisition_source",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_reference": {
          "name": "campaign_reference",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "checkout_sessions_biz_id_id_unique": {
          "name": "checkout_sessions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "checkout_sessions_biz_status_activity_idx": {
          "name": "checkout_sessions_biz_status_activity_idx",
          "columns": [
            "biz_id",
            "status",
            "last_activity_at"
          ],
          "isUnique": false
        },
        "checkout_sessions_biz_owner_idx": {
          "name": "checkout_sessions_biz_owner_idx",
          "columns": [
            "biz_id",
            "owner_user_id",
            "started_at"
          ],
          "isUnique": false
        },
        "checkout_sessions_biz_recovered_from_idx": {
          "name": "checkout_sessions_biz_recovered_from_idx",
          "columns": [
            "biz_id",
            "recovered_from_checkout_session_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "checkout_sessions_biz_id_bizes_id_fk": {
          "name": "checkout_sessions_biz_id_bizes_id_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_owner_user_id_users_id_fk": {
          "name": "checkout_sessions_owner_user_id_users_id_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_owner_group_account_id_group_accounts_id_fk": {
          "name": "checkout_sessions_owner_group_account_id_group_accounts_id_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "owner_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_location_id_locations_id_fk": {
          "name": "checkout_sessions_location_id_locations_id_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_booking_order_id_booking_orders_id_fk": {
          "name": "checkout_sessions_booking_order_id_booking_orders_id_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_created_by_users_id_fk": {
          "name": "checkout_sessions_created_by_users_id_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_updated_by_users_id_fk": {
          "name": "checkout_sessions_updated_by_users_id_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_deleted_by_users_id_fk": {
          "name": "checkout_sessions_deleted_by_users_id_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_biz_recovered_from_fk": {
          "name": "checkout_sessions_biz_recovered_from_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "biz_id",
            "recovered_from_checkout_session_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_biz_location_fk": {
          "name": "checkout_sessions_biz_location_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "checkout_sessions_biz_booking_order_fk": {
          "name": "checkout_sessions_biz_booking_order_fk",
          "tableFrom": "checkout_sessions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "wishlist_items": {
      "name": "wishlist_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "wishlist_id": {
          "name": "wishlist_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "variant_key": {
          "name": "variant_key",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "desired_quantity": {
          "name": "desired_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "desired_unit_price_minor": {
          "name": "desired_unit_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_touched_at": {
          "name": "last_touched_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "wishlist_items_biz_id_id_unique": {
          "name": "wishlist_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "wishlist_items_active_unique": {
          "name": "wishlist_items_active_unique",
          "columns": [
            "wishlist_id",
            "sellable_id",
            "variant_key"
          ],
          "isUnique": true
        },
        "wishlist_items_biz_wishlist_priority_idx": {
          "name": "wishlist_items_biz_wishlist_priority_idx",
          "columns": [
            "biz_id",
            "wishlist_id",
            "priority",
            "added_at"
          ],
          "isUnique": false
        },
        "wishlist_items_biz_sellable_idx": {
          "name": "wishlist_items_biz_sellable_idx",
          "columns": [
            "biz_id",
            "sellable_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "wishlist_items_biz_id_bizes_id_fk": {
          "name": "wishlist_items_biz_id_bizes_id_fk",
          "tableFrom": "wishlist_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlist_items_wishlist_id_wishlists_id_fk": {
          "name": "wishlist_items_wishlist_id_wishlists_id_fk",
          "tableFrom": "wishlist_items",
          "tableTo": "wishlists",
          "columnsFrom": [
            "wishlist_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlist_items_sellable_id_sellables_id_fk": {
          "name": "wishlist_items_sellable_id_sellables_id_fk",
          "tableFrom": "wishlist_items",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlist_items_created_by_users_id_fk": {
          "name": "wishlist_items_created_by_users_id_fk",
          "tableFrom": "wishlist_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlist_items_updated_by_users_id_fk": {
          "name": "wishlist_items_updated_by_users_id_fk",
          "tableFrom": "wishlist_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlist_items_deleted_by_users_id_fk": {
          "name": "wishlist_items_deleted_by_users_id_fk",
          "tableFrom": "wishlist_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlist_items_biz_wishlist_fk": {
          "name": "wishlist_items_biz_wishlist_fk",
          "tableFrom": "wishlist_items",
          "tableTo": "wishlists",
          "columnsFrom": [
            "biz_id",
            "wishlist_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlist_items_biz_sellable_fk": {
          "name": "wishlist_items_biz_sellable_fk",
          "tableFrom": "wishlist_items",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "wishlists": {
      "name": "wishlists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "crm_contact_id": {
          "name": "crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "visibility_mode": {
          "name": "visibility_mode",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "wishlists_biz_id_id_unique": {
          "name": "wishlists_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "wishlists_owner_slug_unique": {
          "name": "wishlists_owner_slug_unique",
          "columns": [
            "biz_id",
            "crm_contact_id",
            "slug"
          ],
          "isUnique": true
        },
        "wishlists_one_default_per_owner_unique": {
          "name": "wishlists_one_default_per_owner_unique",
          "columns": [
            "biz_id",
            "crm_contact_id"
          ],
          "isUnique": true
        },
        "wishlists_biz_owner_status_idx": {
          "name": "wishlists_biz_owner_status_idx",
          "columns": [
            "biz_id",
            "crm_contact_id",
            "status",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "wishlists_biz_id_bizes_id_fk": {
          "name": "wishlists_biz_id_bizes_id_fk",
          "tableFrom": "wishlists",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlists_crm_contact_id_crm_contacts_id_fk": {
          "name": "wishlists_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "wishlists",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlists_created_by_users_id_fk": {
          "name": "wishlists_created_by_users_id_fk",
          "tableFrom": "wishlists",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlists_updated_by_users_id_fk": {
          "name": "wishlists_updated_by_users_id_fk",
          "tableFrom": "wishlists",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlists_deleted_by_users_id_fk": {
          "name": "wishlists_deleted_by_users_id_fk",
          "tableFrom": "wishlists",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wishlists_biz_contact_fk": {
          "name": "wishlists_biz_contact_fk",
          "tableFrom": "wishlists",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sales_quote_acceptances": {
      "name": "sales_quote_acceptances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sales_quote_version_id": {
          "name": "sales_quote_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "decision_type": {
          "name": "decision_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'accepted'"
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "decided_by_crm_contact_id": {
          "name": "decided_by_crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decided_by_subject_type": {
          "name": "decided_by_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "decided_by_subject_id": {
          "name": "decided_by_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "signer_name": {
          "name": "signer_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "signer_email": {
          "name": "signer_email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_submission_id": {
          "name": "interaction_submission_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_note": {
          "name": "decision_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_ip": {
          "name": "source_ip",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_user_agent": {
          "name": "source_user_agent",
          "type": "varchar(800)",
          "primaryKey": false,
          "notNull": false
        },
        "signature_evidence": {
          "name": "signature_evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sales_quote_acceptances_biz_id_id_unique": {
          "name": "sales_quote_acceptances_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sales_quote_acceptances_accepted_unique": {
          "name": "sales_quote_acceptances_accepted_unique",
          "columns": [
            "sales_quote_version_id"
          ],
          "isUnique": true
        },
        "sales_quote_acceptances_biz_version_decided_idx": {
          "name": "sales_quote_acceptances_biz_version_decided_idx",
          "columns": [
            "biz_id",
            "sales_quote_version_id",
            "decided_at"
          ],
          "isUnique": false
        },
        "sales_quote_acceptances_biz_booking_order_idx": {
          "name": "sales_quote_acceptances_biz_booking_order_idx",
          "columns": [
            "biz_id",
            "booking_order_id",
            "decided_at"
          ],
          "isUnique": false
        },
        "sales_quote_acceptances_biz_actor_contact_idx": {
          "name": "sales_quote_acceptances_biz_actor_contact_idx",
          "columns": [
            "biz_id",
            "decided_by_crm_contact_id",
            "decided_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sales_quote_acceptances_biz_id_bizes_id_fk": {
          "name": "sales_quote_acceptances_biz_id_bizes_id_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_sales_quote_version_id_sales_quote_versions_id_fk": {
          "name": "sales_quote_acceptances_sales_quote_version_id_sales_quote_versions_id_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "sales_quote_versions",
          "columnsFrom": [
            "sales_quote_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_decided_by_crm_contact_id_crm_contacts_id_fk": {
          "name": "sales_quote_acceptances_decided_by_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "decided_by_crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_interaction_submission_id_interaction_submissions_id_fk": {
          "name": "sales_quote_acceptances_interaction_submission_id_interaction_submissions_id_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "interaction_submissions",
          "columnsFrom": [
            "interaction_submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_booking_order_id_booking_orders_id_fk": {
          "name": "sales_quote_acceptances_booking_order_id_booking_orders_id_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_created_by_users_id_fk": {
          "name": "sales_quote_acceptances_created_by_users_id_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_updated_by_users_id_fk": {
          "name": "sales_quote_acceptances_updated_by_users_id_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_deleted_by_users_id_fk": {
          "name": "sales_quote_acceptances_deleted_by_users_id_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_biz_version_fk": {
          "name": "sales_quote_acceptances_biz_version_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "sales_quote_versions",
          "columnsFrom": [
            "biz_id",
            "sales_quote_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_biz_submission_fk": {
          "name": "sales_quote_acceptances_biz_submission_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "interaction_submissions",
          "columnsFrom": [
            "biz_id",
            "interaction_submission_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_biz_booking_order_fk": {
          "name": "sales_quote_acceptances_biz_booking_order_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_biz_actor_contact_fk": {
          "name": "sales_quote_acceptances_biz_actor_contact_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "decided_by_crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_acceptances_biz_actor_subject_fk": {
          "name": "sales_quote_acceptances_biz_actor_subject_fk",
          "tableFrom": "sales_quote_acceptances",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "decided_by_subject_type",
            "decided_by_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sales_quote_lines": {
      "name": "sales_quote_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sales_quote_version_id": {
          "name": "sales_quote_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "line_type": {
          "name": "line_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'sellable'"
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "unit_price_minor": {
          "name": "unit_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "line_subtotal_minor": {
          "name": "line_subtotal_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fee_minor": {
          "name": "fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sales_quote_lines_biz_id_id_unique": {
          "name": "sales_quote_lines_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sales_quote_lines_version_sort_unique": {
          "name": "sales_quote_lines_version_sort_unique",
          "columns": [
            "sales_quote_version_id",
            "sort_order"
          ],
          "isUnique": true
        },
        "sales_quote_lines_biz_version_sort_idx": {
          "name": "sales_quote_lines_biz_version_sort_idx",
          "columns": [
            "biz_id",
            "sales_quote_version_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "sales_quote_lines_biz_sellable_idx": {
          "name": "sales_quote_lines_biz_sellable_idx",
          "columns": [
            "biz_id",
            "sellable_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sales_quote_lines_biz_id_bizes_id_fk": {
          "name": "sales_quote_lines_biz_id_bizes_id_fk",
          "tableFrom": "sales_quote_lines",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_lines_sales_quote_version_id_sales_quote_versions_id_fk": {
          "name": "sales_quote_lines_sales_quote_version_id_sales_quote_versions_id_fk",
          "tableFrom": "sales_quote_lines",
          "tableTo": "sales_quote_versions",
          "columnsFrom": [
            "sales_quote_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_lines_sellable_id_sellables_id_fk": {
          "name": "sales_quote_lines_sellable_id_sellables_id_fk",
          "tableFrom": "sales_quote_lines",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_lines_created_by_users_id_fk": {
          "name": "sales_quote_lines_created_by_users_id_fk",
          "tableFrom": "sales_quote_lines",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_lines_updated_by_users_id_fk": {
          "name": "sales_quote_lines_updated_by_users_id_fk",
          "tableFrom": "sales_quote_lines",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_lines_deleted_by_users_id_fk": {
          "name": "sales_quote_lines_deleted_by_users_id_fk",
          "tableFrom": "sales_quote_lines",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_lines_biz_version_fk": {
          "name": "sales_quote_lines_biz_version_fk",
          "tableFrom": "sales_quote_lines",
          "tableTo": "sales_quote_versions",
          "columnsFrom": [
            "biz_id",
            "sales_quote_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_lines_biz_sellable_fk": {
          "name": "sales_quote_lines_biz_sellable_fk",
          "tableFrom": "sales_quote_lines",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sales_quote_versions": {
      "name": "sales_quote_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sales_quote_id": {
          "name": "sales_quote_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "subtotal_minor": {
          "name": "subtotal_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fee_minor": {
          "name": "fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pricing_snapshot": {
          "name": "pricing_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "terms_snapshot": {
          "name": "terms_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sales_quote_versions_biz_id_id_unique": {
          "name": "sales_quote_versions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sales_quote_versions_unique": {
          "name": "sales_quote_versions_unique",
          "columns": [
            "sales_quote_id",
            "version_number"
          ],
          "isUnique": true
        },
        "sales_quote_versions_current_unique": {
          "name": "sales_quote_versions_current_unique",
          "columns": [
            "sales_quote_id"
          ],
          "isUnique": true
        },
        "sales_quote_versions_biz_quote_status_idx": {
          "name": "sales_quote_versions_biz_quote_status_idx",
          "columns": [
            "biz_id",
            "sales_quote_id",
            "status",
            "version_number"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sales_quote_versions_biz_id_bizes_id_fk": {
          "name": "sales_quote_versions_biz_id_bizes_id_fk",
          "tableFrom": "sales_quote_versions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_versions_sales_quote_id_sales_quotes_id_fk": {
          "name": "sales_quote_versions_sales_quote_id_sales_quotes_id_fk",
          "tableFrom": "sales_quote_versions",
          "tableTo": "sales_quotes",
          "columnsFrom": [
            "sales_quote_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_versions_created_by_users_id_fk": {
          "name": "sales_quote_versions_created_by_users_id_fk",
          "tableFrom": "sales_quote_versions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_versions_updated_by_users_id_fk": {
          "name": "sales_quote_versions_updated_by_users_id_fk",
          "tableFrom": "sales_quote_versions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_versions_deleted_by_users_id_fk": {
          "name": "sales_quote_versions_deleted_by_users_id_fk",
          "tableFrom": "sales_quote_versions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quote_versions_biz_quote_fk": {
          "name": "sales_quote_versions_biz_quote_fk",
          "tableFrom": "sales_quote_versions",
          "tableTo": "sales_quotes",
          "columnsFrom": [
            "biz_id",
            "sales_quote_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sales_quotes": {
      "name": "sales_quotes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "quote_number": {
          "name": "quote_number",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "crm_contact_id": {
          "name": "crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "current_version_number": {
          "name": "current_version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "source_checkout_session_id": {
          "name": "source_checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "converted_booking_order_id": {
          "name": "converted_booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "converted_at": {
          "name": "converted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "terms_snapshot": {
          "name": "terms_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "pricing_context": {
          "name": "pricing_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sales_quotes_biz_id_id_unique": {
          "name": "sales_quotes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sales_quotes_biz_number_unique": {
          "name": "sales_quotes_biz_number_unique",
          "columns": [
            "biz_id",
            "quote_number"
          ],
          "isUnique": true
        },
        "sales_quotes_biz_status_valid_until_idx": {
          "name": "sales_quotes_biz_status_valid_until_idx",
          "columns": [
            "biz_id",
            "status",
            "valid_until"
          ],
          "isUnique": false
        },
        "sales_quotes_biz_status_config_valid_until_idx": {
          "name": "sales_quotes_biz_status_config_valid_until_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "valid_until"
          ],
          "isUnique": false
        },
        "sales_quotes_biz_contact_idx": {
          "name": "sales_quotes_biz_contact_idx",
          "columns": [
            "biz_id",
            "crm_contact_id",
            "status",
            "valid_until"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sales_quotes_biz_id_bizes_id_fk": {
          "name": "sales_quotes_biz_id_bizes_id_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_crm_contact_id_crm_contacts_id_fk": {
          "name": "sales_quotes_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_source_checkout_session_id_checkout_sessions_id_fk": {
          "name": "sales_quotes_source_checkout_session_id_checkout_sessions_id_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "source_checkout_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_converted_booking_order_id_booking_orders_id_fk": {
          "name": "sales_quotes_converted_booking_order_id_booking_orders_id_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "converted_booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_created_by_users_id_fk": {
          "name": "sales_quotes_created_by_users_id_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_updated_by_users_id_fk": {
          "name": "sales_quotes_updated_by_users_id_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_deleted_by_users_id_fk": {
          "name": "sales_quotes_deleted_by_users_id_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_biz_checkout_session_fk": {
          "name": "sales_quotes_biz_checkout_session_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "biz_id",
            "source_checkout_session_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_biz_booking_order_fk": {
          "name": "sales_quotes_biz_booking_order_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "converted_booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_biz_contact_fk": {
          "name": "sales_quotes_biz_contact_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sales_quotes_biz_status_config_fk": {
          "name": "sales_quotes_biz_status_config_fk",
          "tableFrom": "sales_quotes",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "session_interaction_aggregates": {
      "name": "session_interaction_aggregates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "session_interaction_source_type",
          "primaryKey": false,
          "notNull": true
        },
        "program_session_id": {
          "name": "program_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_session_subject_type": {
          "name": "custom_session_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_session_subject_id": {
          "name": "custom_session_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "granularity": {
          "name": "granularity",
          "type": "varchar(24)",
          "primaryKey": false,
          "notNull": true
        },
        "bucket_starts_at": {
          "name": "bucket_starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "bucket_ends_at": {
          "name": "bucket_ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "session_interaction_type",
          "primaryKey": false,
          "notNull": false
        },
        "event_count": {
          "name": "event_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unique_participant_count": {
          "name": "unique_participant_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_event_at": {
          "name": "last_event_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metrics": {
          "name": "metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "session_interaction_aggregates_biz_id_id_unique": {
          "name": "session_interaction_aggregates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "session_interaction_aggregates_bucket_unique": {
          "name": "session_interaction_aggregates_bucket_unique",
          "columns": [
            "biz_id",
            "source_type",
            "program_session_id",
            "fulfillment_unit_id",
            "custom_session_subject_type",
            "custom_session_subject_id",
            "granularity",
            "bucket_starts_at",
            "interaction_type"
          ],
          "isUnique": true
        },
        "session_interaction_aggregates_biz_source_bucket_idx": {
          "name": "session_interaction_aggregates_biz_source_bucket_idx",
          "columns": [
            "biz_id",
            "source_type",
            "bucket_starts_at",
            "interaction_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "session_interaction_aggregates_biz_id_bizes_id_fk": {
          "name": "session_interaction_aggregates_biz_id_bizes_id_fk",
          "tableFrom": "session_interaction_aggregates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_aggregates_program_session_id_program_cohort_sessions_id_fk": {
          "name": "session_interaction_aggregates_program_session_id_program_cohort_sessions_id_fk",
          "tableFrom": "session_interaction_aggregates",
          "tableTo": "program_cohort_sessions",
          "columnsFrom": [
            "program_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_aggregates_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "session_interaction_aggregates_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "session_interaction_aggregates",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_aggregates_created_by_users_id_fk": {
          "name": "session_interaction_aggregates_created_by_users_id_fk",
          "tableFrom": "session_interaction_aggregates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_aggregates_updated_by_users_id_fk": {
          "name": "session_interaction_aggregates_updated_by_users_id_fk",
          "tableFrom": "session_interaction_aggregates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_aggregates_deleted_by_users_id_fk": {
          "name": "session_interaction_aggregates_deleted_by_users_id_fk",
          "tableFrom": "session_interaction_aggregates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_aggregates_biz_program_session_fk": {
          "name": "session_interaction_aggregates_biz_program_session_fk",
          "tableFrom": "session_interaction_aggregates",
          "tableTo": "program_cohort_sessions",
          "columnsFrom": [
            "biz_id",
            "program_session_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_aggregates_biz_fulfillment_unit_fk": {
          "name": "session_interaction_aggregates_biz_fulfillment_unit_fk",
          "tableFrom": "session_interaction_aggregates",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_aggregates_biz_custom_session_subject_fk": {
          "name": "session_interaction_aggregates_biz_custom_session_subject_fk",
          "tableFrom": "session_interaction_aggregates",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "custom_session_subject_type",
            "custom_session_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "session_interaction_events": {
      "name": "session_interaction_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "session_interaction_source_type",
          "primaryKey": false,
          "notNull": true
        },
        "program_session_id": {
          "name": "program_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_session_subject_type": {
          "name": "custom_session_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_session_subject_id": {
          "name": "custom_session_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "participant_user_id": {
          "name": "participant_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participant_enrollment_id": {
          "name": "participant_enrollment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participant_subject_type": {
          "name": "participant_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "participant_subject_id": {
          "name": "participant_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "interaction_type": {
          "name": "interaction_type",
          "type": "session_interaction_type",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "session_interaction_visibility",
          "primaryKey": false,
          "notNull": true,
          "default": "'public'"
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "thread_key": {
          "name": "thread_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "content_text": {
          "name": "content_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "session_interaction_events_biz_id_id_unique": {
          "name": "session_interaction_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "session_interaction_events_biz_source_occurred_idx": {
          "name": "session_interaction_events_biz_source_occurred_idx",
          "columns": [
            "biz_id",
            "source_type",
            "program_session_id",
            "fulfillment_unit_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "session_interaction_events_biz_participant_occurred_idx": {
          "name": "session_interaction_events_biz_participant_occurred_idx",
          "columns": [
            "biz_id",
            "participant_user_id",
            "participant_enrollment_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "session_interaction_events_biz_type_occurred_idx": {
          "name": "session_interaction_events_biz_type_occurred_idx",
          "columns": [
            "biz_id",
            "interaction_type",
            "occurred_at"
          ],
          "isUnique": false
        },
        "session_interaction_events_biz_request_key_unique": {
          "name": "session_interaction_events_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "session_interaction_events_biz_id_bizes_id_fk": {
          "name": "session_interaction_events_biz_id_bizes_id_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_program_session_id_program_cohort_sessions_id_fk": {
          "name": "session_interaction_events_program_session_id_program_cohort_sessions_id_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "program_cohort_sessions",
          "columnsFrom": [
            "program_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "session_interaction_events_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_participant_user_id_users_id_fk": {
          "name": "session_interaction_events_participant_user_id_users_id_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "users",
          "columnsFrom": [
            "participant_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_participant_enrollment_id_cohort_enrollments_id_fk": {
          "name": "session_interaction_events_participant_enrollment_id_cohort_enrollments_id_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "cohort_enrollments",
          "columnsFrom": [
            "participant_enrollment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_created_by_users_id_fk": {
          "name": "session_interaction_events_created_by_users_id_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_updated_by_users_id_fk": {
          "name": "session_interaction_events_updated_by_users_id_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_deleted_by_users_id_fk": {
          "name": "session_interaction_events_deleted_by_users_id_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_biz_program_session_fk": {
          "name": "session_interaction_events_biz_program_session_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "program_cohort_sessions",
          "columnsFrom": [
            "biz_id",
            "program_session_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_biz_fulfillment_unit_fk": {
          "name": "session_interaction_events_biz_fulfillment_unit_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_biz_custom_session_subject_fk": {
          "name": "session_interaction_events_biz_custom_session_subject_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "custom_session_subject_type",
            "custom_session_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_biz_enrollment_fk": {
          "name": "session_interaction_events_biz_enrollment_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "cohort_enrollments",
          "columnsFrom": [
            "biz_id",
            "participant_enrollment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_events_biz_participant_subject_fk": {
          "name": "session_interaction_events_biz_participant_subject_fk",
          "tableFrom": "session_interaction_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "participant_subject_type",
            "participant_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "interaction_assignments": {
      "name": "interaction_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_template_id": {
          "name": "interaction_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_user_id": {
          "name": "subject_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_group_account_id": {
          "name": "subject_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "interaction_assignment_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_blocking": {
          "name": "is_blocking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_reminder_at": {
          "name": "last_reminder_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "interaction_assignments_biz_id_id_unique": {
          "name": "interaction_assignments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "interaction_assignments_biz_status_due_idx": {
          "name": "interaction_assignments_biz_status_due_idx",
          "columns": [
            "biz_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        },
        "interaction_assignments_biz_status_config_idx": {
          "name": "interaction_assignments_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        },
        "interaction_assignments_biz_target_idx": {
          "name": "interaction_assignments_biz_target_idx",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_id",
            "status"
          ],
          "isUnique": false
        },
        "interaction_assignments_biz_subject_idx": {
          "name": "interaction_assignments_biz_subject_idx",
          "columns": [
            "biz_id",
            "subject_user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "interaction_assignments_biz_id_bizes_id_fk": {
          "name": "interaction_assignments_biz_id_bizes_id_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_assignments_interaction_template_id_interaction_templates_id_fk": {
          "name": "interaction_assignments_interaction_template_id_interaction_templates_id_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "interaction_templates",
          "columnsFrom": [
            "interaction_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_assignments_subject_user_id_users_id_fk": {
          "name": "interaction_assignments_subject_user_id_users_id_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "subject_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_assignments_subject_group_account_id_group_accounts_id_fk": {
          "name": "interaction_assignments_subject_group_account_id_group_accounts_id_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "subject_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_assignments_status_config_value_id_biz_config_values_id_fk": {
          "name": "interaction_assignments_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_assignments_created_by_users_id_fk": {
          "name": "interaction_assignments_created_by_users_id_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_assignments_updated_by_users_id_fk": {
          "name": "interaction_assignments_updated_by_users_id_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_assignments_deleted_by_users_id_fk": {
          "name": "interaction_assignments_deleted_by_users_id_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_assignments_biz_template_fk": {
          "name": "interaction_assignments_biz_template_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "interaction_templates",
          "columnsFrom": [
            "biz_id",
            "interaction_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_assignments_biz_status_config_fk": {
          "name": "interaction_assignments_biz_status_config_fk",
          "tableFrom": "interaction_assignments",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "interaction_submission_artifacts": {
      "name": "interaction_submission_artifacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_submission_id": {
          "name": "interaction_submission_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "artifact_type": {
          "name": "artifact_type",
          "type": "interaction_artifact_type",
          "primaryKey": false,
          "notNull": true
        },
        "storage_ref": {
          "name": "storage_ref",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sha256": {
          "name": "sha256",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "captured_by_user_id": {
          "name": "captured_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "interaction_submission_artifacts_biz_id_id_unique": {
          "name": "interaction_submission_artifacts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "interaction_submission_artifacts_biz_submission_idx": {
          "name": "interaction_submission_artifacts_biz_submission_idx",
          "columns": [
            "biz_id",
            "interaction_submission_id",
            "captured_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "interaction_submission_artifacts_biz_id_bizes_id_fk": {
          "name": "interaction_submission_artifacts_biz_id_bizes_id_fk",
          "tableFrom": "interaction_submission_artifacts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_artifacts_interaction_submission_id_interaction_submissions_id_fk": {
          "name": "interaction_submission_artifacts_interaction_submission_id_interaction_submissions_id_fk",
          "tableFrom": "interaction_submission_artifacts",
          "tableTo": "interaction_submissions",
          "columnsFrom": [
            "interaction_submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_artifacts_captured_by_user_id_users_id_fk": {
          "name": "interaction_submission_artifacts_captured_by_user_id_users_id_fk",
          "tableFrom": "interaction_submission_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "captured_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_artifacts_created_by_users_id_fk": {
          "name": "interaction_submission_artifacts_created_by_users_id_fk",
          "tableFrom": "interaction_submission_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_artifacts_updated_by_users_id_fk": {
          "name": "interaction_submission_artifacts_updated_by_users_id_fk",
          "tableFrom": "interaction_submission_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_artifacts_deleted_by_users_id_fk": {
          "name": "interaction_submission_artifacts_deleted_by_users_id_fk",
          "tableFrom": "interaction_submission_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_artifacts_biz_submission_fk": {
          "name": "interaction_submission_artifacts_biz_submission_fk",
          "tableFrom": "interaction_submission_artifacts",
          "tableTo": "interaction_submissions",
          "columnsFrom": [
            "biz_id",
            "interaction_submission_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "interaction_submission_signatures": {
      "name": "interaction_submission_signatures",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_submission_id": {
          "name": "interaction_submission_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signer_role": {
          "name": "signer_role",
          "type": "signature_signer_role",
          "primaryKey": false,
          "notNull": true
        },
        "signer_user_id": {
          "name": "signer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signer_name": {
          "name": "signer_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "signature_method": {
          "name": "signature_method",
          "type": "signature_method",
          "primaryKey": false,
          "notNull": true
        },
        "consent_statement": {
          "name": "consent_statement",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signature_payload": {
          "name": "signature_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "signed_at": {
          "name": "signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "interaction_submission_signatures_biz_id_id_unique": {
          "name": "interaction_submission_signatures_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "interaction_submission_signatures_biz_submission_idx": {
          "name": "interaction_submission_signatures_biz_submission_idx",
          "columns": [
            "biz_id",
            "interaction_submission_id",
            "signed_at"
          ],
          "isUnique": false
        },
        "interaction_submission_signatures_biz_status_config_idx": {
          "name": "interaction_submission_signatures_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "interaction_submission_signatures_biz_id_bizes_id_fk": {
          "name": "interaction_submission_signatures_biz_id_bizes_id_fk",
          "tableFrom": "interaction_submission_signatures",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_signatures_interaction_submission_id_interaction_submissions_id_fk": {
          "name": "interaction_submission_signatures_interaction_submission_id_interaction_submissions_id_fk",
          "tableFrom": "interaction_submission_signatures",
          "tableTo": "interaction_submissions",
          "columnsFrom": [
            "interaction_submission_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_signatures_signer_user_id_users_id_fk": {
          "name": "interaction_submission_signatures_signer_user_id_users_id_fk",
          "tableFrom": "interaction_submission_signatures",
          "tableTo": "users",
          "columnsFrom": [
            "signer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_signatures_status_config_value_id_biz_config_values_id_fk": {
          "name": "interaction_submission_signatures_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "interaction_submission_signatures",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_signatures_created_by_users_id_fk": {
          "name": "interaction_submission_signatures_created_by_users_id_fk",
          "tableFrom": "interaction_submission_signatures",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_signatures_updated_by_users_id_fk": {
          "name": "interaction_submission_signatures_updated_by_users_id_fk",
          "tableFrom": "interaction_submission_signatures",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_signatures_deleted_by_users_id_fk": {
          "name": "interaction_submission_signatures_deleted_by_users_id_fk",
          "tableFrom": "interaction_submission_signatures",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_signatures_biz_submission_fk": {
          "name": "interaction_submission_signatures_biz_submission_fk",
          "tableFrom": "interaction_submission_signatures",
          "tableTo": "interaction_submissions",
          "columnsFrom": [
            "biz_id",
            "interaction_submission_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submission_signatures_biz_status_config_fk": {
          "name": "interaction_submission_signatures_biz_status_config_fk",
          "tableFrom": "interaction_submission_signatures",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "interaction_submissions": {
      "name": "interaction_submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_assignment_id": {
          "name": "interaction_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "interaction_submission_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by_user_id": {
          "name": "reviewed_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "completion_percent": {
          "name": "completion_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "response_payload": {
          "name": "response_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "validation_errors": {
          "name": "validation_errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "interaction_submissions_biz_id_id_unique": {
          "name": "interaction_submissions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "interaction_submissions_assignment_attempt_unique": {
          "name": "interaction_submissions_assignment_attempt_unique",
          "columns": [
            "interaction_assignment_id",
            "attempt_number"
          ],
          "isUnique": true
        },
        "interaction_submissions_biz_assignment_idx": {
          "name": "interaction_submissions_biz_assignment_idx",
          "columns": [
            "biz_id",
            "interaction_assignment_id",
            "attempt_number"
          ],
          "isUnique": false
        },
        "interaction_submissions_biz_status_config_idx": {
          "name": "interaction_submissions_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "interaction_submissions_biz_id_bizes_id_fk": {
          "name": "interaction_submissions_biz_id_bizes_id_fk",
          "tableFrom": "interaction_submissions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submissions_interaction_assignment_id_interaction_assignments_id_fk": {
          "name": "interaction_submissions_interaction_assignment_id_interaction_assignments_id_fk",
          "tableFrom": "interaction_submissions",
          "tableTo": "interaction_assignments",
          "columnsFrom": [
            "interaction_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submissions_status_config_value_id_biz_config_values_id_fk": {
          "name": "interaction_submissions_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "interaction_submissions",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submissions_reviewed_by_user_id_users_id_fk": {
          "name": "interaction_submissions_reviewed_by_user_id_users_id_fk",
          "tableFrom": "interaction_submissions",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submissions_created_by_users_id_fk": {
          "name": "interaction_submissions_created_by_users_id_fk",
          "tableFrom": "interaction_submissions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submissions_updated_by_users_id_fk": {
          "name": "interaction_submissions_updated_by_users_id_fk",
          "tableFrom": "interaction_submissions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submissions_deleted_by_users_id_fk": {
          "name": "interaction_submissions_deleted_by_users_id_fk",
          "tableFrom": "interaction_submissions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submissions_biz_assignment_fk": {
          "name": "interaction_submissions_biz_assignment_fk",
          "tableFrom": "interaction_submissions",
          "tableTo": "interaction_assignments",
          "columnsFrom": [
            "biz_id",
            "interaction_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_submissions_biz_status_config_fk": {
          "name": "interaction_submissions_biz_status_config_fk",
          "tableFrom": "interaction_submissions",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "interaction_template_bindings": {
      "name": "interaction_template_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "interaction_template_id": {
          "name": "interaction_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_event": {
          "name": "trigger_event",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_mode": {
          "name": "requirement_mode",
          "type": "interaction_requirement_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "condition_expr": {
          "name": "condition_expr",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "interaction_template_bindings_biz_id_id_unique": {
          "name": "interaction_template_bindings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "interaction_template_bindings_biz_target_trigger_idx": {
          "name": "interaction_template_bindings_biz_target_trigger_idx",
          "columns": [
            "biz_id",
            "target_type",
            "trigger_event",
            "is_active",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "interaction_template_bindings_biz_id_bizes_id_fk": {
          "name": "interaction_template_bindings_biz_id_bizes_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_interaction_template_id_interaction_templates_id_fk": {
          "name": "interaction_template_bindings_interaction_template_id_interaction_templates_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "interaction_templates",
          "columnsFrom": [
            "interaction_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_location_id_locations_id_fk": {
          "name": "interaction_template_bindings_location_id_locations_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_service_id_services_id_fk": {
          "name": "interaction_template_bindings_service_id_services_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_service_product_id_service_products_id_fk": {
          "name": "interaction_template_bindings_service_product_id_service_products_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_offer_id_offers_id_fk": {
          "name": "interaction_template_bindings_offer_id_offers_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_offer_version_id_offer_versions_id_fk": {
          "name": "interaction_template_bindings_offer_version_id_offer_versions_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_created_by_users_id_fk": {
          "name": "interaction_template_bindings_created_by_users_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_updated_by_users_id_fk": {
          "name": "interaction_template_bindings_updated_by_users_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_deleted_by_users_id_fk": {
          "name": "interaction_template_bindings_deleted_by_users_id_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_biz_template_fk": {
          "name": "interaction_template_bindings_biz_template_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "interaction_templates",
          "columnsFrom": [
            "biz_id",
            "interaction_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_biz_location_fk": {
          "name": "interaction_template_bindings_biz_location_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_biz_service_fk": {
          "name": "interaction_template_bindings_biz_service_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_biz_service_product_fk": {
          "name": "interaction_template_bindings_biz_service_product_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_biz_offer_fk": {
          "name": "interaction_template_bindings_biz_offer_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_template_bindings_biz_offer_version_fk": {
          "name": "interaction_template_bindings_biz_offer_version_fk",
          "tableFrom": "interaction_template_bindings",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "interaction_templates": {
      "name": "interaction_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_type": {
          "name": "template_type",
          "type": "interaction_template_type",
          "primaryKey": false,
          "notNull": true
        },
        "template_type_config_value_id": {
          "name": "template_type_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "title": {
          "name": "title",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schema": {
          "name": "schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "validation_policy": {
          "name": "validation_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "requires_signature": {
          "name": "requires_signature",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_reusable": {
          "name": "is_reusable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "interaction_templates_biz_id_id_unique": {
          "name": "interaction_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "interaction_templates_biz_slug_version_unique": {
          "name": "interaction_templates_biz_slug_version_unique",
          "columns": [
            "biz_id",
            "slug",
            "version"
          ],
          "isUnique": true
        },
        "interaction_templates_biz_slug_current_unique": {
          "name": "interaction_templates_biz_slug_current_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "interaction_templates_biz_type_status_idx": {
          "name": "interaction_templates_biz_type_status_idx",
          "columns": [
            "biz_id",
            "template_type",
            "status",
            "is_current"
          ],
          "isUnique": false
        },
        "interaction_templates_biz_template_type_config_idx": {
          "name": "interaction_templates_biz_template_type_config_idx",
          "columns": [
            "biz_id",
            "template_type_config_value_id"
          ],
          "isUnique": false
        },
        "interaction_templates_biz_status_config_idx": {
          "name": "interaction_templates_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "interaction_templates_biz_id_bizes_id_fk": {
          "name": "interaction_templates_biz_id_bizes_id_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_templates_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "interaction_templates_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_templates_template_type_config_value_id_biz_config_values_id_fk": {
          "name": "interaction_templates_template_type_config_value_id_biz_config_values_id_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "template_type_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_templates_status_config_value_id_biz_config_values_id_fk": {
          "name": "interaction_templates_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_templates_created_by_users_id_fk": {
          "name": "interaction_templates_created_by_users_id_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_templates_updated_by_users_id_fk": {
          "name": "interaction_templates_updated_by_users_id_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_templates_deleted_by_users_id_fk": {
          "name": "interaction_templates_deleted_by_users_id_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_templates_biz_install_fk": {
          "name": "interaction_templates_biz_install_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_templates_biz_template_type_config_fk": {
          "name": "interaction_templates_biz_template_type_config_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "template_type_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "interaction_templates_biz_status_config_fk": {
          "name": "interaction_templates_biz_status_config_fk",
          "tableFrom": "interaction_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "requirement_list_assignment_items": {
      "name": "requirement_list_assignment_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_list_assignment_id": {
          "name": "requirement_list_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "template_item_id": {
          "name": "template_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "requirement_item_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_by_user_id": {
          "name": "completed_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "requirement_list_assignment_items_biz_id_id_unique": {
          "name": "requirement_list_assignment_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_list_assignment_items_unique": {
          "name": "requirement_list_assignment_items_unique",
          "columns": [
            "requirement_list_assignment_id",
            "template_item_id"
          ],
          "isUnique": true
        },
        "requirement_list_assignment_items_biz_assignment_status_idx": {
          "name": "requirement_list_assignment_items_biz_assignment_status_idx",
          "columns": [
            "biz_id",
            "requirement_list_assignment_id",
            "status"
          ],
          "isUnique": false
        },
        "requirement_list_assignment_items_biz_status_config_idx": {
          "name": "requirement_list_assignment_items_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requirement_list_assignment_items_biz_id_bizes_id_fk": {
          "name": "requirement_list_assignment_items_biz_id_bizes_id_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_requirement_list_assignment_id_requirement_list_assignments_id_fk": {
          "name": "requirement_list_assignment_items_requirement_list_assignment_id_requirement_list_assignments_id_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "requirement_list_assignments",
          "columnsFrom": [
            "requirement_list_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_template_item_id_requirement_list_template_items_id_fk": {
          "name": "requirement_list_assignment_items_template_item_id_requirement_list_template_items_id_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "requirement_list_template_items",
          "columnsFrom": [
            "template_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_status_config_value_id_biz_config_values_id_fk": {
          "name": "requirement_list_assignment_items_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_completed_by_user_id_users_id_fk": {
          "name": "requirement_list_assignment_items_completed_by_user_id_users_id_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "users",
          "columnsFrom": [
            "completed_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_created_by_users_id_fk": {
          "name": "requirement_list_assignment_items_created_by_users_id_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_updated_by_users_id_fk": {
          "name": "requirement_list_assignment_items_updated_by_users_id_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_deleted_by_users_id_fk": {
          "name": "requirement_list_assignment_items_deleted_by_users_id_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_biz_assignment_fk": {
          "name": "requirement_list_assignment_items_biz_assignment_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "requirement_list_assignments",
          "columnsFrom": [
            "biz_id",
            "requirement_list_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_biz_template_item_fk": {
          "name": "requirement_list_assignment_items_biz_template_item_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "requirement_list_template_items",
          "columnsFrom": [
            "biz_id",
            "template_item_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignment_items_biz_status_config_fk": {
          "name": "requirement_list_assignment_items_biz_status_config_fk",
          "tableFrom": "requirement_list_assignment_items",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "requirement_list_assignments": {
      "name": "requirement_list_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_list_template_id": {
          "name": "requirement_list_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_user_id": {
          "name": "subject_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_group_account_id": {
          "name": "subject_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "interaction_assignment_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_blocking": {
          "name": "is_blocking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "requirement_list_assignments_biz_id_id_unique": {
          "name": "requirement_list_assignments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_list_assignments_biz_status_due_idx": {
          "name": "requirement_list_assignments_biz_status_due_idx",
          "columns": [
            "biz_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        },
        "requirement_list_assignments_biz_status_config_idx": {
          "name": "requirement_list_assignments_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        },
        "requirement_list_assignments_biz_target_idx": {
          "name": "requirement_list_assignments_biz_target_idx",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requirement_list_assignments_biz_id_bizes_id_fk": {
          "name": "requirement_list_assignments_biz_id_bizes_id_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignments_requirement_list_template_id_requirement_list_templates_id_fk": {
          "name": "requirement_list_assignments_requirement_list_template_id_requirement_list_templates_id_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "requirement_list_templates",
          "columnsFrom": [
            "requirement_list_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignments_subject_user_id_users_id_fk": {
          "name": "requirement_list_assignments_subject_user_id_users_id_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "subject_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignments_subject_group_account_id_group_accounts_id_fk": {
          "name": "requirement_list_assignments_subject_group_account_id_group_accounts_id_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "subject_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignments_status_config_value_id_biz_config_values_id_fk": {
          "name": "requirement_list_assignments_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignments_created_by_users_id_fk": {
          "name": "requirement_list_assignments_created_by_users_id_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignments_updated_by_users_id_fk": {
          "name": "requirement_list_assignments_updated_by_users_id_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignments_deleted_by_users_id_fk": {
          "name": "requirement_list_assignments_deleted_by_users_id_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignments_biz_template_fk": {
          "name": "requirement_list_assignments_biz_template_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "requirement_list_templates",
          "columnsFrom": [
            "biz_id",
            "requirement_list_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_assignments_biz_status_config_fk": {
          "name": "requirement_list_assignments_biz_status_config_fk",
          "tableFrom": "requirement_list_assignments",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "requirement_list_template_items": {
      "name": "requirement_list_template_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_list_template_id": {
          "name": "requirement_list_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "item_key": {
          "name": "item_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_type": {
          "name": "item_type",
          "type": "requirement_item_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'confirm'"
        },
        "item_type_config_value_id": {
          "name": "item_type_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "depends_on_template_item_id": {
          "name": "depends_on_template_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "requirement_list_template_items_biz_id_id_unique": {
          "name": "requirement_list_template_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_list_template_items_unique": {
          "name": "requirement_list_template_items_unique",
          "columns": [
            "requirement_list_template_id",
            "item_key"
          ],
          "isUnique": true
        },
        "requirement_list_template_items_biz_template_sort_idx": {
          "name": "requirement_list_template_items_biz_template_sort_idx",
          "columns": [
            "biz_id",
            "requirement_list_template_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "requirement_list_template_items_biz_item_type_config_idx": {
          "name": "requirement_list_template_items_biz_item_type_config_idx",
          "columns": [
            "biz_id",
            "item_type_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requirement_list_template_items_biz_id_bizes_id_fk": {
          "name": "requirement_list_template_items_biz_id_bizes_id_fk",
          "tableFrom": "requirement_list_template_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_template_items_requirement_list_template_id_requirement_list_templates_id_fk": {
          "name": "requirement_list_template_items_requirement_list_template_id_requirement_list_templates_id_fk",
          "tableFrom": "requirement_list_template_items",
          "tableTo": "requirement_list_templates",
          "columnsFrom": [
            "requirement_list_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_template_items_item_type_config_value_id_biz_config_values_id_fk": {
          "name": "requirement_list_template_items_item_type_config_value_id_biz_config_values_id_fk",
          "tableFrom": "requirement_list_template_items",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "item_type_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_template_items_depends_on_template_item_id_requirement_list_template_items_id_fk": {
          "name": "requirement_list_template_items_depends_on_template_item_id_requirement_list_template_items_id_fk",
          "tableFrom": "requirement_list_template_items",
          "tableTo": "requirement_list_template_items",
          "columnsFrom": [
            "depends_on_template_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_template_items_created_by_users_id_fk": {
          "name": "requirement_list_template_items_created_by_users_id_fk",
          "tableFrom": "requirement_list_template_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_template_items_updated_by_users_id_fk": {
          "name": "requirement_list_template_items_updated_by_users_id_fk",
          "tableFrom": "requirement_list_template_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_template_items_deleted_by_users_id_fk": {
          "name": "requirement_list_template_items_deleted_by_users_id_fk",
          "tableFrom": "requirement_list_template_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_template_items_biz_template_fk": {
          "name": "requirement_list_template_items_biz_template_fk",
          "tableFrom": "requirement_list_template_items",
          "tableTo": "requirement_list_templates",
          "columnsFrom": [
            "biz_id",
            "requirement_list_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_template_items_biz_item_type_config_fk": {
          "name": "requirement_list_template_items_biz_item_type_config_fk",
          "tableFrom": "requirement_list_template_items",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "item_type_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "requirement_list_templates": {
      "name": "requirement_list_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "title": {
          "name": "title",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "requirement_list_templates_biz_id_id_unique": {
          "name": "requirement_list_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "requirement_list_templates_biz_slug_version_unique": {
          "name": "requirement_list_templates_biz_slug_version_unique",
          "columns": [
            "biz_id",
            "slug",
            "version"
          ],
          "isUnique": true
        },
        "requirement_list_templates_biz_slug_current_unique": {
          "name": "requirement_list_templates_biz_slug_current_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "requirement_list_templates_biz_status_idx": {
          "name": "requirement_list_templates_biz_status_idx",
          "columns": [
            "biz_id",
            "status",
            "is_current"
          ],
          "isUnique": false
        },
        "requirement_list_templates_biz_status_config_idx": {
          "name": "requirement_list_templates_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "requirement_list_templates_biz_id_bizes_id_fk": {
          "name": "requirement_list_templates_biz_id_bizes_id_fk",
          "tableFrom": "requirement_list_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_templates_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "requirement_list_templates_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "requirement_list_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_templates_status_config_value_id_biz_config_values_id_fk": {
          "name": "requirement_list_templates_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "requirement_list_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_templates_created_by_users_id_fk": {
          "name": "requirement_list_templates_created_by_users_id_fk",
          "tableFrom": "requirement_list_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_templates_updated_by_users_id_fk": {
          "name": "requirement_list_templates_updated_by_users_id_fk",
          "tableFrom": "requirement_list_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_templates_deleted_by_users_id_fk": {
          "name": "requirement_list_templates_deleted_by_users_id_fk",
          "tableFrom": "requirement_list_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_templates_biz_install_fk": {
          "name": "requirement_list_templates_biz_install_fk",
          "tableFrom": "requirement_list_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "requirement_list_templates_biz_status_config_fk": {
          "name": "requirement_list_templates_biz_status_config_fk",
          "tableFrom": "requirement_list_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "communication_consents": {
      "name": "communication_consents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_type": {
          "name": "subject_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "subject_ref_id": {
          "name": "subject_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_user_id": {
          "name": "subject_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_group_account_id": {
          "name": "subject_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "communication_channel",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "communication_purpose",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "communication_consent_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'opted_in'"
        },
        "source": {
          "name": "source",
          "type": "communication_consent_source",
          "primaryKey": false,
          "notNull": true,
          "default": "'user_action'"
        },
        "legal_basis": {
          "name": "legal_basis",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "communication_consents_biz_id_id_unique": {
          "name": "communication_consents_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "communication_consents_subject_unique": {
          "name": "communication_consents_subject_unique",
          "columns": [
            "biz_id",
            "subject_type",
            "subject_ref_id",
            "channel",
            "purpose"
          ],
          "isUnique": true
        },
        "communication_consents_biz_channel_purpose_status_idx": {
          "name": "communication_consents_biz_channel_purpose_status_idx",
          "columns": [
            "biz_id",
            "channel",
            "purpose",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "communication_consents_biz_id_bizes_id_fk": {
          "name": "communication_consents_biz_id_bizes_id_fk",
          "tableFrom": "communication_consents",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "communication_consents_subject_user_id_users_id_fk": {
          "name": "communication_consents_subject_user_id_users_id_fk",
          "tableFrom": "communication_consents",
          "tableTo": "users",
          "columnsFrom": [
            "subject_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "communication_consents_subject_group_account_id_group_accounts_id_fk": {
          "name": "communication_consents_subject_group_account_id_group_accounts_id_fk",
          "tableFrom": "communication_consents",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "subject_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "communication_consents_created_by_users_id_fk": {
          "name": "communication_consents_created_by_users_id_fk",
          "tableFrom": "communication_consents",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "communication_consents_updated_by_users_id_fk": {
          "name": "communication_consents_updated_by_users_id_fk",
          "tableFrom": "communication_consents",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "communication_consents_deleted_by_users_id_fk": {
          "name": "communication_consents_deleted_by_users_id_fk",
          "tableFrom": "communication_consents",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "marketing_campaign_enrollments": {
      "name": "marketing_campaign_enrollments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "marketing_campaign_id": {
          "name": "marketing_campaign_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_type": {
          "name": "subject_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "subject_ref_id": {
          "name": "subject_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_user_id": {
          "name": "subject_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_group_account_id": {
          "name": "subject_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "marketing_enrollment_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "current_step_key": {
          "name": "current_step_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "entered_at": {
          "name": "entered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_evaluated_at": {
          "name": "last_evaluated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "exited_at": {
          "name": "exited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "exit_reason": {
          "name": "exit_reason",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "marketing_campaign_enrollments_biz_id_id_unique": {
          "name": "marketing_campaign_enrollments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "marketing_campaign_enrollments_unique": {
          "name": "marketing_campaign_enrollments_unique",
          "columns": [
            "biz_id",
            "marketing_campaign_id",
            "subject_type",
            "subject_ref_id"
          ],
          "isUnique": true
        },
        "marketing_campaign_enrollments_biz_status_eval_idx": {
          "name": "marketing_campaign_enrollments_biz_status_eval_idx",
          "columns": [
            "biz_id",
            "status",
            "last_evaluated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "marketing_campaign_enrollments_biz_id_bizes_id_fk": {
          "name": "marketing_campaign_enrollments_biz_id_bizes_id_fk",
          "tableFrom": "marketing_campaign_enrollments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_enrollments_marketing_campaign_id_marketing_campaigns_id_fk": {
          "name": "marketing_campaign_enrollments_marketing_campaign_id_marketing_campaigns_id_fk",
          "tableFrom": "marketing_campaign_enrollments",
          "tableTo": "marketing_campaigns",
          "columnsFrom": [
            "marketing_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_enrollments_subject_user_id_users_id_fk": {
          "name": "marketing_campaign_enrollments_subject_user_id_users_id_fk",
          "tableFrom": "marketing_campaign_enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "subject_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_enrollments_subject_group_account_id_group_accounts_id_fk": {
          "name": "marketing_campaign_enrollments_subject_group_account_id_group_accounts_id_fk",
          "tableFrom": "marketing_campaign_enrollments",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "subject_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_enrollments_created_by_users_id_fk": {
          "name": "marketing_campaign_enrollments_created_by_users_id_fk",
          "tableFrom": "marketing_campaign_enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_enrollments_updated_by_users_id_fk": {
          "name": "marketing_campaign_enrollments_updated_by_users_id_fk",
          "tableFrom": "marketing_campaign_enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_enrollments_deleted_by_users_id_fk": {
          "name": "marketing_campaign_enrollments_deleted_by_users_id_fk",
          "tableFrom": "marketing_campaign_enrollments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_enrollments_biz_campaign_fk": {
          "name": "marketing_campaign_enrollments_biz_campaign_fk",
          "tableFrom": "marketing_campaign_enrollments",
          "tableTo": "marketing_campaigns",
          "columnsFrom": [
            "biz_id",
            "marketing_campaign_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "marketing_campaign_steps": {
      "name": "marketing_campaign_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "marketing_campaign_id": {
          "name": "marketing_campaign_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step_key": {
          "name": "step_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "step_type": {
          "name": "step_type",
          "type": "marketing_campaign_step_type",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "channel": {
          "name": "channel",
          "type": "communication_channel",
          "primaryKey": false,
          "notNull": false
        },
        "message_template_id": {
          "name": "message_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delay_minutes": {
          "name": "delay_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "condition_expr": {
          "name": "condition_expr",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "next_step_key": {
          "name": "next_step_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "on_true_step_key": {
          "name": "on_true_step_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "on_false_step_key": {
          "name": "on_false_step_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "marketing_campaign_steps_biz_id_id_unique": {
          "name": "marketing_campaign_steps_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "marketing_campaign_steps_unique": {
          "name": "marketing_campaign_steps_unique",
          "columns": [
            "marketing_campaign_id",
            "step_key"
          ],
          "isUnique": true
        },
        "marketing_campaign_steps_biz_campaign_sort_idx": {
          "name": "marketing_campaign_steps_biz_campaign_sort_idx",
          "columns": [
            "biz_id",
            "marketing_campaign_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "marketing_campaign_steps_biz_id_bizes_id_fk": {
          "name": "marketing_campaign_steps_biz_id_bizes_id_fk",
          "tableFrom": "marketing_campaign_steps",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_steps_marketing_campaign_id_marketing_campaigns_id_fk": {
          "name": "marketing_campaign_steps_marketing_campaign_id_marketing_campaigns_id_fk",
          "tableFrom": "marketing_campaign_steps",
          "tableTo": "marketing_campaigns",
          "columnsFrom": [
            "marketing_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_steps_message_template_id_message_templates_id_fk": {
          "name": "marketing_campaign_steps_message_template_id_message_templates_id_fk",
          "tableFrom": "marketing_campaign_steps",
          "tableTo": "message_templates",
          "columnsFrom": [
            "message_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_steps_created_by_users_id_fk": {
          "name": "marketing_campaign_steps_created_by_users_id_fk",
          "tableFrom": "marketing_campaign_steps",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_steps_updated_by_users_id_fk": {
          "name": "marketing_campaign_steps_updated_by_users_id_fk",
          "tableFrom": "marketing_campaign_steps",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_steps_deleted_by_users_id_fk": {
          "name": "marketing_campaign_steps_deleted_by_users_id_fk",
          "tableFrom": "marketing_campaign_steps",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_steps_biz_campaign_fk": {
          "name": "marketing_campaign_steps_biz_campaign_fk",
          "tableFrom": "marketing_campaign_steps",
          "tableTo": "marketing_campaigns",
          "columnsFrom": [
            "biz_id",
            "marketing_campaign_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaign_steps_biz_template_fk": {
          "name": "marketing_campaign_steps_biz_template_fk",
          "tableFrom": "marketing_campaign_steps",
          "tableTo": "message_templates",
          "columnsFrom": [
            "biz_id",
            "message_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "marketing_campaigns": {
      "name": "marketing_campaigns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "marketing_campaign_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "entry_policy": {
          "name": "entry_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "exit_policy": {
          "name": "exit_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "marketing_campaigns_biz_id_id_unique": {
          "name": "marketing_campaigns_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "marketing_campaigns_biz_slug_unique": {
          "name": "marketing_campaigns_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "marketing_campaigns_biz_status_starts_idx": {
          "name": "marketing_campaigns_biz_status_starts_idx",
          "columns": [
            "biz_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "marketing_campaigns_biz_id_bizes_id_fk": {
          "name": "marketing_campaigns_biz_id_bizes_id_fk",
          "tableFrom": "marketing_campaigns",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaigns_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "marketing_campaigns_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "marketing_campaigns",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaigns_created_by_users_id_fk": {
          "name": "marketing_campaigns_created_by_users_id_fk",
          "tableFrom": "marketing_campaigns",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaigns_updated_by_users_id_fk": {
          "name": "marketing_campaigns_updated_by_users_id_fk",
          "tableFrom": "marketing_campaigns",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaigns_deleted_by_users_id_fk": {
          "name": "marketing_campaigns_deleted_by_users_id_fk",
          "tableFrom": "marketing_campaigns",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_campaigns_biz_install_fk": {
          "name": "marketing_campaigns_biz_install_fk",
          "tableFrom": "marketing_campaigns",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "message_template_bindings": {
      "name": "message_template_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message_template_id": {
          "name": "message_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_pattern": {
          "name": "event_pattern",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "condition_expr": {
          "name": "condition_expr",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "message_template_bindings_biz_id_id_unique": {
          "name": "message_template_bindings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "message_template_bindings_biz_pattern_active_priority_idx": {
          "name": "message_template_bindings_biz_pattern_active_priority_idx",
          "columns": [
            "biz_id",
            "event_pattern",
            "is_active",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "message_template_bindings_biz_id_bizes_id_fk": {
          "name": "message_template_bindings_biz_id_bizes_id_fk",
          "tableFrom": "message_template_bindings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_template_bindings_message_template_id_message_templates_id_fk": {
          "name": "message_template_bindings_message_template_id_message_templates_id_fk",
          "tableFrom": "message_template_bindings",
          "tableTo": "message_templates",
          "columnsFrom": [
            "message_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_template_bindings_created_by_users_id_fk": {
          "name": "message_template_bindings_created_by_users_id_fk",
          "tableFrom": "message_template_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_template_bindings_updated_by_users_id_fk": {
          "name": "message_template_bindings_updated_by_users_id_fk",
          "tableFrom": "message_template_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_template_bindings_deleted_by_users_id_fk": {
          "name": "message_template_bindings_deleted_by_users_id_fk",
          "tableFrom": "message_template_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_template_bindings_biz_template_fk": {
          "name": "message_template_bindings_biz_template_fk",
          "tableFrom": "message_template_bindings",
          "tableTo": "message_templates",
          "columnsFrom": [
            "biz_id",
            "message_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "message_templates": {
      "name": "message_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "communication_channel",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "communication_purpose",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "locale": {
          "name": "locale",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'en-US'"
        },
        "subject_template": {
          "name": "subject_template",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "body_template": {
          "name": "body_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "structured_template": {
          "name": "structured_template",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "variable_schema": {
          "name": "variable_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "render_policy": {
          "name": "render_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "message_templates_biz_id_id_unique": {
          "name": "message_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "message_templates_biz_channel_slug_version_unique": {
          "name": "message_templates_biz_channel_slug_version_unique",
          "columns": [
            "biz_id",
            "channel",
            "slug",
            "version"
          ],
          "isUnique": true
        },
        "message_templates_biz_channel_slug_current_unique": {
          "name": "message_templates_biz_channel_slug_current_unique",
          "columns": [
            "biz_id",
            "channel",
            "slug"
          ],
          "isUnique": true
        },
        "message_templates_biz_channel_purpose_status_idx": {
          "name": "message_templates_biz_channel_purpose_status_idx",
          "columns": [
            "biz_id",
            "channel",
            "purpose",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "message_templates_biz_id_bizes_id_fk": {
          "name": "message_templates_biz_id_bizes_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_templates_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "message_templates_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_templates_created_by_users_id_fk": {
          "name": "message_templates_created_by_users_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_templates_updated_by_users_id_fk": {
          "name": "message_templates_updated_by_users_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_templates_deleted_by_users_id_fk": {
          "name": "message_templates_deleted_by_users_id_fk",
          "tableFrom": "message_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "message_templates_biz_install_fk": {
          "name": "message_templates_biz_install_fk",
          "tableFrom": "message_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "outbound_message_events": {
      "name": "outbound_message_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "outbound_message_id": {
          "name": "outbound_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "message_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "provider_event_ref": {
          "name": "provider_event_ref",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "outbound_message_events_biz_id_id_unique": {
          "name": "outbound_message_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "outbound_message_events_provider_ref_unique": {
          "name": "outbound_message_events_provider_ref_unique",
          "columns": [
            "biz_id",
            "provider_event_ref"
          ],
          "isUnique": true
        },
        "outbound_message_events_biz_message_occurred_idx": {
          "name": "outbound_message_events_biz_message_occurred_idx",
          "columns": [
            "biz_id",
            "outbound_message_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "outbound_message_events_biz_id_bizes_id_fk": {
          "name": "outbound_message_events_biz_id_bizes_id_fk",
          "tableFrom": "outbound_message_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_message_events_outbound_message_id_outbound_messages_id_fk": {
          "name": "outbound_message_events_outbound_message_id_outbound_messages_id_fk",
          "tableFrom": "outbound_message_events",
          "tableTo": "outbound_messages",
          "columnsFrom": [
            "outbound_message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_message_events_created_by_users_id_fk": {
          "name": "outbound_message_events_created_by_users_id_fk",
          "tableFrom": "outbound_message_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_message_events_updated_by_users_id_fk": {
          "name": "outbound_message_events_updated_by_users_id_fk",
          "tableFrom": "outbound_message_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_message_events_deleted_by_users_id_fk": {
          "name": "outbound_message_events_deleted_by_users_id_fk",
          "tableFrom": "outbound_message_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_message_events_biz_message_fk": {
          "name": "outbound_message_events_biz_message_fk",
          "tableFrom": "outbound_message_events",
          "tableTo": "outbound_messages",
          "columnsFrom": [
            "biz_id",
            "outbound_message_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "outbound_messages": {
      "name": "outbound_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message_template_id": {
          "name": "message_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lifecycle_event_id": {
          "name": "lifecycle_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "marketing_campaign_id": {
          "name": "marketing_campaign_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "marketing_campaign_step_id": {
          "name": "marketing_campaign_step_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "communication_channel",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "communication_purpose",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_user_id": {
          "name": "recipient_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_group_account_id": {
          "name": "recipient_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_ref": {
          "name": "recipient_ref",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "message_delivery_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "provider_key": {
          "name": "provider_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_message_ref": {
          "name": "provider_message_ref",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "outbound_messages_biz_id_id_unique": {
          "name": "outbound_messages_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "outbound_messages_provider_ref_unique": {
          "name": "outbound_messages_provider_ref_unique",
          "columns": [
            "biz_id",
            "provider_key",
            "provider_message_ref"
          ],
          "isUnique": true
        },
        "outbound_messages_biz_status_schedule_idx": {
          "name": "outbound_messages_biz_status_schedule_idx",
          "columns": [
            "biz_id",
            "status",
            "scheduled_for"
          ],
          "isUnique": false
        },
        "outbound_messages_biz_recipient_idx": {
          "name": "outbound_messages_biz_recipient_idx",
          "columns": [
            "biz_id",
            "recipient_user_id",
            "channel",
            "scheduled_for"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "outbound_messages_biz_id_bizes_id_fk": {
          "name": "outbound_messages_biz_id_bizes_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_message_template_id_message_templates_id_fk": {
          "name": "outbound_messages_message_template_id_message_templates_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "message_templates",
          "columnsFrom": [
            "message_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_lifecycle_event_id_lifecycle_events_id_fk": {
          "name": "outbound_messages_lifecycle_event_id_lifecycle_events_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "lifecycle_events",
          "columnsFrom": [
            "lifecycle_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_marketing_campaign_id_marketing_campaigns_id_fk": {
          "name": "outbound_messages_marketing_campaign_id_marketing_campaigns_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "marketing_campaigns",
          "columnsFrom": [
            "marketing_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_marketing_campaign_step_id_marketing_campaign_steps_id_fk": {
          "name": "outbound_messages_marketing_campaign_step_id_marketing_campaign_steps_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "marketing_campaign_steps",
          "columnsFrom": [
            "marketing_campaign_step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_recipient_user_id_users_id_fk": {
          "name": "outbound_messages_recipient_user_id_users_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "users",
          "columnsFrom": [
            "recipient_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_recipient_group_account_id_group_accounts_id_fk": {
          "name": "outbound_messages_recipient_group_account_id_group_accounts_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "recipient_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_created_by_users_id_fk": {
          "name": "outbound_messages_created_by_users_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_updated_by_users_id_fk": {
          "name": "outbound_messages_updated_by_users_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_deleted_by_users_id_fk": {
          "name": "outbound_messages_deleted_by_users_id_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_biz_template_fk": {
          "name": "outbound_messages_biz_template_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "message_templates",
          "columnsFrom": [
            "biz_id",
            "message_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_biz_lifecycle_event_fk": {
          "name": "outbound_messages_biz_lifecycle_event_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "lifecycle_events",
          "columnsFrom": [
            "biz_id",
            "lifecycle_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_biz_campaign_fk": {
          "name": "outbound_messages_biz_campaign_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "marketing_campaigns",
          "columnsFrom": [
            "biz_id",
            "marketing_campaign_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "outbound_messages_biz_campaign_step_fk": {
          "name": "outbound_messages_biz_campaign_step_fk",
          "tableFrom": "outbound_messages",
          "tableTo": "marketing_campaign_steps",
          "columnsFrom": [
            "biz_id",
            "marketing_campaign_step_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "quiet_hour_policies": {
      "name": "quiet_hour_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "channel": {
          "name": "channel",
          "type": "communication_channel",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "quiet_start_local": {
          "name": "quiet_start_local",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "quiet_end_local": {
          "name": "quiet_end_local",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "target_user_id": {
          "name": "target_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_group_account_id": {
          "name": "target_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "allow_transactional_bypass": {
          "name": "allow_transactional_bypass",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allow_emergency_bypass": {
          "name": "allow_emergency_bypass",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "quiet_hour_policies_biz_id_id_unique": {
          "name": "quiet_hour_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "quiet_hour_policies_biz_status_channel_idx": {
          "name": "quiet_hour_policies_biz_status_channel_idx",
          "columns": [
            "biz_id",
            "status",
            "channel"
          ],
          "isUnique": false
        },
        "quiet_hour_policies_biz_default_unique": {
          "name": "quiet_hour_policies_biz_default_unique",
          "columns": [
            "biz_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "quiet_hour_policies_biz_id_bizes_id_fk": {
          "name": "quiet_hour_policies_biz_id_bizes_id_fk",
          "tableFrom": "quiet_hour_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "quiet_hour_policies_target_user_id_users_id_fk": {
          "name": "quiet_hour_policies_target_user_id_users_id_fk",
          "tableFrom": "quiet_hour_policies",
          "tableTo": "users",
          "columnsFrom": [
            "target_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "quiet_hour_policies_target_group_account_id_group_accounts_id_fk": {
          "name": "quiet_hour_policies_target_group_account_id_group_accounts_id_fk",
          "tableFrom": "quiet_hour_policies",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "target_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "quiet_hour_policies_created_by_users_id_fk": {
          "name": "quiet_hour_policies_created_by_users_id_fk",
          "tableFrom": "quiet_hour_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "quiet_hour_policies_updated_by_users_id_fk": {
          "name": "quiet_hour_policies_updated_by_users_id_fk",
          "tableFrom": "quiet_hour_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "quiet_hour_policies_deleted_by_users_id_fk": {
          "name": "quiet_hour_policies_deleted_by_users_id_fk",
          "tableFrom": "quiet_hour_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "survey_invitations": {
      "name": "survey_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "survey_template_id": {
          "name": "survey_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_user_id": {
          "name": "recipient_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_group_account_id": {
          "name": "recipient_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "communication_channel",
          "primaryKey": false,
          "notNull": true,
          "default": "'email'"
        },
        "status": {
          "name": "status",
          "type": "survey_invitation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "survey_invitations_biz_id_id_unique": {
          "name": "survey_invitations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "survey_invitations_token_unique": {
          "name": "survey_invitations_token_unique",
          "columns": [
            "biz_id",
            "token_hash"
          ],
          "isUnique": true
        },
        "survey_invitations_biz_status_sent_idx": {
          "name": "survey_invitations_biz_status_sent_idx",
          "columns": [
            "biz_id",
            "status",
            "sent_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "survey_invitations_biz_id_bizes_id_fk": {
          "name": "survey_invitations_biz_id_bizes_id_fk",
          "tableFrom": "survey_invitations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_invitations_survey_template_id_survey_templates_id_fk": {
          "name": "survey_invitations_survey_template_id_survey_templates_id_fk",
          "tableFrom": "survey_invitations",
          "tableTo": "survey_templates",
          "columnsFrom": [
            "survey_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_invitations_recipient_user_id_users_id_fk": {
          "name": "survey_invitations_recipient_user_id_users_id_fk",
          "tableFrom": "survey_invitations",
          "tableTo": "users",
          "columnsFrom": [
            "recipient_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_invitations_recipient_group_account_id_group_accounts_id_fk": {
          "name": "survey_invitations_recipient_group_account_id_group_accounts_id_fk",
          "tableFrom": "survey_invitations",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "recipient_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_invitations_created_by_users_id_fk": {
          "name": "survey_invitations_created_by_users_id_fk",
          "tableFrom": "survey_invitations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_invitations_updated_by_users_id_fk": {
          "name": "survey_invitations_updated_by_users_id_fk",
          "tableFrom": "survey_invitations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_invitations_deleted_by_users_id_fk": {
          "name": "survey_invitations_deleted_by_users_id_fk",
          "tableFrom": "survey_invitations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_invitations_biz_template_fk": {
          "name": "survey_invitations_biz_template_fk",
          "tableFrom": "survey_invitations",
          "tableTo": "survey_templates",
          "columnsFrom": [
            "biz_id",
            "survey_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "survey_questions": {
      "name": "survey_questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "survey_template_id": {
          "name": "survey_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "question_key": {
          "name": "question_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "question_type": {
          "name": "question_type",
          "type": "survey_question_type",
          "primaryKey": false,
          "notNull": true
        },
        "prompt": {
          "name": "prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "options": {
          "name": "options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "scale_min": {
          "name": "scale_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "scale_max": {
          "name": "scale_max",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "survey_questions_biz_id_id_unique": {
          "name": "survey_questions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "survey_questions_unique": {
          "name": "survey_questions_unique",
          "columns": [
            "survey_template_id",
            "question_key"
          ],
          "isUnique": true
        },
        "survey_questions_biz_template_sort_idx": {
          "name": "survey_questions_biz_template_sort_idx",
          "columns": [
            "biz_id",
            "survey_template_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "survey_questions_biz_id_bizes_id_fk": {
          "name": "survey_questions_biz_id_bizes_id_fk",
          "tableFrom": "survey_questions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_questions_survey_template_id_survey_templates_id_fk": {
          "name": "survey_questions_survey_template_id_survey_templates_id_fk",
          "tableFrom": "survey_questions",
          "tableTo": "survey_templates",
          "columnsFrom": [
            "survey_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_questions_created_by_users_id_fk": {
          "name": "survey_questions_created_by_users_id_fk",
          "tableFrom": "survey_questions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_questions_updated_by_users_id_fk": {
          "name": "survey_questions_updated_by_users_id_fk",
          "tableFrom": "survey_questions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_questions_deleted_by_users_id_fk": {
          "name": "survey_questions_deleted_by_users_id_fk",
          "tableFrom": "survey_questions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_questions_biz_template_fk": {
          "name": "survey_questions_biz_template_fk",
          "tableFrom": "survey_questions",
          "tableTo": "survey_templates",
          "columnsFrom": [
            "biz_id",
            "survey_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "survey_response_answers": {
      "name": "survey_response_answers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "survey_response_id": {
          "name": "survey_response_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "survey_question_id": {
          "name": "survey_question_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "answer_text": {
          "name": "answer_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "answer_number": {
          "name": "answer_number",
          "type": "numeric(24, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "answer_boolean": {
          "name": "answer_boolean",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "answer_options": {
          "name": "answer_options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "answer_payload": {
          "name": "answer_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "survey_response_answers_biz_id_id_unique": {
          "name": "survey_response_answers_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "survey_response_answers_unique": {
          "name": "survey_response_answers_unique",
          "columns": [
            "survey_response_id",
            "survey_question_id"
          ],
          "isUnique": true
        },
        "survey_response_answers_biz_response_idx": {
          "name": "survey_response_answers_biz_response_idx",
          "columns": [
            "biz_id",
            "survey_response_id"
          ],
          "isUnique": false
        },
        "survey_response_answers_biz_question_idx": {
          "name": "survey_response_answers_biz_question_idx",
          "columns": [
            "biz_id",
            "survey_question_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "survey_response_answers_biz_id_bizes_id_fk": {
          "name": "survey_response_answers_biz_id_bizes_id_fk",
          "tableFrom": "survey_response_answers",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_response_answers_survey_response_id_survey_responses_id_fk": {
          "name": "survey_response_answers_survey_response_id_survey_responses_id_fk",
          "tableFrom": "survey_response_answers",
          "tableTo": "survey_responses",
          "columnsFrom": [
            "survey_response_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_response_answers_survey_question_id_survey_questions_id_fk": {
          "name": "survey_response_answers_survey_question_id_survey_questions_id_fk",
          "tableFrom": "survey_response_answers",
          "tableTo": "survey_questions",
          "columnsFrom": [
            "survey_question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_response_answers_created_by_users_id_fk": {
          "name": "survey_response_answers_created_by_users_id_fk",
          "tableFrom": "survey_response_answers",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_response_answers_updated_by_users_id_fk": {
          "name": "survey_response_answers_updated_by_users_id_fk",
          "tableFrom": "survey_response_answers",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_response_answers_deleted_by_users_id_fk": {
          "name": "survey_response_answers_deleted_by_users_id_fk",
          "tableFrom": "survey_response_answers",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_response_answers_biz_response_fk": {
          "name": "survey_response_answers_biz_response_fk",
          "tableFrom": "survey_response_answers",
          "tableTo": "survey_responses",
          "columnsFrom": [
            "biz_id",
            "survey_response_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_response_answers_biz_question_fk": {
          "name": "survey_response_answers_biz_question_fk",
          "tableFrom": "survey_response_answers",
          "tableTo": "survey_questions",
          "columnsFrom": [
            "biz_id",
            "survey_question_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "survey_responses": {
      "name": "survey_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "survey_invitation_id": {
          "name": "survey_invitation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "survey_response_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'started'"
        },
        "visibility": {
          "name": "visibility",
          "type": "survey_response_visibility",
          "primaryKey": false,
          "notNull": true,
          "default": "'identified'"
        },
        "respondent_user_id": {
          "name": "respondent_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "overall_rating": {
          "name": "overall_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "nps_score": {
          "name": "nps_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "response_payload": {
          "name": "response_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "survey_responses_biz_id_id_unique": {
          "name": "survey_responses_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "survey_responses_invitation_unique": {
          "name": "survey_responses_invitation_unique",
          "columns": [
            "survey_invitation_id"
          ],
          "isUnique": true
        },
        "survey_responses_biz_status_submitted_idx": {
          "name": "survey_responses_biz_status_submitted_idx",
          "columns": [
            "biz_id",
            "status",
            "submitted_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "survey_responses_biz_id_bizes_id_fk": {
          "name": "survey_responses_biz_id_bizes_id_fk",
          "tableFrom": "survey_responses",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_responses_survey_invitation_id_survey_invitations_id_fk": {
          "name": "survey_responses_survey_invitation_id_survey_invitations_id_fk",
          "tableFrom": "survey_responses",
          "tableTo": "survey_invitations",
          "columnsFrom": [
            "survey_invitation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_responses_respondent_user_id_users_id_fk": {
          "name": "survey_responses_respondent_user_id_users_id_fk",
          "tableFrom": "survey_responses",
          "tableTo": "users",
          "columnsFrom": [
            "respondent_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_responses_created_by_users_id_fk": {
          "name": "survey_responses_created_by_users_id_fk",
          "tableFrom": "survey_responses",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_responses_updated_by_users_id_fk": {
          "name": "survey_responses_updated_by_users_id_fk",
          "tableFrom": "survey_responses",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_responses_deleted_by_users_id_fk": {
          "name": "survey_responses_deleted_by_users_id_fk",
          "tableFrom": "survey_responses",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_responses_biz_invitation_fk": {
          "name": "survey_responses_biz_invitation_fk",
          "tableFrom": "survey_responses",
          "tableTo": "survey_invitations",
          "columnsFrom": [
            "biz_id",
            "survey_invitation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "survey_templates": {
      "name": "survey_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "title": {
          "name": "title",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "allow_anonymous": {
          "name": "allow_anonymous",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "trigger_event": {
          "name": "trigger_event",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "send_delay_minutes": {
          "name": "send_delay_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "incentive_policy": {
          "name": "incentive_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "survey_templates_biz_id_id_unique": {
          "name": "survey_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "survey_templates_biz_slug_version_unique": {
          "name": "survey_templates_biz_slug_version_unique",
          "columns": [
            "biz_id",
            "slug",
            "version"
          ],
          "isUnique": true
        },
        "survey_templates_biz_slug_current_unique": {
          "name": "survey_templates_biz_slug_current_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "survey_templates_biz_status_idx": {
          "name": "survey_templates_biz_status_idx",
          "columns": [
            "biz_id",
            "status",
            "is_current"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "survey_templates_biz_id_bizes_id_fk": {
          "name": "survey_templates_biz_id_bizes_id_fk",
          "tableFrom": "survey_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_templates_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "survey_templates_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "survey_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_templates_created_by_users_id_fk": {
          "name": "survey_templates_created_by_users_id_fk",
          "tableFrom": "survey_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_templates_updated_by_users_id_fk": {
          "name": "survey_templates_updated_by_users_id_fk",
          "tableFrom": "survey_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_templates_deleted_by_users_id_fk": {
          "name": "survey_templates_deleted_by_users_id_fk",
          "tableFrom": "survey_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "survey_templates_biz_install_fk": {
          "name": "survey_templates_biz_install_fk",
          "tableFrom": "survey_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "discount_campaigns": {
      "name": "discount_campaigns",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "discount_campaign_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "discount_type": {
          "name": "discount_type",
          "type": "discount_type",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "discount_scope",
          "primaryKey": false,
          "notNull": true,
          "default": "'order'"
        },
        "stacking_mode": {
          "name": "stacking_mode",
          "type": "discount_stacking_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'exclusive'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "percent_off_bps": {
          "name": "percent_off_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fixed_amount_minor": {
          "name": "fixed_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_discount_minor": {
          "name": "max_discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_subtotal_minor": {
          "name": "min_subtotal_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_total_redemptions": {
          "name": "max_total_redemptions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_per_customer": {
          "name": "max_per_customer",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "first_time_only": {
          "name": "first_time_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "conditions": {
          "name": "conditions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "discount_campaigns_biz_id_id_unique": {
          "name": "discount_campaigns_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "discount_campaigns_biz_slug_unique": {
          "name": "discount_campaigns_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "discount_campaigns_biz_status_starts_idx": {
          "name": "discount_campaigns_biz_status_starts_idx",
          "columns": [
            "biz_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "discount_campaigns_biz_id_bizes_id_fk": {
          "name": "discount_campaigns_biz_id_bizes_id_fk",
          "tableFrom": "discount_campaigns",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_campaigns_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "discount_campaigns_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "discount_campaigns",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_campaigns_created_by_users_id_fk": {
          "name": "discount_campaigns_created_by_users_id_fk",
          "tableFrom": "discount_campaigns",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_campaigns_updated_by_users_id_fk": {
          "name": "discount_campaigns_updated_by_users_id_fk",
          "tableFrom": "discount_campaigns",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_campaigns_deleted_by_users_id_fk": {
          "name": "discount_campaigns_deleted_by_users_id_fk",
          "tableFrom": "discount_campaigns",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_campaigns_biz_install_fk": {
          "name": "discount_campaigns_biz_install_fk",
          "tableFrom": "discount_campaigns",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "discount_codes": {
      "name": "discount_codes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discount_campaign_id": {
          "name": "discount_campaign_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "discount_campaign_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "max_redemptions": {
          "name": "max_redemptions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_per_customer": {
          "name": "max_per_customer",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "redemption_count": {
          "name": "redemption_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_single_use": {
          "name": "is_single_use",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "discount_codes_biz_id_id_unique": {
          "name": "discount_codes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "discount_codes_biz_code_unique": {
          "name": "discount_codes_biz_code_unique",
          "columns": [
            "biz_id",
            "code"
          ],
          "isUnique": true
        },
        "discount_codes_biz_campaign_status_idx": {
          "name": "discount_codes_biz_campaign_status_idx",
          "columns": [
            "biz_id",
            "discount_campaign_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "discount_codes_biz_id_bizes_id_fk": {
          "name": "discount_codes_biz_id_bizes_id_fk",
          "tableFrom": "discount_codes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_codes_discount_campaign_id_discount_campaigns_id_fk": {
          "name": "discount_codes_discount_campaign_id_discount_campaigns_id_fk",
          "tableFrom": "discount_codes",
          "tableTo": "discount_campaigns",
          "columnsFrom": [
            "discount_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_codes_created_by_users_id_fk": {
          "name": "discount_codes_created_by_users_id_fk",
          "tableFrom": "discount_codes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_codes_updated_by_users_id_fk": {
          "name": "discount_codes_updated_by_users_id_fk",
          "tableFrom": "discount_codes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_codes_deleted_by_users_id_fk": {
          "name": "discount_codes_deleted_by_users_id_fk",
          "tableFrom": "discount_codes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_codes_biz_campaign_fk": {
          "name": "discount_codes_biz_campaign_fk",
          "tableFrom": "discount_codes",
          "tableTo": "discount_campaigns",
          "columnsFrom": [
            "biz_id",
            "discount_campaign_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "discount_redemptions": {
      "name": "discount_redemptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discount_campaign_id": {
          "name": "discount_campaign_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "discount_code_id": {
          "name": "discount_code_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_user_id": {
          "name": "customer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "discount_redemption_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'applied'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "redeemed_at": {
          "name": "redeemed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "voided_at": {
          "name": "voided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "discount_redemptions_biz_id_id_unique": {
          "name": "discount_redemptions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "discount_redemptions_biz_campaign_redeemed_idx": {
          "name": "discount_redemptions_biz_campaign_redeemed_idx",
          "columns": [
            "biz_id",
            "discount_campaign_id",
            "redeemed_at"
          ],
          "isUnique": false
        },
        "discount_redemptions_biz_customer_redeemed_idx": {
          "name": "discount_redemptions_biz_customer_redeemed_idx",
          "columns": [
            "biz_id",
            "customer_user_id",
            "redeemed_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "discount_redemptions_biz_id_bizes_id_fk": {
          "name": "discount_redemptions_biz_id_bizes_id_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_discount_campaign_id_discount_campaigns_id_fk": {
          "name": "discount_redemptions_discount_campaign_id_discount_campaigns_id_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "discount_campaigns",
          "columnsFrom": [
            "discount_campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_discount_code_id_discount_codes_id_fk": {
          "name": "discount_redemptions_discount_code_id_discount_codes_id_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "discount_codes",
          "columnsFrom": [
            "discount_code_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_booking_order_id_booking_orders_id_fk": {
          "name": "discount_redemptions_booking_order_id_booking_orders_id_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "discount_redemptions_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_customer_user_id_users_id_fk": {
          "name": "discount_redemptions_customer_user_id_users_id_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "users",
          "columnsFrom": [
            "customer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_created_by_users_id_fk": {
          "name": "discount_redemptions_created_by_users_id_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_updated_by_users_id_fk": {
          "name": "discount_redemptions_updated_by_users_id_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_deleted_by_users_id_fk": {
          "name": "discount_redemptions_deleted_by_users_id_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_biz_campaign_fk": {
          "name": "discount_redemptions_biz_campaign_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "discount_campaigns",
          "columnsFrom": [
            "biz_id",
            "discount_campaign_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_biz_code_fk": {
          "name": "discount_redemptions_biz_code_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "discount_codes",
          "columnsFrom": [
            "biz_id",
            "discount_code_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_biz_order_fk": {
          "name": "discount_redemptions_biz_order_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "discount_redemptions_biz_order_line_fk": {
          "name": "discount_redemptions_biz_order_line_fk",
          "tableFrom": "discount_redemptions",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_approvals": {
      "name": "work_approvals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_run_id": {
          "name": "work_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "routing_mode": {
          "name": "routing_mode",
          "type": "work_approval_routing_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'sequential'"
        },
        "stage": {
          "name": "stage",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "assignee_type": {
          "name": "assignee_type",
          "type": "work_approval_assignee_type",
          "primaryKey": false,
          "notNull": true
        },
        "approver_user_id": {
          "name": "approver_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approver_group_account_id": {
          "name": "approver_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approver_role_key": {
          "name": "approver_role_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "approver_ref": {
          "name": "approver_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "decision": {
          "name": "decision",
          "type": "work_approval_decision",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "decided_by_user_id": {
          "name": "decided_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_note": {
          "name": "decision_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_approvals_biz_id_id_unique": {
          "name": "work_approvals_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "work_approvals_biz_decision_due_idx": {
          "name": "work_approvals_biz_decision_due_idx",
          "columns": [
            "biz_id",
            "decision",
            "due_at"
          ],
          "isUnique": false
        },
        "work_approvals_biz_run_stage_idx": {
          "name": "work_approvals_biz_run_stage_idx",
          "columns": [
            "biz_id",
            "work_run_id",
            "stage"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "work_approvals_biz_id_bizes_id_fk": {
          "name": "work_approvals_biz_id_bizes_id_fk",
          "tableFrom": "work_approvals",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_approvals_work_run_id_work_runs_id_fk": {
          "name": "work_approvals_work_run_id_work_runs_id_fk",
          "tableFrom": "work_approvals",
          "tableTo": "work_runs",
          "columnsFrom": [
            "work_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_approvals_approver_user_id_users_id_fk": {
          "name": "work_approvals_approver_user_id_users_id_fk",
          "tableFrom": "work_approvals",
          "tableTo": "users",
          "columnsFrom": [
            "approver_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_approvals_approver_group_account_id_group_accounts_id_fk": {
          "name": "work_approvals_approver_group_account_id_group_accounts_id_fk",
          "tableFrom": "work_approvals",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "approver_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_approvals_decided_by_user_id_users_id_fk": {
          "name": "work_approvals_decided_by_user_id_users_id_fk",
          "tableFrom": "work_approvals",
          "tableTo": "users",
          "columnsFrom": [
            "decided_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_approvals_created_by_users_id_fk": {
          "name": "work_approvals_created_by_users_id_fk",
          "tableFrom": "work_approvals",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_approvals_updated_by_users_id_fk": {
          "name": "work_approvals_updated_by_users_id_fk",
          "tableFrom": "work_approvals",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_approvals_deleted_by_users_id_fk": {
          "name": "work_approvals_deleted_by_users_id_fk",
          "tableFrom": "work_approvals",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_approvals_biz_run_fk": {
          "name": "work_approvals_biz_run_fk",
          "tableFrom": "work_approvals",
          "tableTo": "work_runs",
          "columnsFrom": [
            "biz_id",
            "work_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_artifacts": {
      "name": "work_artifacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_run_id": {
          "name": "work_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_entry_id": {
          "name": "work_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "artifact_type": {
          "name": "artifact_type",
          "type": "interaction_artifact_type",
          "primaryKey": false,
          "notNull": true
        },
        "storage_ref": {
          "name": "storage_ref",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sha256": {
          "name": "sha256",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "geo_lat": {
          "name": "geo_lat",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "geo_lng": {
          "name": "geo_lng",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "annotations": {
          "name": "annotations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "captured_by_user_id": {
          "name": "captured_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_artifacts_biz_id_id_unique": {
          "name": "work_artifacts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "work_artifacts_biz_run_captured_idx": {
          "name": "work_artifacts_biz_run_captured_idx",
          "columns": [
            "biz_id",
            "work_run_id",
            "captured_at"
          ],
          "isUnique": false
        },
        "work_artifacts_biz_entry_idx": {
          "name": "work_artifacts_biz_entry_idx",
          "columns": [
            "biz_id",
            "work_entry_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "work_artifacts_biz_id_bizes_id_fk": {
          "name": "work_artifacts_biz_id_bizes_id_fk",
          "tableFrom": "work_artifacts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_artifacts_work_run_id_work_runs_id_fk": {
          "name": "work_artifacts_work_run_id_work_runs_id_fk",
          "tableFrom": "work_artifacts",
          "tableTo": "work_runs",
          "columnsFrom": [
            "work_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_artifacts_work_entry_id_work_entries_id_fk": {
          "name": "work_artifacts_work_entry_id_work_entries_id_fk",
          "tableFrom": "work_artifacts",
          "tableTo": "work_entries",
          "columnsFrom": [
            "work_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_artifacts_captured_by_user_id_users_id_fk": {
          "name": "work_artifacts_captured_by_user_id_users_id_fk",
          "tableFrom": "work_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "captured_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_artifacts_created_by_users_id_fk": {
          "name": "work_artifacts_created_by_users_id_fk",
          "tableFrom": "work_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_artifacts_updated_by_users_id_fk": {
          "name": "work_artifacts_updated_by_users_id_fk",
          "tableFrom": "work_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_artifacts_deleted_by_users_id_fk": {
          "name": "work_artifacts_deleted_by_users_id_fk",
          "tableFrom": "work_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_artifacts_biz_run_fk": {
          "name": "work_artifacts_biz_run_fk",
          "tableFrom": "work_artifacts",
          "tableTo": "work_runs",
          "columnsFrom": [
            "biz_id",
            "work_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_artifacts_biz_entry_fk": {
          "name": "work_artifacts_biz_entry_fk",
          "tableFrom": "work_artifacts",
          "tableTo": "work_entries",
          "columnsFrom": [
            "biz_id",
            "work_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_entries": {
      "name": "work_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_run_id": {
          "name": "work_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_run_step_id": {
          "name": "work_run_step_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_type": {
          "name": "entry_type",
          "type": "work_entry_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "work_entry_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'logged'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_min": {
          "name": "duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "quantity_unit": {
          "name": "quantity_unit",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "geo_lat": {
          "name": "geo_lat",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "geo_lng": {
          "name": "geo_lng",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_entries_biz_id_id_unique": {
          "name": "work_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "work_entries_biz_run_occurred_idx": {
          "name": "work_entries_biz_run_occurred_idx",
          "columns": [
            "biz_id",
            "work_run_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "work_entries_biz_type_occurred_idx": {
          "name": "work_entries_biz_type_occurred_idx",
          "columns": [
            "biz_id",
            "entry_type",
            "occurred_at"
          ],
          "isUnique": false
        },
        "work_entries_biz_status_config_idx": {
          "name": "work_entries_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "work_entries_biz_id_bizes_id_fk": {
          "name": "work_entries_biz_id_bizes_id_fk",
          "tableFrom": "work_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_entries_work_run_id_work_runs_id_fk": {
          "name": "work_entries_work_run_id_work_runs_id_fk",
          "tableFrom": "work_entries",
          "tableTo": "work_runs",
          "columnsFrom": [
            "work_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_entries_work_run_step_id_work_run_steps_id_fk": {
          "name": "work_entries_work_run_step_id_work_run_steps_id_fk",
          "tableFrom": "work_entries",
          "tableTo": "work_run_steps",
          "columnsFrom": [
            "work_run_step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_entries_status_config_value_id_biz_config_values_id_fk": {
          "name": "work_entries_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "work_entries",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_entries_created_by_users_id_fk": {
          "name": "work_entries_created_by_users_id_fk",
          "tableFrom": "work_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_entries_updated_by_users_id_fk": {
          "name": "work_entries_updated_by_users_id_fk",
          "tableFrom": "work_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_entries_deleted_by_users_id_fk": {
          "name": "work_entries_deleted_by_users_id_fk",
          "tableFrom": "work_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_entries_biz_run_fk": {
          "name": "work_entries_biz_run_fk",
          "tableFrom": "work_entries",
          "tableTo": "work_runs",
          "columnsFrom": [
            "biz_id",
            "work_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_entries_biz_run_step_fk": {
          "name": "work_entries_biz_run_step_fk",
          "tableFrom": "work_entries",
          "tableTo": "work_run_steps",
          "columnsFrom": [
            "biz_id",
            "work_run_step_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_entries_biz_status_config_fk": {
          "name": "work_entries_biz_status_config_fk",
          "tableFrom": "work_entries",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_run_steps": {
      "name": "work_run_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_run_id": {
          "name": "work_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_template_step_id": {
          "name": "work_template_step_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "work_step_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_by_user_id": {
          "name": "completed_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_run_steps_biz_id_id_unique": {
          "name": "work_run_steps_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "work_run_steps_unique": {
          "name": "work_run_steps_unique",
          "columns": [
            "work_run_id",
            "work_template_step_id"
          ],
          "isUnique": true
        },
        "work_run_steps_biz_run_status_idx": {
          "name": "work_run_steps_biz_run_status_idx",
          "columns": [
            "biz_id",
            "work_run_id",
            "status"
          ],
          "isUnique": false
        },
        "work_run_steps_biz_status_config_idx": {
          "name": "work_run_steps_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "work_run_steps_biz_id_bizes_id_fk": {
          "name": "work_run_steps_biz_id_bizes_id_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_work_run_id_work_runs_id_fk": {
          "name": "work_run_steps_work_run_id_work_runs_id_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "work_runs",
          "columnsFrom": [
            "work_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_work_template_step_id_work_template_steps_id_fk": {
          "name": "work_run_steps_work_template_step_id_work_template_steps_id_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "work_template_steps",
          "columnsFrom": [
            "work_template_step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_status_config_value_id_biz_config_values_id_fk": {
          "name": "work_run_steps_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_completed_by_user_id_users_id_fk": {
          "name": "work_run_steps_completed_by_user_id_users_id_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "users",
          "columnsFrom": [
            "completed_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_created_by_users_id_fk": {
          "name": "work_run_steps_created_by_users_id_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_updated_by_users_id_fk": {
          "name": "work_run_steps_updated_by_users_id_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_deleted_by_users_id_fk": {
          "name": "work_run_steps_deleted_by_users_id_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_biz_run_fk": {
          "name": "work_run_steps_biz_run_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "work_runs",
          "columnsFrom": [
            "biz_id",
            "work_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_biz_template_step_fk": {
          "name": "work_run_steps_biz_template_step_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "work_template_steps",
          "columnsFrom": [
            "biz_id",
            "work_template_step_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_run_steps_biz_status_config_fk": {
          "name": "work_run_steps_biz_status_config_fk",
          "tableFrom": "work_run_steps",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_runs": {
      "name": "work_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_template_id": {
          "name": "work_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_work_run_id": {
          "name": "parent_work_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee_user_id": {
          "name": "assignee_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee_group_account_id": {
          "name": "assignee_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "work_run_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key_id": {
          "name": "idempotency_key_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_runs_biz_id_id_unique": {
          "name": "work_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "work_runs_biz_status_due_priority_idx": {
          "name": "work_runs_biz_status_due_priority_idx",
          "columns": [
            "biz_id",
            "status",
            "due_at",
            "priority"
          ],
          "isUnique": false
        },
        "work_runs_biz_status_config_idx": {
          "name": "work_runs_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        },
        "work_runs_biz_target_status_idx": {
          "name": "work_runs_biz_target_status_idx",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "work_runs_biz_id_bizes_id_fk": {
          "name": "work_runs_biz_id_bizes_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_work_template_id_work_templates_id_fk": {
          "name": "work_runs_work_template_id_work_templates_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "work_templates",
          "columnsFrom": [
            "work_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_parent_work_run_id_work_runs_id_fk": {
          "name": "work_runs_parent_work_run_id_work_runs_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "work_runs",
          "columnsFrom": [
            "parent_work_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_location_id_locations_id_fk": {
          "name": "work_runs_location_id_locations_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_resource_id_resources_id_fk": {
          "name": "work_runs_resource_id_resources_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_assignee_user_id_users_id_fk": {
          "name": "work_runs_assignee_user_id_users_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "users",
          "columnsFrom": [
            "assignee_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_assignee_group_account_id_group_accounts_id_fk": {
          "name": "work_runs_assignee_group_account_id_group_accounts_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "assignee_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_status_config_value_id_biz_config_values_id_fk": {
          "name": "work_runs_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_idempotency_key_id_idempotency_keys_id_fk": {
          "name": "work_runs_idempotency_key_id_idempotency_keys_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "idempotency_keys",
          "columnsFrom": [
            "idempotency_key_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_created_by_users_id_fk": {
          "name": "work_runs_created_by_users_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_updated_by_users_id_fk": {
          "name": "work_runs_updated_by_users_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_deleted_by_users_id_fk": {
          "name": "work_runs_deleted_by_users_id_fk",
          "tableFrom": "work_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_biz_template_fk": {
          "name": "work_runs_biz_template_fk",
          "tableFrom": "work_runs",
          "tableTo": "work_templates",
          "columnsFrom": [
            "biz_id",
            "work_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_biz_location_fk": {
          "name": "work_runs_biz_location_fk",
          "tableFrom": "work_runs",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_biz_resource_fk": {
          "name": "work_runs_biz_resource_fk",
          "tableFrom": "work_runs",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_biz_idempotency_key_fk": {
          "name": "work_runs_biz_idempotency_key_fk",
          "tableFrom": "work_runs",
          "tableTo": "idempotency_keys",
          "columnsFrom": [
            "biz_id",
            "idempotency_key_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_runs_biz_status_config_fk": {
          "name": "work_runs_biz_status_config_fk",
          "tableFrom": "work_runs",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_template_steps": {
      "name": "work_template_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_template_id": {
          "name": "work_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step_key": {
          "name": "step_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "step_type": {
          "name": "step_type",
          "type": "work_step_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'field'"
        },
        "label": {
          "name": "label",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": true
        },
        "instructions": {
          "name": "instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "depends_on_step_key": {
          "name": "depends_on_step_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "definition": {
          "name": "definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_template_steps_biz_id_id_unique": {
          "name": "work_template_steps_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "work_template_steps_unique": {
          "name": "work_template_steps_unique",
          "columns": [
            "work_template_id",
            "step_key"
          ],
          "isUnique": true
        },
        "work_template_steps_biz_template_sort_idx": {
          "name": "work_template_steps_biz_template_sort_idx",
          "columns": [
            "biz_id",
            "work_template_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "work_template_steps_biz_id_bizes_id_fk": {
          "name": "work_template_steps_biz_id_bizes_id_fk",
          "tableFrom": "work_template_steps",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_template_steps_work_template_id_work_templates_id_fk": {
          "name": "work_template_steps_work_template_id_work_templates_id_fk",
          "tableFrom": "work_template_steps",
          "tableTo": "work_templates",
          "columnsFrom": [
            "work_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_template_steps_created_by_users_id_fk": {
          "name": "work_template_steps_created_by_users_id_fk",
          "tableFrom": "work_template_steps",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_template_steps_updated_by_users_id_fk": {
          "name": "work_template_steps_updated_by_users_id_fk",
          "tableFrom": "work_template_steps",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_template_steps_deleted_by_users_id_fk": {
          "name": "work_template_steps_deleted_by_users_id_fk",
          "tableFrom": "work_template_steps",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_template_steps_biz_template_fk": {
          "name": "work_template_steps_biz_template_fk",
          "tableFrom": "work_template_steps",
          "tableTo": "work_templates",
          "columnsFrom": [
            "biz_id",
            "work_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_templates": {
      "name": "work_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "work_template_kind",
          "primaryKey": false,
          "notNull": true
        },
        "kind_config_value_id": {
          "name": "kind_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "title": {
          "name": "title",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "schema": {
          "name": "schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_templates_biz_id_id_unique": {
          "name": "work_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "work_templates_biz_slug_version_unique": {
          "name": "work_templates_biz_slug_version_unique",
          "columns": [
            "biz_id",
            "slug",
            "version"
          ],
          "isUnique": true
        },
        "work_templates_biz_slug_current_unique": {
          "name": "work_templates_biz_slug_current_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "work_templates_biz_kind_status_idx": {
          "name": "work_templates_biz_kind_status_idx",
          "columns": [
            "biz_id",
            "kind",
            "status",
            "is_current"
          ],
          "isUnique": false
        },
        "work_templates_biz_kind_config_idx": {
          "name": "work_templates_biz_kind_config_idx",
          "columns": [
            "biz_id",
            "kind_config_value_id"
          ],
          "isUnique": false
        },
        "work_templates_biz_status_config_idx": {
          "name": "work_templates_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "work_templates_biz_id_bizes_id_fk": {
          "name": "work_templates_biz_id_bizes_id_fk",
          "tableFrom": "work_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_templates_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "work_templates_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "work_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_templates_kind_config_value_id_biz_config_values_id_fk": {
          "name": "work_templates_kind_config_value_id_biz_config_values_id_fk",
          "tableFrom": "work_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "kind_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_templates_status_config_value_id_biz_config_values_id_fk": {
          "name": "work_templates_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "work_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_templates_created_by_users_id_fk": {
          "name": "work_templates_created_by_users_id_fk",
          "tableFrom": "work_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_templates_updated_by_users_id_fk": {
          "name": "work_templates_updated_by_users_id_fk",
          "tableFrom": "work_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_templates_deleted_by_users_id_fk": {
          "name": "work_templates_deleted_by_users_id_fk",
          "tableFrom": "work_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_templates_biz_install_fk": {
          "name": "work_templates_biz_install_fk",
          "tableFrom": "work_templates",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_templates_biz_kind_config_fk": {
          "name": "work_templates_biz_kind_config_fk",
          "tableFrom": "work_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "kind_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_templates_biz_status_config_fk": {
          "name": "work_templates_biz_status_config_fk",
          "tableFrom": "work_templates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_time_segment_allocations": {
      "name": "work_time_segment_allocations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_time_segment_id": {
          "name": "work_time_segment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "staffing_assignment_id": {
          "name": "staffing_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "allocated_minutes": {
          "name": "allocated_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allocation_bps": {
          "name": "allocation_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_time_segment_allocations_biz_id_id_unique": {
          "name": "work_time_segment_allocations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "work_time_segment_allocations_unique": {
          "name": "work_time_segment_allocations_unique",
          "columns": [
            "work_time_segment_id",
            "staffing_assignment_id"
          ],
          "isUnique": true
        },
        "work_time_segment_allocations_biz_segment_idx": {
          "name": "work_time_segment_allocations_biz_segment_idx",
          "columns": [
            "biz_id",
            "work_time_segment_id"
          ],
          "isUnique": false
        },
        "work_time_segment_allocations_biz_assignment_idx": {
          "name": "work_time_segment_allocations_biz_assignment_idx",
          "columns": [
            "biz_id",
            "staffing_assignment_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "work_time_segment_allocations_biz_id_bizes_id_fk": {
          "name": "work_time_segment_allocations_biz_id_bizes_id_fk",
          "tableFrom": "work_time_segment_allocations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segment_allocations_work_time_segment_id_work_time_segments_id_fk": {
          "name": "work_time_segment_allocations_work_time_segment_id_work_time_segments_id_fk",
          "tableFrom": "work_time_segment_allocations",
          "tableTo": "work_time_segments",
          "columnsFrom": [
            "work_time_segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segment_allocations_staffing_assignment_id_staffing_assignments_id_fk": {
          "name": "work_time_segment_allocations_staffing_assignment_id_staffing_assignments_id_fk",
          "tableFrom": "work_time_segment_allocations",
          "tableTo": "staffing_assignments",
          "columnsFrom": [
            "staffing_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segment_allocations_created_by_users_id_fk": {
          "name": "work_time_segment_allocations_created_by_users_id_fk",
          "tableFrom": "work_time_segment_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segment_allocations_updated_by_users_id_fk": {
          "name": "work_time_segment_allocations_updated_by_users_id_fk",
          "tableFrom": "work_time_segment_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segment_allocations_deleted_by_users_id_fk": {
          "name": "work_time_segment_allocations_deleted_by_users_id_fk",
          "tableFrom": "work_time_segment_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segment_allocations_biz_segment_fk": {
          "name": "work_time_segment_allocations_biz_segment_fk",
          "tableFrom": "work_time_segment_allocations",
          "tableTo": "work_time_segments",
          "columnsFrom": [
            "biz_id",
            "work_time_segment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segment_allocations_biz_assignment_fk": {
          "name": "work_time_segment_allocations_biz_assignment_fk",
          "tableFrom": "work_time_segment_allocations",
          "tableTo": "staffing_assignments",
          "columnsFrom": [
            "biz_id",
            "staffing_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "work_time_segments": {
      "name": "work_time_segments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "work_run_id": {
          "name": "work_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "segment_type": {
          "name": "segment_type",
          "type": "work_time_segment_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'work'"
        },
        "clock_source": {
          "name": "clock_source",
          "type": "work_clock_source",
          "primaryKey": false,
          "notNull": true,
          "default": "'mobile'"
        },
        "clock_in_at": {
          "name": "clock_in_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "clock_out_at": {
          "name": "clock_out_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "break_minutes": {
          "name": "break_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "clock_in_lat": {
          "name": "clock_in_lat",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "clock_in_lng": {
          "name": "clock_in_lng",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "clock_out_lat": {
          "name": "clock_out_lat",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "clock_out_lng": {
          "name": "clock_out_lng",
          "type": "double precision",
          "primaryKey": false,
          "notNull": false
        },
        "is_clock_in_within_geofence": {
          "name": "is_clock_in_within_geofence",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "is_clock_out_within_geofence": {
          "name": "is_clock_out_within_geofence",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "geofence_policy_ref": {
          "name": "geofence_policy_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by_user_id": {
          "name": "approved_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "correction_note": {
          "name": "correction_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "work_time_segments_biz_id_id_unique": {
          "name": "work_time_segments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "work_time_segments_biz_user_clock_in_idx": {
          "name": "work_time_segments_biz_user_clock_in_idx",
          "columns": [
            "biz_id",
            "user_id",
            "clock_in_at"
          ],
          "isUnique": false
        },
        "work_time_segments_biz_run_clock_in_idx": {
          "name": "work_time_segments_biz_run_clock_in_idx",
          "columns": [
            "biz_id",
            "work_run_id",
            "clock_in_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "work_time_segments_biz_id_bizes_id_fk": {
          "name": "work_time_segments_biz_id_bizes_id_fk",
          "tableFrom": "work_time_segments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segments_work_run_id_work_runs_id_fk": {
          "name": "work_time_segments_work_run_id_work_runs_id_fk",
          "tableFrom": "work_time_segments",
          "tableTo": "work_runs",
          "columnsFrom": [
            "work_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segments_user_id_users_id_fk": {
          "name": "work_time_segments_user_id_users_id_fk",
          "tableFrom": "work_time_segments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segments_approved_by_user_id_users_id_fk": {
          "name": "work_time_segments_approved_by_user_id_users_id_fk",
          "tableFrom": "work_time_segments",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segments_created_by_users_id_fk": {
          "name": "work_time_segments_created_by_users_id_fk",
          "tableFrom": "work_time_segments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segments_updated_by_users_id_fk": {
          "name": "work_time_segments_updated_by_users_id_fk",
          "tableFrom": "work_time_segments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segments_deleted_by_users_id_fk": {
          "name": "work_time_segments_deleted_by_users_id_fk",
          "tableFrom": "work_time_segments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "work_time_segments_biz_run_fk": {
          "name": "work_time_segments_biz_run_fk",
          "tableFrom": "work_time_segments",
          "tableTo": "work_runs",
          "columnsFrom": [
            "biz_id",
            "work_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "note_access_overrides": {
      "name": "note_access_overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "note_id": {
          "name": "note_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "can_read": {
          "name": "can_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "can_edit": {
          "name": "can_edit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "note_access_overrides_biz_id_id_unique": {
          "name": "note_access_overrides_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "note_access_overrides_unique": {
          "name": "note_access_overrides_unique",
          "columns": [
            "note_id",
            "user_id"
          ],
          "isUnique": true
        },
        "note_access_overrides_biz_user_idx": {
          "name": "note_access_overrides_biz_user_idx",
          "columns": [
            "biz_id",
            "user_id",
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "note_access_overrides_biz_id_bizes_id_fk": {
          "name": "note_access_overrides_biz_id_bizes_id_fk",
          "tableFrom": "note_access_overrides",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_access_overrides_note_id_notes_id_fk": {
          "name": "note_access_overrides_note_id_notes_id_fk",
          "tableFrom": "note_access_overrides",
          "tableTo": "notes",
          "columnsFrom": [
            "note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_access_overrides_user_id_users_id_fk": {
          "name": "note_access_overrides_user_id_users_id_fk",
          "tableFrom": "note_access_overrides",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_access_overrides_created_by_users_id_fk": {
          "name": "note_access_overrides_created_by_users_id_fk",
          "tableFrom": "note_access_overrides",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_access_overrides_updated_by_users_id_fk": {
          "name": "note_access_overrides_updated_by_users_id_fk",
          "tableFrom": "note_access_overrides",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_access_overrides_deleted_by_users_id_fk": {
          "name": "note_access_overrides_deleted_by_users_id_fk",
          "tableFrom": "note_access_overrides",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_access_overrides_biz_note_fk": {
          "name": "note_access_overrides_biz_note_fk",
          "tableFrom": "note_access_overrides",
          "tableTo": "notes",
          "columnsFrom": [
            "biz_id",
            "note_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "note_revisions": {
      "name": "note_revisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "note_id": {
          "name": "note_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "revision": {
          "name": "revision",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "diff": {
          "name": "diff",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "edited_by_user_id": {
          "name": "edited_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "edited_at": {
          "name": "edited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reason": {
          "name": "reason",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "note_revisions_biz_id_id_unique": {
          "name": "note_revisions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "note_revisions_unique": {
          "name": "note_revisions_unique",
          "columns": [
            "note_id",
            "revision"
          ],
          "isUnique": true
        },
        "note_revisions_biz_note_revision_idx": {
          "name": "note_revisions_biz_note_revision_idx",
          "columns": [
            "biz_id",
            "note_id",
            "revision"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "note_revisions_biz_id_bizes_id_fk": {
          "name": "note_revisions_biz_id_bizes_id_fk",
          "tableFrom": "note_revisions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_revisions_note_id_notes_id_fk": {
          "name": "note_revisions_note_id_notes_id_fk",
          "tableFrom": "note_revisions",
          "tableTo": "notes",
          "columnsFrom": [
            "note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_revisions_edited_by_user_id_users_id_fk": {
          "name": "note_revisions_edited_by_user_id_users_id_fk",
          "tableFrom": "note_revisions",
          "tableTo": "users",
          "columnsFrom": [
            "edited_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_revisions_created_by_users_id_fk": {
          "name": "note_revisions_created_by_users_id_fk",
          "tableFrom": "note_revisions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_revisions_updated_by_users_id_fk": {
          "name": "note_revisions_updated_by_users_id_fk",
          "tableFrom": "note_revisions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_revisions_deleted_by_users_id_fk": {
          "name": "note_revisions_deleted_by_users_id_fk",
          "tableFrom": "note_revisions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "note_revisions_biz_note_fk": {
          "name": "note_revisions_biz_note_fk",
          "tableFrom": "note_revisions",
          "tableTo": "notes",
          "columnsFrom": [
            "biz_id",
            "note_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "notes": {
      "name": "notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "note_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_user_id": {
          "name": "customer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trip_id": {
          "name": "trip_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_target_key": {
          "name": "custom_target_key",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "note_visibility",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "status": {
          "name": "status",
          "type": "note_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "source_ref": {
          "name": "source_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "edited_by_user_id": {
          "name": "edited_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "edited_at": {
          "name": "edited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_locked": {
          "name": "is_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "revision": {
          "name": "revision",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "notes_biz_id_id_unique": {
          "name": "notes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "notes_biz_target_idx": {
          "name": "notes_biz_target_idx",
          "columns": [
            "biz_id",
            "target_type",
            "visibility",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "notes_biz_id_bizes_id_fk": {
          "name": "notes_biz_id_bizes_id_fk",
          "tableFrom": "notes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_booking_order_id_booking_orders_id_fk": {
          "name": "notes_booking_order_id_booking_orders_id_fk",
          "tableFrom": "notes",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "notes_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "notes",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_resource_id_resources_id_fk": {
          "name": "notes_resource_id_resources_id_fk",
          "tableFrom": "notes",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_offer_id_offers_id_fk": {
          "name": "notes_offer_id_offers_id_fk",
          "tableFrom": "notes",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_offer_version_id_offer_versions_id_fk": {
          "name": "notes_offer_version_id_offer_versions_id_fk",
          "tableFrom": "notes",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_customer_user_id_users_id_fk": {
          "name": "notes_customer_user_id_users_id_fk",
          "tableFrom": "notes",
          "tableTo": "users",
          "columnsFrom": [
            "customer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_queue_entry_id_queue_entries_id_fk": {
          "name": "notes_queue_entry_id_queue_entries_id_fk",
          "tableFrom": "notes",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "queue_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_trip_id_transport_trips_id_fk": {
          "name": "notes_trip_id_transport_trips_id_fk",
          "tableFrom": "notes",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "trip_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_created_by_user_id_users_id_fk": {
          "name": "notes_created_by_user_id_users_id_fk",
          "tableFrom": "notes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_edited_by_user_id_users_id_fk": {
          "name": "notes_edited_by_user_id_users_id_fk",
          "tableFrom": "notes",
          "tableTo": "users",
          "columnsFrom": [
            "edited_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_created_by_users_id_fk": {
          "name": "notes_created_by_users_id_fk",
          "tableFrom": "notes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_updated_by_users_id_fk": {
          "name": "notes_updated_by_users_id_fk",
          "tableFrom": "notes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_deleted_by_users_id_fk": {
          "name": "notes_deleted_by_users_id_fk",
          "tableFrom": "notes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_biz_booking_order_fk": {
          "name": "notes_biz_booking_order_fk",
          "tableFrom": "notes",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_biz_fulfillment_unit_fk": {
          "name": "notes_biz_fulfillment_unit_fk",
          "tableFrom": "notes",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_biz_resource_fk": {
          "name": "notes_biz_resource_fk",
          "tableFrom": "notes",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_biz_offer_fk": {
          "name": "notes_biz_offer_fk",
          "tableFrom": "notes",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_biz_offer_version_fk": {
          "name": "notes_biz_offer_version_fk",
          "tableFrom": "notes",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_biz_queue_entry_fk": {
          "name": "notes_biz_queue_entry_fk",
          "tableFrom": "notes",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "biz_id",
            "queue_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notes_biz_trip_fk": {
          "name": "notes_biz_trip_fk",
          "tableFrom": "notes",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "biz_id",
            "trip_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "queue_entries": {
      "name": "queue_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_id": {
          "name": "queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_user_id": {
          "name": "customer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "customer_group_account_id": {
          "name": "customer_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_offer_version_id": {
          "name": "requested_offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "queue_entry_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'waiting'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority_score": {
          "name": "priority_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "display_code": {
          "name": "display_code",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "estimated_start_at": {
          "name": "estimated_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_wait_min": {
          "name": "estimated_wait_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "offered_at": {
          "name": "offered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "offer_expires_at": {
          "name": "offer_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "served_at": {
          "name": "served_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "decision_state": {
          "name": "decision_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "queue_entries_biz_id_id_unique": {
          "name": "queue_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "queue_entries_biz_id_id_queue_id_unique": {
          "name": "queue_entries_biz_id_id_queue_id_unique",
          "columns": [
            "biz_id",
            "id",
            "queue_id"
          ],
          "isUnique": true
        },
        "queue_entries_biz_queue_status_idx": {
          "name": "queue_entries_biz_queue_status_idx",
          "columns": [
            "biz_id",
            "queue_id",
            "status",
            "joined_at"
          ],
          "isUnique": false
        },
        "queue_entries_biz_status_config_idx": {
          "name": "queue_entries_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        },
        "queue_entries_biz_customer_idx": {
          "name": "queue_entries_biz_customer_idx",
          "columns": [
            "biz_id",
            "customer_user_id",
            "joined_at"
          ],
          "isUnique": false
        },
        "queue_entries_active_customer_queue_unique": {
          "name": "queue_entries_active_customer_queue_unique",
          "columns": [
            "biz_id",
            "queue_id",
            "customer_user_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "queue_entries_biz_id_bizes_id_fk": {
          "name": "queue_entries_biz_id_bizes_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_queue_id_queues_id_fk": {
          "name": "queue_entries_queue_id_queues_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "queues",
          "columnsFrom": [
            "queue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_customer_user_id_users_id_fk": {
          "name": "queue_entries_customer_user_id_users_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "users",
          "columnsFrom": [
            "customer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_customer_group_account_id_group_accounts_id_fk": {
          "name": "queue_entries_customer_group_account_id_group_accounts_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "customer_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_requested_offer_version_id_offer_versions_id_fk": {
          "name": "queue_entries_requested_offer_version_id_offer_versions_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "requested_offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_booking_order_id_booking_orders_id_fk": {
          "name": "queue_entries_booking_order_id_booking_orders_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "queue_entries_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_status_config_value_id_biz_config_values_id_fk": {
          "name": "queue_entries_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_created_by_users_id_fk": {
          "name": "queue_entries_created_by_users_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_updated_by_users_id_fk": {
          "name": "queue_entries_updated_by_users_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_deleted_by_users_id_fk": {
          "name": "queue_entries_deleted_by_users_id_fk",
          "tableFrom": "queue_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_biz_queue_fk": {
          "name": "queue_entries_biz_queue_fk",
          "tableFrom": "queue_entries",
          "tableTo": "queues",
          "columnsFrom": [
            "biz_id",
            "queue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_biz_offer_version_fk": {
          "name": "queue_entries_biz_offer_version_fk",
          "tableFrom": "queue_entries",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "requested_offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_biz_booking_order_fk": {
          "name": "queue_entries_biz_booking_order_fk",
          "tableFrom": "queue_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_biz_fulfillment_unit_fk": {
          "name": "queue_entries_biz_fulfillment_unit_fk",
          "tableFrom": "queue_entries",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_entries_biz_status_config_fk": {
          "name": "queue_entries_biz_status_config_fk",
          "tableFrom": "queue_entries",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "queue_events": {
      "name": "queue_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "queue_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_at": {
          "name": "event_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "queue_events_biz_id_id_unique": {
          "name": "queue_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "queue_events_biz_queue_entry_idx": {
          "name": "queue_events_biz_queue_entry_idx",
          "columns": [
            "biz_id",
            "queue_entry_id",
            "event_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "queue_events_biz_id_bizes_id_fk": {
          "name": "queue_events_biz_id_bizes_id_fk",
          "tableFrom": "queue_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_events_queue_entry_id_queue_entries_id_fk": {
          "name": "queue_events_queue_entry_id_queue_entries_id_fk",
          "tableFrom": "queue_events",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "queue_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_events_actor_user_id_users_id_fk": {
          "name": "queue_events_actor_user_id_users_id_fk",
          "tableFrom": "queue_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_events_created_by_users_id_fk": {
          "name": "queue_events_created_by_users_id_fk",
          "tableFrom": "queue_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_events_updated_by_users_id_fk": {
          "name": "queue_events_updated_by_users_id_fk",
          "tableFrom": "queue_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_events_deleted_by_users_id_fk": {
          "name": "queue_events_deleted_by_users_id_fk",
          "tableFrom": "queue_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_events_biz_queue_entry_fk": {
          "name": "queue_events_biz_queue_entry_fk",
          "tableFrom": "queue_events",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "biz_id",
            "queue_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "queue_tickets": {
      "name": "queue_tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_id": {
          "name": "queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ticket_number": {
          "name": "ticket_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "queue_ticket_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'issued'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "called_at": {
          "name": "called_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "service_started_at": {
          "name": "service_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "service_ended_at": {
          "name": "service_ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "queue_tickets_biz_id_id_unique": {
          "name": "queue_tickets_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "queue_tickets_queue_number_unique": {
          "name": "queue_tickets_queue_number_unique",
          "columns": [
            "biz_id",
            "queue_id",
            "ticket_number"
          ],
          "isUnique": true
        },
        "queue_tickets_biz_queue_entry_idx": {
          "name": "queue_tickets_biz_queue_entry_idx",
          "columns": [
            "biz_id",
            "queue_entry_id",
            "issued_at"
          ],
          "isUnique": false
        },
        "queue_tickets_biz_status_config_idx": {
          "name": "queue_tickets_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "queue_tickets_biz_id_bizes_id_fk": {
          "name": "queue_tickets_biz_id_bizes_id_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_tickets_queue_entry_id_queue_entries_id_fk": {
          "name": "queue_tickets_queue_entry_id_queue_entries_id_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "queue_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_tickets_queue_id_queues_id_fk": {
          "name": "queue_tickets_queue_id_queues_id_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "queues",
          "columnsFrom": [
            "queue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_tickets_status_config_value_id_biz_config_values_id_fk": {
          "name": "queue_tickets_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_tickets_created_by_users_id_fk": {
          "name": "queue_tickets_created_by_users_id_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_tickets_updated_by_users_id_fk": {
          "name": "queue_tickets_updated_by_users_id_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_tickets_deleted_by_users_id_fk": {
          "name": "queue_tickets_deleted_by_users_id_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_tickets_biz_queue_fk": {
          "name": "queue_tickets_biz_queue_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "queues",
          "columnsFrom": [
            "biz_id",
            "queue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_tickets_biz_queue_entry_fk": {
          "name": "queue_tickets_biz_queue_entry_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "biz_id",
            "queue_entry_id",
            "queue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "queue_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_tickets_biz_status_config_fk": {
          "name": "queue_tickets_biz_status_config_fk",
          "tableFrom": "queue_tickets",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "queues": {
      "name": "queues",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "strategy": {
          "name": "strategy",
          "type": "queue_strategy",
          "primaryKey": false,
          "notNull": true,
          "default": "'fifo'"
        },
        "strategy_config_value_id": {
          "name": "strategy_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "queue_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_binding_id": {
          "name": "calendar_binding_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_self_join_enabled": {
          "name": "is_self_join_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "queues_biz_id_id_unique": {
          "name": "queues_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "queues_biz_slug_unique": {
          "name": "queues_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "queues_biz_status_idx": {
          "name": "queues_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        },
        "queues_biz_strategy_config_idx": {
          "name": "queues_biz_strategy_config_idx",
          "columns": [
            "biz_id",
            "strategy_config_value_id"
          ],
          "isUnique": false
        },
        "queues_biz_status_config_idx": {
          "name": "queues_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "queues_biz_id_bizes_id_fk": {
          "name": "queues_biz_id_bizes_id_fk",
          "tableFrom": "queues",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_location_id_locations_id_fk": {
          "name": "queues_location_id_locations_id_fk",
          "tableFrom": "queues",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_strategy_config_value_id_biz_config_values_id_fk": {
          "name": "queues_strategy_config_value_id_biz_config_values_id_fk",
          "tableFrom": "queues",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "strategy_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_status_config_value_id_biz_config_values_id_fk": {
          "name": "queues_status_config_value_id_biz_config_values_id_fk",
          "tableFrom": "queues",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "status_config_value_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_calendar_binding_id_calendar_bindings_id_fk": {
          "name": "queues_calendar_binding_id_calendar_bindings_id_fk",
          "tableFrom": "queues",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "calendar_binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_created_by_users_id_fk": {
          "name": "queues_created_by_users_id_fk",
          "tableFrom": "queues",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_updated_by_users_id_fk": {
          "name": "queues_updated_by_users_id_fk",
          "tableFrom": "queues",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_deleted_by_users_id_fk": {
          "name": "queues_deleted_by_users_id_fk",
          "tableFrom": "queues",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_biz_location_fk": {
          "name": "queues_biz_location_fk",
          "tableFrom": "queues",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_biz_calendar_binding_fk": {
          "name": "queues_biz_calendar_binding_fk",
          "tableFrom": "queues",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "biz_id",
            "calendar_binding_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_biz_strategy_config_fk": {
          "name": "queues_biz_strategy_config_fk",
          "tableFrom": "queues",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "strategy_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queues_biz_status_config_fk": {
          "name": "queues_biz_status_config_fk",
          "tableFrom": "queues",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "service_time_observations": {
      "name": "service_time_observations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_id": {
          "name": "queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "service_time_observation_source",
          "primaryKey": false,
          "notNull": true,
          "default": "'actual'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "features": {
          "name": "features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "service_time_observations_biz_id_id_unique": {
          "name": "service_time_observations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "service_time_observations_biz_queue_started_idx": {
          "name": "service_time_observations_biz_queue_started_idx",
          "columns": [
            "biz_id",
            "queue_id",
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "service_time_observations_biz_id_bizes_id_fk": {
          "name": "service_time_observations_biz_id_bizes_id_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_queue_id_queues_id_fk": {
          "name": "service_time_observations_queue_id_queues_id_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "queues",
          "columnsFrom": [
            "queue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_offer_version_id_offer_versions_id_fk": {
          "name": "service_time_observations_offer_version_id_offer_versions_id_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_resource_id_resources_id_fk": {
          "name": "service_time_observations_resource_id_resources_id_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "service_time_observations_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_created_by_users_id_fk": {
          "name": "service_time_observations_created_by_users_id_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_updated_by_users_id_fk": {
          "name": "service_time_observations_updated_by_users_id_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_deleted_by_users_id_fk": {
          "name": "service_time_observations_deleted_by_users_id_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_biz_queue_fk": {
          "name": "service_time_observations_biz_queue_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "queues",
          "columnsFrom": [
            "biz_id",
            "queue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_biz_offer_version_fk": {
          "name": "service_time_observations_biz_offer_version_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_biz_resource_fk": {
          "name": "service_time_observations_biz_resource_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "service_time_observations_biz_fulfillment_unit_fk": {
          "name": "service_time_observations_biz_fulfillment_unit_fk",
          "tableFrom": "service_time_observations",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "wait_time_predictions": {
      "name": "wait_time_predictions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_id": {
          "name": "queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model_type": {
          "name": "model_type",
          "type": "wait_time_prediction_model",
          "primaryKey": false,
          "notNull": true,
          "default": "'heuristic'"
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "horizon_min": {
          "name": "horizon_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_wait_min": {
          "name": "estimated_wait_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "p50_wait_min": {
          "name": "p50_wait_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "p90_wait_min": {
          "name": "p90_wait_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "wait_time_predictions_biz_id_id_unique": {
          "name": "wait_time_predictions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "wait_time_predictions_biz_queue_generated_idx": {
          "name": "wait_time_predictions_biz_queue_generated_idx",
          "columns": [
            "biz_id",
            "queue_id",
            "generated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "wait_time_predictions_biz_id_bizes_id_fk": {
          "name": "wait_time_predictions_biz_id_bizes_id_fk",
          "tableFrom": "wait_time_predictions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wait_time_predictions_queue_id_queues_id_fk": {
          "name": "wait_time_predictions_queue_id_queues_id_fk",
          "tableFrom": "wait_time_predictions",
          "tableTo": "queues",
          "columnsFrom": [
            "queue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wait_time_predictions_queue_entry_id_queue_entries_id_fk": {
          "name": "wait_time_predictions_queue_entry_id_queue_entries_id_fk",
          "tableFrom": "wait_time_predictions",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "queue_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wait_time_predictions_created_by_users_id_fk": {
          "name": "wait_time_predictions_created_by_users_id_fk",
          "tableFrom": "wait_time_predictions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wait_time_predictions_updated_by_users_id_fk": {
          "name": "wait_time_predictions_updated_by_users_id_fk",
          "tableFrom": "wait_time_predictions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wait_time_predictions_deleted_by_users_id_fk": {
          "name": "wait_time_predictions_deleted_by_users_id_fk",
          "tableFrom": "wait_time_predictions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wait_time_predictions_biz_queue_fk": {
          "name": "wait_time_predictions_biz_queue_fk",
          "tableFrom": "wait_time_predictions",
          "tableTo": "queues",
          "columnsFrom": [
            "biz_id",
            "queue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "wait_time_predictions_biz_queue_entry_fk": {
          "name": "wait_time_predictions_biz_queue_entry_fk",
          "tableFrom": "wait_time_predictions",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "biz_id",
            "queue_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "dispatch_tasks": {
      "name": "dispatch_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trip_id": {
          "name": "trip_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_resource_id": {
          "name": "assigned_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "instructions": {
          "name": "instructions",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "dispatch_task_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "dispatch_tasks_biz_id_id_unique": {
          "name": "dispatch_tasks_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "dispatch_tasks_biz_status_due_idx": {
          "name": "dispatch_tasks_biz_status_due_idx",
          "columns": [
            "biz_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "dispatch_tasks_biz_id_bizes_id_fk": {
          "name": "dispatch_tasks_biz_id_bizes_id_fk",
          "tableFrom": "dispatch_tasks",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dispatch_tasks_trip_id_transport_trips_id_fk": {
          "name": "dispatch_tasks_trip_id_transport_trips_id_fk",
          "tableFrom": "dispatch_tasks",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "trip_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dispatch_tasks_assigned_resource_id_resources_id_fk": {
          "name": "dispatch_tasks_assigned_resource_id_resources_id_fk",
          "tableFrom": "dispatch_tasks",
          "tableTo": "resources",
          "columnsFrom": [
            "assigned_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dispatch_tasks_created_by_user_id_users_id_fk": {
          "name": "dispatch_tasks_created_by_user_id_users_id_fk",
          "tableFrom": "dispatch_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dispatch_tasks_created_by_users_id_fk": {
          "name": "dispatch_tasks_created_by_users_id_fk",
          "tableFrom": "dispatch_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dispatch_tasks_updated_by_users_id_fk": {
          "name": "dispatch_tasks_updated_by_users_id_fk",
          "tableFrom": "dispatch_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dispatch_tasks_deleted_by_users_id_fk": {
          "name": "dispatch_tasks_deleted_by_users_id_fk",
          "tableFrom": "dispatch_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dispatch_tasks_biz_trip_fk": {
          "name": "dispatch_tasks_biz_trip_fk",
          "tableFrom": "dispatch_tasks",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "biz_id",
            "trip_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dispatch_tasks_biz_assigned_resource_fk": {
          "name": "dispatch_tasks_biz_assigned_resource_fk",
          "tableFrom": "dispatch_tasks",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "assigned_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "eta_events": {
      "name": "eta_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trip_id": {
          "name": "trip_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "route_stop_id": {
          "name": "route_stop_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "eta_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "event_at": {
          "name": "event_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "eta_at": {
          "name": "eta_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "actual_at": {
          "name": "actual_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "eta_events_biz_id_id_unique": {
          "name": "eta_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "eta_events_biz_trip_event_at_idx": {
          "name": "eta_events_biz_trip_event_at_idx",
          "columns": [
            "biz_id",
            "trip_id",
            "event_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "eta_events_biz_id_bizes_id_fk": {
          "name": "eta_events_biz_id_bizes_id_fk",
          "tableFrom": "eta_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eta_events_trip_id_transport_trips_id_fk": {
          "name": "eta_events_trip_id_transport_trips_id_fk",
          "tableFrom": "eta_events",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "trip_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eta_events_route_stop_id_transport_route_stops_id_fk": {
          "name": "eta_events_route_stop_id_transport_route_stops_id_fk",
          "tableFrom": "eta_events",
          "tableTo": "transport_route_stops",
          "columnsFrom": [
            "route_stop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eta_events_created_by_users_id_fk": {
          "name": "eta_events_created_by_users_id_fk",
          "tableFrom": "eta_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eta_events_updated_by_users_id_fk": {
          "name": "eta_events_updated_by_users_id_fk",
          "tableFrom": "eta_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eta_events_deleted_by_users_id_fk": {
          "name": "eta_events_deleted_by_users_id_fk",
          "tableFrom": "eta_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eta_events_biz_trip_fk": {
          "name": "eta_events_biz_trip_fk",
          "tableFrom": "eta_events",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "biz_id",
            "trip_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eta_events_biz_route_stop_fk": {
          "name": "eta_events_biz_route_stop_fk",
          "tableFrom": "eta_events",
          "tableTo": "transport_route_stops",
          "columnsFrom": [
            "biz_id",
            "route_stop_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fleet_vehicles": {
      "name": "fleet_vehicles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "plate_number": {
          "name": "plate_number",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "vin": {
          "name": "vin",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "seat_capacity": {
          "name": "seat_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "luggage_capacity": {
          "name": "luggage_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "vehicle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "telemetry_config": {
          "name": "telemetry_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fleet_vehicles_biz_id_id_unique": {
          "name": "fleet_vehicles_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fleet_vehicles_plate_unique": {
          "name": "fleet_vehicles_plate_unique",
          "columns": [
            "biz_id",
            "plate_number"
          ],
          "isUnique": true
        },
        "fleet_vehicles_biz_status_idx": {
          "name": "fleet_vehicles_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fleet_vehicles_biz_id_bizes_id_fk": {
          "name": "fleet_vehicles_biz_id_bizes_id_fk",
          "tableFrom": "fleet_vehicles",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fleet_vehicles_resource_id_resources_id_fk": {
          "name": "fleet_vehicles_resource_id_resources_id_fk",
          "tableFrom": "fleet_vehicles",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fleet_vehicles_created_by_users_id_fk": {
          "name": "fleet_vehicles_created_by_users_id_fk",
          "tableFrom": "fleet_vehicles",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fleet_vehicles_updated_by_users_id_fk": {
          "name": "fleet_vehicles_updated_by_users_id_fk",
          "tableFrom": "fleet_vehicles",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fleet_vehicles_deleted_by_users_id_fk": {
          "name": "fleet_vehicles_deleted_by_users_id_fk",
          "tableFrom": "fleet_vehicles",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fleet_vehicles_biz_resource_fk": {
          "name": "fleet_vehicles_biz_resource_fk",
          "tableFrom": "fleet_vehicles",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "transport_route_stops": {
      "name": "transport_route_stops",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "route_id": {
          "name": "route_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stop_order": {
          "name": "stop_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "kind": {
          "name": "kind",
          "type": "route_stop_kind",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "geo_point": {
          "name": "geo_point",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "offset_from_start_min": {
          "name": "offset_from_start_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "dwell_min": {
          "name": "dwell_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "transport_route_stops_biz_id_id_unique": {
          "name": "transport_route_stops_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "transport_route_stops_route_order_unique": {
          "name": "transport_route_stops_route_order_unique",
          "columns": [
            "route_id",
            "stop_order"
          ],
          "isUnique": true
        },
        "transport_route_stops_biz_route_idx": {
          "name": "transport_route_stops_biz_route_idx",
          "columns": [
            "biz_id",
            "route_id",
            "stop_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "transport_route_stops_biz_id_bizes_id_fk": {
          "name": "transport_route_stops_biz_id_bizes_id_fk",
          "tableFrom": "transport_route_stops",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_route_stops_route_id_transport_routes_id_fk": {
          "name": "transport_route_stops_route_id_transport_routes_id_fk",
          "tableFrom": "transport_route_stops",
          "tableTo": "transport_routes",
          "columnsFrom": [
            "route_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_route_stops_location_id_locations_id_fk": {
          "name": "transport_route_stops_location_id_locations_id_fk",
          "tableFrom": "transport_route_stops",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_route_stops_created_by_users_id_fk": {
          "name": "transport_route_stops_created_by_users_id_fk",
          "tableFrom": "transport_route_stops",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_route_stops_updated_by_users_id_fk": {
          "name": "transport_route_stops_updated_by_users_id_fk",
          "tableFrom": "transport_route_stops",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_route_stops_deleted_by_users_id_fk": {
          "name": "transport_route_stops_deleted_by_users_id_fk",
          "tableFrom": "transport_route_stops",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_route_stops_biz_route_fk": {
          "name": "transport_route_stops_biz_route_fk",
          "tableFrom": "transport_route_stops",
          "tableTo": "transport_routes",
          "columnsFrom": [
            "biz_id",
            "route_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_route_stops_biz_location_fk": {
          "name": "transport_route_stops_biz_location_fk",
          "tableFrom": "transport_route_stops",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "transport_routes": {
      "name": "transport_routes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "transport_route_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "origin_location_id": {
          "name": "origin_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "destination_location_id": {
          "name": "destination_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "transport_routes_biz_id_id_unique": {
          "name": "transport_routes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "transport_routes_biz_slug_unique": {
          "name": "transport_routes_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "transport_routes_biz_status_idx": {
          "name": "transport_routes_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "transport_routes_biz_id_bizes_id_fk": {
          "name": "transport_routes_biz_id_bizes_id_fk",
          "tableFrom": "transport_routes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_routes_origin_location_id_locations_id_fk": {
          "name": "transport_routes_origin_location_id_locations_id_fk",
          "tableFrom": "transport_routes",
          "tableTo": "locations",
          "columnsFrom": [
            "origin_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_routes_destination_location_id_locations_id_fk": {
          "name": "transport_routes_destination_location_id_locations_id_fk",
          "tableFrom": "transport_routes",
          "tableTo": "locations",
          "columnsFrom": [
            "destination_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_routes_created_by_users_id_fk": {
          "name": "transport_routes_created_by_users_id_fk",
          "tableFrom": "transport_routes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_routes_updated_by_users_id_fk": {
          "name": "transport_routes_updated_by_users_id_fk",
          "tableFrom": "transport_routes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_routes_deleted_by_users_id_fk": {
          "name": "transport_routes_deleted_by_users_id_fk",
          "tableFrom": "transport_routes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_routes_biz_origin_location_fk": {
          "name": "transport_routes_biz_origin_location_fk",
          "tableFrom": "transport_routes",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "origin_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_routes_biz_destination_location_fk": {
          "name": "transport_routes_biz_destination_location_fk",
          "tableFrom": "transport_routes",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "destination_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "transport_trips": {
      "name": "transport_trips",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "route_id": {
          "name": "route_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fleet_vehicle_id": {
          "name": "fleet_vehicle_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "driver_resource_id": {
          "name": "driver_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendar_binding_id": {
          "name": "calendar_binding_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "transport_trip_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "boarding_opens_at": {
          "name": "boarding_opens_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "departure_at": {
          "name": "departure_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "arrival_at": {
          "name": "arrival_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "capacity_seats": {
          "name": "capacity_seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "overbook_seats": {
          "name": "overbook_seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "transport_trips_biz_id_id_unique": {
          "name": "transport_trips_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "transport_trips_biz_status_departure_idx": {
          "name": "transport_trips_biz_status_departure_idx",
          "columns": [
            "biz_id",
            "status",
            "departure_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "transport_trips_biz_id_bizes_id_fk": {
          "name": "transport_trips_biz_id_bizes_id_fk",
          "tableFrom": "transport_trips",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_route_id_transport_routes_id_fk": {
          "name": "transport_trips_route_id_transport_routes_id_fk",
          "tableFrom": "transport_trips",
          "tableTo": "transport_routes",
          "columnsFrom": [
            "route_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_offer_version_id_offer_versions_id_fk": {
          "name": "transport_trips_offer_version_id_offer_versions_id_fk",
          "tableFrom": "transport_trips",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_fleet_vehicle_id_fleet_vehicles_id_fk": {
          "name": "transport_trips_fleet_vehicle_id_fleet_vehicles_id_fk",
          "tableFrom": "transport_trips",
          "tableTo": "fleet_vehicles",
          "columnsFrom": [
            "fleet_vehicle_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_driver_resource_id_resources_id_fk": {
          "name": "transport_trips_driver_resource_id_resources_id_fk",
          "tableFrom": "transport_trips",
          "tableTo": "resources",
          "columnsFrom": [
            "driver_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_calendar_binding_id_calendar_bindings_id_fk": {
          "name": "transport_trips_calendar_binding_id_calendar_bindings_id_fk",
          "tableFrom": "transport_trips",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "calendar_binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_created_by_users_id_fk": {
          "name": "transport_trips_created_by_users_id_fk",
          "tableFrom": "transport_trips",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_updated_by_users_id_fk": {
          "name": "transport_trips_updated_by_users_id_fk",
          "tableFrom": "transport_trips",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_deleted_by_users_id_fk": {
          "name": "transport_trips_deleted_by_users_id_fk",
          "tableFrom": "transport_trips",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_biz_route_fk": {
          "name": "transport_trips_biz_route_fk",
          "tableFrom": "transport_trips",
          "tableTo": "transport_routes",
          "columnsFrom": [
            "biz_id",
            "route_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_biz_offer_version_fk": {
          "name": "transport_trips_biz_offer_version_fk",
          "tableFrom": "transport_trips",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_biz_fleet_vehicle_fk": {
          "name": "transport_trips_biz_fleet_vehicle_fk",
          "tableFrom": "transport_trips",
          "tableTo": "fleet_vehicles",
          "columnsFrom": [
            "biz_id",
            "fleet_vehicle_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_biz_driver_resource_fk": {
          "name": "transport_trips_biz_driver_resource_fk",
          "tableFrom": "transport_trips",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "driver_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transport_trips_biz_calendar_binding_fk": {
          "name": "transport_trips_biz_calendar_binding_fk",
          "tableFrom": "transport_trips",
          "tableTo": "calendar_bindings",
          "columnsFrom": [
            "biz_id",
            "calendar_binding_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "trip_manifests": {
      "name": "trip_manifests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trip_id": {
          "name": "trip_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "passenger_user_id": {
          "name": "passenger_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "passenger_group_account_id": {
          "name": "passenger_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "trip_manifest_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'booked'"
        },
        "seat_count": {
          "name": "seat_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "seat_label": {
          "name": "seat_label",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "checked_in_at": {
          "name": "checked_in_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "boarded_at": {
          "name": "boarded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "trip_manifests_biz_id_id_unique": {
          "name": "trip_manifests_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "trip_manifests_biz_trip_status_idx": {
          "name": "trip_manifests_biz_trip_status_idx",
          "columns": [
            "biz_id",
            "trip_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "trip_manifests_biz_id_bizes_id_fk": {
          "name": "trip_manifests_biz_id_bizes_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_trip_id_transport_trips_id_fk": {
          "name": "trip_manifests_trip_id_transport_trips_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "trip_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_booking_order_id_booking_orders_id_fk": {
          "name": "trip_manifests_booking_order_id_booking_orders_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "trip_manifests_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_queue_entry_id_queue_entries_id_fk": {
          "name": "trip_manifests_queue_entry_id_queue_entries_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "queue_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_passenger_user_id_users_id_fk": {
          "name": "trip_manifests_passenger_user_id_users_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "users",
          "columnsFrom": [
            "passenger_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_passenger_group_account_id_group_accounts_id_fk": {
          "name": "trip_manifests_passenger_group_account_id_group_accounts_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "passenger_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_created_by_users_id_fk": {
          "name": "trip_manifests_created_by_users_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_updated_by_users_id_fk": {
          "name": "trip_manifests_updated_by_users_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_deleted_by_users_id_fk": {
          "name": "trip_manifests_deleted_by_users_id_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_biz_trip_fk": {
          "name": "trip_manifests_biz_trip_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "biz_id",
            "trip_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_biz_booking_order_fk": {
          "name": "trip_manifests_biz_booking_order_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_biz_fulfillment_unit_fk": {
          "name": "trip_manifests_biz_fulfillment_unit_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_manifests_biz_queue_entry_fk": {
          "name": "trip_manifests_biz_queue_entry_fk",
          "tableFrom": "trip_manifests",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "biz_id",
            "queue_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "trip_stop_inventory": {
      "name": "trip_stop_inventory",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trip_id": {
          "name": "trip_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "route_stop_id": {
          "name": "route_stop_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "total_capacity": {
          "name": "total_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reserved_capacity": {
          "name": "reserved_capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "waitlisted_count": {
          "name": "waitlisted_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "trip_stop_inventory_biz_id_id_unique": {
          "name": "trip_stop_inventory_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "trip_stop_inventory_trip_stop_unique": {
          "name": "trip_stop_inventory_trip_stop_unique",
          "columns": [
            "trip_id",
            "route_stop_id"
          ],
          "isUnique": true
        },
        "trip_stop_inventory_biz_trip_idx": {
          "name": "trip_stop_inventory_biz_trip_idx",
          "columns": [
            "biz_id",
            "trip_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "trip_stop_inventory_biz_id_bizes_id_fk": {
          "name": "trip_stop_inventory_biz_id_bizes_id_fk",
          "tableFrom": "trip_stop_inventory",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_stop_inventory_trip_id_transport_trips_id_fk": {
          "name": "trip_stop_inventory_trip_id_transport_trips_id_fk",
          "tableFrom": "trip_stop_inventory",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "trip_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_stop_inventory_route_stop_id_transport_route_stops_id_fk": {
          "name": "trip_stop_inventory_route_stop_id_transport_route_stops_id_fk",
          "tableFrom": "trip_stop_inventory",
          "tableTo": "transport_route_stops",
          "columnsFrom": [
            "route_stop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_stop_inventory_created_by_users_id_fk": {
          "name": "trip_stop_inventory_created_by_users_id_fk",
          "tableFrom": "trip_stop_inventory",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_stop_inventory_updated_by_users_id_fk": {
          "name": "trip_stop_inventory_updated_by_users_id_fk",
          "tableFrom": "trip_stop_inventory",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_stop_inventory_deleted_by_users_id_fk": {
          "name": "trip_stop_inventory_deleted_by_users_id_fk",
          "tableFrom": "trip_stop_inventory",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_stop_inventory_biz_trip_fk": {
          "name": "trip_stop_inventory_biz_trip_fk",
          "tableFrom": "trip_stop_inventory",
          "tableTo": "transport_trips",
          "columnsFrom": [
            "biz_id",
            "trip_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_stop_inventory_biz_route_stop_fk": {
          "name": "trip_stop_inventory_biz_route_stop_fk",
          "tableFrom": "trip_stop_inventory",
          "tableTo": "transport_route_stops",
          "columnsFrom": [
            "biz_id",
            "route_stop_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "auctions": {
      "name": "auctions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "auction_target_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'marketplace_listing'"
        },
        "marketplace_listing_id": {
          "name": "marketplace_listing_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "auction_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "reserve_price_minor": {
          "name": "reserve_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "buy_now_price_minor": {
          "name": "buy_now_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_increment_minor": {
          "name": "min_increment_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "winning_bid_id": {
          "name": "winning_bid_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "auctions_biz_id_id_unique": {
          "name": "auctions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "auctions_biz_status_starts_idx": {
          "name": "auctions_biz_status_starts_idx",
          "columns": [
            "biz_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        },
        "auctions_biz_target_subject_idx": {
          "name": "auctions_biz_target_subject_idx",
          "columns": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "auctions_biz_id_bizes_id_fk": {
          "name": "auctions_biz_id_bizes_id_fk",
          "tableFrom": "auctions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "auctions_marketplace_listing_id_marketplace_listings_id_fk": {
          "name": "auctions_marketplace_listing_id_marketplace_listings_id_fk",
          "tableFrom": "auctions",
          "tableTo": "marketplace_listings",
          "columnsFrom": [
            "marketplace_listing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "auctions_created_by_users_id_fk": {
          "name": "auctions_created_by_users_id_fk",
          "tableFrom": "auctions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "auctions_updated_by_users_id_fk": {
          "name": "auctions_updated_by_users_id_fk",
          "tableFrom": "auctions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "auctions_deleted_by_users_id_fk": {
          "name": "auctions_deleted_by_users_id_fk",
          "tableFrom": "auctions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "auctions_biz_marketplace_listing_fk": {
          "name": "auctions_biz_marketplace_listing_fk",
          "tableFrom": "auctions",
          "tableTo": "marketplace_listings",
          "columnsFrom": [
            "biz_id",
            "marketplace_listing_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "auctions_biz_target_subject_fk": {
          "name": "auctions_biz_target_subject_fk",
          "tableFrom": "auctions",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "bids": {
      "name": "bids",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auction_id": {
          "name": "auction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bidder_biz_id": {
          "name": "bidder_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bidder_user_id": {
          "name": "bidder_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "bid_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "bids_biz_id_id_unique": {
          "name": "bids_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "bids_biz_auction_submitted_idx": {
          "name": "bids_biz_auction_submitted_idx",
          "columns": [
            "biz_id",
            "auction_id",
            "submitted_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "bids_biz_id_bizes_id_fk": {
          "name": "bids_biz_id_bizes_id_fk",
          "tableFrom": "bids",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bids_auction_id_auctions_id_fk": {
          "name": "bids_auction_id_auctions_id_fk",
          "tableFrom": "bids",
          "tableTo": "auctions",
          "columnsFrom": [
            "auction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bids_bidder_biz_id_bizes_id_fk": {
          "name": "bids_bidder_biz_id_bizes_id_fk",
          "tableFrom": "bids",
          "tableTo": "bizes",
          "columnsFrom": [
            "bidder_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bids_bidder_user_id_users_id_fk": {
          "name": "bids_bidder_user_id_users_id_fk",
          "tableFrom": "bids",
          "tableTo": "users",
          "columnsFrom": [
            "bidder_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bids_created_by_users_id_fk": {
          "name": "bids_created_by_users_id_fk",
          "tableFrom": "bids",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bids_updated_by_users_id_fk": {
          "name": "bids_updated_by_users_id_fk",
          "tableFrom": "bids",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bids_deleted_by_users_id_fk": {
          "name": "bids_deleted_by_users_id_fk",
          "tableFrom": "bids",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bids_biz_auction_fk": {
          "name": "bids_biz_auction_fk",
          "tableFrom": "bids",
          "tableTo": "auctions",
          "columnsFrom": [
            "biz_id",
            "auction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "cross_biz_contracts": {
      "name": "cross_biz_contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "counterparty_biz_id": {
          "name": "counterparty_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "cross_biz_contract_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "effective_at": {
          "name": "effective_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "terms": {
          "name": "terms",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "governance_policy": {
          "name": "governance_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "cross_biz_contracts_biz_id_id_unique": {
          "name": "cross_biz_contracts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "cross_biz_contracts_biz_status_idx": {
          "name": "cross_biz_contracts_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "cross_biz_contracts_biz_id_bizes_id_fk": {
          "name": "cross_biz_contracts_biz_id_bizes_id_fk",
          "tableFrom": "cross_biz_contracts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_contracts_counterparty_biz_id_bizes_id_fk": {
          "name": "cross_biz_contracts_counterparty_biz_id_bizes_id_fk",
          "tableFrom": "cross_biz_contracts",
          "tableTo": "bizes",
          "columnsFrom": [
            "counterparty_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_contracts_created_by_users_id_fk": {
          "name": "cross_biz_contracts_created_by_users_id_fk",
          "tableFrom": "cross_biz_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_contracts_updated_by_users_id_fk": {
          "name": "cross_biz_contracts_updated_by_users_id_fk",
          "tableFrom": "cross_biz_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_contracts_deleted_by_users_id_fk": {
          "name": "cross_biz_contracts_deleted_by_users_id_fk",
          "tableFrom": "cross_biz_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "cross_biz_orders": {
      "name": "cross_biz_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "buyer_biz_id": {
          "name": "buyer_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seller_biz_id": {
          "name": "seller_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contract_id": {
          "name": "contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "cross_biz_order_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "total_minor": {
          "name": "total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "settlement_due_at": {
          "name": "settlement_due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "settled_at": {
          "name": "settled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "cross_biz_orders_biz_id_id_unique": {
          "name": "cross_biz_orders_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "cross_biz_orders_biz_status_due_idx": {
          "name": "cross_biz_orders_biz_status_due_idx",
          "columns": [
            "biz_id",
            "status",
            "settlement_due_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "cross_biz_orders_biz_id_bizes_id_fk": {
          "name": "cross_biz_orders_biz_id_bizes_id_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_buyer_biz_id_bizes_id_fk": {
          "name": "cross_biz_orders_buyer_biz_id_bizes_id_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "bizes",
          "columnsFrom": [
            "buyer_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_seller_biz_id_bizes_id_fk": {
          "name": "cross_biz_orders_seller_biz_id_bizes_id_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "bizes",
          "columnsFrom": [
            "seller_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_contract_id_cross_biz_contracts_id_fk": {
          "name": "cross_biz_orders_contract_id_cross_biz_contracts_id_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "cross_biz_contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_offer_version_id_offer_versions_id_fk": {
          "name": "cross_biz_orders_offer_version_id_offer_versions_id_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_booking_order_id_booking_orders_id_fk": {
          "name": "cross_biz_orders_booking_order_id_booking_orders_id_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_created_by_users_id_fk": {
          "name": "cross_biz_orders_created_by_users_id_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_updated_by_users_id_fk": {
          "name": "cross_biz_orders_updated_by_users_id_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_deleted_by_users_id_fk": {
          "name": "cross_biz_orders_deleted_by_users_id_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_biz_contract_fk": {
          "name": "cross_biz_orders_biz_contract_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "cross_biz_contracts",
          "columnsFrom": [
            "biz_id",
            "contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_biz_offer_version_fk": {
          "name": "cross_biz_orders_biz_offer_version_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cross_biz_orders_biz_booking_order_fk": {
          "name": "cross_biz_orders_biz_booking_order_fk",
          "tableFrom": "cross_biz_orders",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "marketplace_listings": {
      "name": "marketplace_listings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "listing_type": {
          "name": "listing_type",
          "type": "marketplace_listing_type",
          "primaryKey": false,
          "notNull": true
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "marketplace_listing_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "base_price_minor": {
          "name": "base_price_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "visibility_policy": {
          "name": "visibility_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "marketplace_listings_biz_id_id_unique": {
          "name": "marketplace_listings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "marketplace_listings_biz_status_published_idx": {
          "name": "marketplace_listings_biz_status_published_idx",
          "columns": [
            "biz_id",
            "status",
            "published_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "marketplace_listings_biz_id_bizes_id_fk": {
          "name": "marketplace_listings_biz_id_bizes_id_fk",
          "tableFrom": "marketplace_listings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketplace_listings_offer_version_id_offer_versions_id_fk": {
          "name": "marketplace_listings_offer_version_id_offer_versions_id_fk",
          "tableFrom": "marketplace_listings",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketplace_listings_resource_id_resources_id_fk": {
          "name": "marketplace_listings_resource_id_resources_id_fk",
          "tableFrom": "marketplace_listings",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketplace_listings_created_by_users_id_fk": {
          "name": "marketplace_listings_created_by_users_id_fk",
          "tableFrom": "marketplace_listings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketplace_listings_updated_by_users_id_fk": {
          "name": "marketplace_listings_updated_by_users_id_fk",
          "tableFrom": "marketplace_listings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketplace_listings_deleted_by_users_id_fk": {
          "name": "marketplace_listings_deleted_by_users_id_fk",
          "tableFrom": "marketplace_listings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketplace_listings_biz_offer_version_fk": {
          "name": "marketplace_listings_biz_offer_version_fk",
          "tableFrom": "marketplace_listings",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketplace_listings_biz_resource_fk": {
          "name": "marketplace_listings_biz_resource_fk",
          "tableFrom": "marketplace_listings",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "referral_events": {
      "name": "referral_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referral_program_id": {
          "name": "referral_program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "referral_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "referrer_user_id": {
          "name": "referrer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referred_user_id": {
          "name": "referred_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_biz_order_id": {
          "name": "cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_at": {
          "name": "event_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "referral_events_biz_id_id_unique": {
          "name": "referral_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "referral_events_biz_program_event_at_idx": {
          "name": "referral_events_biz_program_event_at_idx",
          "columns": [
            "biz_id",
            "referral_program_id",
            "event_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "referral_events_biz_id_bizes_id_fk": {
          "name": "referral_events_biz_id_bizes_id_fk",
          "tableFrom": "referral_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_referral_program_id_referral_programs_id_fk": {
          "name": "referral_events_referral_program_id_referral_programs_id_fk",
          "tableFrom": "referral_events",
          "tableTo": "referral_programs",
          "columnsFrom": [
            "referral_program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_referrer_user_id_users_id_fk": {
          "name": "referral_events_referrer_user_id_users_id_fk",
          "tableFrom": "referral_events",
          "tableTo": "users",
          "columnsFrom": [
            "referrer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_referred_user_id_users_id_fk": {
          "name": "referral_events_referred_user_id_users_id_fk",
          "tableFrom": "referral_events",
          "tableTo": "users",
          "columnsFrom": [
            "referred_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_booking_order_id_booking_orders_id_fk": {
          "name": "referral_events_booking_order_id_booking_orders_id_fk",
          "tableFrom": "referral_events",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "referral_events_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "referral_events",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_created_by_users_id_fk": {
          "name": "referral_events_created_by_users_id_fk",
          "tableFrom": "referral_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_updated_by_users_id_fk": {
          "name": "referral_events_updated_by_users_id_fk",
          "tableFrom": "referral_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_deleted_by_users_id_fk": {
          "name": "referral_events_deleted_by_users_id_fk",
          "tableFrom": "referral_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_biz_program_fk": {
          "name": "referral_events_biz_program_fk",
          "tableFrom": "referral_events",
          "tableTo": "referral_programs",
          "columnsFrom": [
            "biz_id",
            "referral_program_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_biz_booking_order_fk": {
          "name": "referral_events_biz_booking_order_fk",
          "tableFrom": "referral_events",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_events_biz_cross_biz_order_fk": {
          "name": "referral_events_biz_cross_biz_order_fk",
          "tableFrom": "referral_events",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "biz_id",
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "referral_programs": {
      "name": "referral_programs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "referral_programs_biz_id_id_unique": {
          "name": "referral_programs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "referral_programs_biz_slug_unique": {
          "name": "referral_programs_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "referral_programs_biz_id_bizes_id_fk": {
          "name": "referral_programs_biz_id_bizes_id_fk",
          "tableFrom": "referral_programs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_programs_created_by_users_id_fk": {
          "name": "referral_programs_created_by_users_id_fk",
          "tableFrom": "referral_programs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_programs_updated_by_users_id_fk": {
          "name": "referral_programs_updated_by_users_id_fk",
          "tableFrom": "referral_programs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_programs_deleted_by_users_id_fk": {
          "name": "referral_programs_deleted_by_users_id_fk",
          "tableFrom": "referral_programs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "revenue_share_rules": {
      "name": "revenue_share_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contract_id": {
          "name": "contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "marketplace_listing_id": {
          "name": "marketplace_listing_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rule_type": {
          "name": "rule_type",
          "type": "revenue_share_rule_type",
          "primaryKey": false,
          "notNull": true
        },
        "percent_bps": {
          "name": "percent_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tier_model": {
          "name": "tier_model",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "revenue_share_rules_biz_id_id_unique": {
          "name": "revenue_share_rules_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "revenue_share_rules_biz_active_priority_idx": {
          "name": "revenue_share_rules_biz_active_priority_idx",
          "columns": [
            "biz_id",
            "is_active",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "revenue_share_rules_biz_id_bizes_id_fk": {
          "name": "revenue_share_rules_biz_id_bizes_id_fk",
          "tableFrom": "revenue_share_rules",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "revenue_share_rules_contract_id_cross_biz_contracts_id_fk": {
          "name": "revenue_share_rules_contract_id_cross_biz_contracts_id_fk",
          "tableFrom": "revenue_share_rules",
          "tableTo": "cross_biz_contracts",
          "columnsFrom": [
            "contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "revenue_share_rules_marketplace_listing_id_marketplace_listings_id_fk": {
          "name": "revenue_share_rules_marketplace_listing_id_marketplace_listings_id_fk",
          "tableFrom": "revenue_share_rules",
          "tableTo": "marketplace_listings",
          "columnsFrom": [
            "marketplace_listing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "revenue_share_rules_created_by_users_id_fk": {
          "name": "revenue_share_rules_created_by_users_id_fk",
          "tableFrom": "revenue_share_rules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "revenue_share_rules_updated_by_users_id_fk": {
          "name": "revenue_share_rules_updated_by_users_id_fk",
          "tableFrom": "revenue_share_rules",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "revenue_share_rules_deleted_by_users_id_fk": {
          "name": "revenue_share_rules_deleted_by_users_id_fk",
          "tableFrom": "revenue_share_rules",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "revenue_share_rules_biz_contract_fk": {
          "name": "revenue_share_rules_biz_contract_fk",
          "tableFrom": "revenue_share_rules",
          "tableTo": "cross_biz_contracts",
          "columnsFrom": [
            "biz_id",
            "contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "revenue_share_rules_biz_marketplace_listing_fk": {
          "name": "revenue_share_rules_biz_marketplace_listing_fk",
          "tableFrom": "revenue_share_rules",
          "tableTo": "marketplace_listings",
          "columnsFrom": [
            "biz_id",
            "marketplace_listing_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "reward_grants": {
      "name": "reward_grants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referral_program_id": {
          "name": "referral_program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referral_event_id": {
          "name": "referral_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_user_id": {
          "name": "recipient_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "referral_reward_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "reward_type": {
          "name": "reward_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reversed_at": {
          "name": "reversed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payout_reference": {
          "name": "payout_reference",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "reward_grants_biz_id_id_unique": {
          "name": "reward_grants_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "reward_grants_biz_status_granted_idx": {
          "name": "reward_grants_biz_status_granted_idx",
          "columns": [
            "biz_id",
            "status",
            "granted_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "reward_grants_biz_id_bizes_id_fk": {
          "name": "reward_grants_biz_id_bizes_id_fk",
          "tableFrom": "reward_grants",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reward_grants_referral_program_id_referral_programs_id_fk": {
          "name": "reward_grants_referral_program_id_referral_programs_id_fk",
          "tableFrom": "reward_grants",
          "tableTo": "referral_programs",
          "columnsFrom": [
            "referral_program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reward_grants_referral_event_id_referral_events_id_fk": {
          "name": "reward_grants_referral_event_id_referral_events_id_fk",
          "tableFrom": "reward_grants",
          "tableTo": "referral_events",
          "columnsFrom": [
            "referral_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reward_grants_recipient_user_id_users_id_fk": {
          "name": "reward_grants_recipient_user_id_users_id_fk",
          "tableFrom": "reward_grants",
          "tableTo": "users",
          "columnsFrom": [
            "recipient_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reward_grants_created_by_users_id_fk": {
          "name": "reward_grants_created_by_users_id_fk",
          "tableFrom": "reward_grants",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reward_grants_updated_by_users_id_fk": {
          "name": "reward_grants_updated_by_users_id_fk",
          "tableFrom": "reward_grants",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reward_grants_deleted_by_users_id_fk": {
          "name": "reward_grants_deleted_by_users_id_fk",
          "tableFrom": "reward_grants",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reward_grants_biz_program_fk": {
          "name": "reward_grants_biz_program_fk",
          "tableFrom": "reward_grants",
          "tableTo": "referral_programs",
          "columnsFrom": [
            "biz_id",
            "referral_program_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "reward_grants_biz_event_fk": {
          "name": "reward_grants_biz_event_fk",
          "tableFrom": "reward_grants",
          "tableTo": "referral_events",
          "columnsFrom": [
            "biz_id",
            "referral_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "operational_assignments": {
      "name": "operational_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "operational_demand_id": {
          "name": "operational_demand_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "operational_assignment_source_type",
          "primaryKey": false,
          "notNull": true
        },
        "fulfillment_assignment_id": {
          "name": "fulfillment_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "staffing_assignment_id": {
          "name": "staffing_assignment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_type": {
          "name": "custom_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_id": {
          "name": "custom_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "source_status": {
          "name": "source_status",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "operational_assignments_biz_id_id_unique": {
          "name": "operational_assignments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "operational_assignments_biz_request_key_unique": {
          "name": "operational_assignments_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "operational_assignments_biz_status_window_idx": {
          "name": "operational_assignments_biz_status_window_idx",
          "columns": [
            "biz_id",
            "status",
            "starts_at",
            "priority"
          ],
          "isUnique": false
        },
        "operational_assignments_biz_resource_status_window_idx": {
          "name": "operational_assignments_biz_resource_status_window_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        },
        "operational_assignments_biz_demand_idx": {
          "name": "operational_assignments_biz_demand_idx",
          "columns": [
            "biz_id",
            "operational_demand_id",
            "status"
          ],
          "isUnique": false
        },
        "operational_assignments_biz_custom_subject_idx": {
          "name": "operational_assignments_biz_custom_subject_idx",
          "columns": [
            "biz_id",
            "custom_subject_type",
            "custom_subject_id"
          ],
          "isUnique": false
        },
        "operational_assignments_unique_fulfillment_assignment": {
          "name": "operational_assignments_unique_fulfillment_assignment",
          "columns": [
            "fulfillment_assignment_id"
          ],
          "isUnique": true
        },
        "operational_assignments_unique_staffing_assignment": {
          "name": "operational_assignments_unique_staffing_assignment",
          "columns": [
            "staffing_assignment_id"
          ],
          "isUnique": true
        },
        "operational_assignments_unique_custom_subject": {
          "name": "operational_assignments_unique_custom_subject",
          "columns": [
            "biz_id",
            "custom_subject_type",
            "custom_subject_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "operational_assignments_biz_id_bizes_id_fk": {
          "name": "operational_assignments_biz_id_bizes_id_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_operational_demand_id_operational_demands_id_fk": {
          "name": "operational_assignments_operational_demand_id_operational_demands_id_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "operational_demands",
          "columnsFrom": [
            "operational_demand_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_fulfillment_assignment_id_fulfillment_assignments_id_fk": {
          "name": "operational_assignments_fulfillment_assignment_id_fulfillment_assignments_id_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_staffing_assignment_id_staffing_assignments_id_fk": {
          "name": "operational_assignments_staffing_assignment_id_staffing_assignments_id_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "staffing_assignments",
          "columnsFrom": [
            "staffing_assignment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_resource_id_resources_id_fk": {
          "name": "operational_assignments_resource_id_resources_id_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_created_by_users_id_fk": {
          "name": "operational_assignments_created_by_users_id_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_updated_by_users_id_fk": {
          "name": "operational_assignments_updated_by_users_id_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_deleted_by_users_id_fk": {
          "name": "operational_assignments_deleted_by_users_id_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_biz_demand_fk": {
          "name": "operational_assignments_biz_demand_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "operational_demands",
          "columnsFrom": [
            "biz_id",
            "operational_demand_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_biz_fulfillment_assignment_fk": {
          "name": "operational_assignments_biz_fulfillment_assignment_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "fulfillment_assignments",
          "columnsFrom": [
            "biz_id",
            "fulfillment_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_biz_staffing_assignment_fk": {
          "name": "operational_assignments_biz_staffing_assignment_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "staffing_assignments",
          "columnsFrom": [
            "biz_id",
            "staffing_assignment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_biz_resource_fk": {
          "name": "operational_assignments_biz_resource_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_assignments_biz_custom_subject_fk": {
          "name": "operational_assignments_biz_custom_subject_fk",
          "tableFrom": "operational_assignments",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "custom_subject_type",
            "custom_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "operational_demands": {
      "name": "operational_demands",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_type": {
          "name": "source_type",
          "type": "operational_demand_source_type",
          "primaryKey": false,
          "notNull": true
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "staffing_demand_id": {
          "name": "staffing_demand_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_type": {
          "name": "custom_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_subject_id": {
          "name": "custom_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "source_status": {
          "name": "source_status",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "operational_demands_biz_id_id_unique": {
          "name": "operational_demands_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "operational_demands_biz_request_key_unique": {
          "name": "operational_demands_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        },
        "operational_demands_biz_status_window_idx": {
          "name": "operational_demands_biz_status_window_idx",
          "columns": [
            "biz_id",
            "status",
            "starts_at",
            "priority"
          ],
          "isUnique": false
        },
        "operational_demands_biz_source_type_status_idx": {
          "name": "operational_demands_biz_source_type_status_idx",
          "columns": [
            "biz_id",
            "source_type",
            "source_status"
          ],
          "isUnique": false
        },
        "operational_demands_biz_custom_subject_idx": {
          "name": "operational_demands_biz_custom_subject_idx",
          "columns": [
            "biz_id",
            "custom_subject_type",
            "custom_subject_id"
          ],
          "isUnique": false
        },
        "operational_demands_unique_fulfillment_unit": {
          "name": "operational_demands_unique_fulfillment_unit",
          "columns": [
            "fulfillment_unit_id"
          ],
          "isUnique": true
        },
        "operational_demands_unique_staffing_demand": {
          "name": "operational_demands_unique_staffing_demand",
          "columns": [
            "staffing_demand_id"
          ],
          "isUnique": true
        },
        "operational_demands_unique_custom_subject": {
          "name": "operational_demands_unique_custom_subject",
          "columns": [
            "biz_id",
            "custom_subject_type",
            "custom_subject_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "operational_demands_biz_id_bizes_id_fk": {
          "name": "operational_demands_biz_id_bizes_id_fk",
          "tableFrom": "operational_demands",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_demands_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "operational_demands_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "operational_demands",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_demands_staffing_demand_id_staffing_demands_id_fk": {
          "name": "operational_demands_staffing_demand_id_staffing_demands_id_fk",
          "tableFrom": "operational_demands",
          "tableTo": "staffing_demands",
          "columnsFrom": [
            "staffing_demand_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_demands_created_by_users_id_fk": {
          "name": "operational_demands_created_by_users_id_fk",
          "tableFrom": "operational_demands",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_demands_updated_by_users_id_fk": {
          "name": "operational_demands_updated_by_users_id_fk",
          "tableFrom": "operational_demands",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_demands_deleted_by_users_id_fk": {
          "name": "operational_demands_deleted_by_users_id_fk",
          "tableFrom": "operational_demands",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_demands_biz_fulfillment_unit_fk": {
          "name": "operational_demands_biz_fulfillment_unit_fk",
          "tableFrom": "operational_demands",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_demands_biz_staffing_demand_fk": {
          "name": "operational_demands_biz_staffing_demand_fk",
          "tableFrom": "operational_demands",
          "tableTo": "staffing_demands",
          "columnsFrom": [
            "biz_id",
            "staffing_demand_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "operational_demands_biz_custom_subject_fk": {
          "name": "operational_demands_biz_custom_subject_fk",
          "tableFrom": "operational_demands",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "custom_subject_type",
            "custom_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_admin_delegations": {
      "name": "enterprise_admin_delegations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "delegator_user_id": {
          "name": "delegator_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "delegate_user_id": {
          "name": "delegate_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "delegation_action": {
          "name": "delegation_action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "scope_id": {
          "name": "scope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "enterprise_delegation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "can_subdelegate": {
          "name": "can_subdelegate",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_admin_delegations_biz_id_id_unique": {
          "name": "enterprise_admin_delegations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_admin_delegations_active_unique": {
          "name": "enterprise_admin_delegations_active_unique",
          "columns": [
            "biz_id",
            "delegator_user_id",
            "delegate_user_id",
            "delegation_action",
            "scope_id"
          ],
          "isUnique": true
        },
        "enterprise_admin_delegations_biz_delegate_status_idx": {
          "name": "enterprise_admin_delegations_biz_delegate_status_idx",
          "columns": [
            "biz_id",
            "delegate_user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_admin_delegations_biz_id_bizes_id_fk": {
          "name": "enterprise_admin_delegations_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_admin_delegations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_admin_delegations_delegator_user_id_users_id_fk": {
          "name": "enterprise_admin_delegations_delegator_user_id_users_id_fk",
          "tableFrom": "enterprise_admin_delegations",
          "tableTo": "users",
          "columnsFrom": [
            "delegator_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_admin_delegations_delegate_user_id_users_id_fk": {
          "name": "enterprise_admin_delegations_delegate_user_id_users_id_fk",
          "tableFrom": "enterprise_admin_delegations",
          "tableTo": "users",
          "columnsFrom": [
            "delegate_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_admin_delegations_scope_id_enterprise_scopes_id_fk": {
          "name": "enterprise_admin_delegations_scope_id_enterprise_scopes_id_fk",
          "tableFrom": "enterprise_admin_delegations",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "scope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_admin_delegations_created_by_users_id_fk": {
          "name": "enterprise_admin_delegations_created_by_users_id_fk",
          "tableFrom": "enterprise_admin_delegations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_admin_delegations_updated_by_users_id_fk": {
          "name": "enterprise_admin_delegations_updated_by_users_id_fk",
          "tableFrom": "enterprise_admin_delegations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_admin_delegations_deleted_by_users_id_fk": {
          "name": "enterprise_admin_delegations_deleted_by_users_id_fk",
          "tableFrom": "enterprise_admin_delegations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_admin_delegations_biz_scope_fk": {
          "name": "enterprise_admin_delegations_biz_scope_fk",
          "tableFrom": "enterprise_admin_delegations",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "biz_id",
            "scope_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_approval_authority_limits": {
      "name": "enterprise_approval_authority_limits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "scope_id": {
          "name": "scope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "per_approval_limit_minor": {
          "name": "per_approval_limit_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "daily_limit_minor": {
          "name": "daily_limit_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_limit_minor": {
          "name": "monthly_limit_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "requires_second_approver": {
          "name": "requires_second_approver",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_approval_authority_limits_biz_id_id_unique": {
          "name": "enterprise_approval_authority_limits_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_approval_authority_limits_active_unique": {
          "name": "enterprise_approval_authority_limits_active_unique",
          "columns": [
            "biz_id",
            "user_id",
            "action_type",
            "scope_id"
          ],
          "isUnique": true
        },
        "enterprise_approval_authority_limits_biz_user_status_idx": {
          "name": "enterprise_approval_authority_limits_biz_user_status_idx",
          "columns": [
            "biz_id",
            "user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_approval_authority_limits_biz_id_bizes_id_fk": {
          "name": "enterprise_approval_authority_limits_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_approval_authority_limits",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_approval_authority_limits_user_id_users_id_fk": {
          "name": "enterprise_approval_authority_limits_user_id_users_id_fk",
          "tableFrom": "enterprise_approval_authority_limits",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_approval_authority_limits_scope_id_enterprise_scopes_id_fk": {
          "name": "enterprise_approval_authority_limits_scope_id_enterprise_scopes_id_fk",
          "tableFrom": "enterprise_approval_authority_limits",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "scope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_approval_authority_limits_created_by_users_id_fk": {
          "name": "enterprise_approval_authority_limits_created_by_users_id_fk",
          "tableFrom": "enterprise_approval_authority_limits",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_approval_authority_limits_updated_by_users_id_fk": {
          "name": "enterprise_approval_authority_limits_updated_by_users_id_fk",
          "tableFrom": "enterprise_approval_authority_limits",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_approval_authority_limits_deleted_by_users_id_fk": {
          "name": "enterprise_approval_authority_limits_deleted_by_users_id_fk",
          "tableFrom": "enterprise_approval_authority_limits",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_approval_authority_limits_biz_scope_fk": {
          "name": "enterprise_approval_authority_limits_biz_scope_fk",
          "tableFrom": "enterprise_approval_authority_limits",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "biz_id",
            "scope_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_change_rollout_results": {
      "name": "enterprise_change_rollout_results",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rollout_target_id": {
          "name": "rollout_target_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "result_type": {
          "name": "result_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "default": "'applied'"
        },
        "result_code": {
          "name": "result_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "before_snapshot": {
          "name": "before_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "after_snapshot": {
          "name": "after_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_change_rollout_results_biz_id_id_unique": {
          "name": "enterprise_change_rollout_results_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_change_rollout_results_biz_target_idx": {
          "name": "enterprise_change_rollout_results_biz_target_idx",
          "columns": [
            "biz_id",
            "rollout_target_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_change_rollout_results_biz_id_bizes_id_fk": {
          "name": "enterprise_change_rollout_results_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_change_rollout_results",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_results_rollout_target_id_enterprise_change_rollout_targets_id_fk": {
          "name": "enterprise_change_rollout_results_rollout_target_id_enterprise_change_rollout_targets_id_fk",
          "tableFrom": "enterprise_change_rollout_results",
          "tableTo": "enterprise_change_rollout_targets",
          "columnsFrom": [
            "rollout_target_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_results_created_by_users_id_fk": {
          "name": "enterprise_change_rollout_results_created_by_users_id_fk",
          "tableFrom": "enterprise_change_rollout_results",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_results_updated_by_users_id_fk": {
          "name": "enterprise_change_rollout_results_updated_by_users_id_fk",
          "tableFrom": "enterprise_change_rollout_results",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_results_deleted_by_users_id_fk": {
          "name": "enterprise_change_rollout_results_deleted_by_users_id_fk",
          "tableFrom": "enterprise_change_rollout_results",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_results_biz_target_fk": {
          "name": "enterprise_change_rollout_results_biz_target_fk",
          "tableFrom": "enterprise_change_rollout_results",
          "tableTo": "enterprise_change_rollout_targets",
          "columnsFrom": [
            "biz_id",
            "rollout_target_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_change_rollout_runs": {
      "name": "enterprise_change_rollout_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "enterprise_rollout_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "source_revision": {
          "name": "source_revision",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "target_revision": {
          "name": "target_revision",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by_user_id": {
          "name": "requested_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_summary": {
          "name": "error_summary",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_change_rollout_runs_biz_id_id_unique": {
          "name": "enterprise_change_rollout_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_change_rollout_runs_biz_slug_unique": {
          "name": "enterprise_change_rollout_runs_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "enterprise_change_rollout_runs_biz_status_started_idx": {
          "name": "enterprise_change_rollout_runs_biz_status_started_idx",
          "columns": [
            "biz_id",
            "status",
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_change_rollout_runs_biz_id_bizes_id_fk": {
          "name": "enterprise_change_rollout_runs_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_change_rollout_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_runs_requested_by_user_id_users_id_fk": {
          "name": "enterprise_change_rollout_runs_requested_by_user_id_users_id_fk",
          "tableFrom": "enterprise_change_rollout_runs",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_runs_created_by_users_id_fk": {
          "name": "enterprise_change_rollout_runs_created_by_users_id_fk",
          "tableFrom": "enterprise_change_rollout_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_runs_updated_by_users_id_fk": {
          "name": "enterprise_change_rollout_runs_updated_by_users_id_fk",
          "tableFrom": "enterprise_change_rollout_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_runs_deleted_by_users_id_fk": {
          "name": "enterprise_change_rollout_runs_deleted_by_users_id_fk",
          "tableFrom": "enterprise_change_rollout_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_change_rollout_targets": {
      "name": "enterprise_change_rollout_targets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rollout_run_id": {
          "name": "rollout_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope_id": {
          "name": "scope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_order": {
          "name": "target_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "status": {
          "name": "status",
          "type": "enterprise_rollout_target_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_summary": {
          "name": "error_summary",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_change_rollout_targets_biz_id_id_unique": {
          "name": "enterprise_change_rollout_targets_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_change_rollout_targets_run_scope_unique": {
          "name": "enterprise_change_rollout_targets_run_scope_unique",
          "columns": [
            "biz_id",
            "rollout_run_id",
            "scope_id"
          ],
          "isUnique": true
        },
        "enterprise_change_rollout_targets_biz_run_status_order_idx": {
          "name": "enterprise_change_rollout_targets_biz_run_status_order_idx",
          "columns": [
            "biz_id",
            "rollout_run_id",
            "status",
            "target_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_change_rollout_targets_biz_id_bizes_id_fk": {
          "name": "enterprise_change_rollout_targets_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_change_rollout_targets",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_targets_rollout_run_id_enterprise_change_rollout_runs_id_fk": {
          "name": "enterprise_change_rollout_targets_rollout_run_id_enterprise_change_rollout_runs_id_fk",
          "tableFrom": "enterprise_change_rollout_targets",
          "tableTo": "enterprise_change_rollout_runs",
          "columnsFrom": [
            "rollout_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_targets_scope_id_enterprise_scopes_id_fk": {
          "name": "enterprise_change_rollout_targets_scope_id_enterprise_scopes_id_fk",
          "tableFrom": "enterprise_change_rollout_targets",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "scope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_targets_created_by_users_id_fk": {
          "name": "enterprise_change_rollout_targets_created_by_users_id_fk",
          "tableFrom": "enterprise_change_rollout_targets",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_targets_updated_by_users_id_fk": {
          "name": "enterprise_change_rollout_targets_updated_by_users_id_fk",
          "tableFrom": "enterprise_change_rollout_targets",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_targets_deleted_by_users_id_fk": {
          "name": "enterprise_change_rollout_targets_deleted_by_users_id_fk",
          "tableFrom": "enterprise_change_rollout_targets",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_targets_biz_run_fk": {
          "name": "enterprise_change_rollout_targets_biz_run_fk",
          "tableFrom": "enterprise_change_rollout_targets",
          "tableTo": "enterprise_change_rollout_runs",
          "columnsFrom": [
            "biz_id",
            "rollout_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_change_rollout_targets_biz_scope_fk": {
          "name": "enterprise_change_rollout_targets_biz_scope_fk",
          "tableFrom": "enterprise_change_rollout_targets",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "biz_id",
            "scope_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_contract_pack_bindings": {
      "name": "enterprise_contract_pack_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contract_pack_version_id": {
          "name": "contract_pack_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "binding_mode": {
          "name": "binding_mode",
          "type": "enterprise_contract_pack_binding_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "scope_id": {
          "name": "scope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_inherited": {
          "name": "is_inherited",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_contract_pack_bindings_biz_id_id_unique": {
          "name": "enterprise_contract_pack_bindings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_contract_pack_bindings_active_unique": {
          "name": "enterprise_contract_pack_bindings_active_unique",
          "columns": [
            "biz_id",
            "contract_pack_version_id",
            "scope_id"
          ],
          "isUnique": true
        },
        "enterprise_contract_pack_bindings_biz_scope_status_idx": {
          "name": "enterprise_contract_pack_bindings_biz_scope_status_idx",
          "columns": [
            "biz_id",
            "scope_id",
            "status",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_contract_pack_bindings_biz_id_bizes_id_fk": {
          "name": "enterprise_contract_pack_bindings_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_contract_pack_bindings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_bindings_contract_pack_version_id_enterprise_contract_pack_versions_id_fk": {
          "name": "enterprise_contract_pack_bindings_contract_pack_version_id_enterprise_contract_pack_versions_id_fk",
          "tableFrom": "enterprise_contract_pack_bindings",
          "tableTo": "enterprise_contract_pack_versions",
          "columnsFrom": [
            "contract_pack_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_bindings_scope_id_enterprise_scopes_id_fk": {
          "name": "enterprise_contract_pack_bindings_scope_id_enterprise_scopes_id_fk",
          "tableFrom": "enterprise_contract_pack_bindings",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "scope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_bindings_created_by_users_id_fk": {
          "name": "enterprise_contract_pack_bindings_created_by_users_id_fk",
          "tableFrom": "enterprise_contract_pack_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_bindings_updated_by_users_id_fk": {
          "name": "enterprise_contract_pack_bindings_updated_by_users_id_fk",
          "tableFrom": "enterprise_contract_pack_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_bindings_deleted_by_users_id_fk": {
          "name": "enterprise_contract_pack_bindings_deleted_by_users_id_fk",
          "tableFrom": "enterprise_contract_pack_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_bindings_biz_pack_version_fk": {
          "name": "enterprise_contract_pack_bindings_biz_pack_version_fk",
          "tableFrom": "enterprise_contract_pack_bindings",
          "tableTo": "enterprise_contract_pack_versions",
          "columnsFrom": [
            "biz_id",
            "contract_pack_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_bindings_biz_scope_fk": {
          "name": "enterprise_contract_pack_bindings_biz_scope_fk",
          "tableFrom": "enterprise_contract_pack_bindings",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "biz_id",
            "scope_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_contract_pack_templates": {
      "name": "enterprise_contract_pack_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "domain_key": {
          "name": "domain_key",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "default": "'operations'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_contract_pack_templates_biz_id_id_unique": {
          "name": "enterprise_contract_pack_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_contract_pack_templates_biz_slug_unique": {
          "name": "enterprise_contract_pack_templates_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "enterprise_contract_pack_templates_biz_domain_status_idx": {
          "name": "enterprise_contract_pack_templates_biz_domain_status_idx",
          "columns": [
            "biz_id",
            "domain_key",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_contract_pack_templates_biz_id_bizes_id_fk": {
          "name": "enterprise_contract_pack_templates_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_contract_pack_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_templates_created_by_users_id_fk": {
          "name": "enterprise_contract_pack_templates_created_by_users_id_fk",
          "tableFrom": "enterprise_contract_pack_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_templates_updated_by_users_id_fk": {
          "name": "enterprise_contract_pack_templates_updated_by_users_id_fk",
          "tableFrom": "enterprise_contract_pack_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_templates_deleted_by_users_id_fk": {
          "name": "enterprise_contract_pack_templates_deleted_by_users_id_fk",
          "tableFrom": "enterprise_contract_pack_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_contract_pack_versions": {
      "name": "enterprise_contract_pack_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contract_pack_template_id": {
          "name": "contract_pack_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "definition": {
          "name": "definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_contract_pack_versions_biz_id_id_unique": {
          "name": "enterprise_contract_pack_versions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_contract_pack_versions_template_version_unique": {
          "name": "enterprise_contract_pack_versions_template_version_unique",
          "columns": [
            "contract_pack_template_id",
            "version_number"
          ],
          "isUnique": true
        },
        "enterprise_contract_pack_versions_biz_template_status_idx": {
          "name": "enterprise_contract_pack_versions_biz_template_status_idx",
          "columns": [
            "biz_id",
            "contract_pack_template_id",
            "status",
            "version_number"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_contract_pack_versions_biz_id_bizes_id_fk": {
          "name": "enterprise_contract_pack_versions_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_contract_pack_versions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_versions_contract_pack_template_id_enterprise_contract_pack_templates_id_fk": {
          "name": "enterprise_contract_pack_versions_contract_pack_template_id_enterprise_contract_pack_templates_id_fk",
          "tableFrom": "enterprise_contract_pack_versions",
          "tableTo": "enterprise_contract_pack_templates",
          "columnsFrom": [
            "contract_pack_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_versions_created_by_users_id_fk": {
          "name": "enterprise_contract_pack_versions_created_by_users_id_fk",
          "tableFrom": "enterprise_contract_pack_versions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_versions_updated_by_users_id_fk": {
          "name": "enterprise_contract_pack_versions_updated_by_users_id_fk",
          "tableFrom": "enterprise_contract_pack_versions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_versions_deleted_by_users_id_fk": {
          "name": "enterprise_contract_pack_versions_deleted_by_users_id_fk",
          "tableFrom": "enterprise_contract_pack_versions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_contract_pack_versions_biz_template_fk": {
          "name": "enterprise_contract_pack_versions_biz_template_fk",
          "tableFrom": "enterprise_contract_pack_versions",
          "tableTo": "enterprise_contract_pack_templates",
          "columnsFrom": [
            "biz_id",
            "contract_pack_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_external_directory_links": {
      "name": "enterprise_external_directory_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "identity_provider_id": {
          "name": "identity_provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "principal_type": {
          "name": "principal_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "external_directory_id": {
          "name": "external_directory_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "external_parent_id": {
          "name": "external_parent_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "enterprise_directory_link_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_external_directory_links_biz_id_id_unique": {
          "name": "enterprise_external_directory_links_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_external_directory_links_external_unique": {
          "name": "enterprise_external_directory_links_external_unique",
          "columns": [
            "biz_id",
            "identity_provider_id",
            "external_directory_id"
          ],
          "isUnique": true
        },
        "enterprise_external_directory_links_principal_unique": {
          "name": "enterprise_external_directory_links_principal_unique",
          "columns": [
            "biz_id",
            "identity_provider_id",
            "principal_type",
            "user_id",
            "subject_type",
            "subject_id"
          ],
          "isUnique": true
        },
        "enterprise_external_directory_links_biz_provider_status_idx": {
          "name": "enterprise_external_directory_links_biz_provider_status_idx",
          "columns": [
            "biz_id",
            "identity_provider_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_external_directory_links_biz_id_bizes_id_fk": {
          "name": "enterprise_external_directory_links_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_external_directory_links",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_external_directory_links_identity_provider_id_enterprise_identity_providers_id_fk": {
          "name": "enterprise_external_directory_links_identity_provider_id_enterprise_identity_providers_id_fk",
          "tableFrom": "enterprise_external_directory_links",
          "tableTo": "enterprise_identity_providers",
          "columnsFrom": [
            "identity_provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_external_directory_links_user_id_users_id_fk": {
          "name": "enterprise_external_directory_links_user_id_users_id_fk",
          "tableFrom": "enterprise_external_directory_links",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_external_directory_links_created_by_users_id_fk": {
          "name": "enterprise_external_directory_links_created_by_users_id_fk",
          "tableFrom": "enterprise_external_directory_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_external_directory_links_updated_by_users_id_fk": {
          "name": "enterprise_external_directory_links_updated_by_users_id_fk",
          "tableFrom": "enterprise_external_directory_links",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_external_directory_links_deleted_by_users_id_fk": {
          "name": "enterprise_external_directory_links_deleted_by_users_id_fk",
          "tableFrom": "enterprise_external_directory_links",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_external_directory_links_biz_provider_fk": {
          "name": "enterprise_external_directory_links_biz_provider_fk",
          "tableFrom": "enterprise_external_directory_links",
          "tableTo": "enterprise_identity_providers",
          "columnsFrom": [
            "biz_id",
            "identity_provider_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_external_directory_links_subject_fk": {
          "name": "enterprise_external_directory_links_subject_fk",
          "tableFrom": "enterprise_external_directory_links",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_identity_providers": {
      "name": "enterprise_identity_providers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_type": {
          "name": "provider_type",
          "type": "enterprise_identity_provider_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "issuer_url": {
          "name": "issuer_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "authorization_url": {
          "name": "authorization_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "token_url": {
          "name": "token_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "jwks_url": {
          "name": "jwks_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "sso_entry_point_url": {
          "name": "sso_entry_point_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "scim_base_url": {
          "name": "scim_base_url",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "audience": {
          "name": "audience",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_identity_providers_biz_id_id_unique": {
          "name": "enterprise_identity_providers_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_identity_providers_biz_slug_unique": {
          "name": "enterprise_identity_providers_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "enterprise_identity_providers_biz_status_type_idx": {
          "name": "enterprise_identity_providers_biz_status_type_idx",
          "columns": [
            "biz_id",
            "status",
            "provider_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_identity_providers_biz_id_bizes_id_fk": {
          "name": "enterprise_identity_providers_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_identity_providers",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_identity_providers_created_by_users_id_fk": {
          "name": "enterprise_identity_providers_created_by_users_id_fk",
          "tableFrom": "enterprise_identity_providers",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_identity_providers_updated_by_users_id_fk": {
          "name": "enterprise_identity_providers_updated_by_users_id_fk",
          "tableFrom": "enterprise_identity_providers",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_identity_providers_deleted_by_users_id_fk": {
          "name": "enterprise_identity_providers_deleted_by_users_id_fk",
          "tableFrom": "enterprise_identity_providers",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_inheritance_resolutions": {
      "name": "enterprise_inheritance_resolutions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strategy_id": {
          "name": "strategy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope_id": {
          "name": "scope_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain_key": {
          "name": "domain_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "resolution_status": {
          "name": "resolution_status",
          "type": "enterprise_resolution_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'ready'"
        },
        "resolved_version": {
          "name": "resolved_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "resolution_hash": {
          "name": "resolution_hash",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_document": {
          "name": "resolved_document",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "source_snapshot": {
          "name": "source_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_inheritance_resolutions_biz_id_id_unique": {
          "name": "enterprise_inheritance_resolutions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_inheritance_resolutions_scope_unique": {
          "name": "enterprise_inheritance_resolutions_scope_unique",
          "columns": [
            "biz_id",
            "strategy_id",
            "scope_id",
            "domain_key"
          ],
          "isUnique": true
        },
        "enterprise_inheritance_resolutions_biz_scope_domain_status_idx": {
          "name": "enterprise_inheritance_resolutions_biz_scope_domain_status_idx",
          "columns": [
            "biz_id",
            "scope_id",
            "domain_key",
            "resolution_status",
            "resolved_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_inheritance_resolutions_biz_id_bizes_id_fk": {
          "name": "enterprise_inheritance_resolutions_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_inheritance_resolutions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_resolutions_strategy_id_enterprise_inheritance_strategies_id_fk": {
          "name": "enterprise_inheritance_resolutions_strategy_id_enterprise_inheritance_strategies_id_fk",
          "tableFrom": "enterprise_inheritance_resolutions",
          "tableTo": "enterprise_inheritance_strategies",
          "columnsFrom": [
            "strategy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_resolutions_scope_id_enterprise_scopes_id_fk": {
          "name": "enterprise_inheritance_resolutions_scope_id_enterprise_scopes_id_fk",
          "tableFrom": "enterprise_inheritance_resolutions",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "scope_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_resolutions_created_by_users_id_fk": {
          "name": "enterprise_inheritance_resolutions_created_by_users_id_fk",
          "tableFrom": "enterprise_inheritance_resolutions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_resolutions_updated_by_users_id_fk": {
          "name": "enterprise_inheritance_resolutions_updated_by_users_id_fk",
          "tableFrom": "enterprise_inheritance_resolutions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_resolutions_deleted_by_users_id_fk": {
          "name": "enterprise_inheritance_resolutions_deleted_by_users_id_fk",
          "tableFrom": "enterprise_inheritance_resolutions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_resolutions_biz_strategy_fk": {
          "name": "enterprise_inheritance_resolutions_biz_strategy_fk",
          "tableFrom": "enterprise_inheritance_resolutions",
          "tableTo": "enterprise_inheritance_strategies",
          "columnsFrom": [
            "biz_id",
            "strategy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_resolutions_biz_scope_fk": {
          "name": "enterprise_inheritance_resolutions_biz_scope_fk",
          "tableFrom": "enterprise_inheritance_resolutions",
          "tableTo": "enterprise_scopes",
          "columnsFrom": [
            "biz_id",
            "scope_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_inheritance_strategies": {
      "name": "enterprise_inheritance_strategies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "inheritance_domain": {
          "name": "inheritance_domain",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "resolution_mode": {
          "name": "resolution_mode",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "default": "'override_last'"
        },
        "precedence": {
          "name": "precedence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[\"network\",\"biz\",\"location\",\"subject\"]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_inheritance_strategies_biz_id_id_unique": {
          "name": "enterprise_inheritance_strategies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_inheritance_strategies_biz_slug_unique": {
          "name": "enterprise_inheritance_strategies_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "enterprise_inheritance_strategies_biz_domain_status_idx": {
          "name": "enterprise_inheritance_strategies_biz_domain_status_idx",
          "columns": [
            "biz_id",
            "inheritance_domain",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_inheritance_strategies_biz_id_bizes_id_fk": {
          "name": "enterprise_inheritance_strategies_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_inheritance_strategies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_strategies_created_by_users_id_fk": {
          "name": "enterprise_inheritance_strategies_created_by_users_id_fk",
          "tableFrom": "enterprise_inheritance_strategies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_strategies_updated_by_users_id_fk": {
          "name": "enterprise_inheritance_strategies_updated_by_users_id_fk",
          "tableFrom": "enterprise_inheritance_strategies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_inheritance_strategies_deleted_by_users_id_fk": {
          "name": "enterprise_inheritance_strategies_deleted_by_users_id_fk",
          "tableFrom": "enterprise_inheritance_strategies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_intercompany_accounts": {
      "name": "enterprise_intercompany_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_biz_id": {
          "name": "source_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "counterparty_biz_id": {
          "name": "counterparty_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "intercompany_account_type",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "external_account_ref": {
          "name": "external_account_ref",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_intercompany_accounts_biz_id_id_unique": {
          "name": "enterprise_intercompany_accounts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_intercompany_accounts_active_lane_unique": {
          "name": "enterprise_intercompany_accounts_active_lane_unique",
          "columns": [
            "biz_id",
            "source_biz_id",
            "counterparty_biz_id",
            "account_type",
            "currency"
          ],
          "isUnique": true
        },
        "enterprise_intercompany_accounts_biz_source_counterparty_idx": {
          "name": "enterprise_intercompany_accounts_biz_source_counterparty_idx",
          "columns": [
            "biz_id",
            "source_biz_id",
            "counterparty_biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_intercompany_accounts_biz_id_bizes_id_fk": {
          "name": "enterprise_intercompany_accounts_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_intercompany_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_accounts_source_biz_id_bizes_id_fk": {
          "name": "enterprise_intercompany_accounts_source_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_intercompany_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "source_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_accounts_counterparty_biz_id_bizes_id_fk": {
          "name": "enterprise_intercompany_accounts_counterparty_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_intercompany_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "counterparty_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_accounts_created_by_users_id_fk": {
          "name": "enterprise_intercompany_accounts_created_by_users_id_fk",
          "tableFrom": "enterprise_intercompany_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_accounts_updated_by_users_id_fk": {
          "name": "enterprise_intercompany_accounts_updated_by_users_id_fk",
          "tableFrom": "enterprise_intercompany_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_accounts_deleted_by_users_id_fk": {
          "name": "enterprise_intercompany_accounts_deleted_by_users_id_fk",
          "tableFrom": "enterprise_intercompany_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_intercompany_entries": {
      "name": "enterprise_intercompany_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intercompany_account_id": {
          "name": "intercompany_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "settlement_run_id": {
          "name": "settlement_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entry_type": {
          "name": "entry_type",
          "type": "intercompany_entry_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "intercompany_entry_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reference_key": {
          "name": "reference_key",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "source_cross_biz_order_id": {
          "name": "source_cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_payment_transaction_id": {
          "name": "source_payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_intercompany_entries_biz_id_id_unique": {
          "name": "enterprise_intercompany_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_intercompany_entries_biz_account_occurred_idx": {
          "name": "enterprise_intercompany_entries_biz_account_occurred_idx",
          "columns": [
            "biz_id",
            "intercompany_account_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "enterprise_intercompany_entries_biz_status_occurred_idx": {
          "name": "enterprise_intercompany_entries_biz_status_occurred_idx",
          "columns": [
            "biz_id",
            "status",
            "occurred_at"
          ],
          "isUnique": false
        },
        "enterprise_intercompany_entries_biz_reference_key_unique": {
          "name": "enterprise_intercompany_entries_biz_reference_key_unique",
          "columns": [
            "biz_id",
            "reference_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "enterprise_intercompany_entries_biz_id_bizes_id_fk": {
          "name": "enterprise_intercompany_entries_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_intercompany_account_id_enterprise_intercompany_accounts_id_fk": {
          "name": "enterprise_intercompany_entries_intercompany_account_id_enterprise_intercompany_accounts_id_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "enterprise_intercompany_accounts",
          "columnsFrom": [
            "intercompany_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_settlement_run_id_enterprise_intercompany_settlement_runs_id_fk": {
          "name": "enterprise_intercompany_entries_settlement_run_id_enterprise_intercompany_settlement_runs_id_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "enterprise_intercompany_settlement_runs",
          "columnsFrom": [
            "settlement_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_source_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "enterprise_intercompany_entries_source_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "source_cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_source_payment_transaction_id_payment_transactions_id_fk": {
          "name": "enterprise_intercompany_entries_source_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "source_payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_created_by_users_id_fk": {
          "name": "enterprise_intercompany_entries_created_by_users_id_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_updated_by_users_id_fk": {
          "name": "enterprise_intercompany_entries_updated_by_users_id_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_deleted_by_users_id_fk": {
          "name": "enterprise_intercompany_entries_deleted_by_users_id_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_biz_account_fk": {
          "name": "enterprise_intercompany_entries_biz_account_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "enterprise_intercompany_accounts",
          "columnsFrom": [
            "biz_id",
            "intercompany_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_biz_settlement_run_fk": {
          "name": "enterprise_intercompany_entries_biz_settlement_run_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "enterprise_intercompany_settlement_runs",
          "columnsFrom": [
            "biz_id",
            "settlement_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_biz_cross_biz_order_fk": {
          "name": "enterprise_intercompany_entries_biz_cross_biz_order_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "biz_id",
            "source_cross_biz_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_entries_biz_payment_transaction_fk": {
          "name": "enterprise_intercompany_entries_biz_payment_transaction_fk",
          "tableFrom": "enterprise_intercompany_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "source_payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_intercompany_settlement_runs": {
      "name": "enterprise_intercompany_settlement_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "intercompany_account_id": {
          "name": "intercompany_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "intercompany_settlement_run_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "window_start_date": {
          "name": "window_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "window_end_date": {
          "name": "window_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "expected_total_minor": {
          "name": "expected_total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "posted_total_minor": {
          "name": "posted_total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "difference_minor": {
          "name": "difference_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_summary": {
          "name": "error_summary",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_intercompany_settlement_runs_biz_id_id_unique": {
          "name": "enterprise_intercompany_settlement_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_intercompany_settlement_runs_biz_account_window_unique": {
          "name": "enterprise_intercompany_settlement_runs_biz_account_window_unique",
          "columns": [
            "biz_id",
            "intercompany_account_id",
            "window_start_date",
            "window_end_date"
          ],
          "isUnique": true
        },
        "enterprise_intercompany_settlement_runs_biz_status_started_idx": {
          "name": "enterprise_intercompany_settlement_runs_biz_status_started_idx",
          "columns": [
            "biz_id",
            "status",
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_intercompany_settlement_runs_biz_id_bizes_id_fk": {
          "name": "enterprise_intercompany_settlement_runs_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_intercompany_settlement_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_settlement_runs_intercompany_account_id_enterprise_intercompany_accounts_id_fk": {
          "name": "enterprise_intercompany_settlement_runs_intercompany_account_id_enterprise_intercompany_accounts_id_fk",
          "tableFrom": "enterprise_intercompany_settlement_runs",
          "tableTo": "enterprise_intercompany_accounts",
          "columnsFrom": [
            "intercompany_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_settlement_runs_created_by_users_id_fk": {
          "name": "enterprise_intercompany_settlement_runs_created_by_users_id_fk",
          "tableFrom": "enterprise_intercompany_settlement_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_settlement_runs_updated_by_users_id_fk": {
          "name": "enterprise_intercompany_settlement_runs_updated_by_users_id_fk",
          "tableFrom": "enterprise_intercompany_settlement_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_settlement_runs_deleted_by_users_id_fk": {
          "name": "enterprise_intercompany_settlement_runs_deleted_by_users_id_fk",
          "tableFrom": "enterprise_intercompany_settlement_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_intercompany_settlement_runs_biz_account_fk": {
          "name": "enterprise_intercompany_settlement_runs_biz_account_fk",
          "tableFrom": "enterprise_intercompany_settlement_runs",
          "tableTo": "enterprise_intercompany_accounts",
          "columnsFrom": [
            "biz_id",
            "intercompany_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_relationship_templates": {
      "name": "enterprise_relationship_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type_key": {
          "name": "relationship_type_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "inverse_relationship_type_key": {
          "name": "inverse_relationship_type_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_symmetric": {
          "name": "is_symmetric",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allows_cycles": {
          "name": "allows_cycles",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_relationship_templates_biz_id_id_unique": {
          "name": "enterprise_relationship_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_relationship_templates_biz_slug_unique": {
          "name": "enterprise_relationship_templates_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "enterprise_relationship_templates_biz_type_key_unique": {
          "name": "enterprise_relationship_templates_biz_type_key_unique",
          "columns": [
            "biz_id",
            "relationship_type_key"
          ],
          "isUnique": true
        },
        "enterprise_relationship_templates_biz_status_idx": {
          "name": "enterprise_relationship_templates_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_relationship_templates_biz_id_bizes_id_fk": {
          "name": "enterprise_relationship_templates_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_relationship_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationship_templates_created_by_users_id_fk": {
          "name": "enterprise_relationship_templates_created_by_users_id_fk",
          "tableFrom": "enterprise_relationship_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationship_templates_updated_by_users_id_fk": {
          "name": "enterprise_relationship_templates_updated_by_users_id_fk",
          "tableFrom": "enterprise_relationship_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationship_templates_deleted_by_users_id_fk": {
          "name": "enterprise_relationship_templates_deleted_by_users_id_fk",
          "tableFrom": "enterprise_relationship_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_relationships": {
      "name": "enterprise_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_template_id": {
          "name": "relationship_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_biz_id": {
          "name": "from_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_biz_id": {
          "name": "to_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_relationships_biz_id_id_unique": {
          "name": "enterprise_relationships_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_relationships_active_edge_unique": {
          "name": "enterprise_relationships_active_edge_unique",
          "columns": [
            "biz_id",
            "relationship_template_id",
            "from_biz_id",
            "to_biz_id"
          ],
          "isUnique": true
        },
        "enterprise_relationships_biz_from_status_idx": {
          "name": "enterprise_relationships_biz_from_status_idx",
          "columns": [
            "biz_id",
            "from_biz_id",
            "status"
          ],
          "isUnique": false
        },
        "enterprise_relationships_biz_to_status_idx": {
          "name": "enterprise_relationships_biz_to_status_idx",
          "columns": [
            "biz_id",
            "to_biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_relationships_biz_id_bizes_id_fk": {
          "name": "enterprise_relationships_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_relationships",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationships_relationship_template_id_enterprise_relationship_templates_id_fk": {
          "name": "enterprise_relationships_relationship_template_id_enterprise_relationship_templates_id_fk",
          "tableFrom": "enterprise_relationships",
          "tableTo": "enterprise_relationship_templates",
          "columnsFrom": [
            "relationship_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationships_from_biz_id_bizes_id_fk": {
          "name": "enterprise_relationships_from_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_relationships",
          "tableTo": "bizes",
          "columnsFrom": [
            "from_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationships_to_biz_id_bizes_id_fk": {
          "name": "enterprise_relationships_to_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_relationships",
          "tableTo": "bizes",
          "columnsFrom": [
            "to_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationships_created_by_users_id_fk": {
          "name": "enterprise_relationships_created_by_users_id_fk",
          "tableFrom": "enterprise_relationships",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationships_updated_by_users_id_fk": {
          "name": "enterprise_relationships_updated_by_users_id_fk",
          "tableFrom": "enterprise_relationships",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationships_deleted_by_users_id_fk": {
          "name": "enterprise_relationships_deleted_by_users_id_fk",
          "tableFrom": "enterprise_relationships",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_relationships_biz_template_fk": {
          "name": "enterprise_relationships_biz_template_fk",
          "tableFrom": "enterprise_relationships",
          "tableTo": "enterprise_relationship_templates",
          "columnsFrom": [
            "biz_id",
            "relationship_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_scim_sync_states": {
      "name": "enterprise_scim_sync_states",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "identity_provider_id": {
          "name": "identity_provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "enterprise_scim_sync_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "sync_started_at": {
          "name": "sync_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "sync_finished_at": {
          "name": "sync_finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cursor": {
          "name": "cursor",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "imported_users_count": {
          "name": "imported_users_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "updated_users_count": {
          "name": "updated_users_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "deactivated_users_count": {
          "name": "deactivated_users_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_summary": {
          "name": "error_summary",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_scim_sync_states_biz_id_id_unique": {
          "name": "enterprise_scim_sync_states_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_scim_sync_states_biz_provider_started_idx": {
          "name": "enterprise_scim_sync_states_biz_provider_started_idx",
          "columns": [
            "biz_id",
            "identity_provider_id",
            "sync_started_at"
          ],
          "isUnique": false
        },
        "enterprise_scim_sync_states_biz_status_started_idx": {
          "name": "enterprise_scim_sync_states_biz_status_started_idx",
          "columns": [
            "biz_id",
            "status",
            "sync_started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_scim_sync_states_biz_id_bizes_id_fk": {
          "name": "enterprise_scim_sync_states_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_scim_sync_states",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scim_sync_states_identity_provider_id_enterprise_identity_providers_id_fk": {
          "name": "enterprise_scim_sync_states_identity_provider_id_enterprise_identity_providers_id_fk",
          "tableFrom": "enterprise_scim_sync_states",
          "tableTo": "enterprise_identity_providers",
          "columnsFrom": [
            "identity_provider_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scim_sync_states_created_by_users_id_fk": {
          "name": "enterprise_scim_sync_states_created_by_users_id_fk",
          "tableFrom": "enterprise_scim_sync_states",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scim_sync_states_updated_by_users_id_fk": {
          "name": "enterprise_scim_sync_states_updated_by_users_id_fk",
          "tableFrom": "enterprise_scim_sync_states",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scim_sync_states_deleted_by_users_id_fk": {
          "name": "enterprise_scim_sync_states_deleted_by_users_id_fk",
          "tableFrom": "enterprise_scim_sync_states",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scim_sync_states_biz_provider_fk": {
          "name": "enterprise_scim_sync_states_biz_provider_fk",
          "tableFrom": "enterprise_scim_sync_states",
          "tableTo": "enterprise_identity_providers",
          "columnsFrom": [
            "biz_id",
            "identity_provider_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "enterprise_scopes": {
      "name": "enterprise_scopes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope_type": {
          "name": "scope_type",
          "type": "enterprise_scope_type",
          "primaryKey": false,
          "notNull": true
        },
        "scope_key": {
          "name": "scope_key",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": true
        },
        "target_biz_id": {
          "name": "target_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_location_id": {
          "name": "target_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "enterprise_scopes_biz_id_id_unique": {
          "name": "enterprise_scopes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "enterprise_scopes_biz_scope_key_unique": {
          "name": "enterprise_scopes_biz_scope_key_unique",
          "columns": [
            "biz_id",
            "scope_key"
          ],
          "isUnique": true
        },
        "enterprise_scopes_biz_canonical_unique": {
          "name": "enterprise_scopes_biz_canonical_unique",
          "columns": [
            "biz_id",
            "scope_type",
            "target_biz_id",
            "target_location_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "isUnique": true
        },
        "enterprise_scopes_biz_scope_type_status_idx": {
          "name": "enterprise_scopes_biz_scope_type_status_idx",
          "columns": [
            "biz_id",
            "scope_type",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "enterprise_scopes_biz_id_bizes_id_fk": {
          "name": "enterprise_scopes_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_scopes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scopes_target_biz_id_bizes_id_fk": {
          "name": "enterprise_scopes_target_biz_id_bizes_id_fk",
          "tableFrom": "enterprise_scopes",
          "tableTo": "bizes",
          "columnsFrom": [
            "target_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scopes_created_by_users_id_fk": {
          "name": "enterprise_scopes_created_by_users_id_fk",
          "tableFrom": "enterprise_scopes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scopes_updated_by_users_id_fk": {
          "name": "enterprise_scopes_updated_by_users_id_fk",
          "tableFrom": "enterprise_scopes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scopes_deleted_by_users_id_fk": {
          "name": "enterprise_scopes_deleted_by_users_id_fk",
          "tableFrom": "enterprise_scopes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scopes_target_location_fk": {
          "name": "enterprise_scopes_target_location_fk",
          "tableFrom": "enterprise_scopes",
          "tableTo": "locations",
          "columnsFrom": [
            "target_biz_id",
            "target_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "enterprise_scopes_target_subject_fk": {
          "name": "enterprise_scopes_target_subject_fk",
          "tableFrom": "enterprise_scopes",
          "tableTo": "subjects",
          "columnsFrom": [
            "target_biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fact_enterprise_compliance_daily": {
      "name": "fact_enterprise_compliance_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "member_biz_id": {
          "name": "member_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fact_date": {
          "name": "fact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "open_incidents_count": {
          "name": "open_incidents_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "open_breaches_count": {
          "name": "open_breaches_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "overdue_review_count": {
          "name": "overdue_review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "resolved_incidents_count": {
          "name": "resolved_incidents_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "compliance_score_bps": {
          "name": "compliance_score_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fact_enterprise_compliance_daily_biz_id_id_unique": {
          "name": "fact_enterprise_compliance_daily_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fact_enterprise_compliance_daily_slice_unique": {
          "name": "fact_enterprise_compliance_daily_slice_unique",
          "columns": [
            "biz_id",
            "member_biz_id",
            "fact_date"
          ],
          "isUnique": true
        },
        "fact_enterprise_compliance_daily_biz_date_idx": {
          "name": "fact_enterprise_compliance_daily_biz_date_idx",
          "columns": [
            "biz_id",
            "fact_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fact_enterprise_compliance_daily_biz_id_bizes_id_fk": {
          "name": "fact_enterprise_compliance_daily_biz_id_bizes_id_fk",
          "tableFrom": "fact_enterprise_compliance_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_compliance_daily_member_biz_id_bizes_id_fk": {
          "name": "fact_enterprise_compliance_daily_member_biz_id_bizes_id_fk",
          "tableFrom": "fact_enterprise_compliance_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "member_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_compliance_daily_created_by_users_id_fk": {
          "name": "fact_enterprise_compliance_daily_created_by_users_id_fk",
          "tableFrom": "fact_enterprise_compliance_daily",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_compliance_daily_updated_by_users_id_fk": {
          "name": "fact_enterprise_compliance_daily_updated_by_users_id_fk",
          "tableFrom": "fact_enterprise_compliance_daily",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_compliance_daily_deleted_by_users_id_fk": {
          "name": "fact_enterprise_compliance_daily_deleted_by_users_id_fk",
          "tableFrom": "fact_enterprise_compliance_daily",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fact_enterprise_revenue_daily": {
      "name": "fact_enterprise_revenue_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "member_biz_id": {
          "name": "member_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fact_date": {
          "name": "fact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "gross_minor": {
          "name": "gross_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fee_minor": {
          "name": "fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "refund_minor": {
          "name": "refund_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "orders_count": {
          "name": "orders_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fact_enterprise_revenue_daily_biz_id_id_unique": {
          "name": "fact_enterprise_revenue_daily_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fact_enterprise_revenue_daily_slice_unique": {
          "name": "fact_enterprise_revenue_daily_slice_unique",
          "columns": [
            "biz_id",
            "member_biz_id",
            "fact_date",
            "currency"
          ],
          "isUnique": true
        },
        "fact_enterprise_revenue_daily_biz_date_idx": {
          "name": "fact_enterprise_revenue_daily_biz_date_idx",
          "columns": [
            "biz_id",
            "fact_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fact_enterprise_revenue_daily_biz_id_bizes_id_fk": {
          "name": "fact_enterprise_revenue_daily_biz_id_bizes_id_fk",
          "tableFrom": "fact_enterprise_revenue_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_revenue_daily_member_biz_id_bizes_id_fk": {
          "name": "fact_enterprise_revenue_daily_member_biz_id_bizes_id_fk",
          "tableFrom": "fact_enterprise_revenue_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "member_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_revenue_daily_created_by_users_id_fk": {
          "name": "fact_enterprise_revenue_daily_created_by_users_id_fk",
          "tableFrom": "fact_enterprise_revenue_daily",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_revenue_daily_updated_by_users_id_fk": {
          "name": "fact_enterprise_revenue_daily_updated_by_users_id_fk",
          "tableFrom": "fact_enterprise_revenue_daily",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_revenue_daily_deleted_by_users_id_fk": {
          "name": "fact_enterprise_revenue_daily_deleted_by_users_id_fk",
          "tableFrom": "fact_enterprise_revenue_daily",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fact_enterprise_utilization_daily": {
      "name": "fact_enterprise_utilization_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "member_biz_id": {
          "name": "member_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fact_date": {
          "name": "fact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "available_minutes": {
          "name": "available_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "scheduled_minutes": {
          "name": "scheduled_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "blocked_minutes": {
          "name": "blocked_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "utilization_bps": {
          "name": "utilization_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fact_enterprise_utilization_daily_biz_id_id_unique": {
          "name": "fact_enterprise_utilization_daily_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fact_enterprise_utilization_daily_slice_unique": {
          "name": "fact_enterprise_utilization_daily_slice_unique",
          "columns": [
            "biz_id",
            "member_biz_id",
            "fact_date"
          ],
          "isUnique": true
        },
        "fact_enterprise_utilization_daily_biz_date_idx": {
          "name": "fact_enterprise_utilization_daily_biz_date_idx",
          "columns": [
            "biz_id",
            "fact_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fact_enterprise_utilization_daily_biz_id_bizes_id_fk": {
          "name": "fact_enterprise_utilization_daily_biz_id_bizes_id_fk",
          "tableFrom": "fact_enterprise_utilization_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_utilization_daily_member_biz_id_bizes_id_fk": {
          "name": "fact_enterprise_utilization_daily_member_biz_id_bizes_id_fk",
          "tableFrom": "fact_enterprise_utilization_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "member_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_utilization_daily_created_by_users_id_fk": {
          "name": "fact_enterprise_utilization_daily_created_by_users_id_fk",
          "tableFrom": "fact_enterprise_utilization_daily",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_utilization_daily_updated_by_users_id_fk": {
          "name": "fact_enterprise_utilization_daily_updated_by_users_id_fk",
          "tableFrom": "fact_enterprise_utilization_daily",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_enterprise_utilization_daily_deleted_by_users_id_fk": {
          "name": "fact_enterprise_utilization_daily_deleted_by_users_id_fk",
          "tableFrom": "fact_enterprise_utilization_daily",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "data_residency_policies": {
      "name": "data_residency_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_profile_id": {
          "name": "compliance_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "residency_scope",
          "primaryKey": false,
          "notNull": true
        },
        "enforcement_mode": {
          "name": "enforcement_mode",
          "type": "residency_enforcement_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'hard_block'"
        },
        "allowed_regions": {
          "name": "allowed_regions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "allowed_countries": {
          "name": "allowed_countries",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "denied_regions": {
          "name": "denied_regions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "denied_countries": {
          "name": "denied_countries",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "applies_to": {
          "name": "applies_to",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "data_residency_policies_biz_id_id_unique": {
          "name": "data_residency_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "data_residency_policies_biz_active_idx": {
          "name": "data_residency_policies_biz_active_idx",
          "columns": [
            "biz_id",
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "data_residency_policies_biz_id_bizes_id_fk": {
          "name": "data_residency_policies_biz_id_bizes_id_fk",
          "tableFrom": "data_residency_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_residency_policies_compliance_profile_id_tenant_compliance_profiles_id_fk": {
          "name": "data_residency_policies_compliance_profile_id_tenant_compliance_profiles_id_fk",
          "tableFrom": "data_residency_policies",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "compliance_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_residency_policies_created_by_users_id_fk": {
          "name": "data_residency_policies_created_by_users_id_fk",
          "tableFrom": "data_residency_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_residency_policies_updated_by_users_id_fk": {
          "name": "data_residency_policies_updated_by_users_id_fk",
          "tableFrom": "data_residency_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_residency_policies_deleted_by_users_id_fk": {
          "name": "data_residency_policies_deleted_by_users_id_fk",
          "tableFrom": "data_residency_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_residency_policies_biz_compliance_profile_fk": {
          "name": "data_residency_policies_biz_compliance_profile_fk",
          "tableFrom": "data_residency_policies",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "biz_id",
            "compliance_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "data_subject_requests": {
      "name": "data_subject_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "request_type": {
          "name": "request_type",
          "type": "data_subject_request_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "data_subject_request_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'submitted'"
        },
        "subject_user_id": {
          "name": "subject_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_external_ref": {
          "name": "subject_external_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by_user_id": {
          "name": "submitted_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "dsr_verification_method",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_summary": {
          "name": "resolution_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_payload": {
          "name": "request_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "fulfillment_evidence": {
          "name": "fulfillment_evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "data_subject_requests_biz_id_id_unique": {
          "name": "data_subject_requests_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "data_subject_requests_biz_status_due_idx": {
          "name": "data_subject_requests_biz_status_due_idx",
          "columns": [
            "biz_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "data_subject_requests_biz_id_bizes_id_fk": {
          "name": "data_subject_requests_biz_id_bizes_id_fk",
          "tableFrom": "data_subject_requests",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_subject_requests_subject_user_id_users_id_fk": {
          "name": "data_subject_requests_subject_user_id_users_id_fk",
          "tableFrom": "data_subject_requests",
          "tableTo": "users",
          "columnsFrom": [
            "subject_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_subject_requests_submitted_by_user_id_users_id_fk": {
          "name": "data_subject_requests_submitted_by_user_id_users_id_fk",
          "tableFrom": "data_subject_requests",
          "tableTo": "users",
          "columnsFrom": [
            "submitted_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_subject_requests_created_by_users_id_fk": {
          "name": "data_subject_requests_created_by_users_id_fk",
          "tableFrom": "data_subject_requests",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_subject_requests_updated_by_users_id_fk": {
          "name": "data_subject_requests_updated_by_users_id_fk",
          "tableFrom": "data_subject_requests",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "data_subject_requests_deleted_by_users_id_fk": {
          "name": "data_subject_requests_deleted_by_users_id_fk",
          "tableFrom": "data_subject_requests",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "legal_holds": {
      "name": "legal_holds",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "legal_hold_scope",
          "primaryKey": false,
          "notNull": true
        },
        "target_record_id": {
          "name": "target_record_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "legal_hold_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "source_reference": {
          "name": "source_reference",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "issued_by_user_id": {
          "name": "issued_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "legal_holds_biz_id_id_unique": {
          "name": "legal_holds_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "legal_holds_biz_status_starts_idx": {
          "name": "legal_holds_biz_status_starts_idx",
          "columns": [
            "biz_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "legal_holds_biz_id_bizes_id_fk": {
          "name": "legal_holds_biz_id_bizes_id_fk",
          "tableFrom": "legal_holds",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "legal_holds_issued_by_user_id_users_id_fk": {
          "name": "legal_holds_issued_by_user_id_users_id_fk",
          "tableFrom": "legal_holds",
          "tableTo": "users",
          "columnsFrom": [
            "issued_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "legal_holds_created_by_users_id_fk": {
          "name": "legal_holds_created_by_users_id_fk",
          "tableFrom": "legal_holds",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "legal_holds_updated_by_users_id_fk": {
          "name": "legal_holds_updated_by_users_id_fk",
          "tableFrom": "legal_holds",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "legal_holds_deleted_by_users_id_fk": {
          "name": "legal_holds_deleted_by_users_id_fk",
          "tableFrom": "legal_holds",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "policy_bindings": {
      "name": "policy_bindings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "policy_template_id": {
          "name": "policy_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "policy_binding_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_id": {
          "name": "offer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_id": {
          "name": "queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "enforcement_policy": {
          "name": "enforcement_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "policy_bindings_biz_id_id_unique": {
          "name": "policy_bindings_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "policy_bindings_biz_template_id_id_unique": {
          "name": "policy_bindings_biz_template_id_id_unique",
          "columns": [
            "biz_id",
            "policy_template_id",
            "id"
          ],
          "isUnique": true
        },
        "policy_bindings_biz_target_active_priority_idx": {
          "name": "policy_bindings_biz_target_active_priority_idx",
          "columns": [
            "biz_id",
            "target_type",
            "is_active",
            "priority"
          ],
          "isUnique": false
        },
        "policy_bindings_biz_template_active_idx": {
          "name": "policy_bindings_biz_template_active_idx",
          "columns": [
            "biz_id",
            "policy_template_id",
            "is_active"
          ],
          "isUnique": false
        },
        "policy_bindings_biz_subject_idx": {
          "name": "policy_bindings_biz_subject_idx",
          "columns": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "isUnique": false
        },
        "policy_bindings_template_biz_unique": {
          "name": "policy_bindings_template_biz_unique",
          "columns": [
            "policy_template_id",
            "target_type"
          ],
          "isUnique": true
        },
        "policy_bindings_template_location_unique": {
          "name": "policy_bindings_template_location_unique",
          "columns": [
            "policy_template_id",
            "location_id"
          ],
          "isUnique": true
        },
        "policy_bindings_template_resource_unique": {
          "name": "policy_bindings_template_resource_unique",
          "columns": [
            "policy_template_id",
            "resource_id"
          ],
          "isUnique": true
        },
        "policy_bindings_template_service_unique": {
          "name": "policy_bindings_template_service_unique",
          "columns": [
            "policy_template_id",
            "service_id"
          ],
          "isUnique": true
        },
        "policy_bindings_template_service_product_unique": {
          "name": "policy_bindings_template_service_product_unique",
          "columns": [
            "policy_template_id",
            "service_product_id"
          ],
          "isUnique": true
        },
        "policy_bindings_template_offer_unique": {
          "name": "policy_bindings_template_offer_unique",
          "columns": [
            "policy_template_id",
            "offer_id"
          ],
          "isUnique": true
        },
        "policy_bindings_template_offer_version_unique": {
          "name": "policy_bindings_template_offer_version_unique",
          "columns": [
            "policy_template_id",
            "offer_version_id"
          ],
          "isUnique": true
        },
        "policy_bindings_template_queue_unique": {
          "name": "policy_bindings_template_queue_unique",
          "columns": [
            "policy_template_id",
            "queue_id"
          ],
          "isUnique": true
        },
        "policy_bindings_template_subject_unique": {
          "name": "policy_bindings_template_subject_unique",
          "columns": [
            "policy_template_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "policy_bindings_biz_id_bizes_id_fk": {
          "name": "policy_bindings_biz_id_bizes_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_policy_template_id_policy_templates_id_fk": {
          "name": "policy_bindings_policy_template_id_policy_templates_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "policy_templates",
          "columnsFrom": [
            "policy_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_location_id_locations_id_fk": {
          "name": "policy_bindings_location_id_locations_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_resource_id_resources_id_fk": {
          "name": "policy_bindings_resource_id_resources_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_service_id_services_id_fk": {
          "name": "policy_bindings_service_id_services_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_service_product_id_service_products_id_fk": {
          "name": "policy_bindings_service_product_id_service_products_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_offer_id_offers_id_fk": {
          "name": "policy_bindings_offer_id_offers_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_offer_version_id_offer_versions_id_fk": {
          "name": "policy_bindings_offer_version_id_offer_versions_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_queue_id_queues_id_fk": {
          "name": "policy_bindings_queue_id_queues_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "queues",
          "columnsFrom": [
            "queue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_created_by_users_id_fk": {
          "name": "policy_bindings_created_by_users_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_updated_by_users_id_fk": {
          "name": "policy_bindings_updated_by_users_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_deleted_by_users_id_fk": {
          "name": "policy_bindings_deleted_by_users_id_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_biz_template_fk": {
          "name": "policy_bindings_biz_template_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "policy_templates",
          "columnsFrom": [
            "biz_id",
            "policy_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_biz_location_fk": {
          "name": "policy_bindings_biz_location_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_biz_resource_fk": {
          "name": "policy_bindings_biz_resource_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_biz_service_fk": {
          "name": "policy_bindings_biz_service_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "services",
          "columnsFrom": [
            "biz_id",
            "service_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_biz_service_product_fk": {
          "name": "policy_bindings_biz_service_product_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_biz_offer_fk": {
          "name": "policy_bindings_biz_offer_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "offers",
          "columnsFrom": [
            "biz_id",
            "offer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_biz_offer_version_fk": {
          "name": "policy_bindings_biz_offer_version_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_biz_queue_fk": {
          "name": "policy_bindings_biz_queue_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "queues",
          "columnsFrom": [
            "biz_id",
            "queue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_bindings_biz_subject_fk": {
          "name": "policy_bindings_biz_subject_fk",
          "tableFrom": "policy_bindings",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "policy_breach_events": {
      "name": "policy_breach_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "policy_template_id": {
          "name": "policy_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "policy_rule_id": {
          "name": "policy_rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy_binding_id": {
          "name": "policy_binding_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "policy_breach_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "detection_source": {
          "name": "detection_source",
          "type": "policy_breach_detection_source",
          "primaryKey": false,
          "notNull": true,
          "default": "'auto_engine'"
        },
        "severity": {
          "name": "severity",
          "type": "policy_rule_severity",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "waived_at": {
          "name": "waived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "dismissed_at": {
          "name": "dismissed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "measured_value": {
          "name": "measured_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "threshold_value": {
          "name": "threshold_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "breach_code": {
          "name": "breach_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "context_snapshot": {
          "name": "context_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "policy_breach_events_biz_id_id_unique": {
          "name": "policy_breach_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "policy_breach_events_biz_status_occurred_idx": {
          "name": "policy_breach_events_biz_status_occurred_idx",
          "columns": [
            "biz_id",
            "status",
            "occurred_at"
          ],
          "isUnique": false
        },
        "policy_breach_events_biz_template_occurred_idx": {
          "name": "policy_breach_events_biz_template_occurred_idx",
          "columns": [
            "biz_id",
            "policy_template_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "policy_breach_events_biz_target_occurred_idx": {
          "name": "policy_breach_events_biz_target_occurred_idx",
          "columns": [
            "biz_id",
            "target_subject_type",
            "target_subject_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "policy_breach_events_biz_id_bizes_id_fk": {
          "name": "policy_breach_events_biz_id_bizes_id_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_policy_template_id_policy_templates_id_fk": {
          "name": "policy_breach_events_policy_template_id_policy_templates_id_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "policy_templates",
          "columnsFrom": [
            "policy_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_policy_rule_id_policy_rules_id_fk": {
          "name": "policy_breach_events_policy_rule_id_policy_rules_id_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "policy_rules",
          "columnsFrom": [
            "policy_rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_policy_binding_id_policy_bindings_id_fk": {
          "name": "policy_breach_events_policy_binding_id_policy_bindings_id_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "policy_bindings",
          "columnsFrom": [
            "policy_binding_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_created_by_users_id_fk": {
          "name": "policy_breach_events_created_by_users_id_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_updated_by_users_id_fk": {
          "name": "policy_breach_events_updated_by_users_id_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_deleted_by_users_id_fk": {
          "name": "policy_breach_events_deleted_by_users_id_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_biz_template_fk": {
          "name": "policy_breach_events_biz_template_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "policy_templates",
          "columnsFrom": [
            "biz_id",
            "policy_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_biz_template_rule_fk": {
          "name": "policy_breach_events_biz_template_rule_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "policy_rules",
          "columnsFrom": [
            "biz_id",
            "policy_template_id",
            "policy_rule_id"
          ],
          "columnsTo": [
            "biz_id",
            "policy_template_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_biz_template_binding_fk": {
          "name": "policy_breach_events_biz_template_binding_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "policy_bindings",
          "columnsFrom": [
            "biz_id",
            "policy_template_id",
            "policy_binding_id"
          ],
          "columnsTo": [
            "biz_id",
            "policy_template_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_breach_events_biz_target_subject_fk": {
          "name": "policy_breach_events_biz_target_subject_fk",
          "tableFrom": "policy_breach_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "policy_consequence_events": {
      "name": "policy_consequence_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "policy_breach_event_id": {
          "name": "policy_breach_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "consequence_type": {
          "name": "consequence_type",
          "type": "policy_consequence_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "policy_consequence_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "planned_at": {
          "name": "planned_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reverted_at": {
          "name": "reverted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compensation_ledger_entry_id": {
          "name": "compensation_ledger_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "settlement_entry_id": {
          "name": "settlement_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_instance_id": {
          "name": "workflow_instance_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "review_queue_item_id": {
          "name": "review_queue_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "policy_consequence_events_biz_id_id_unique": {
          "name": "policy_consequence_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "policy_consequence_events_biz_status_planned_idx": {
          "name": "policy_consequence_events_biz_status_planned_idx",
          "columns": [
            "biz_id",
            "status",
            "planned_at"
          ],
          "isUnique": false
        },
        "policy_consequence_events_biz_breach_idx": {
          "name": "policy_consequence_events_biz_breach_idx",
          "columns": [
            "biz_id",
            "policy_breach_event_id",
            "planned_at"
          ],
          "isUnique": false
        },
        "policy_consequence_events_biz_type_status_idx": {
          "name": "policy_consequence_events_biz_type_status_idx",
          "columns": [
            "biz_id",
            "consequence_type",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "policy_consequence_events_biz_id_bizes_id_fk": {
          "name": "policy_consequence_events_biz_id_bizes_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_policy_breach_event_id_policy_breach_events_id_fk": {
          "name": "policy_consequence_events_policy_breach_event_id_policy_breach_events_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "policy_breach_events",
          "columnsFrom": [
            "policy_breach_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_actor_user_id_users_id_fk": {
          "name": "policy_consequence_events_actor_user_id_users_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_compensation_ledger_entry_id_compensation_ledger_entries_id_fk": {
          "name": "policy_consequence_events_compensation_ledger_entry_id_compensation_ledger_entries_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "compensation_ledger_entries",
          "columnsFrom": [
            "compensation_ledger_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_payment_transaction_id_payment_transactions_id_fk": {
          "name": "policy_consequence_events_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_settlement_entry_id_settlement_entries_id_fk": {
          "name": "policy_consequence_events_settlement_entry_id_settlement_entries_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "settlement_entries",
          "columnsFrom": [
            "settlement_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_workflow_instance_id_workflow_instances_id_fk": {
          "name": "policy_consequence_events_workflow_instance_id_workflow_instances_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "workflow_instances",
          "columnsFrom": [
            "workflow_instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_review_queue_item_id_review_queue_items_id_fk": {
          "name": "policy_consequence_events_review_queue_item_id_review_queue_items_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "review_queue_items",
          "columnsFrom": [
            "review_queue_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_created_by_users_id_fk": {
          "name": "policy_consequence_events_created_by_users_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_updated_by_users_id_fk": {
          "name": "policy_consequence_events_updated_by_users_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_deleted_by_users_id_fk": {
          "name": "policy_consequence_events_deleted_by_users_id_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_biz_breach_fk": {
          "name": "policy_consequence_events_biz_breach_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "policy_breach_events",
          "columnsFrom": [
            "biz_id",
            "policy_breach_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_biz_compensation_ledger_fk": {
          "name": "policy_consequence_events_biz_compensation_ledger_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "compensation_ledger_entries",
          "columnsFrom": [
            "biz_id",
            "compensation_ledger_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_biz_payment_transaction_fk": {
          "name": "policy_consequence_events_biz_payment_transaction_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_biz_settlement_entry_fk": {
          "name": "policy_consequence_events_biz_settlement_entry_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "settlement_entries",
          "columnsFrom": [
            "biz_id",
            "settlement_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_biz_workflow_instance_fk": {
          "name": "policy_consequence_events_biz_workflow_instance_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "workflow_instances",
          "columnsFrom": [
            "biz_id",
            "workflow_instance_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_consequence_events_biz_review_queue_item_fk": {
          "name": "policy_consequence_events_biz_review_queue_item_fk",
          "tableFrom": "policy_consequence_events",
          "tableTo": "review_queue_items",
          "columnsFrom": [
            "biz_id",
            "review_queue_item_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "policy_rules": {
      "name": "policy_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "policy_template_id": {
          "name": "policy_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rule_key": {
          "name": "rule_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "predicate_type": {
          "name": "predicate_type",
          "type": "policy_rule_predicate_type",
          "primaryKey": false,
          "notNull": true
        },
        "condition_expr": {
          "name": "condition_expr",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metric_key": {
          "name": "metric_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metric_comparator": {
          "name": "metric_comparator",
          "type": "varchar(8)",
          "primaryKey": false,
          "notNull": false
        },
        "metric_threshold": {
          "name": "metric_threshold",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "schedule_window": {
          "name": "schedule_window",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "policy_rule_severity",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_blocking": {
          "name": "is_blocking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "evidence_policy": {
          "name": "evidence_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "consequence_policy": {
          "name": "consequence_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "policy_rules_biz_id_id_unique": {
          "name": "policy_rules_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "policy_rules_biz_template_id_id_unique": {
          "name": "policy_rules_biz_template_id_id_unique",
          "columns": [
            "biz_id",
            "policy_template_id",
            "id"
          ],
          "isUnique": true
        },
        "policy_rules_template_rule_key_unique": {
          "name": "policy_rules_template_rule_key_unique",
          "columns": [
            "policy_template_id",
            "rule_key"
          ],
          "isUnique": true
        },
        "policy_rules_biz_template_enabled_priority_idx": {
          "name": "policy_rules_biz_template_enabled_priority_idx",
          "columns": [
            "biz_id",
            "policy_template_id",
            "is_enabled",
            "priority"
          ],
          "isUnique": false
        },
        "policy_rules_biz_severity_idx": {
          "name": "policy_rules_biz_severity_idx",
          "columns": [
            "biz_id",
            "severity",
            "is_enabled"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "policy_rules_biz_id_bizes_id_fk": {
          "name": "policy_rules_biz_id_bizes_id_fk",
          "tableFrom": "policy_rules",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_rules_policy_template_id_policy_templates_id_fk": {
          "name": "policy_rules_policy_template_id_policy_templates_id_fk",
          "tableFrom": "policy_rules",
          "tableTo": "policy_templates",
          "columnsFrom": [
            "policy_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_rules_created_by_users_id_fk": {
          "name": "policy_rules_created_by_users_id_fk",
          "tableFrom": "policy_rules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_rules_updated_by_users_id_fk": {
          "name": "policy_rules_updated_by_users_id_fk",
          "tableFrom": "policy_rules",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_rules_deleted_by_users_id_fk": {
          "name": "policy_rules_deleted_by_users_id_fk",
          "tableFrom": "policy_rules",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_rules_biz_template_fk": {
          "name": "policy_rules_biz_template_fk",
          "tableFrom": "policy_rules",
          "tableTo": "policy_templates",
          "columnsFrom": [
            "biz_id",
            "policy_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "policy_templates": {
      "name": "policy_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "domain_key": {
          "name": "domain_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "aggregation_mode": {
          "name": "aggregation_mode",
          "type": "policy_rule_aggregation_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'all'"
        },
        "min_passing_rule_count": {
          "name": "min_passing_rule_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from_at": {
          "name": "effective_from_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to_at": {
          "name": "effective_to_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "evaluation_policy": {
          "name": "evaluation_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "consequence_policy": {
          "name": "consequence_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "policy_templates_biz_id_id_unique": {
          "name": "policy_templates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "policy_templates_biz_slug_version_unique": {
          "name": "policy_templates_biz_slug_version_unique",
          "columns": [
            "biz_id",
            "slug",
            "version"
          ],
          "isUnique": true
        },
        "policy_templates_biz_domain_status_effective_idx": {
          "name": "policy_templates_biz_domain_status_effective_idx",
          "columns": [
            "biz_id",
            "domain_key",
            "status",
            "effective_from_at"
          ],
          "isUnique": false
        },
        "policy_templates_biz_domain_default_unique": {
          "name": "policy_templates_biz_domain_default_unique",
          "columns": [
            "biz_id",
            "domain_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "policy_templates_biz_id_bizes_id_fk": {
          "name": "policy_templates_biz_id_bizes_id_fk",
          "tableFrom": "policy_templates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_templates_created_by_users_id_fk": {
          "name": "policy_templates_created_by_users_id_fk",
          "tableFrom": "policy_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_templates_updated_by_users_id_fk": {
          "name": "policy_templates_updated_by_users_id_fk",
          "tableFrom": "policy_templates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "policy_templates_deleted_by_users_id_fk": {
          "name": "policy_templates_deleted_by_users_id_fk",
          "tableFrom": "policy_templates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "privacy_identity_modes": {
      "name": "privacy_identity_modes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "privacy_identity_mode",
          "primaryKey": false,
          "notNull": true
        },
        "sensitivity": {
          "name": "sensitivity",
          "type": "pii_sensitivity_level",
          "primaryKey": false,
          "notNull": true,
          "default": "'moderate'"
        },
        "masking_policy": {
          "name": "masking_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "access_policy": {
          "name": "access_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "privacy_identity_modes_biz_id_id_unique": {
          "name": "privacy_identity_modes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "privacy_identity_modes_biz_slug_unique": {
          "name": "privacy_identity_modes_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "privacy_identity_modes_single_default_unique": {
          "name": "privacy_identity_modes_single_default_unique",
          "columns": [
            "biz_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "privacy_identity_modes_biz_id_bizes_id_fk": {
          "name": "privacy_identity_modes_biz_id_bizes_id_fk",
          "tableFrom": "privacy_identity_modes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "privacy_identity_modes_created_by_users_id_fk": {
          "name": "privacy_identity_modes_created_by_users_id_fk",
          "tableFrom": "privacy_identity_modes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "privacy_identity_modes_updated_by_users_id_fk": {
          "name": "privacy_identity_modes_updated_by_users_id_fk",
          "tableFrom": "privacy_identity_modes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "privacy_identity_modes_deleted_by_users_id_fk": {
          "name": "privacy_identity_modes_deleted_by_users_id_fk",
          "tableFrom": "privacy_identity_modes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "redaction_jobs": {
      "name": "redaction_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data_subject_request_id": {
          "name": "data_subject_request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "legal_hold_id": {
          "name": "legal_hold_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "redaction_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "target_record_id": {
          "name": "target_record_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "redaction_job_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "queued_at": {
          "name": "queued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "execution_log": {
          "name": "execution_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "redaction_jobs_biz_id_id_unique": {
          "name": "redaction_jobs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "redaction_jobs_biz_status_queued_idx": {
          "name": "redaction_jobs_biz_status_queued_idx",
          "columns": [
            "biz_id",
            "status",
            "queued_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "redaction_jobs_biz_id_bizes_id_fk": {
          "name": "redaction_jobs_biz_id_bizes_id_fk",
          "tableFrom": "redaction_jobs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "redaction_jobs_data_subject_request_id_data_subject_requests_id_fk": {
          "name": "redaction_jobs_data_subject_request_id_data_subject_requests_id_fk",
          "tableFrom": "redaction_jobs",
          "tableTo": "data_subject_requests",
          "columnsFrom": [
            "data_subject_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "redaction_jobs_legal_hold_id_legal_holds_id_fk": {
          "name": "redaction_jobs_legal_hold_id_legal_holds_id_fk",
          "tableFrom": "redaction_jobs",
          "tableTo": "legal_holds",
          "columnsFrom": [
            "legal_hold_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "redaction_jobs_created_by_users_id_fk": {
          "name": "redaction_jobs_created_by_users_id_fk",
          "tableFrom": "redaction_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "redaction_jobs_updated_by_users_id_fk": {
          "name": "redaction_jobs_updated_by_users_id_fk",
          "tableFrom": "redaction_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "redaction_jobs_deleted_by_users_id_fk": {
          "name": "redaction_jobs_deleted_by_users_id_fk",
          "tableFrom": "redaction_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "redaction_jobs_biz_data_subject_request_fk": {
          "name": "redaction_jobs_biz_data_subject_request_fk",
          "tableFrom": "redaction_jobs",
          "tableTo": "data_subject_requests",
          "columnsFrom": [
            "biz_id",
            "data_subject_request_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "redaction_jobs_biz_legal_hold_fk": {
          "name": "redaction_jobs_biz_legal_hold_fk",
          "tableFrom": "redaction_jobs",
          "tableTo": "legal_holds",
          "columnsFrom": [
            "biz_id",
            "legal_hold_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "retention_policies": {
      "name": "retention_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_profile_id": {
          "name": "compliance_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "data_class": {
          "name": "data_class",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "interval_value": {
          "name": "interval_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "interval_unit": {
          "name": "interval_unit",
          "type": "retention_interval_unit",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "retention_action",
          "primaryKey": false,
          "notNull": true
        },
        "honor_legal_holds": {
          "name": "honor_legal_holds",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "minimum_retain_days": {
          "name": "minimum_retain_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "retention_policies_biz_id_id_unique": {
          "name": "retention_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "retention_policies_data_class_unique": {
          "name": "retention_policies_data_class_unique",
          "columns": [
            "biz_id",
            "data_class"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "retention_policies_biz_id_bizes_id_fk": {
          "name": "retention_policies_biz_id_bizes_id_fk",
          "tableFrom": "retention_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "retention_policies_compliance_profile_id_tenant_compliance_profiles_id_fk": {
          "name": "retention_policies_compliance_profile_id_tenant_compliance_profiles_id_fk",
          "tableFrom": "retention_policies",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "compliance_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "retention_policies_created_by_users_id_fk": {
          "name": "retention_policies_created_by_users_id_fk",
          "tableFrom": "retention_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "retention_policies_updated_by_users_id_fk": {
          "name": "retention_policies_updated_by_users_id_fk",
          "tableFrom": "retention_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "retention_policies_deleted_by_users_id_fk": {
          "name": "retention_policies_deleted_by_users_id_fk",
          "tableFrom": "retention_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "retention_policies_biz_compliance_profile_fk": {
          "name": "retention_policies_biz_compliance_profile_fk",
          "tableFrom": "retention_policies",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "biz_id",
            "compliance_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tenant_compliance_profiles": {
      "name": "tenant_compliance_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "regime": {
          "name": "regime",
          "type": "compliance_regime",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "evidence_requirements": {
          "name": "evidence_requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "incident_policy": {
          "name": "incident_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tenant_compliance_profiles_biz_id_id_unique": {
          "name": "tenant_compliance_profiles_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "tenant_compliance_profiles_biz_regime_idx": {
          "name": "tenant_compliance_profiles_biz_regime_idx",
          "columns": [
            "biz_id",
            "regime",
            "is_active"
          ],
          "isUnique": false
        },
        "tenant_compliance_profiles_single_default_unique": {
          "name": "tenant_compliance_profiles_single_default_unique",
          "columns": [
            "biz_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "tenant_compliance_profiles_biz_id_bizes_id_fk": {
          "name": "tenant_compliance_profiles_biz_id_bizes_id_fk",
          "tableFrom": "tenant_compliance_profiles",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tenant_compliance_profiles_created_by_users_id_fk": {
          "name": "tenant_compliance_profiles_created_by_users_id_fk",
          "tableFrom": "tenant_compliance_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tenant_compliance_profiles_updated_by_users_id_fk": {
          "name": "tenant_compliance_profiles_updated_by_users_id_fk",
          "tableFrom": "tenant_compliance_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tenant_compliance_profiles_deleted_by_users_id_fk": {
          "name": "tenant_compliance_profiles_deleted_by_users_id_fk",
          "tableFrom": "tenant_compliance_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "breach_notifications": {
      "name": "breach_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "security_incident_id": {
          "name": "security_incident_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_type": {
          "name": "recipient_type",
          "type": "breach_notification_recipient_type",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_name": {
          "name": "recipient_name",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_ref": {
          "name": "recipient_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "communication_channel",
          "primaryKey": false,
          "notNull": true,
          "default": "'email'"
        },
        "status": {
          "name": "status",
          "type": "breach_notification_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "delivery_ref": {
          "name": "delivery_ref",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "breach_notifications_biz_id_id_unique": {
          "name": "breach_notifications_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "breach_notifications_biz_incident_status_idx": {
          "name": "breach_notifications_biz_incident_status_idx",
          "columns": [
            "biz_id",
            "security_incident_id",
            "status"
          ],
          "isUnique": false
        },
        "breach_notifications_biz_due_idx": {
          "name": "breach_notifications_biz_due_idx",
          "columns": [
            "biz_id",
            "due_at",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "breach_notifications_biz_id_bizes_id_fk": {
          "name": "breach_notifications_biz_id_bizes_id_fk",
          "tableFrom": "breach_notifications",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "breach_notifications_security_incident_id_security_incidents_id_fk": {
          "name": "breach_notifications_security_incident_id_security_incidents_id_fk",
          "tableFrom": "breach_notifications",
          "tableTo": "security_incidents",
          "columnsFrom": [
            "security_incident_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "breach_notifications_created_by_users_id_fk": {
          "name": "breach_notifications_created_by_users_id_fk",
          "tableFrom": "breach_notifications",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "breach_notifications_updated_by_users_id_fk": {
          "name": "breach_notifications_updated_by_users_id_fk",
          "tableFrom": "breach_notifications",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "breach_notifications_deleted_by_users_id_fk": {
          "name": "breach_notifications_deleted_by_users_id_fk",
          "tableFrom": "breach_notifications",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "breach_notifications_biz_incident_fk": {
          "name": "breach_notifications_biz_incident_fk",
          "tableFrom": "breach_notifications",
          "tableTo": "security_incidents",
          "columnsFrom": [
            "biz_id",
            "security_incident_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "break_glass_reviews": {
      "name": "break_glass_reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phi_access_event_id": {
          "name": "phi_access_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "break_glass_review_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "reviewer_user_id": {
          "name": "reviewer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "security_incident_id": {
          "name": "security_incident_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "break_glass_reviews_biz_id_id_unique": {
          "name": "break_glass_reviews_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "break_glass_reviews_biz_access_event_unique": {
          "name": "break_glass_reviews_biz_access_event_unique",
          "columns": [
            "biz_id",
            "phi_access_event_id"
          ],
          "isUnique": true
        },
        "break_glass_reviews_biz_status_reviewed_idx": {
          "name": "break_glass_reviews_biz_status_reviewed_idx",
          "columns": [
            "biz_id",
            "status",
            "reviewed_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "break_glass_reviews_biz_id_bizes_id_fk": {
          "name": "break_glass_reviews_biz_id_bizes_id_fk",
          "tableFrom": "break_glass_reviews",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "break_glass_reviews_phi_access_event_id_phi_access_events_id_fk": {
          "name": "break_glass_reviews_phi_access_event_id_phi_access_events_id_fk",
          "tableFrom": "break_glass_reviews",
          "tableTo": "phi_access_events",
          "columnsFrom": [
            "phi_access_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "break_glass_reviews_reviewer_user_id_users_id_fk": {
          "name": "break_glass_reviews_reviewer_user_id_users_id_fk",
          "tableFrom": "break_glass_reviews",
          "tableTo": "users",
          "columnsFrom": [
            "reviewer_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "break_glass_reviews_security_incident_id_security_incidents_id_fk": {
          "name": "break_glass_reviews_security_incident_id_security_incidents_id_fk",
          "tableFrom": "break_glass_reviews",
          "tableTo": "security_incidents",
          "columnsFrom": [
            "security_incident_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "break_glass_reviews_created_by_users_id_fk": {
          "name": "break_glass_reviews_created_by_users_id_fk",
          "tableFrom": "break_glass_reviews",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "break_glass_reviews_updated_by_users_id_fk": {
          "name": "break_glass_reviews_updated_by_users_id_fk",
          "tableFrom": "break_glass_reviews",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "break_glass_reviews_deleted_by_users_id_fk": {
          "name": "break_glass_reviews_deleted_by_users_id_fk",
          "tableFrom": "break_glass_reviews",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "break_glass_reviews_biz_access_event_fk": {
          "name": "break_glass_reviews_biz_access_event_fk",
          "tableFrom": "break_glass_reviews",
          "tableTo": "phi_access_events",
          "columnsFrom": [
            "biz_id",
            "phi_access_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "break_glass_reviews_biz_incident_fk": {
          "name": "break_glass_reviews_biz_incident_fk",
          "tableFrom": "break_glass_reviews",
          "tableTo": "security_incidents",
          "columnsFrom": [
            "biz_id",
            "security_incident_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "business_associate_agreements": {
      "name": "business_associate_agreements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_profile_id": {
          "name": "compliance_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "party_type": {
          "name": "party_type",
          "type": "baa_party_type",
          "primaryKey": false,
          "notNull": true
        },
        "party_name": {
          "name": "party_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "party_external_ref": {
          "name": "party_external_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "biz_extension_install_id": {
          "name": "biz_extension_install_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "baa_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "agreement_version": {
          "name": "agreement_version",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "contract_ref": {
          "name": "contract_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "document_ref": {
          "name": "document_ref",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "allows_phi_processing": {
          "name": "allows_phi_processing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "requires_subcontractor_flow_down": {
          "name": "requires_subcontractor_flow_down",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "breach_notice_window_hours": {
          "name": "breach_notice_window_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 72
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "signed_at": {
          "name": "signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "terminated_at": {
          "name": "terminated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "obligations": {
          "name": "obligations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "business_associate_agreements_biz_id_id_unique": {
          "name": "business_associate_agreements_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "business_associate_agreements_biz_status_effective_idx": {
          "name": "business_associate_agreements_biz_status_effective_idx",
          "columns": [
            "biz_id",
            "status",
            "effective_from"
          ],
          "isUnique": false
        },
        "business_associate_agreements_biz_party_idx": {
          "name": "business_associate_agreements_biz_party_idx",
          "columns": [
            "biz_id",
            "party_type",
            "party_name",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "business_associate_agreements_biz_id_bizes_id_fk": {
          "name": "business_associate_agreements_biz_id_bizes_id_fk",
          "tableFrom": "business_associate_agreements",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "business_associate_agreements_compliance_profile_id_tenant_compliance_profiles_id_fk": {
          "name": "business_associate_agreements_compliance_profile_id_tenant_compliance_profiles_id_fk",
          "tableFrom": "business_associate_agreements",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "compliance_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "business_associate_agreements_biz_extension_install_id_biz_extension_installs_id_fk": {
          "name": "business_associate_agreements_biz_extension_install_id_biz_extension_installs_id_fk",
          "tableFrom": "business_associate_agreements",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "business_associate_agreements_created_by_users_id_fk": {
          "name": "business_associate_agreements_created_by_users_id_fk",
          "tableFrom": "business_associate_agreements",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "business_associate_agreements_updated_by_users_id_fk": {
          "name": "business_associate_agreements_updated_by_users_id_fk",
          "tableFrom": "business_associate_agreements",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "business_associate_agreements_deleted_by_users_id_fk": {
          "name": "business_associate_agreements_deleted_by_users_id_fk",
          "tableFrom": "business_associate_agreements",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "business_associate_agreements_biz_compliance_profile_fk": {
          "name": "business_associate_agreements_biz_compliance_profile_fk",
          "tableFrom": "business_associate_agreements",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "biz_id",
            "compliance_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "business_associate_agreements_biz_install_fk": {
          "name": "business_associate_agreements_biz_install_fk",
          "tableFrom": "business_associate_agreements",
          "tableTo": "biz_extension_installs",
          "columnsFrom": [
            "biz_id",
            "biz_extension_install_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "hipaa_authorizations": {
      "name": "hipaa_authorizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_profile_id": {
          "name": "compliance_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_user_id": {
          "name": "subject_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_group_account_id": {
          "name": "subject_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_external_ref": {
          "name": "subject_external_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "hipaa_authorization_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "purpose_of_use": {
          "name": "purpose_of_use",
          "type": "hipaa_purpose_of_use",
          "primaryKey": false,
          "notNull": true
        },
        "scope_description": {
          "name": "scope_description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signed_at": {
          "name": "signed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "revoked_reason": {
          "name": "revoked_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_ref": {
          "name": "document_ref",
          "type": "varchar(600)",
          "primaryKey": false,
          "notNull": false
        },
        "granted_by_user_id": {
          "name": "granted_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "witnessed_by_user_id": {
          "name": "witnessed_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "hipaa_authorizations_biz_id_id_unique": {
          "name": "hipaa_authorizations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "hipaa_authorizations_biz_subject_status_idx": {
          "name": "hipaa_authorizations_biz_subject_status_idx",
          "columns": [
            "biz_id",
            "subject_user_id",
            "subject_group_account_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "hipaa_authorizations_biz_id_bizes_id_fk": {
          "name": "hipaa_authorizations_biz_id_bizes_id_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hipaa_authorizations_compliance_profile_id_tenant_compliance_profiles_id_fk": {
          "name": "hipaa_authorizations_compliance_profile_id_tenant_compliance_profiles_id_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "compliance_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hipaa_authorizations_subject_user_id_users_id_fk": {
          "name": "hipaa_authorizations_subject_user_id_users_id_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "subject_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hipaa_authorizations_subject_group_account_id_group_accounts_id_fk": {
          "name": "hipaa_authorizations_subject_group_account_id_group_accounts_id_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "subject_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hipaa_authorizations_granted_by_user_id_users_id_fk": {
          "name": "hipaa_authorizations_granted_by_user_id_users_id_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "granted_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hipaa_authorizations_witnessed_by_user_id_users_id_fk": {
          "name": "hipaa_authorizations_witnessed_by_user_id_users_id_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "witnessed_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hipaa_authorizations_created_by_users_id_fk": {
          "name": "hipaa_authorizations_created_by_users_id_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hipaa_authorizations_updated_by_users_id_fk": {
          "name": "hipaa_authorizations_updated_by_users_id_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hipaa_authorizations_deleted_by_users_id_fk": {
          "name": "hipaa_authorizations_deleted_by_users_id_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "hipaa_authorizations_biz_compliance_profile_fk": {
          "name": "hipaa_authorizations_biz_compliance_profile_fk",
          "tableFrom": "hipaa_authorizations",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "biz_id",
            "compliance_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "phi_access_events": {
      "name": "phi_access_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phi_access_policy_id": {
          "name": "phi_access_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hipaa_authorization_id": {
          "name": "hipaa_authorization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_ref": {
          "name": "actor_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "custom_field_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_user_id": {
          "name": "subject_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_group_account_id": {
          "name": "subject_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_external_ref": {
          "name": "subject_external_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "purpose_of_use": {
          "name": "purpose_of_use",
          "type": "hipaa_purpose_of_use",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "phi_access_action",
          "primaryKey": false,
          "notNull": true
        },
        "decision": {
          "name": "decision",
          "type": "phi_access_decision",
          "primaryKey": false,
          "notNull": true,
          "default": "'allowed'"
        },
        "is_break_glass": {
          "name": "is_break_glass",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "break_glass_reason": {
          "name": "break_glass_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_ref": {
          "name": "request_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ip": {
          "name": "source_ip",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fields_accessed": {
          "name": "fields_accessed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "phi_access_events_biz_id_id_unique": {
          "name": "phi_access_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "phi_access_events_biz_decision_occurred_idx": {
          "name": "phi_access_events_biz_decision_occurred_idx",
          "columns": [
            "biz_id",
            "decision",
            "occurred_at"
          ],
          "isUnique": false
        },
        "phi_access_events_biz_subject_occurred_idx": {
          "name": "phi_access_events_biz_subject_occurred_idx",
          "columns": [
            "biz_id",
            "subject_user_id",
            "subject_group_account_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "phi_access_events_biz_actor_occurred_idx": {
          "name": "phi_access_events_biz_actor_occurred_idx",
          "columns": [
            "biz_id",
            "actor_user_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "phi_access_events_biz_id_bizes_id_fk": {
          "name": "phi_access_events_biz_id_bizes_id_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_phi_access_policy_id_phi_access_policies_id_fk": {
          "name": "phi_access_events_phi_access_policy_id_phi_access_policies_id_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "phi_access_policies",
          "columnsFrom": [
            "phi_access_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_hipaa_authorization_id_hipaa_authorizations_id_fk": {
          "name": "phi_access_events_hipaa_authorization_id_hipaa_authorizations_id_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "hipaa_authorizations",
          "columnsFrom": [
            "hipaa_authorization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_actor_user_id_users_id_fk": {
          "name": "phi_access_events_actor_user_id_users_id_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_subject_user_id_users_id_fk": {
          "name": "phi_access_events_subject_user_id_users_id_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "users",
          "columnsFrom": [
            "subject_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_subject_group_account_id_group_accounts_id_fk": {
          "name": "phi_access_events_subject_group_account_id_group_accounts_id_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "subject_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_created_by_users_id_fk": {
          "name": "phi_access_events_created_by_users_id_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_updated_by_users_id_fk": {
          "name": "phi_access_events_updated_by_users_id_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_deleted_by_users_id_fk": {
          "name": "phi_access_events_deleted_by_users_id_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_biz_policy_fk": {
          "name": "phi_access_events_biz_policy_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "phi_access_policies",
          "columnsFrom": [
            "biz_id",
            "phi_access_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_events_biz_authorization_fk": {
          "name": "phi_access_events_biz_authorization_fk",
          "tableFrom": "phi_access_events",
          "tableTo": "hipaa_authorizations",
          "columnsFrom": [
            "biz_id",
            "hipaa_authorization_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "phi_access_policies": {
      "name": "phi_access_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_profile_id": {
          "name": "compliance_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "scope": {
          "name": "scope",
          "type": "extension_scope",
          "primaryKey": false,
          "notNull": true,
          "default": "'biz'"
        },
        "scope_ref_key": {
          "name": "scope_ref_key",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_ref_type": {
          "name": "subject_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_ref_id": {
          "name": "subject_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sensitivity": {
          "name": "sensitivity",
          "type": "pii_sensitivity_level",
          "primaryKey": false,
          "notNull": true,
          "default": "'high'"
        },
        "allowed_purposes": {
          "name": "allowed_purposes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "allowed_actions": {
          "name": "allowed_actions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "require_authorization": {
          "name": "require_authorization",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "require_mfa": {
          "name": "require_mfa",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "require_break_glass_justification": {
          "name": "require_break_glass_justification",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "phi_access_policies_biz_id_id_unique": {
          "name": "phi_access_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "phi_access_policies_biz_slug_unique": {
          "name": "phi_access_policies_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "phi_access_policies_biz_status_scope_idx": {
          "name": "phi_access_policies_biz_status_scope_idx",
          "columns": [
            "biz_id",
            "status",
            "scope"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "phi_access_policies_biz_id_bizes_id_fk": {
          "name": "phi_access_policies_biz_id_bizes_id_fk",
          "tableFrom": "phi_access_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_policies_compliance_profile_id_tenant_compliance_profiles_id_fk": {
          "name": "phi_access_policies_compliance_profile_id_tenant_compliance_profiles_id_fk",
          "tableFrom": "phi_access_policies",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "compliance_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_policies_location_id_locations_id_fk": {
          "name": "phi_access_policies_location_id_locations_id_fk",
          "tableFrom": "phi_access_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_policies_created_by_users_id_fk": {
          "name": "phi_access_policies_created_by_users_id_fk",
          "tableFrom": "phi_access_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_policies_updated_by_users_id_fk": {
          "name": "phi_access_policies_updated_by_users_id_fk",
          "tableFrom": "phi_access_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_policies_deleted_by_users_id_fk": {
          "name": "phi_access_policies_deleted_by_users_id_fk",
          "tableFrom": "phi_access_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_policies_biz_compliance_profile_fk": {
          "name": "phi_access_policies_biz_compliance_profile_fk",
          "tableFrom": "phi_access_policies",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "biz_id",
            "compliance_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_policies_biz_location_fk": {
          "name": "phi_access_policies_biz_location_fk",
          "tableFrom": "phi_access_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_access_policies_biz_subject_fk": {
          "name": "phi_access_policies_biz_subject_fk",
          "tableFrom": "phi_access_policies",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_ref_type",
            "subject_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "phi_disclosure_events": {
      "name": "phi_disclosure_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_profile_id": {
          "name": "compliance_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_user_id": {
          "name": "subject_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_group_account_id": {
          "name": "subject_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_external_ref": {
          "name": "subject_external_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "disclosed_by_user_id": {
          "name": "disclosed_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_type": {
          "name": "recipient_type",
          "type": "disclosure_recipient_type",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_name": {
          "name": "recipient_name",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_ref": {
          "name": "recipient_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "purpose_of_use": {
          "name": "purpose_of_use",
          "type": "hipaa_purpose_of_use",
          "primaryKey": false,
          "notNull": true
        },
        "disclosed_at": {
          "name": "disclosed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "data_classes": {
          "name": "data_classes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "legal_basis": {
          "name": "legal_basis",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "is_tpo_exempt": {
          "name": "is_tpo_exempt",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "hipaa_authorization_id": {
          "name": "hipaa_authorization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "business_associate_agreement_id": {
          "name": "business_associate_agreement_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_ref": {
          "name": "request_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "phi_disclosure_events_biz_id_id_unique": {
          "name": "phi_disclosure_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "phi_disclosure_events_biz_subject_disclosed_idx": {
          "name": "phi_disclosure_events_biz_subject_disclosed_idx",
          "columns": [
            "biz_id",
            "subject_user_id",
            "subject_group_account_id",
            "disclosed_at"
          ],
          "isUnique": false
        },
        "phi_disclosure_events_biz_recipient_disclosed_idx": {
          "name": "phi_disclosure_events_biz_recipient_disclosed_idx",
          "columns": [
            "biz_id",
            "recipient_type",
            "disclosed_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "phi_disclosure_events_biz_id_bizes_id_fk": {
          "name": "phi_disclosure_events_biz_id_bizes_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_compliance_profile_id_tenant_compliance_profiles_id_fk": {
          "name": "phi_disclosure_events_compliance_profile_id_tenant_compliance_profiles_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "compliance_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_subject_user_id_users_id_fk": {
          "name": "phi_disclosure_events_subject_user_id_users_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "users",
          "columnsFrom": [
            "subject_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_subject_group_account_id_group_accounts_id_fk": {
          "name": "phi_disclosure_events_subject_group_account_id_group_accounts_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "subject_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_disclosed_by_user_id_users_id_fk": {
          "name": "phi_disclosure_events_disclosed_by_user_id_users_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "users",
          "columnsFrom": [
            "disclosed_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_hipaa_authorization_id_hipaa_authorizations_id_fk": {
          "name": "phi_disclosure_events_hipaa_authorization_id_hipaa_authorizations_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "hipaa_authorizations",
          "columnsFrom": [
            "hipaa_authorization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_business_associate_agreement_id_business_associate_agreements_id_fk": {
          "name": "phi_disclosure_events_business_associate_agreement_id_business_associate_agreements_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "business_associate_agreements",
          "columnsFrom": [
            "business_associate_agreement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_created_by_users_id_fk": {
          "name": "phi_disclosure_events_created_by_users_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_updated_by_users_id_fk": {
          "name": "phi_disclosure_events_updated_by_users_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_deleted_by_users_id_fk": {
          "name": "phi_disclosure_events_deleted_by_users_id_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_biz_compliance_profile_fk": {
          "name": "phi_disclosure_events_biz_compliance_profile_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "biz_id",
            "compliance_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_biz_authorization_fk": {
          "name": "phi_disclosure_events_biz_authorization_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "hipaa_authorizations",
          "columnsFrom": [
            "biz_id",
            "hipaa_authorization_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "phi_disclosure_events_biz_baa_fk": {
          "name": "phi_disclosure_events_biz_baa_fk",
          "tableFrom": "phi_disclosure_events",
          "tableTo": "business_associate_agreements",
          "columnsFrom": [
            "biz_id",
            "business_associate_agreement_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "security_incidents": {
      "name": "security_incidents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_profile_id": {
          "name": "compliance_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "incident_type": {
          "name": "incident_type",
          "type": "security_incident_type",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "security_incident_severity",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "status": {
          "name": "status",
          "type": "security_incident_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "summary": {
          "name": "summary",
          "type": "varchar(800)",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "affected_records_count": {
          "name": "affected_records_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reported_by_user_id": {
          "name": "reported_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "contained_at": {
          "name": "contained_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "security_incidents_biz_id_id_unique": {
          "name": "security_incidents_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "security_incidents_biz_status_detected_idx": {
          "name": "security_incidents_biz_status_detected_idx",
          "columns": [
            "biz_id",
            "status",
            "detected_at"
          ],
          "isUnique": false
        },
        "security_incidents_biz_severity_detected_idx": {
          "name": "security_incidents_biz_severity_detected_idx",
          "columns": [
            "biz_id",
            "severity",
            "detected_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "security_incidents_biz_id_bizes_id_fk": {
          "name": "security_incidents_biz_id_bizes_id_fk",
          "tableFrom": "security_incidents",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "security_incidents_compliance_profile_id_tenant_compliance_profiles_id_fk": {
          "name": "security_incidents_compliance_profile_id_tenant_compliance_profiles_id_fk",
          "tableFrom": "security_incidents",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "compliance_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "security_incidents_reported_by_user_id_users_id_fk": {
          "name": "security_incidents_reported_by_user_id_users_id_fk",
          "tableFrom": "security_incidents",
          "tableTo": "users",
          "columnsFrom": [
            "reported_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "security_incidents_created_by_users_id_fk": {
          "name": "security_incidents_created_by_users_id_fk",
          "tableFrom": "security_incidents",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "security_incidents_updated_by_users_id_fk": {
          "name": "security_incidents_updated_by_users_id_fk",
          "tableFrom": "security_incidents",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "security_incidents_deleted_by_users_id_fk": {
          "name": "security_incidents_deleted_by_users_id_fk",
          "tableFrom": "security_incidents",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "security_incidents_biz_compliance_profile_fk": {
          "name": "security_incidents_biz_compliance_profile_fk",
          "tableFrom": "security_incidents",
          "tableTo": "tenant_compliance_profiles",
          "columnsFrom": [
            "biz_id",
            "compliance_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "async_deliverables": {
      "name": "async_deliverables",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_instance_id": {
          "name": "workflow_instance_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deliverable_type": {
          "name": "deliverable_type",
          "type": "async_deliverable_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "async_deliverable_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processing_started_at": {
          "name": "processing_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ready_at": {
          "name": "ready_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_channel": {
          "name": "delivery_channel",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "result_payload": {
          "name": "result_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "async_deliverables_biz_id_id_unique": {
          "name": "async_deliverables_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "async_deliverables_biz_status_requested_idx": {
          "name": "async_deliverables_biz_status_requested_idx",
          "columns": [
            "biz_id",
            "status",
            "requested_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "async_deliverables_biz_id_bizes_id_fk": {
          "name": "async_deliverables_biz_id_bizes_id_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "async_deliverables_workflow_instance_id_workflow_instances_id_fk": {
          "name": "async_deliverables_workflow_instance_id_workflow_instances_id_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "workflow_instances",
          "columnsFrom": [
            "workflow_instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "async_deliverables_booking_order_id_booking_orders_id_fk": {
          "name": "async_deliverables_booking_order_id_booking_orders_id_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "async_deliverables_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "async_deliverables_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "async_deliverables_created_by_users_id_fk": {
          "name": "async_deliverables_created_by_users_id_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "async_deliverables_updated_by_users_id_fk": {
          "name": "async_deliverables_updated_by_users_id_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "async_deliverables_deleted_by_users_id_fk": {
          "name": "async_deliverables_deleted_by_users_id_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "async_deliverables_biz_workflow_instance_fk": {
          "name": "async_deliverables_biz_workflow_instance_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "workflow_instances",
          "columnsFrom": [
            "biz_id",
            "workflow_instance_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "async_deliverables_biz_booking_order_fk": {
          "name": "async_deliverables_biz_booking_order_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "async_deliverables_biz_fulfillment_unit_fk": {
          "name": "async_deliverables_biz_fulfillment_unit_fk",
          "tableFrom": "async_deliverables",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "review_queue_items": {
      "name": "review_queue_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "review_queue_id": {
          "name": "review_queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "review_item_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "item_type": {
          "name": "item_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "item_ref_id": {
          "name": "item_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "risk_score": {
          "name": "risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to_user_id": {
          "name": "assigned_to_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_payload": {
          "name": "resolution_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "review_queue_items_biz_id_id_unique": {
          "name": "review_queue_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "review_queue_items_biz_queue_status_priority_idx": {
          "name": "review_queue_items_biz_queue_status_priority_idx",
          "columns": [
            "biz_id",
            "review_queue_id",
            "status",
            "priority"
          ],
          "isUnique": false
        },
        "review_queue_items_biz_assignee_idx": {
          "name": "review_queue_items_biz_assignee_idx",
          "columns": [
            "biz_id",
            "assigned_to_user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "review_queue_items_biz_id_bizes_id_fk": {
          "name": "review_queue_items_biz_id_bizes_id_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_review_queue_id_review_queues_id_fk": {
          "name": "review_queue_items_review_queue_id_review_queues_id_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "review_queues",
          "columnsFrom": [
            "review_queue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_booking_order_id_booking_orders_id_fk": {
          "name": "review_queue_items_booking_order_id_booking_orders_id_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "review_queue_items_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_assigned_to_user_id_users_id_fk": {
          "name": "review_queue_items_assigned_to_user_id_users_id_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_created_by_users_id_fk": {
          "name": "review_queue_items_created_by_users_id_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_updated_by_users_id_fk": {
          "name": "review_queue_items_updated_by_users_id_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_deleted_by_users_id_fk": {
          "name": "review_queue_items_deleted_by_users_id_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_biz_review_queue_fk": {
          "name": "review_queue_items_biz_review_queue_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "review_queues",
          "columnsFrom": [
            "biz_id",
            "review_queue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_biz_booking_order_fk": {
          "name": "review_queue_items_biz_booking_order_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queue_items_biz_fulfillment_unit_fk": {
          "name": "review_queue_items_biz_fulfillment_unit_fk",
          "tableFrom": "review_queue_items",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "review_queues": {
      "name": "review_queues",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "review_queue_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "review_queue_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "review_queues_biz_id_id_unique": {
          "name": "review_queues_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "review_queues_biz_slug_unique": {
          "name": "review_queues_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "review_queues_biz_type_status_idx": {
          "name": "review_queues_biz_type_status_idx",
          "columns": [
            "biz_id",
            "type",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "review_queues_biz_id_bizes_id_fk": {
          "name": "review_queues_biz_id_bizes_id_fk",
          "tableFrom": "review_queues",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queues_created_by_users_id_fk": {
          "name": "review_queues_created_by_users_id_fk",
          "tableFrom": "review_queues",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queues_updated_by_users_id_fk": {
          "name": "review_queues_updated_by_users_id_fk",
          "tableFrom": "review_queues",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_queues_deleted_by_users_id_fk": {
          "name": "review_queues_deleted_by_users_id_fk",
          "tableFrom": "review_queues",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "workflow_decisions": {
      "name": "workflow_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_instance_id": {
          "name": "workflow_instance_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_step_id": {
          "name": "workflow_step_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "workflow_decision_outcome",
          "primaryKey": false,
          "notNull": true
        },
        "decider_user_id": {
          "name": "decider_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "workflow_decisions_biz_id_id_unique": {
          "name": "workflow_decisions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "workflow_decisions_biz_instance_decided_idx": {
          "name": "workflow_decisions_biz_instance_decided_idx",
          "columns": [
            "biz_id",
            "workflow_instance_id",
            "decided_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "workflow_decisions_biz_id_bizes_id_fk": {
          "name": "workflow_decisions_biz_id_bizes_id_fk",
          "tableFrom": "workflow_decisions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_decisions_workflow_instance_id_workflow_instances_id_fk": {
          "name": "workflow_decisions_workflow_instance_id_workflow_instances_id_fk",
          "tableFrom": "workflow_decisions",
          "tableTo": "workflow_instances",
          "columnsFrom": [
            "workflow_instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_decisions_workflow_step_id_workflow_steps_id_fk": {
          "name": "workflow_decisions_workflow_step_id_workflow_steps_id_fk",
          "tableFrom": "workflow_decisions",
          "tableTo": "workflow_steps",
          "columnsFrom": [
            "workflow_step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_decisions_decider_user_id_users_id_fk": {
          "name": "workflow_decisions_decider_user_id_users_id_fk",
          "tableFrom": "workflow_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "decider_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_decisions_created_by_users_id_fk": {
          "name": "workflow_decisions_created_by_users_id_fk",
          "tableFrom": "workflow_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_decisions_updated_by_users_id_fk": {
          "name": "workflow_decisions_updated_by_users_id_fk",
          "tableFrom": "workflow_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_decisions_deleted_by_users_id_fk": {
          "name": "workflow_decisions_deleted_by_users_id_fk",
          "tableFrom": "workflow_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_decisions_biz_instance_fk": {
          "name": "workflow_decisions_biz_instance_fk",
          "tableFrom": "workflow_decisions",
          "tableTo": "workflow_instances",
          "columnsFrom": [
            "biz_id",
            "workflow_instance_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_decisions_biz_step_fk": {
          "name": "workflow_decisions_biz_step_fk",
          "tableFrom": "workflow_decisions",
          "tableTo": "workflow_steps",
          "columnsFrom": [
            "biz_id",
            "workflow_step_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "workflow_instances": {
      "name": "workflow_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_key": {
          "name": "workflow_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "workflow_trigger_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "workflow_instance_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "review_queue_item_id": {
          "name": "review_queue_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "current_step_key": {
          "name": "current_step_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "input_payload": {
          "name": "input_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "output_payload": {
          "name": "output_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "workflow_instances_biz_id_id_unique": {
          "name": "workflow_instances_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "workflow_instances_biz_status_started_idx": {
          "name": "workflow_instances_biz_status_started_idx",
          "columns": [
            "biz_id",
            "status",
            "started_at"
          ],
          "isUnique": false
        },
        "workflow_instances_biz_target_idx": {
          "name": "workflow_instances_biz_target_idx",
          "columns": [
            "biz_id",
            "target_type",
            "target_ref_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "workflow_instances_biz_id_bizes_id_fk": {
          "name": "workflow_instances_biz_id_bizes_id_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_booking_order_id_booking_orders_id_fk": {
          "name": "workflow_instances_booking_order_id_booking_orders_id_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "workflow_instances_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_review_queue_item_id_review_queue_items_id_fk": {
          "name": "workflow_instances_review_queue_item_id_review_queue_items_id_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "review_queue_items",
          "columnsFrom": [
            "review_queue_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_created_by_users_id_fk": {
          "name": "workflow_instances_created_by_users_id_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_updated_by_users_id_fk": {
          "name": "workflow_instances_updated_by_users_id_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_deleted_by_users_id_fk": {
          "name": "workflow_instances_deleted_by_users_id_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_biz_booking_order_fk": {
          "name": "workflow_instances_biz_booking_order_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_biz_fulfillment_unit_fk": {
          "name": "workflow_instances_biz_fulfillment_unit_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_instances_biz_review_queue_item_fk": {
          "name": "workflow_instances_biz_review_queue_item_fk",
          "tableFrom": "workflow_instances",
          "tableTo": "review_queue_items",
          "columnsFrom": [
            "biz_id",
            "review_queue_item_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "workflow_steps": {
      "name": "workflow_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "workflow_instance_id": {
          "name": "workflow_instance_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step_key": {
          "name": "step_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "sequence": {
          "name": "sequence",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "workflow_step_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "assigned_to_user_id": {
          "name": "assigned_to_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "input_payload": {
          "name": "input_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "output_payload": {
          "name": "output_payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "workflow_steps_biz_id_id_unique": {
          "name": "workflow_steps_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "workflow_steps_instance_step_key_unique": {
          "name": "workflow_steps_instance_step_key_unique",
          "columns": [
            "workflow_instance_id",
            "step_key"
          ],
          "isUnique": true
        },
        "workflow_steps_biz_instance_sequence_idx": {
          "name": "workflow_steps_biz_instance_sequence_idx",
          "columns": [
            "biz_id",
            "workflow_instance_id",
            "sequence"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "workflow_steps_biz_id_bizes_id_fk": {
          "name": "workflow_steps_biz_id_bizes_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_steps_workflow_instance_id_workflow_instances_id_fk": {
          "name": "workflow_steps_workflow_instance_id_workflow_instances_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "workflow_instances",
          "columnsFrom": [
            "workflow_instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_steps_assigned_to_user_id_users_id_fk": {
          "name": "workflow_steps_assigned_to_user_id_users_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_steps_created_by_users_id_fk": {
          "name": "workflow_steps_created_by_users_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_steps_updated_by_users_id_fk": {
          "name": "workflow_steps_updated_by_users_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_steps_deleted_by_users_id_fk": {
          "name": "workflow_steps_deleted_by_users_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_steps_biz_instance_fk": {
          "name": "workflow_steps_biz_instance_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "workflow_instances",
          "columnsFrom": [
            "biz_id",
            "workflow_instance_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "gift_expiration_events": {
      "name": "gift_expiration_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gift_instrument_id": {
          "name": "gift_instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "gift_expiration_reason",
          "primaryKey": false,
          "notNull": true
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "expired_at": {
          "name": "expired_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "gift_expiration_events_biz_id_id_unique": {
          "name": "gift_expiration_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "gift_expiration_events_biz_gift_expired_idx": {
          "name": "gift_expiration_events_biz_gift_expired_idx",
          "columns": [
            "biz_id",
            "gift_instrument_id",
            "expired_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "gift_expiration_events_biz_id_bizes_id_fk": {
          "name": "gift_expiration_events_biz_id_bizes_id_fk",
          "tableFrom": "gift_expiration_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_expiration_events_gift_instrument_id_gift_instruments_id_fk": {
          "name": "gift_expiration_events_gift_instrument_id_gift_instruments_id_fk",
          "tableFrom": "gift_expiration_events",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "gift_instrument_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_expiration_events_created_by_users_id_fk": {
          "name": "gift_expiration_events_created_by_users_id_fk",
          "tableFrom": "gift_expiration_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_expiration_events_updated_by_users_id_fk": {
          "name": "gift_expiration_events_updated_by_users_id_fk",
          "tableFrom": "gift_expiration_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_expiration_events_deleted_by_users_id_fk": {
          "name": "gift_expiration_events_deleted_by_users_id_fk",
          "tableFrom": "gift_expiration_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_expiration_events_biz_gift_fk": {
          "name": "gift_expiration_events_biz_gift_fk",
          "tableFrom": "gift_expiration_events",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "biz_id",
            "gift_instrument_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "gift_instrument_ledger_entries": {
      "name": "gift_instrument_ledger_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gift_instrument_id": {
          "name": "gift_instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entry_type": {
          "name": "entry_type",
          "type": "gift_ledger_entry_type",
          "primaryKey": false,
          "notNull": true
        },
        "amount_delta_minor": {
          "name": "amount_delta_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "running_balance_after_minor": {
          "name": "running_balance_after_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "gift_redemption_id": {
          "name": "gift_redemption_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gift_transfer_id": {
          "name": "gift_transfer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gift_expiration_event_id": {
          "name": "gift_expiration_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_tender_id": {
          "name": "payment_intent_tender_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "gift_instrument_ledger_entries_biz_id_id_unique": {
          "name": "gift_instrument_ledger_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "gift_instrument_ledger_entries_biz_idempotency_unique": {
          "name": "gift_instrument_ledger_entries_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "gift_instrument_ledger_entries_biz_gift_occurred_idx": {
          "name": "gift_instrument_ledger_entries_biz_gift_occurred_idx",
          "columns": [
            "biz_id",
            "gift_instrument_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "gift_instrument_ledger_entries_biz_type_occurred_idx": {
          "name": "gift_instrument_ledger_entries_biz_type_occurred_idx",
          "columns": [
            "biz_id",
            "entry_type",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "gift_instrument_ledger_entries_biz_id_bizes_id_fk": {
          "name": "gift_instrument_ledger_entries_biz_id_bizes_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_gift_instrument_id_gift_instruments_id_fk": {
          "name": "gift_instrument_ledger_entries_gift_instrument_id_gift_instruments_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "gift_instrument_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_gift_redemption_id_gift_redemptions_id_fk": {
          "name": "gift_instrument_ledger_entries_gift_redemption_id_gift_redemptions_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "gift_redemptions",
          "columnsFrom": [
            "gift_redemption_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_gift_transfer_id_gift_transfers_id_fk": {
          "name": "gift_instrument_ledger_entries_gift_transfer_id_gift_transfers_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "gift_transfers",
          "columnsFrom": [
            "gift_transfer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_gift_expiration_event_id_gift_expiration_events_id_fk": {
          "name": "gift_instrument_ledger_entries_gift_expiration_event_id_gift_expiration_events_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "gift_expiration_events",
          "columnsFrom": [
            "gift_expiration_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_booking_order_id_booking_orders_id_fk": {
          "name": "gift_instrument_ledger_entries_booking_order_id_booking_orders_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "gift_instrument_ledger_entries_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_payment_intent_id_payment_intents_id_fk": {
          "name": "gift_instrument_ledger_entries_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_payment_intent_tender_id_payment_intent_tenders_id_fk": {
          "name": "gift_instrument_ledger_entries_payment_intent_tender_id_payment_intent_tenders_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_payment_transaction_id_payment_transactions_id_fk": {
          "name": "gift_instrument_ledger_entries_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_created_by_users_id_fk": {
          "name": "gift_instrument_ledger_entries_created_by_users_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_updated_by_users_id_fk": {
          "name": "gift_instrument_ledger_entries_updated_by_users_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_deleted_by_users_id_fk": {
          "name": "gift_instrument_ledger_entries_deleted_by_users_id_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_biz_gift_fk": {
          "name": "gift_instrument_ledger_entries_biz_gift_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "biz_id",
            "gift_instrument_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_biz_redemption_fk": {
          "name": "gift_instrument_ledger_entries_biz_redemption_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "gift_redemptions",
          "columnsFrom": [
            "biz_id",
            "gift_redemption_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_biz_transfer_fk": {
          "name": "gift_instrument_ledger_entries_biz_transfer_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "gift_transfers",
          "columnsFrom": [
            "biz_id",
            "gift_transfer_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_biz_expiration_event_fk": {
          "name": "gift_instrument_ledger_entries_biz_expiration_event_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "gift_expiration_events",
          "columnsFrom": [
            "biz_id",
            "gift_expiration_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_biz_order_fk": {
          "name": "gift_instrument_ledger_entries_biz_order_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_biz_order_line_fk": {
          "name": "gift_instrument_ledger_entries_biz_order_line_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_biz_payment_intent_fk": {
          "name": "gift_instrument_ledger_entries_biz_payment_intent_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_biz_payment_tender_fk": {
          "name": "gift_instrument_ledger_entries_biz_payment_tender_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "biz_id",
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instrument_ledger_entries_biz_payment_transaction_fk": {
          "name": "gift_instrument_ledger_entries_biz_payment_transaction_fk",
          "tableFrom": "gift_instrument_ledger_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "gift_instruments": {
      "name": "gift_instruments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "gift_instrument_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "initial_amount_minor": {
          "name": "initial_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "remaining_amount_minor": {
          "name": "remaining_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "balance_version": {
          "name": "balance_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "source_type": {
          "name": "source_type",
          "type": "gift_instrument_source_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "source_gift_instrument_id": {
          "name": "source_gift_instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_from_sellable_id": {
          "name": "issued_from_sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_from_booking_order_id": {
          "name": "issued_from_booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_from_booking_order_line_id": {
          "name": "issued_from_booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_from_payment_intent_id": {
          "name": "issued_from_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_from_payment_intent_tender_id": {
          "name": "issued_from_payment_intent_tender_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "issued_from_payment_transaction_id": {
          "name": "issued_from_payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_group_account_id": {
          "name": "owner_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "activated_at": {
          "name": "activated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "voided_at": {
          "name": "voided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "gift_instruments_biz_id_id_unique": {
          "name": "gift_instruments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "gift_instruments_biz_code_unique": {
          "name": "gift_instruments_biz_code_unique",
          "columns": [
            "biz_id",
            "code"
          ],
          "isUnique": true
        },
        "gift_instruments_biz_status_expiry_idx": {
          "name": "gift_instruments_biz_status_expiry_idx",
          "columns": [
            "biz_id",
            "status",
            "expires_at"
          ],
          "isUnique": false
        },
        "gift_instruments_biz_source_type_idx": {
          "name": "gift_instruments_biz_source_type_idx",
          "columns": [
            "biz_id",
            "source_type",
            "issued_at"
          ],
          "isUnique": false
        },
        "gift_instruments_biz_owner_idx": {
          "name": "gift_instruments_biz_owner_idx",
          "columns": [
            "biz_id",
            "owner_user_id",
            "owner_group_account_id"
          ],
          "isUnique": false
        },
        "gift_instruments_biz_source_gift_idx": {
          "name": "gift_instruments_biz_source_gift_idx",
          "columns": [
            "biz_id",
            "source_gift_instrument_id"
          ],
          "isUnique": false
        },
        "gift_instruments_biz_issued_sellable_idx": {
          "name": "gift_instruments_biz_issued_sellable_idx",
          "columns": [
            "biz_id",
            "issued_from_sellable_id",
            "issued_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "gift_instruments_biz_id_bizes_id_fk": {
          "name": "gift_instruments_biz_id_bizes_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_issued_from_sellable_id_sellables_id_fk": {
          "name": "gift_instruments_issued_from_sellable_id_sellables_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "sellables",
          "columnsFrom": [
            "issued_from_sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_issued_from_booking_order_id_booking_orders_id_fk": {
          "name": "gift_instruments_issued_from_booking_order_id_booking_orders_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "issued_from_booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_issued_from_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "gift_instruments_issued_from_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "issued_from_booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_issued_from_payment_intent_id_payment_intents_id_fk": {
          "name": "gift_instruments_issued_from_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "issued_from_payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_issued_from_payment_intent_tender_id_payment_intent_tenders_id_fk": {
          "name": "gift_instruments_issued_from_payment_intent_tender_id_payment_intent_tenders_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "issued_from_payment_intent_tender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_issued_from_payment_transaction_id_payment_transactions_id_fk": {
          "name": "gift_instruments_issued_from_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "issued_from_payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_owner_user_id_users_id_fk": {
          "name": "gift_instruments_owner_user_id_users_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_owner_group_account_id_group_accounts_id_fk": {
          "name": "gift_instruments_owner_group_account_id_group_accounts_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "owner_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_created_by_users_id_fk": {
          "name": "gift_instruments_created_by_users_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_updated_by_users_id_fk": {
          "name": "gift_instruments_updated_by_users_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_deleted_by_users_id_fk": {
          "name": "gift_instruments_deleted_by_users_id_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_biz_source_gift_fk": {
          "name": "gift_instruments_biz_source_gift_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "biz_id",
            "source_gift_instrument_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_biz_issued_sellable_fk": {
          "name": "gift_instruments_biz_issued_sellable_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "issued_from_sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_biz_issued_order_fk": {
          "name": "gift_instruments_biz_issued_order_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "issued_from_booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_biz_issued_order_line_fk": {
          "name": "gift_instruments_biz_issued_order_line_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "issued_from_booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_biz_issued_payment_intent_fk": {
          "name": "gift_instruments_biz_issued_payment_intent_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "issued_from_payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_biz_issued_payment_tender_fk": {
          "name": "gift_instruments_biz_issued_payment_tender_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "biz_id",
            "issued_from_payment_intent_tender_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_instruments_biz_issued_payment_transaction_fk": {
          "name": "gift_instruments_biz_issued_payment_transaction_fk",
          "tableFrom": "gift_instruments",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "issued_from_payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "gift_redemptions": {
      "name": "gift_redemptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gift_instrument_id": {
          "name": "gift_instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_tender_id": {
          "name": "payment_intent_tender_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "gift_redemption_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'applied'"
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "redeemed_at": {
          "name": "redeemed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reversed_at": {
          "name": "reversed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "gift_redemptions_biz_id_id_unique": {
          "name": "gift_redemptions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "gift_redemptions_biz_idempotency_unique": {
          "name": "gift_redemptions_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "gift_redemptions_biz_gift_redeemed_idx": {
          "name": "gift_redemptions_biz_gift_redeemed_idx",
          "columns": [
            "biz_id",
            "gift_instrument_id",
            "redeemed_at"
          ],
          "isUnique": false
        },
        "gift_redemptions_biz_order_redeemed_idx": {
          "name": "gift_redemptions_biz_order_redeemed_idx",
          "columns": [
            "biz_id",
            "booking_order_id",
            "redeemed_at"
          ],
          "isUnique": false
        },
        "gift_redemptions_biz_payment_tender_redeemed_idx": {
          "name": "gift_redemptions_biz_payment_tender_redeemed_idx",
          "columns": [
            "biz_id",
            "payment_intent_tender_id",
            "redeemed_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "gift_redemptions_biz_id_bizes_id_fk": {
          "name": "gift_redemptions_biz_id_bizes_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_gift_instrument_id_gift_instruments_id_fk": {
          "name": "gift_redemptions_gift_instrument_id_gift_instruments_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "gift_instrument_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_booking_order_id_booking_orders_id_fk": {
          "name": "gift_redemptions_booking_order_id_booking_orders_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "gift_redemptions_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_payment_intent_id_payment_intents_id_fk": {
          "name": "gift_redemptions_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_payment_intent_tender_id_payment_intent_tenders_id_fk": {
          "name": "gift_redemptions_payment_intent_tender_id_payment_intent_tenders_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_payment_transaction_id_payment_transactions_id_fk": {
          "name": "gift_redemptions_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_created_by_users_id_fk": {
          "name": "gift_redemptions_created_by_users_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_updated_by_users_id_fk": {
          "name": "gift_redemptions_updated_by_users_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_deleted_by_users_id_fk": {
          "name": "gift_redemptions_deleted_by_users_id_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_biz_gift_fk": {
          "name": "gift_redemptions_biz_gift_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "biz_id",
            "gift_instrument_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_biz_order_fk": {
          "name": "gift_redemptions_biz_order_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_biz_order_line_fk": {
          "name": "gift_redemptions_biz_order_line_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_biz_payment_intent_fk": {
          "name": "gift_redemptions_biz_payment_intent_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_biz_payment_tender_fk": {
          "name": "gift_redemptions_biz_payment_tender_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "payment_intent_tenders",
          "columnsFrom": [
            "biz_id",
            "payment_intent_tender_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_redemptions_biz_payment_transaction_fk": {
          "name": "gift_redemptions_biz_payment_transaction_fk",
          "tableFrom": "gift_redemptions",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "gift_transfers": {
      "name": "gift_transfers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gift_instrument_id": {
          "name": "gift_instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "gift_transfer_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'full_transfer'"
        },
        "target_gift_instrument_id": {
          "name": "target_gift_instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_user_id": {
          "name": "from_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_group_account_id": {
          "name": "from_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_user_id": {
          "name": "to_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_group_account_id": {
          "name": "to_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "gift_transfer_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "transferred_at": {
          "name": "transferred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "gift_transfers_biz_id_id_unique": {
          "name": "gift_transfers_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "gift_transfers_biz_gift_transferred_idx": {
          "name": "gift_transfers_biz_gift_transferred_idx",
          "columns": [
            "biz_id",
            "gift_instrument_id",
            "transferred_at"
          ],
          "isUnique": false
        },
        "gift_transfers_biz_target_gift_transferred_idx": {
          "name": "gift_transfers_biz_target_gift_transferred_idx",
          "columns": [
            "biz_id",
            "target_gift_instrument_id",
            "transferred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "gift_transfers_biz_id_bizes_id_fk": {
          "name": "gift_transfers_biz_id_bizes_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_gift_instrument_id_gift_instruments_id_fk": {
          "name": "gift_transfers_gift_instrument_id_gift_instruments_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "gift_instrument_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_target_gift_instrument_id_gift_instruments_id_fk": {
          "name": "gift_transfers_target_gift_instrument_id_gift_instruments_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "target_gift_instrument_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_from_user_id_users_id_fk": {
          "name": "gift_transfers_from_user_id_users_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "from_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_from_group_account_id_group_accounts_id_fk": {
          "name": "gift_transfers_from_group_account_id_group_accounts_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "from_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_to_user_id_users_id_fk": {
          "name": "gift_transfers_to_user_id_users_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "to_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_to_group_account_id_group_accounts_id_fk": {
          "name": "gift_transfers_to_group_account_id_group_accounts_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "to_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_created_by_users_id_fk": {
          "name": "gift_transfers_created_by_users_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_updated_by_users_id_fk": {
          "name": "gift_transfers_updated_by_users_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_deleted_by_users_id_fk": {
          "name": "gift_transfers_deleted_by_users_id_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_biz_gift_fk": {
          "name": "gift_transfers_biz_gift_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "biz_id",
            "gift_instrument_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_transfers_biz_target_gift_fk": {
          "name": "gift_transfers_biz_target_gift_fk",
          "tableFrom": "gift_transfers",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "biz_id",
            "target_gift_instrument_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "booking_participant_obligations": {
      "name": "booking_participant_obligations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participant_user_id": {
          "name": "participant_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participant_group_account_id": {
          "name": "participant_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "obligation_type": {
          "name": "obligation_type",
          "type": "participant_obligation_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "participant_obligation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "amount_due_minor": {
          "name": "amount_due_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "amount_satisfied_minor": {
          "name": "amount_satisfied_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "satisfied_at": {
          "name": "satisfied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status_reason": {
          "name": "status_reason",
          "type": "varchar(400)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "booking_participant_obligations_biz_id_id_unique": {
          "name": "booking_participant_obligations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "booking_participant_obligations_biz_order_status_due_idx": {
          "name": "booking_participant_obligations_biz_order_status_due_idx",
          "columns": [
            "biz_id",
            "booking_order_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        },
        "booking_participant_obligations_biz_participant_status_idx": {
          "name": "booking_participant_obligations_biz_participant_status_idx",
          "columns": [
            "biz_id",
            "participant_user_id",
            "participant_group_account_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "booking_participant_obligations_biz_id_bizes_id_fk": {
          "name": "booking_participant_obligations_biz_id_bizes_id_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_participant_obligations_booking_order_id_booking_orders_id_fk": {
          "name": "booking_participant_obligations_booking_order_id_booking_orders_id_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_participant_obligations_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "booking_participant_obligations_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_participant_obligations_participant_user_id_users_id_fk": {
          "name": "booking_participant_obligations_participant_user_id_users_id_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "participant_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_participant_obligations_participant_group_account_id_group_accounts_id_fk": {
          "name": "booking_participant_obligations_participant_group_account_id_group_accounts_id_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "participant_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_participant_obligations_created_by_users_id_fk": {
          "name": "booking_participant_obligations_created_by_users_id_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_participant_obligations_updated_by_users_id_fk": {
          "name": "booking_participant_obligations_updated_by_users_id_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_participant_obligations_deleted_by_users_id_fk": {
          "name": "booking_participant_obligations_deleted_by_users_id_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_participant_obligations_biz_order_fk": {
          "name": "booking_participant_obligations_biz_order_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_participant_obligations_biz_order_line_fk": {
          "name": "booking_participant_obligations_biz_order_line_fk",
          "tableFrom": "booking_participant_obligations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "participant_obligation_events": {
      "name": "participant_obligation_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_participant_obligation_id": {
          "name": "booking_participant_obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "participant_obligation_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "delta_amount_minor": {
          "name": "delta_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "participant_obligation_events_biz_id_id_unique": {
          "name": "participant_obligation_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "participant_obligation_events_biz_obligation_happened_idx": {
          "name": "participant_obligation_events_biz_obligation_happened_idx",
          "columns": [
            "biz_id",
            "booking_participant_obligation_id",
            "happened_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "participant_obligation_events_biz_id_bizes_id_fk": {
          "name": "participant_obligation_events_biz_id_bizes_id_fk",
          "tableFrom": "participant_obligation_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "participant_obligation_events_booking_participant_obligation_id_booking_participant_obligations_id_fk": {
          "name": "participant_obligation_events_booking_participant_obligation_id_booking_participant_obligations_id_fk",
          "tableFrom": "participant_obligation_events",
          "tableTo": "booking_participant_obligations",
          "columnsFrom": [
            "booking_participant_obligation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "participant_obligation_events_actor_user_id_users_id_fk": {
          "name": "participant_obligation_events_actor_user_id_users_id_fk",
          "tableFrom": "participant_obligation_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "participant_obligation_events_created_by_users_id_fk": {
          "name": "participant_obligation_events_created_by_users_id_fk",
          "tableFrom": "participant_obligation_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "participant_obligation_events_updated_by_users_id_fk": {
          "name": "participant_obligation_events_updated_by_users_id_fk",
          "tableFrom": "participant_obligation_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "participant_obligation_events_deleted_by_users_id_fk": {
          "name": "participant_obligation_events_deleted_by_users_id_fk",
          "tableFrom": "participant_obligation_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "participant_obligation_events_biz_obligation_fk": {
          "name": "participant_obligation_events_biz_obligation_fk",
          "tableFrom": "participant_obligation_events",
          "tableTo": "booking_participant_obligations",
          "columnsFrom": [
            "biz_id",
            "booking_participant_obligation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "ar_invoices": {
      "name": "ar_invoices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "billing_account_id": {
          "name": "billing_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "purchase_order_id": {
          "name": "purchase_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "ar_invoice_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "subtotal_minor": {
          "name": "subtotal_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fee_minor": {
          "name": "fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "outstanding_minor": {
          "name": "outstanding_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "voided_at": {
          "name": "voided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ar_invoices_biz_id_id_unique": {
          "name": "ar_invoices_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "ar_invoices_biz_number_unique": {
          "name": "ar_invoices_biz_number_unique",
          "columns": [
            "biz_id",
            "invoice_number"
          ],
          "isUnique": true
        },
        "ar_invoices_biz_status_due_idx": {
          "name": "ar_invoices_biz_status_due_idx",
          "columns": [
            "biz_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ar_invoices_biz_id_bizes_id_fk": {
          "name": "ar_invoices_biz_id_bizes_id_fk",
          "tableFrom": "ar_invoices",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ar_invoices_billing_account_id_billing_accounts_id_fk": {
          "name": "ar_invoices_billing_account_id_billing_accounts_id_fk",
          "tableFrom": "ar_invoices",
          "tableTo": "billing_accounts",
          "columnsFrom": [
            "billing_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ar_invoices_purchase_order_id_purchase_orders_id_fk": {
          "name": "ar_invoices_purchase_order_id_purchase_orders_id_fk",
          "tableFrom": "ar_invoices",
          "tableTo": "purchase_orders",
          "columnsFrom": [
            "purchase_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ar_invoices_created_by_users_id_fk": {
          "name": "ar_invoices_created_by_users_id_fk",
          "tableFrom": "ar_invoices",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ar_invoices_updated_by_users_id_fk": {
          "name": "ar_invoices_updated_by_users_id_fk",
          "tableFrom": "ar_invoices",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ar_invoices_deleted_by_users_id_fk": {
          "name": "ar_invoices_deleted_by_users_id_fk",
          "tableFrom": "ar_invoices",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ar_invoices_biz_billing_account_fk": {
          "name": "ar_invoices_biz_billing_account_fk",
          "tableFrom": "ar_invoices",
          "tableTo": "billing_accounts",
          "columnsFrom": [
            "biz_id",
            "billing_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ar_invoices_biz_purchase_order_fk": {
          "name": "ar_invoices_biz_purchase_order_fk",
          "tableFrom": "ar_invoices",
          "tableTo": "purchase_orders",
          "columnsFrom": [
            "biz_id",
            "purchase_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "billing_accounts": {
      "name": "billing_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "billing_account_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "billing_account_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "counterparty_biz_id": {
          "name": "counterparty_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "counterparty_user_id": {
          "name": "counterparty_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "counterparty_group_account_id": {
          "name": "counterparty_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "credit_limit_minor": {
          "name": "credit_limit_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms_days": {
          "name": "payment_terms_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_profile": {
          "name": "tax_profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "billing_accounts_biz_id_id_unique": {
          "name": "billing_accounts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "billing_accounts_biz_status_type_idx": {
          "name": "billing_accounts_biz_status_type_idx",
          "columns": [
            "biz_id",
            "status",
            "account_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "billing_accounts_biz_id_bizes_id_fk": {
          "name": "billing_accounts_biz_id_bizes_id_fk",
          "tableFrom": "billing_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_accounts_counterparty_biz_id_bizes_id_fk": {
          "name": "billing_accounts_counterparty_biz_id_bizes_id_fk",
          "tableFrom": "billing_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "counterparty_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_accounts_counterparty_user_id_users_id_fk": {
          "name": "billing_accounts_counterparty_user_id_users_id_fk",
          "tableFrom": "billing_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "counterparty_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_accounts_counterparty_group_account_id_group_accounts_id_fk": {
          "name": "billing_accounts_counterparty_group_account_id_group_accounts_id_fk",
          "tableFrom": "billing_accounts",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "counterparty_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_accounts_created_by_users_id_fk": {
          "name": "billing_accounts_created_by_users_id_fk",
          "tableFrom": "billing_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_accounts_updated_by_users_id_fk": {
          "name": "billing_accounts_updated_by_users_id_fk",
          "tableFrom": "billing_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_accounts_deleted_by_users_id_fk": {
          "name": "billing_accounts_deleted_by_users_id_fk",
          "tableFrom": "billing_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "invoice_events": {
      "name": "invoice_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ar_invoice_id": {
          "name": "ar_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "invoice_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "invoice_events_biz_id_id_unique": {
          "name": "invoice_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "invoice_events_biz_invoice_happened_idx": {
          "name": "invoice_events_biz_invoice_happened_idx",
          "columns": [
            "biz_id",
            "ar_invoice_id",
            "happened_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "invoice_events_biz_id_bizes_id_fk": {
          "name": "invoice_events_biz_id_bizes_id_fk",
          "tableFrom": "invoice_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_events_ar_invoice_id_ar_invoices_id_fk": {
          "name": "invoice_events_ar_invoice_id_ar_invoices_id_fk",
          "tableFrom": "invoice_events",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "ar_invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_events_actor_user_id_users_id_fk": {
          "name": "invoice_events_actor_user_id_users_id_fk",
          "tableFrom": "invoice_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_events_created_by_users_id_fk": {
          "name": "invoice_events_created_by_users_id_fk",
          "tableFrom": "invoice_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_events_updated_by_users_id_fk": {
          "name": "invoice_events_updated_by_users_id_fk",
          "tableFrom": "invoice_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_events_deleted_by_users_id_fk": {
          "name": "invoice_events_deleted_by_users_id_fk",
          "tableFrom": "invoice_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "invoice_events_biz_invoice_fk": {
          "name": "invoice_events_biz_invoice_fk",
          "tableFrom": "invoice_events",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "biz_id",
            "ar_invoice_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "purchase_orders": {
      "name": "purchase_orders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "billing_account_id": {
          "name": "billing_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "po_number": {
          "name": "po_number",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "purchase_order_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "authorized_amount_minor": {
          "name": "authorized_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "billed_amount_minor": {
          "name": "billed_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "purchase_orders_biz_id_id_unique": {
          "name": "purchase_orders_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "purchase_orders_biz_number_unique": {
          "name": "purchase_orders_biz_number_unique",
          "columns": [
            "biz_id",
            "po_number"
          ],
          "isUnique": true
        },
        "purchase_orders_biz_status_issued_idx": {
          "name": "purchase_orders_biz_status_issued_idx",
          "columns": [
            "biz_id",
            "status",
            "issued_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "purchase_orders_biz_id_bizes_id_fk": {
          "name": "purchase_orders_biz_id_bizes_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "purchase_orders_billing_account_id_billing_accounts_id_fk": {
          "name": "purchase_orders_billing_account_id_billing_accounts_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "billing_accounts",
          "columnsFrom": [
            "billing_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "purchase_orders_created_by_users_id_fk": {
          "name": "purchase_orders_created_by_users_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "purchase_orders_updated_by_users_id_fk": {
          "name": "purchase_orders_updated_by_users_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "purchase_orders_deleted_by_users_id_fk": {
          "name": "purchase_orders_deleted_by_users_id_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "purchase_orders_biz_billing_account_fk": {
          "name": "purchase_orders_biz_billing_account_fk",
          "tableFrom": "purchase_orders",
          "tableTo": "billing_accounts",
          "columnsFrom": [
            "biz_id",
            "billing_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "autocollection_attempts": {
      "name": "autocollection_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "billing_account_autopay_rule_id": {
          "name": "billing_account_autopay_rule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "billing_account_id": {
          "name": "billing_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ar_invoice_id": {
          "name": "ar_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "installment_schedule_item_id": {
          "name": "installment_schedule_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempted_amount_minor": {
          "name": "attempted_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "failure_code": {
          "name": "failure_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "failure_message": {
          "name": "failure_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "autocollection_attempts_biz_id_id_unique": {
          "name": "autocollection_attempts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "autocollection_attempts_idempotency_unique": {
          "name": "autocollection_attempts_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "autocollection_attempts_biz_status_schedule_idx": {
          "name": "autocollection_attempts_biz_status_schedule_idx",
          "columns": [
            "biz_id",
            "status",
            "scheduled_for"
          ],
          "isUnique": false
        },
        "autocollection_attempts_biz_status_config_schedule_idx": {
          "name": "autocollection_attempts_biz_status_config_schedule_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "scheduled_for"
          ],
          "isUnique": false
        },
        "autocollection_attempts_biz_account_schedule_idx": {
          "name": "autocollection_attempts_biz_account_schedule_idx",
          "columns": [
            "biz_id",
            "billing_account_id",
            "scheduled_for"
          ],
          "isUnique": false
        },
        "autocollection_attempts_biz_invoice_schedule_idx": {
          "name": "autocollection_attempts_biz_invoice_schedule_idx",
          "columns": [
            "biz_id",
            "ar_invoice_id",
            "scheduled_for"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "autocollection_attempts_biz_id_bizes_id_fk": {
          "name": "autocollection_attempts_biz_id_bizes_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_billing_account_autopay_rule_id_billing_account_autopay_rules_id_fk": {
          "name": "autocollection_attempts_billing_account_autopay_rule_id_billing_account_autopay_rules_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "billing_account_autopay_rules",
          "columnsFrom": [
            "billing_account_autopay_rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_billing_account_id_billing_accounts_id_fk": {
          "name": "autocollection_attempts_billing_account_id_billing_accounts_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "billing_accounts",
          "columnsFrom": [
            "billing_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_ar_invoice_id_ar_invoices_id_fk": {
          "name": "autocollection_attempts_ar_invoice_id_ar_invoices_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "ar_invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_installment_schedule_item_id_installment_schedule_items_id_fk": {
          "name": "autocollection_attempts_installment_schedule_item_id_installment_schedule_items_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "installment_schedule_items",
          "columnsFrom": [
            "installment_schedule_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_payment_intent_id_payment_intents_id_fk": {
          "name": "autocollection_attempts_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_payment_transaction_id_payment_transactions_id_fk": {
          "name": "autocollection_attempts_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_created_by_users_id_fk": {
          "name": "autocollection_attempts_created_by_users_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_updated_by_users_id_fk": {
          "name": "autocollection_attempts_updated_by_users_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_deleted_by_users_id_fk": {
          "name": "autocollection_attempts_deleted_by_users_id_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_biz_rule_fk": {
          "name": "autocollection_attempts_biz_rule_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "billing_account_autopay_rules",
          "columnsFrom": [
            "biz_id",
            "billing_account_autopay_rule_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_biz_billing_account_fk": {
          "name": "autocollection_attempts_biz_billing_account_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "billing_accounts",
          "columnsFrom": [
            "biz_id",
            "billing_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_biz_invoice_fk": {
          "name": "autocollection_attempts_biz_invoice_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "biz_id",
            "ar_invoice_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_biz_installment_item_fk": {
          "name": "autocollection_attempts_biz_installment_item_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "installment_schedule_items",
          "columnsFrom": [
            "biz_id",
            "installment_schedule_item_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_biz_intent_fk": {
          "name": "autocollection_attempts_biz_intent_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_biz_transaction_fk": {
          "name": "autocollection_attempts_biz_transaction_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "autocollection_attempts_biz_status_config_fk": {
          "name": "autocollection_attempts_biz_status_config_fk",
          "tableFrom": "autocollection_attempts",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "billing_account_autopay_rules": {
      "name": "billing_account_autopay_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "billing_account_id": {
          "name": "billing_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "payment_method_id": {
          "name": "payment_method_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_scope": {
          "name": "target_scope",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'both'"
        },
        "run_offset_days": {
          "name": "run_offset_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "max_attempts_per_item": {
          "name": "max_attempts_per_item",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "retry_interval_hours": {
          "name": "retry_interval_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 24
        },
        "minimum_amount_minor": {
          "name": "minimum_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "maximum_amount_minor": {
          "name": "maximum_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allow_partial_collection": {
          "name": "allow_partial_collection",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "collection_policy": {
          "name": "collection_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "billing_account_autopay_rules_biz_id_id_unique": {
          "name": "billing_account_autopay_rules_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "billing_account_autopay_rules_name_unique": {
          "name": "billing_account_autopay_rules_name_unique",
          "columns": [
            "biz_id",
            "billing_account_id",
            "name"
          ],
          "isUnique": true
        },
        "billing_account_autopay_rules_default_unique": {
          "name": "billing_account_autopay_rules_default_unique",
          "columns": [
            "biz_id",
            "billing_account_id"
          ],
          "isUnique": true
        },
        "billing_account_autopay_rules_resolve_idx": {
          "name": "billing_account_autopay_rules_resolve_idx",
          "columns": [
            "biz_id",
            "billing_account_id",
            "status",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "billing_account_autopay_rules_biz_id_bizes_id_fk": {
          "name": "billing_account_autopay_rules_biz_id_bizes_id_fk",
          "tableFrom": "billing_account_autopay_rules",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_account_autopay_rules_billing_account_id_billing_accounts_id_fk": {
          "name": "billing_account_autopay_rules_billing_account_id_billing_accounts_id_fk",
          "tableFrom": "billing_account_autopay_rules",
          "tableTo": "billing_accounts",
          "columnsFrom": [
            "billing_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_account_autopay_rules_payment_method_id_payment_methods_id_fk": {
          "name": "billing_account_autopay_rules_payment_method_id_payment_methods_id_fk",
          "tableFrom": "billing_account_autopay_rules",
          "tableTo": "payment_methods",
          "columnsFrom": [
            "payment_method_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_account_autopay_rules_created_by_users_id_fk": {
          "name": "billing_account_autopay_rules_created_by_users_id_fk",
          "tableFrom": "billing_account_autopay_rules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_account_autopay_rules_updated_by_users_id_fk": {
          "name": "billing_account_autopay_rules_updated_by_users_id_fk",
          "tableFrom": "billing_account_autopay_rules",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_account_autopay_rules_deleted_by_users_id_fk": {
          "name": "billing_account_autopay_rules_deleted_by_users_id_fk",
          "tableFrom": "billing_account_autopay_rules",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_account_autopay_rules_biz_billing_account_fk": {
          "name": "billing_account_autopay_rules_biz_billing_account_fk",
          "tableFrom": "billing_account_autopay_rules",
          "tableTo": "billing_accounts",
          "columnsFrom": [
            "biz_id",
            "billing_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "billing_account_autopay_rules_biz_method_fk": {
          "name": "billing_account_autopay_rules_biz_method_fk",
          "tableFrom": "billing_account_autopay_rules",
          "tableTo": "payment_methods",
          "columnsFrom": [
            "biz_id",
            "payment_method_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "installment_plans": {
      "name": "installment_plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ar_invoice_id": {
          "name": "ar_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_current": {
          "name": "is_current",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan_kind": {
          "name": "plan_kind",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'custom_schedule'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "total_planned_minor": {
          "name": "total_planned_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_paid_minor": {
          "name": "total_paid_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_waived_minor": {
          "name": "total_waived_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_failed_minor": {
          "name": "total_failed_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "installment_count": {
          "name": "installment_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_due_at": {
          "name": "next_due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "auto_advance": {
          "name": "auto_advance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "installment_plans_biz_id_id_unique": {
          "name": "installment_plans_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "installment_plans_invoice_version_unique": {
          "name": "installment_plans_invoice_version_unique",
          "columns": [
            "ar_invoice_id",
            "version"
          ],
          "isUnique": true
        },
        "installment_plans_invoice_current_unique": {
          "name": "installment_plans_invoice_current_unique",
          "columns": [
            "ar_invoice_id"
          ],
          "isUnique": true
        },
        "installment_plans_biz_status_next_due_idx": {
          "name": "installment_plans_biz_status_next_due_idx",
          "columns": [
            "biz_id",
            "status",
            "next_due_at"
          ],
          "isUnique": false
        },
        "installment_plans_biz_status_config_next_due_idx": {
          "name": "installment_plans_biz_status_config_next_due_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "next_due_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "installment_plans_biz_id_bizes_id_fk": {
          "name": "installment_plans_biz_id_bizes_id_fk",
          "tableFrom": "installment_plans",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_plans_ar_invoice_id_ar_invoices_id_fk": {
          "name": "installment_plans_ar_invoice_id_ar_invoices_id_fk",
          "tableFrom": "installment_plans",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "ar_invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_plans_created_by_users_id_fk": {
          "name": "installment_plans_created_by_users_id_fk",
          "tableFrom": "installment_plans",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_plans_updated_by_users_id_fk": {
          "name": "installment_plans_updated_by_users_id_fk",
          "tableFrom": "installment_plans",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_plans_deleted_by_users_id_fk": {
          "name": "installment_plans_deleted_by_users_id_fk",
          "tableFrom": "installment_plans",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_plans_biz_invoice_fk": {
          "name": "installment_plans_biz_invoice_fk",
          "tableFrom": "installment_plans",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "biz_id",
            "ar_invoice_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_plans_biz_status_config_fk": {
          "name": "installment_plans_biz_status_config_fk",
          "tableFrom": "installment_plans",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "installment_schedule_items": {
      "name": "installment_schedule_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "installment_plan_id": {
          "name": "installment_plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sequence_no": {
          "name": "sequence_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "paid_minor": {
          "name": "paid_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "waived_minor": {
          "name": "waived_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_minor": {
          "name": "failed_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "late_fee_minor": {
          "name": "late_fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "payment_intent_id": {
          "name": "payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "installment_schedule_items_biz_id_id_unique": {
          "name": "installment_schedule_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "installment_schedule_items_plan_sequence_unique": {
          "name": "installment_schedule_items_plan_sequence_unique",
          "columns": [
            "installment_plan_id",
            "sequence_no"
          ],
          "isUnique": true
        },
        "installment_schedule_items_biz_plan_due_idx": {
          "name": "installment_schedule_items_biz_plan_due_idx",
          "columns": [
            "biz_id",
            "installment_plan_id",
            "due_at"
          ],
          "isUnique": false
        },
        "installment_schedule_items_biz_status_due_idx": {
          "name": "installment_schedule_items_biz_status_due_idx",
          "columns": [
            "biz_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        },
        "installment_schedule_items_biz_status_config_due_idx": {
          "name": "installment_schedule_items_biz_status_config_due_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "due_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "installment_schedule_items_biz_id_bizes_id_fk": {
          "name": "installment_schedule_items_biz_id_bizes_id_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_installment_plan_id_installment_plans_id_fk": {
          "name": "installment_schedule_items_installment_plan_id_installment_plans_id_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "installment_plans",
          "columnsFrom": [
            "installment_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_payment_intent_id_payment_intents_id_fk": {
          "name": "installment_schedule_items_payment_intent_id_payment_intents_id_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "payment_intent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_payment_transaction_id_payment_transactions_id_fk": {
          "name": "installment_schedule_items_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_created_by_users_id_fk": {
          "name": "installment_schedule_items_created_by_users_id_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_updated_by_users_id_fk": {
          "name": "installment_schedule_items_updated_by_users_id_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_deleted_by_users_id_fk": {
          "name": "installment_schedule_items_deleted_by_users_id_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_biz_plan_fk": {
          "name": "installment_schedule_items_biz_plan_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "installment_plans",
          "columnsFrom": [
            "biz_id",
            "installment_plan_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_biz_intent_fk": {
          "name": "installment_schedule_items_biz_intent_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "payment_intents",
          "columnsFrom": [
            "biz_id",
            "payment_intent_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_biz_transaction_fk": {
          "name": "installment_schedule_items_biz_transaction_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "installment_schedule_items_biz_status_config_fk": {
          "name": "installment_schedule_items_biz_status_config_fk",
          "tableFrom": "installment_schedule_items",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "commitment_claim_events": {
      "name": "commitment_claim_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commitment_claim_id": {
          "name": "commitment_claim_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "commitment_claim_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_type": {
          "name": "actor_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_subject_id": {
          "name": "actor_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "secured_balance_ledger_entry_id": {
          "name": "secured_balance_ledger_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "commitment_claim_events_biz_id_id_unique": {
          "name": "commitment_claim_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "commitment_claim_events_biz_claim_occurred_idx": {
          "name": "commitment_claim_events_biz_claim_occurred_idx",
          "columns": [
            "biz_id",
            "commitment_claim_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "commitment_claim_events_biz_actor_subject_idx": {
          "name": "commitment_claim_events_biz_actor_subject_idx",
          "columns": [
            "biz_id",
            "actor_subject_type",
            "actor_subject_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "commitment_claim_events_biz_id_bizes_id_fk": {
          "name": "commitment_claim_events_biz_id_bizes_id_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claim_events_commitment_claim_id_commitment_claims_id_fk": {
          "name": "commitment_claim_events_commitment_claim_id_commitment_claims_id_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "commitment_claims",
          "columnsFrom": [
            "commitment_claim_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claim_events_actor_user_id_users_id_fk": {
          "name": "commitment_claim_events_actor_user_id_users_id_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claim_events_secured_balance_ledger_entry_id_secured_balance_ledger_entries_id_fk": {
          "name": "commitment_claim_events_secured_balance_ledger_entry_id_secured_balance_ledger_entries_id_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "secured_balance_ledger_entries",
          "columnsFrom": [
            "secured_balance_ledger_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claim_events_created_by_users_id_fk": {
          "name": "commitment_claim_events_created_by_users_id_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claim_events_updated_by_users_id_fk": {
          "name": "commitment_claim_events_updated_by_users_id_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claim_events_deleted_by_users_id_fk": {
          "name": "commitment_claim_events_deleted_by_users_id_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claim_events_biz_claim_fk": {
          "name": "commitment_claim_events_biz_claim_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "commitment_claims",
          "columnsFrom": [
            "biz_id",
            "commitment_claim_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claim_events_biz_actor_subject_fk": {
          "name": "commitment_claim_events_biz_actor_subject_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "actor_subject_type",
            "actor_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claim_events_biz_ledger_entry_fk": {
          "name": "commitment_claim_events_biz_ledger_entry_fk",
          "tableFrom": "commitment_claim_events",
          "tableTo": "secured_balance_ledger_entries",
          "columnsFrom": [
            "biz_id",
            "secured_balance_ledger_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "commitment_claims": {
      "name": "commitment_claims",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commitment_contract_id": {
          "name": "commitment_contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "claim_type": {
          "name": "claim_type",
          "type": "commitment_claim_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "commitment_claim_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "resolution_type": {
          "name": "resolution_type",
          "type": "commitment_claim_resolution_type",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "raised_by_subject_type": {
          "name": "raised_by_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "raised_by_subject_id": {
          "name": "raised_by_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "against_subject_type": {
          "name": "against_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "against_subject_id": {
          "name": "against_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "respond_by_at": {
          "name": "respond_by_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "disputed_amount_minor": {
          "name": "disputed_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "settled_amount_minor": {
          "name": "settled_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "resolved_by_user_id": {
          "name": "resolved_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "commitment_claims_biz_id_id_unique": {
          "name": "commitment_claims_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "commitment_claims_biz_contract_status_opened_idx": {
          "name": "commitment_claims_biz_contract_status_opened_idx",
          "columns": [
            "biz_id",
            "commitment_contract_id",
            "status",
            "opened_at"
          ],
          "isUnique": false
        },
        "commitment_claims_biz_raised_by_subject_idx": {
          "name": "commitment_claims_biz_raised_by_subject_idx",
          "columns": [
            "biz_id",
            "raised_by_subject_type",
            "raised_by_subject_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "commitment_claims_biz_id_bizes_id_fk": {
          "name": "commitment_claims_biz_id_bizes_id_fk",
          "tableFrom": "commitment_claims",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claims_commitment_contract_id_commitment_contracts_id_fk": {
          "name": "commitment_claims_commitment_contract_id_commitment_contracts_id_fk",
          "tableFrom": "commitment_claims",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "commitment_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claims_resolved_by_user_id_users_id_fk": {
          "name": "commitment_claims_resolved_by_user_id_users_id_fk",
          "tableFrom": "commitment_claims",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claims_created_by_users_id_fk": {
          "name": "commitment_claims_created_by_users_id_fk",
          "tableFrom": "commitment_claims",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claims_updated_by_users_id_fk": {
          "name": "commitment_claims_updated_by_users_id_fk",
          "tableFrom": "commitment_claims",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claims_deleted_by_users_id_fk": {
          "name": "commitment_claims_deleted_by_users_id_fk",
          "tableFrom": "commitment_claims",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claims_biz_contract_fk": {
          "name": "commitment_claims_biz_contract_fk",
          "tableFrom": "commitment_claims",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "biz_id",
            "commitment_contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claims_biz_raised_by_subject_fk": {
          "name": "commitment_claims_biz_raised_by_subject_fk",
          "tableFrom": "commitment_claims",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "raised_by_subject_type",
            "raised_by_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_claims_biz_against_subject_fk": {
          "name": "commitment_claims_biz_against_subject_fk",
          "tableFrom": "commitment_claims",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "against_subject_type",
            "against_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "commitment_contracts": {
      "name": "commitment_contracts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contract_type": {
          "name": "contract_type",
          "type": "commitment_contract_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "commitment_contract_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "title": {
          "name": "title",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "anchor_subject_type": {
          "name": "anchor_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "anchor_subject_id": {
          "name": "anchor_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "counterparty_subject_type": {
          "name": "counterparty_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "counterparty_subject_id": {
          "name": "counterparty_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ar_invoice_id": {
          "name": "ar_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "committed_amount_minor": {
          "name": "committed_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "released_amount_minor": {
          "name": "released_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "forfeited_amount_minor": {
          "name": "forfeited_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "commitment_contracts_biz_id_id_unique": {
          "name": "commitment_contracts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "commitment_contracts_biz_status_started_idx": {
          "name": "commitment_contracts_biz_status_started_idx",
          "columns": [
            "biz_id",
            "status",
            "started_at"
          ],
          "isUnique": false
        },
        "commitment_contracts_biz_anchor_subject_idx": {
          "name": "commitment_contracts_biz_anchor_subject_idx",
          "columns": [
            "biz_id",
            "anchor_subject_type",
            "anchor_subject_id"
          ],
          "isUnique": false
        },
        "commitment_contracts_biz_counterparty_subject_idx": {
          "name": "commitment_contracts_biz_counterparty_subject_idx",
          "columns": [
            "biz_id",
            "counterparty_subject_type",
            "counterparty_subject_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "commitment_contracts_biz_id_bizes_id_fk": {
          "name": "commitment_contracts_biz_id_bizes_id_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_offer_version_id_offer_versions_id_fk": {
          "name": "commitment_contracts_offer_version_id_offer_versions_id_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_booking_order_id_booking_orders_id_fk": {
          "name": "commitment_contracts_booking_order_id_booking_orders_id_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_ar_invoice_id_ar_invoices_id_fk": {
          "name": "commitment_contracts_ar_invoice_id_ar_invoices_id_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "ar_invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_created_by_users_id_fk": {
          "name": "commitment_contracts_created_by_users_id_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_updated_by_users_id_fk": {
          "name": "commitment_contracts_updated_by_users_id_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_deleted_by_users_id_fk": {
          "name": "commitment_contracts_deleted_by_users_id_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_biz_anchor_subject_fk": {
          "name": "commitment_contracts_biz_anchor_subject_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "anchor_subject_type",
            "anchor_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_biz_counterparty_subject_fk": {
          "name": "commitment_contracts_biz_counterparty_subject_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "counterparty_subject_type",
            "counterparty_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_biz_offer_version_fk": {
          "name": "commitment_contracts_biz_offer_version_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_biz_booking_order_fk": {
          "name": "commitment_contracts_biz_booking_order_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_contracts_biz_ar_invoice_fk": {
          "name": "commitment_contracts_biz_ar_invoice_fk",
          "tableFrom": "commitment_contracts",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "biz_id",
            "ar_invoice_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "commitment_milestone_obligations": {
      "name": "commitment_milestone_obligations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commitment_contract_id": {
          "name": "commitment_contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commitment_milestone_id": {
          "name": "commitment_milestone_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commitment_obligation_id": {
          "name": "commitment_obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "weight": {
          "name": "weight",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "commitment_milestone_obligations_biz_id_id_unique": {
          "name": "commitment_milestone_obligations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "commitment_milestone_obligations_unique": {
          "name": "commitment_milestone_obligations_unique",
          "columns": [
            "commitment_milestone_id",
            "commitment_obligation_id"
          ],
          "isUnique": true
        },
        "commitment_milestone_obligations_biz_milestone_idx": {
          "name": "commitment_milestone_obligations_biz_milestone_idx",
          "columns": [
            "biz_id",
            "commitment_milestone_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "commitment_milestone_obligations_biz_obligation_idx": {
          "name": "commitment_milestone_obligations_biz_obligation_idx",
          "columns": [
            "biz_id",
            "commitment_obligation_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "commitment_milestone_obligations_biz_id_bizes_id_fk": {
          "name": "commitment_milestone_obligations_biz_id_bizes_id_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestone_obligations_commitment_contract_id_commitment_contracts_id_fk": {
          "name": "commitment_milestone_obligations_commitment_contract_id_commitment_contracts_id_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "commitment_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestone_obligations_commitment_milestone_id_commitment_milestones_id_fk": {
          "name": "commitment_milestone_obligations_commitment_milestone_id_commitment_milestones_id_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "commitment_milestones",
          "columnsFrom": [
            "commitment_milestone_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestone_obligations_commitment_obligation_id_commitment_obligations_id_fk": {
          "name": "commitment_milestone_obligations_commitment_obligation_id_commitment_obligations_id_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "commitment_obligations",
          "columnsFrom": [
            "commitment_obligation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestone_obligations_created_by_users_id_fk": {
          "name": "commitment_milestone_obligations_created_by_users_id_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestone_obligations_updated_by_users_id_fk": {
          "name": "commitment_milestone_obligations_updated_by_users_id_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestone_obligations_deleted_by_users_id_fk": {
          "name": "commitment_milestone_obligations_deleted_by_users_id_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestone_obligations_biz_contract_fk": {
          "name": "commitment_milestone_obligations_biz_contract_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "biz_id",
            "commitment_contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestone_obligations_biz_milestone_fk": {
          "name": "commitment_milestone_obligations_biz_milestone_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "commitment_milestones",
          "columnsFrom": [
            "biz_id",
            "commitment_contract_id",
            "commitment_milestone_id"
          ],
          "columnsTo": [
            "biz_id",
            "commitment_contract_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestone_obligations_biz_obligation_fk": {
          "name": "commitment_milestone_obligations_biz_obligation_fk",
          "tableFrom": "commitment_milestone_obligations",
          "tableTo": "commitment_obligations",
          "columnsFrom": [
            "biz_id",
            "commitment_contract_id",
            "commitment_obligation_id"
          ],
          "columnsTo": [
            "biz_id",
            "commitment_contract_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "commitment_milestones": {
      "name": "commitment_milestones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commitment_contract_id": {
          "name": "commitment_contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code": {
          "name": "code",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "commitment_milestone_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "evaluation_mode": {
          "name": "evaluation_mode",
          "type": "commitment_milestone_evaluation_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'all'"
        },
        "min_satisfied_count": {
          "name": "min_satisfied_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "release_mode": {
          "name": "release_mode",
          "type": "commitment_milestone_release_mode",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "release_amount_minor": {
          "name": "release_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ready_at": {
          "name": "ready_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "released_at": {
          "name": "released_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "released_by_user_id": {
          "name": "released_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "commitment_milestones_biz_id_id_unique": {
          "name": "commitment_milestones_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "commitment_milestones_biz_contract_id_id_unique": {
          "name": "commitment_milestones_biz_contract_id_id_unique",
          "columns": [
            "biz_id",
            "commitment_contract_id",
            "id"
          ],
          "isUnique": true
        },
        "commitment_milestones_contract_code_unique": {
          "name": "commitment_milestones_contract_code_unique",
          "columns": [
            "commitment_contract_id",
            "code"
          ],
          "isUnique": true
        },
        "commitment_milestones_biz_contract_status_due_idx": {
          "name": "commitment_milestones_biz_contract_status_due_idx",
          "columns": [
            "biz_id",
            "commitment_contract_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "commitment_milestones_biz_id_bizes_id_fk": {
          "name": "commitment_milestones_biz_id_bizes_id_fk",
          "tableFrom": "commitment_milestones",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestones_commitment_contract_id_commitment_contracts_id_fk": {
          "name": "commitment_milestones_commitment_contract_id_commitment_contracts_id_fk",
          "tableFrom": "commitment_milestones",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "commitment_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestones_released_by_user_id_users_id_fk": {
          "name": "commitment_milestones_released_by_user_id_users_id_fk",
          "tableFrom": "commitment_milestones",
          "tableTo": "users",
          "columnsFrom": [
            "released_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestones_created_by_users_id_fk": {
          "name": "commitment_milestones_created_by_users_id_fk",
          "tableFrom": "commitment_milestones",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestones_updated_by_users_id_fk": {
          "name": "commitment_milestones_updated_by_users_id_fk",
          "tableFrom": "commitment_milestones",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestones_deleted_by_users_id_fk": {
          "name": "commitment_milestones_deleted_by_users_id_fk",
          "tableFrom": "commitment_milestones",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_milestones_biz_contract_fk": {
          "name": "commitment_milestones_biz_contract_fk",
          "tableFrom": "commitment_milestones",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "biz_id",
            "commitment_contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "commitment_obligations": {
      "name": "commitment_obligations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commitment_contract_id": {
          "name": "commitment_contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "obligation_type": {
          "name": "obligation_type",
          "type": "commitment_obligation_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "commitment_obligation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "title": {
          "name": "title",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "obligor_subject_type": {
          "name": "obligor_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "obligor_subject_id": {
          "name": "obligor_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "beneficiary_subject_type": {
          "name": "beneficiary_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "beneficiary_subject_id": {
          "name": "beneficiary_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "required_amount_minor": {
          "name": "required_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "satisfied_amount_minor": {
          "name": "satisfied_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "satisfied_at": {
          "name": "satisfied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "breached_at": {
          "name": "breached_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "waived_at": {
          "name": "waived_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "source_subject_type": {
          "name": "source_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_subject_id": {
          "name": "source_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "evidence_policy": {
          "name": "evidence_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "commitment_obligations_biz_id_id_unique": {
          "name": "commitment_obligations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "commitment_obligations_biz_contract_id_id_unique": {
          "name": "commitment_obligations_biz_contract_id_id_unique",
          "columns": [
            "biz_id",
            "commitment_contract_id",
            "id"
          ],
          "isUnique": true
        },
        "commitment_obligations_biz_contract_status_due_idx": {
          "name": "commitment_obligations_biz_contract_status_due_idx",
          "columns": [
            "biz_id",
            "commitment_contract_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        },
        "commitment_obligations_biz_obligor_subject_idx": {
          "name": "commitment_obligations_biz_obligor_subject_idx",
          "columns": [
            "biz_id",
            "obligor_subject_type",
            "obligor_subject_id"
          ],
          "isUnique": false
        },
        "commitment_obligations_biz_beneficiary_subject_idx": {
          "name": "commitment_obligations_biz_beneficiary_subject_idx",
          "columns": [
            "biz_id",
            "beneficiary_subject_type",
            "beneficiary_subject_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "commitment_obligations_biz_id_bizes_id_fk": {
          "name": "commitment_obligations_biz_id_bizes_id_fk",
          "tableFrom": "commitment_obligations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_obligations_commitment_contract_id_commitment_contracts_id_fk": {
          "name": "commitment_obligations_commitment_contract_id_commitment_contracts_id_fk",
          "tableFrom": "commitment_obligations",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "commitment_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_obligations_created_by_users_id_fk": {
          "name": "commitment_obligations_created_by_users_id_fk",
          "tableFrom": "commitment_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_obligations_updated_by_users_id_fk": {
          "name": "commitment_obligations_updated_by_users_id_fk",
          "tableFrom": "commitment_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_obligations_deleted_by_users_id_fk": {
          "name": "commitment_obligations_deleted_by_users_id_fk",
          "tableFrom": "commitment_obligations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_obligations_biz_contract_fk": {
          "name": "commitment_obligations_biz_contract_fk",
          "tableFrom": "commitment_obligations",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "biz_id",
            "commitment_contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_obligations_biz_obligor_subject_fk": {
          "name": "commitment_obligations_biz_obligor_subject_fk",
          "tableFrom": "commitment_obligations",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "obligor_subject_type",
            "obligor_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_obligations_biz_beneficiary_subject_fk": {
          "name": "commitment_obligations_biz_beneficiary_subject_fk",
          "tableFrom": "commitment_obligations",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "beneficiary_subject_type",
            "beneficiary_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "commitment_obligations_biz_source_subject_fk": {
          "name": "commitment_obligations_biz_source_subject_fk",
          "tableFrom": "commitment_obligations",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "source_subject_type",
            "source_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "secured_balance_accounts": {
      "name": "secured_balance_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "commitment_contract_id": {
          "name": "commitment_contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "account_type": {
          "name": "account_type",
          "type": "secured_balance_account_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "secured_balance_account_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "title": {
          "name": "title",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "balance_minor": {
          "name": "balance_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "held_minor": {
          "name": "held_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "released_minor": {
          "name": "released_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "forfeited_minor": {
          "name": "forfeited_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "owner_subject_type": {
          "name": "owner_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "owner_subject_id": {
          "name": "owner_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "counterparty_subject_type": {
          "name": "counterparty_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "counterparty_subject_id": {
          "name": "counterparty_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "opened_at": {
          "name": "opened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "secured_balance_accounts_biz_id_id_unique": {
          "name": "secured_balance_accounts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "secured_balance_accounts_biz_contract_status_idx": {
          "name": "secured_balance_accounts_biz_contract_status_idx",
          "columns": [
            "biz_id",
            "commitment_contract_id",
            "status"
          ],
          "isUnique": false
        },
        "secured_balance_accounts_biz_owner_subject_idx": {
          "name": "secured_balance_accounts_biz_owner_subject_idx",
          "columns": [
            "biz_id",
            "owner_subject_type",
            "owner_subject_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "secured_balance_accounts_biz_id_bizes_id_fk": {
          "name": "secured_balance_accounts_biz_id_bizes_id_fk",
          "tableFrom": "secured_balance_accounts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_accounts_commitment_contract_id_commitment_contracts_id_fk": {
          "name": "secured_balance_accounts_commitment_contract_id_commitment_contracts_id_fk",
          "tableFrom": "secured_balance_accounts",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "commitment_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_accounts_created_by_users_id_fk": {
          "name": "secured_balance_accounts_created_by_users_id_fk",
          "tableFrom": "secured_balance_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_accounts_updated_by_users_id_fk": {
          "name": "secured_balance_accounts_updated_by_users_id_fk",
          "tableFrom": "secured_balance_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_accounts_deleted_by_users_id_fk": {
          "name": "secured_balance_accounts_deleted_by_users_id_fk",
          "tableFrom": "secured_balance_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_accounts_biz_contract_fk": {
          "name": "secured_balance_accounts_biz_contract_fk",
          "tableFrom": "secured_balance_accounts",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "biz_id",
            "commitment_contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_accounts_biz_owner_subject_fk": {
          "name": "secured_balance_accounts_biz_owner_subject_fk",
          "tableFrom": "secured_balance_accounts",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "owner_subject_type",
            "owner_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_accounts_biz_counterparty_subject_fk": {
          "name": "secured_balance_accounts_biz_counterparty_subject_fk",
          "tableFrom": "secured_balance_accounts",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "counterparty_subject_type",
            "counterparty_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "secured_balance_allocations": {
      "name": "secured_balance_allocations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secured_balance_ledger_entry_id": {
          "name": "secured_balance_ledger_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "allocation_type": {
          "name": "allocation_type",
          "type": "secured_balance_allocation_type",
          "primaryKey": false,
          "notNull": true
        },
        "allocated_amount_minor": {
          "name": "allocated_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "commitment_obligation_id": {
          "name": "commitment_obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "commitment_milestone_id": {
          "name": "commitment_milestone_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ar_invoice_id": {
          "name": "ar_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_line_allocation_id": {
          "name": "payment_transaction_line_allocation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "secured_balance_allocations_biz_id_id_unique": {
          "name": "secured_balance_allocations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "secured_balance_allocations_biz_ledger_idx": {
          "name": "secured_balance_allocations_biz_ledger_idx",
          "columns": [
            "biz_id",
            "secured_balance_ledger_entry_id"
          ],
          "isUnique": false
        },
        "secured_balance_allocations_biz_obligation_idx": {
          "name": "secured_balance_allocations_biz_obligation_idx",
          "columns": [
            "biz_id",
            "commitment_obligation_id"
          ],
          "isUnique": false
        },
        "secured_balance_allocations_biz_milestone_idx": {
          "name": "secured_balance_allocations_biz_milestone_idx",
          "columns": [
            "biz_id",
            "commitment_milestone_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "secured_balance_allocations_biz_id_bizes_id_fk": {
          "name": "secured_balance_allocations_biz_id_bizes_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_secured_balance_ledger_entry_id_secured_balance_ledger_entries_id_fk": {
          "name": "secured_balance_allocations_secured_balance_ledger_entry_id_secured_balance_ledger_entries_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "secured_balance_ledger_entries",
          "columnsFrom": [
            "secured_balance_ledger_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_commitment_obligation_id_commitment_obligations_id_fk": {
          "name": "secured_balance_allocations_commitment_obligation_id_commitment_obligations_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "commitment_obligations",
          "columnsFrom": [
            "commitment_obligation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_commitment_milestone_id_commitment_milestones_id_fk": {
          "name": "secured_balance_allocations_commitment_milestone_id_commitment_milestones_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "commitment_milestones",
          "columnsFrom": [
            "commitment_milestone_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "secured_balance_allocations_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_ar_invoice_id_ar_invoices_id_fk": {
          "name": "secured_balance_allocations_ar_invoice_id_ar_invoices_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "ar_invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_payment_transaction_line_allocation_id_payment_transaction_line_allocations_id_fk": {
          "name": "secured_balance_allocations_payment_transaction_line_allocation_id_payment_transaction_line_allocations_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "payment_transaction_line_allocations",
          "columnsFrom": [
            "payment_transaction_line_allocation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_created_by_users_id_fk": {
          "name": "secured_balance_allocations_created_by_users_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_updated_by_users_id_fk": {
          "name": "secured_balance_allocations_updated_by_users_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_deleted_by_users_id_fk": {
          "name": "secured_balance_allocations_deleted_by_users_id_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_biz_ledger_fk": {
          "name": "secured_balance_allocations_biz_ledger_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "secured_balance_ledger_entries",
          "columnsFrom": [
            "biz_id",
            "secured_balance_ledger_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_biz_obligation_fk": {
          "name": "secured_balance_allocations_biz_obligation_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "commitment_obligations",
          "columnsFrom": [
            "biz_id",
            "commitment_obligation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_biz_milestone_fk": {
          "name": "secured_balance_allocations_biz_milestone_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "commitment_milestones",
          "columnsFrom": [
            "biz_id",
            "commitment_milestone_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_biz_booking_order_line_fk": {
          "name": "secured_balance_allocations_biz_booking_order_line_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_biz_ar_invoice_fk": {
          "name": "secured_balance_allocations_biz_ar_invoice_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "biz_id",
            "ar_invoice_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_biz_payment_line_alloc_fk": {
          "name": "secured_balance_allocations_biz_payment_line_alloc_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "payment_transaction_line_allocations",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_line_allocation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_allocations_biz_target_subject_fk": {
          "name": "secured_balance_allocations_biz_target_subject_fk",
          "tableFrom": "secured_balance_allocations",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "secured_balance_ledger_entries": {
      "name": "secured_balance_ledger_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "secured_balance_account_id": {
          "name": "secured_balance_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entry_type": {
          "name": "entry_type",
          "type": "secured_balance_ledger_entry_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "secured_balance_ledger_entry_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'posted'"
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "balance_delta_minor": {
          "name": "balance_delta_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "held_delta_minor": {
          "name": "held_delta_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "commitment_contract_id": {
          "name": "commitment_contract_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "commitment_milestone_id": {
          "name": "commitment_milestone_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "commitment_obligation_id": {
          "name": "commitment_obligation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ar_invoice_id": {
          "name": "ar_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_subject_type": {
          "name": "source_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_subject_id": {
          "name": "source_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "secured_balance_ledger_entries_biz_id_id_unique": {
          "name": "secured_balance_ledger_entries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "secured_balance_ledger_entries_biz_idempotency_unique": {
          "name": "secured_balance_ledger_entries_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "secured_balance_ledger_entries_biz_account_occurred_idx": {
          "name": "secured_balance_ledger_entries_biz_account_occurred_idx",
          "columns": [
            "biz_id",
            "secured_balance_account_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "secured_balance_ledger_entries_biz_status_occurred_idx": {
          "name": "secured_balance_ledger_entries_biz_status_occurred_idx",
          "columns": [
            "biz_id",
            "status",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "secured_balance_ledger_entries_biz_id_bizes_id_fk": {
          "name": "secured_balance_ledger_entries_biz_id_bizes_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_secured_balance_account_id_secured_balance_accounts_id_fk": {
          "name": "secured_balance_ledger_entries_secured_balance_account_id_secured_balance_accounts_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "secured_balance_accounts",
          "columnsFrom": [
            "secured_balance_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_commitment_contract_id_commitment_contracts_id_fk": {
          "name": "secured_balance_ledger_entries_commitment_contract_id_commitment_contracts_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "commitment_contract_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_commitment_milestone_id_commitment_milestones_id_fk": {
          "name": "secured_balance_ledger_entries_commitment_milestone_id_commitment_milestones_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "commitment_milestones",
          "columnsFrom": [
            "commitment_milestone_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_commitment_obligation_id_commitment_obligations_id_fk": {
          "name": "secured_balance_ledger_entries_commitment_obligation_id_commitment_obligations_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "commitment_obligations",
          "columnsFrom": [
            "commitment_obligation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_payment_transaction_id_payment_transactions_id_fk": {
          "name": "secured_balance_ledger_entries_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_ar_invoice_id_ar_invoices_id_fk": {
          "name": "secured_balance_ledger_entries_ar_invoice_id_ar_invoices_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "ar_invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_booking_order_id_booking_orders_id_fk": {
          "name": "secured_balance_ledger_entries_booking_order_id_booking_orders_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "secured_balance_ledger_entries_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_created_by_users_id_fk": {
          "name": "secured_balance_ledger_entries_created_by_users_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_updated_by_users_id_fk": {
          "name": "secured_balance_ledger_entries_updated_by_users_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_deleted_by_users_id_fk": {
          "name": "secured_balance_ledger_entries_deleted_by_users_id_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_biz_account_fk": {
          "name": "secured_balance_ledger_entries_biz_account_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "secured_balance_accounts",
          "columnsFrom": [
            "biz_id",
            "secured_balance_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_biz_contract_fk": {
          "name": "secured_balance_ledger_entries_biz_contract_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "commitment_contracts",
          "columnsFrom": [
            "biz_id",
            "commitment_contract_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_biz_milestone_fk": {
          "name": "secured_balance_ledger_entries_biz_milestone_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "commitment_milestones",
          "columnsFrom": [
            "biz_id",
            "commitment_milestone_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_biz_obligation_fk": {
          "name": "secured_balance_ledger_entries_biz_obligation_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "commitment_obligations",
          "columnsFrom": [
            "biz_id",
            "commitment_obligation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_biz_payment_transaction_fk": {
          "name": "secured_balance_ledger_entries_biz_payment_transaction_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_biz_ar_invoice_fk": {
          "name": "secured_balance_ledger_entries_biz_ar_invoice_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "biz_id",
            "ar_invoice_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_biz_booking_order_fk": {
          "name": "secured_balance_ledger_entries_biz_booking_order_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_biz_booking_order_line_fk": {
          "name": "secured_balance_ledger_entries_biz_booking_order_line_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "secured_balance_ledger_entries_biz_source_subject_fk": {
          "name": "secured_balance_ledger_entries_biz_source_subject_fk",
          "tableFrom": "secured_balance_ledger_entries",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "source_subject_type",
            "source_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sla_breach_events": {
      "name": "sla_breach_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sla_policy_id": {
          "name": "sla_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "sla_breach_target_type",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "work_run_id": {
          "name": "work_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_type": {
          "name": "target_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_ref_id": {
          "name": "target_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "sla_breach_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "breached_at": {
          "name": "breached_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "target_duration_min": {
          "name": "target_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "grace_duration_min": {
          "name": "grace_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "measured_duration_min": {
          "name": "measured_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "severity_level": {
          "name": "severity_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2
        },
        "is_auto_detected": {
          "name": "is_auto_detected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sla_breach_events_biz_id_id_unique": {
          "name": "sla_breach_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sla_breach_events_biz_status_breached_idx": {
          "name": "sla_breach_events_biz_status_breached_idx",
          "columns": [
            "biz_id",
            "status",
            "breached_at"
          ],
          "isUnique": false
        },
        "sla_breach_events_biz_policy_breached_idx": {
          "name": "sla_breach_events_biz_policy_breached_idx",
          "columns": [
            "biz_id",
            "sla_policy_id",
            "breached_at"
          ],
          "isUnique": false
        },
        "sla_breach_events_biz_target_ref_idx": {
          "name": "sla_breach_events_biz_target_ref_idx",
          "columns": [
            "biz_id",
            "target_ref_type",
            "target_ref_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sla_breach_events_biz_id_bizes_id_fk": {
          "name": "sla_breach_events_biz_id_bizes_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_sla_policy_id_sla_policies_id_fk": {
          "name": "sla_breach_events_sla_policy_id_sla_policies_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "sla_policies",
          "columnsFrom": [
            "sla_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_booking_order_id_booking_orders_id_fk": {
          "name": "sla_breach_events_booking_order_id_booking_orders_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "sla_breach_events_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_queue_entry_id_queue_entries_id_fk": {
          "name": "sla_breach_events_queue_entry_id_queue_entries_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "queue_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_work_run_id_work_runs_id_fk": {
          "name": "sla_breach_events_work_run_id_work_runs_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "work_runs",
          "columnsFrom": [
            "work_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_resource_id_resources_id_fk": {
          "name": "sla_breach_events_resource_id_resources_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_created_by_users_id_fk": {
          "name": "sla_breach_events_created_by_users_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_updated_by_users_id_fk": {
          "name": "sla_breach_events_updated_by_users_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_deleted_by_users_id_fk": {
          "name": "sla_breach_events_deleted_by_users_id_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_biz_booking_order_fk": {
          "name": "sla_breach_events_biz_booking_order_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_biz_fulfillment_unit_fk": {
          "name": "sla_breach_events_biz_fulfillment_unit_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_biz_queue_entry_fk": {
          "name": "sla_breach_events_biz_queue_entry_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "biz_id",
            "queue_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_biz_work_run_fk": {
          "name": "sla_breach_events_biz_work_run_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "work_runs",
          "columnsFrom": [
            "biz_id",
            "work_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_biz_resource_fk": {
          "name": "sla_breach_events_biz_resource_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_biz_policy_fk": {
          "name": "sla_breach_events_biz_policy_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "sla_policies",
          "columnsFrom": [
            "biz_id",
            "sla_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_breach_events_biz_target_ref_subject_fk": {
          "name": "sla_breach_events_biz_target_ref_subject_fk",
          "tableFrom": "sla_breach_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_ref_type",
            "target_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sla_compensation_events": {
      "name": "sla_compensation_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sla_breach_event_id": {
          "name": "sla_breach_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "sla_compensation_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "sla_compensation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "amount_minor": {
          "name": "amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ar_invoice_id": {
          "name": "ar_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reversed_at": {
          "name": "reversed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sla_compensation_events_biz_id_id_unique": {
          "name": "sla_compensation_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sla_compensation_events_biz_breach_status_idx": {
          "name": "sla_compensation_events_biz_breach_status_idx",
          "columns": [
            "biz_id",
            "sla_breach_event_id",
            "status"
          ],
          "isUnique": false
        },
        "sla_compensation_events_biz_applied_idx": {
          "name": "sla_compensation_events_biz_applied_idx",
          "columns": [
            "biz_id",
            "applied_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sla_compensation_events_biz_id_bizes_id_fk": {
          "name": "sla_compensation_events_biz_id_bizes_id_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compensation_events_sla_breach_event_id_sla_breach_events_id_fk": {
          "name": "sla_compensation_events_sla_breach_event_id_sla_breach_events_id_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "sla_breach_events",
          "columnsFrom": [
            "sla_breach_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compensation_events_booking_order_id_booking_orders_id_fk": {
          "name": "sla_compensation_events_booking_order_id_booking_orders_id_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compensation_events_ar_invoice_id_ar_invoices_id_fk": {
          "name": "sla_compensation_events_ar_invoice_id_ar_invoices_id_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "ar_invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compensation_events_created_by_users_id_fk": {
          "name": "sla_compensation_events_created_by_users_id_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compensation_events_updated_by_users_id_fk": {
          "name": "sla_compensation_events_updated_by_users_id_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compensation_events_deleted_by_users_id_fk": {
          "name": "sla_compensation_events_deleted_by_users_id_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compensation_events_biz_breach_fk": {
          "name": "sla_compensation_events_biz_breach_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "sla_breach_events",
          "columnsFrom": [
            "biz_id",
            "sla_breach_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compensation_events_biz_booking_order_fk": {
          "name": "sla_compensation_events_biz_booking_order_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_compensation_events_biz_ar_invoice_fk": {
          "name": "sla_compensation_events_biz_ar_invoice_fk",
          "tableFrom": "sla_compensation_events",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "biz_id",
            "ar_invoice_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sla_policies": {
      "name": "sla_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "metric_kind": {
          "name": "metric_kind",
          "type": "sla_metric_kind",
          "primaryKey": false,
          "notNull": true
        },
        "scope_type": {
          "name": "scope_type",
          "type": "sla_policy_scope_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'biz'"
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_id": {
          "name": "queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope_ref_type": {
          "name": "scope_ref_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "scope_ref_id": {
          "name": "scope_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_duration_min": {
          "name": "target_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "grace_duration_min": {
          "name": "grace_duration_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "severity_level": {
          "name": "severity_level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2
        },
        "business_hours_only": {
          "name": "business_hours_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "evaluation_policy": {
          "name": "evaluation_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "compensation_policy": {
          "name": "compensation_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sla_policies_biz_id_id_unique": {
          "name": "sla_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "sla_policies_biz_slug_unique": {
          "name": "sla_policies_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "sla_policies_biz_status_scope_idx": {
          "name": "sla_policies_biz_status_scope_idx",
          "columns": [
            "biz_id",
            "status",
            "scope_type"
          ],
          "isUnique": false
        },
        "sla_policies_biz_scope_ref_idx": {
          "name": "sla_policies_biz_scope_ref_idx",
          "columns": [
            "biz_id",
            "scope_ref_type",
            "scope_ref_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sla_policies_biz_id_bizes_id_fk": {
          "name": "sla_policies_biz_id_bizes_id_fk",
          "tableFrom": "sla_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_location_id_locations_id_fk": {
          "name": "sla_policies_location_id_locations_id_fk",
          "tableFrom": "sla_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_resource_id_resources_id_fk": {
          "name": "sla_policies_resource_id_resources_id_fk",
          "tableFrom": "sla_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_offer_version_id_offer_versions_id_fk": {
          "name": "sla_policies_offer_version_id_offer_versions_id_fk",
          "tableFrom": "sla_policies",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_service_product_id_service_products_id_fk": {
          "name": "sla_policies_service_product_id_service_products_id_fk",
          "tableFrom": "sla_policies",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_queue_id_queues_id_fk": {
          "name": "sla_policies_queue_id_queues_id_fk",
          "tableFrom": "sla_policies",
          "tableTo": "queues",
          "columnsFrom": [
            "queue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_created_by_users_id_fk": {
          "name": "sla_policies_created_by_users_id_fk",
          "tableFrom": "sla_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_updated_by_users_id_fk": {
          "name": "sla_policies_updated_by_users_id_fk",
          "tableFrom": "sla_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_deleted_by_users_id_fk": {
          "name": "sla_policies_deleted_by_users_id_fk",
          "tableFrom": "sla_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_biz_location_fk": {
          "name": "sla_policies_biz_location_fk",
          "tableFrom": "sla_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_biz_resource_fk": {
          "name": "sla_policies_biz_resource_fk",
          "tableFrom": "sla_policies",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_biz_offer_version_fk": {
          "name": "sla_policies_biz_offer_version_fk",
          "tableFrom": "sla_policies",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_biz_service_product_fk": {
          "name": "sla_policies_biz_service_product_fk",
          "tableFrom": "sla_policies",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_biz_queue_fk": {
          "name": "sla_policies_biz_queue_fk",
          "tableFrom": "sla_policies",
          "tableTo": "queues",
          "columnsFrom": [
            "biz_id",
            "queue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sla_policies_biz_scope_ref_subject_fk": {
          "name": "sla_policies_biz_scope_ref_subject_fk",
          "tableFrom": "sla_policies",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "scope_ref_type",
            "scope_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fx_rate_snapshots": {
      "name": "fx_rate_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_currency": {
          "name": "base_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "quote_currency": {
          "name": "quote_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "rate": {
          "name": "rate",
          "type": "numeric(24, 10)",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "fx_rate_source",
          "primaryKey": false,
          "notNull": true,
          "default": "'provider'"
        },
        "source_ref": {
          "name": "source_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_at": {
          "name": "effective_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fx_rate_snapshots_biz_id_id_unique": {
          "name": "fx_rate_snapshots_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fx_rate_snapshots_biz_pair_effective_idx": {
          "name": "fx_rate_snapshots_biz_pair_effective_idx",
          "columns": [
            "biz_id",
            "base_currency",
            "quote_currency",
            "effective_at"
          ],
          "isUnique": false
        },
        "fx_rate_snapshots_biz_pair_source_effective_unique": {
          "name": "fx_rate_snapshots_biz_pair_source_effective_unique",
          "columns": [
            "biz_id",
            "base_currency",
            "quote_currency",
            "source",
            "effective_at"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "fx_rate_snapshots_biz_id_bizes_id_fk": {
          "name": "fx_rate_snapshots_biz_id_bizes_id_fk",
          "tableFrom": "fx_rate_snapshots",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fx_rate_snapshots_created_by_users_id_fk": {
          "name": "fx_rate_snapshots_created_by_users_id_fk",
          "tableFrom": "fx_rate_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fx_rate_snapshots_updated_by_users_id_fk": {
          "name": "fx_rate_snapshots_updated_by_users_id_fk",
          "tableFrom": "fx_rate_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fx_rate_snapshots_deleted_by_users_id_fk": {
          "name": "fx_rate_snapshots_deleted_by_users_id_fk",
          "tableFrom": "fx_rate_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tax_calculations": {
      "name": "tax_calculations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tax_profile_id": {
          "name": "tax_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tax_rule_ref_id": {
          "name": "tax_rule_ref_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fx_rate_snapshot_id": {
          "name": "fx_rate_snapshot_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ar_invoice_id": {
          "name": "ar_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "tax_calculation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'calculated'"
        },
        "taxable_subtotal_minor": {
          "name": "taxable_subtotal_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_minor": {
          "name": "total_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "finalized_at": {
          "name": "finalized_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "input_snapshot": {
          "name": "input_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "output_breakdown": {
          "name": "output_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tax_calculations_biz_id_id_unique": {
          "name": "tax_calculations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "tax_calculations_biz_status_calculated_idx": {
          "name": "tax_calculations_biz_status_calculated_idx",
          "columns": [
            "biz_id",
            "status",
            "calculated_at"
          ],
          "isUnique": false
        },
        "tax_calculations_biz_booking_order_idx": {
          "name": "tax_calculations_biz_booking_order_idx",
          "columns": [
            "biz_id",
            "booking_order_id"
          ],
          "isUnique": false
        },
        "tax_calculations_biz_ar_invoice_idx": {
          "name": "tax_calculations_biz_ar_invoice_idx",
          "columns": [
            "biz_id",
            "ar_invoice_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "tax_calculations_biz_id_bizes_id_fk": {
          "name": "tax_calculations_biz_id_bizes_id_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_tax_profile_id_tax_profiles_id_fk": {
          "name": "tax_calculations_tax_profile_id_tax_profiles_id_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "tax_profiles",
          "columnsFrom": [
            "tax_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_tax_rule_ref_id_tax_rule_refs_id_fk": {
          "name": "tax_calculations_tax_rule_ref_id_tax_rule_refs_id_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "tax_rule_refs",
          "columnsFrom": [
            "tax_rule_ref_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_fx_rate_snapshot_id_fx_rate_snapshots_id_fk": {
          "name": "tax_calculations_fx_rate_snapshot_id_fx_rate_snapshots_id_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "fx_rate_snapshots",
          "columnsFrom": [
            "fx_rate_snapshot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_booking_order_id_booking_orders_id_fk": {
          "name": "tax_calculations_booking_order_id_booking_orders_id_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_ar_invoice_id_ar_invoices_id_fk": {
          "name": "tax_calculations_ar_invoice_id_ar_invoices_id_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "ar_invoice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_created_by_users_id_fk": {
          "name": "tax_calculations_created_by_users_id_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_updated_by_users_id_fk": {
          "name": "tax_calculations_updated_by_users_id_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_deleted_by_users_id_fk": {
          "name": "tax_calculations_deleted_by_users_id_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_biz_profile_fk": {
          "name": "tax_calculations_biz_profile_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "tax_profiles",
          "columnsFrom": [
            "biz_id",
            "tax_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_biz_rule_fk": {
          "name": "tax_calculations_biz_rule_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "tax_rule_refs",
          "columnsFrom": [
            "biz_id",
            "tax_rule_ref_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_biz_fx_rate_fk": {
          "name": "tax_calculations_biz_fx_rate_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "fx_rate_snapshots",
          "columnsFrom": [
            "biz_id",
            "fx_rate_snapshot_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_biz_booking_order_fk": {
          "name": "tax_calculations_biz_booking_order_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_calculations_biz_ar_invoice_fk": {
          "name": "tax_calculations_biz_ar_invoice_fk",
          "tableFrom": "tax_calculations",
          "tableTo": "ar_invoices",
          "columnsFrom": [
            "biz_id",
            "ar_invoice_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tax_profiles": {
      "name": "tax_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "country_code": {
          "name": "country_code",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": true
        },
        "region_code": {
          "name": "region_code",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "city_code": {
          "name": "city_code",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code_pattern": {
          "name": "postal_code_pattern",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "tax_inclusive_default": {
          "name": "tax_inclusive_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "rounding_policy": {
          "name": "rounding_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tax_profiles_biz_id_id_unique": {
          "name": "tax_profiles_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "tax_profiles_biz_slug_unique": {
          "name": "tax_profiles_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "tax_profiles_biz_status_geo_idx": {
          "name": "tax_profiles_biz_status_geo_idx",
          "columns": [
            "biz_id",
            "status",
            "country_code",
            "region_code"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "tax_profiles_biz_id_bizes_id_fk": {
          "name": "tax_profiles_biz_id_bizes_id_fk",
          "tableFrom": "tax_profiles",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_profiles_created_by_users_id_fk": {
          "name": "tax_profiles_created_by_users_id_fk",
          "tableFrom": "tax_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_profiles_updated_by_users_id_fk": {
          "name": "tax_profiles_updated_by_users_id_fk",
          "tableFrom": "tax_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_profiles_deleted_by_users_id_fk": {
          "name": "tax_profiles_deleted_by_users_id_fk",
          "tableFrom": "tax_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tax_rule_refs": {
      "name": "tax_rule_refs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tax_profile_id": {
          "name": "tax_profile_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rule_key": {
          "name": "rule_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "rate_bps": {
          "name": "rate_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "flat_amount_minor": {
          "name": "flat_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "applies_to": {
          "name": "applies_to",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "valid_to": {
          "name": "valid_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tax_rule_refs_biz_id_id_unique": {
          "name": "tax_rule_refs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "tax_rule_refs_profile_rule_unique": {
          "name": "tax_rule_refs_profile_rule_unique",
          "columns": [
            "tax_profile_id",
            "rule_key"
          ],
          "isUnique": true
        },
        "tax_rule_refs_biz_profile_status_priority_idx": {
          "name": "tax_rule_refs_biz_profile_status_priority_idx",
          "columns": [
            "biz_id",
            "tax_profile_id",
            "status",
            "priority"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "tax_rule_refs_biz_id_bizes_id_fk": {
          "name": "tax_rule_refs_biz_id_bizes_id_fk",
          "tableFrom": "tax_rule_refs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_rule_refs_tax_profile_id_tax_profiles_id_fk": {
          "name": "tax_rule_refs_tax_profile_id_tax_profiles_id_fk",
          "tableFrom": "tax_rule_refs",
          "tableTo": "tax_profiles",
          "columnsFrom": [
            "tax_profile_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_rule_refs_created_by_users_id_fk": {
          "name": "tax_rule_refs_created_by_users_id_fk",
          "tableFrom": "tax_rule_refs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_rule_refs_updated_by_users_id_fk": {
          "name": "tax_rule_refs_updated_by_users_id_fk",
          "tableFrom": "tax_rule_refs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_rule_refs_deleted_by_users_id_fk": {
          "name": "tax_rule_refs_deleted_by_users_id_fk",
          "tableFrom": "tax_rule_refs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tax_rule_refs_biz_profile_fk": {
          "name": "tax_rule_refs_biz_profile_fk",
          "tableFrom": "tax_rule_refs",
          "tableTo": "tax_profiles",
          "columnsFrom": [
            "biz_id",
            "tax_profile_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "leave_balances": {
      "name": "leave_balances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "leave_policy_id": {
          "name": "leave_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "balance_amount": {
          "name": "balance_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "reserved_amount": {
          "name": "reserved_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "used_amount": {
          "name": "used_amount",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "as_of_at": {
          "name": "as_of_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "leave_balances_biz_id_id_unique": {
          "name": "leave_balances_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "leave_balances_policy_resource_unique": {
          "name": "leave_balances_policy_resource_unique",
          "columns": [
            "leave_policy_id",
            "resource_id"
          ],
          "isUnique": true
        },
        "leave_balances_biz_resource_idx": {
          "name": "leave_balances_biz_resource_idx",
          "columns": [
            "biz_id",
            "resource_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "leave_balances_biz_id_bizes_id_fk": {
          "name": "leave_balances_biz_id_bizes_id_fk",
          "tableFrom": "leave_balances",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_balances_leave_policy_id_leave_policies_id_fk": {
          "name": "leave_balances_leave_policy_id_leave_policies_id_fk",
          "tableFrom": "leave_balances",
          "tableTo": "leave_policies",
          "columnsFrom": [
            "leave_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_balances_resource_id_resources_id_fk": {
          "name": "leave_balances_resource_id_resources_id_fk",
          "tableFrom": "leave_balances",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_balances_created_by_users_id_fk": {
          "name": "leave_balances_created_by_users_id_fk",
          "tableFrom": "leave_balances",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_balances_updated_by_users_id_fk": {
          "name": "leave_balances_updated_by_users_id_fk",
          "tableFrom": "leave_balances",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_balances_deleted_by_users_id_fk": {
          "name": "leave_balances_deleted_by_users_id_fk",
          "tableFrom": "leave_balances",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_balances_biz_policy_fk": {
          "name": "leave_balances_biz_policy_fk",
          "tableFrom": "leave_balances",
          "tableTo": "leave_policies",
          "columnsFrom": [
            "biz_id",
            "leave_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_balances_biz_resource_fk": {
          "name": "leave_balances_biz_resource_fk",
          "tableFrom": "leave_balances",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "leave_events": {
      "name": "leave_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "leave_policy_id": {
          "name": "leave_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "leave_request_id": {
          "name": "leave_request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "leave_event_type",
          "primaryKey": false,
          "notNull": true
        },
        "amount_delta": {
          "name": "amount_delta",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "resulting_balance": {
          "name": "resulting_balance",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "leave_events_biz_id_id_unique": {
          "name": "leave_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "leave_events_biz_resource_occurred_idx": {
          "name": "leave_events_biz_resource_occurred_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "leave_events_biz_id_bizes_id_fk": {
          "name": "leave_events_biz_id_bizes_id_fk",
          "tableFrom": "leave_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_leave_policy_id_leave_policies_id_fk": {
          "name": "leave_events_leave_policy_id_leave_policies_id_fk",
          "tableFrom": "leave_events",
          "tableTo": "leave_policies",
          "columnsFrom": [
            "leave_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_resource_id_resources_id_fk": {
          "name": "leave_events_resource_id_resources_id_fk",
          "tableFrom": "leave_events",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_leave_request_id_leave_requests_id_fk": {
          "name": "leave_events_leave_request_id_leave_requests_id_fk",
          "tableFrom": "leave_events",
          "tableTo": "leave_requests",
          "columnsFrom": [
            "leave_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_actor_user_id_users_id_fk": {
          "name": "leave_events_actor_user_id_users_id_fk",
          "tableFrom": "leave_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_created_by_users_id_fk": {
          "name": "leave_events_created_by_users_id_fk",
          "tableFrom": "leave_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_updated_by_users_id_fk": {
          "name": "leave_events_updated_by_users_id_fk",
          "tableFrom": "leave_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_deleted_by_users_id_fk": {
          "name": "leave_events_deleted_by_users_id_fk",
          "tableFrom": "leave_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_biz_policy_fk": {
          "name": "leave_events_biz_policy_fk",
          "tableFrom": "leave_events",
          "tableTo": "leave_policies",
          "columnsFrom": [
            "biz_id",
            "leave_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_biz_resource_fk": {
          "name": "leave_events_biz_resource_fk",
          "tableFrom": "leave_events",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_events_biz_request_fk": {
          "name": "leave_events_biz_request_fk",
          "tableFrom": "leave_events",
          "tableTo": "leave_requests",
          "columnsFrom": [
            "biz_id",
            "leave_request_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "leave_policies": {
      "name": "leave_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "resource_type",
          "primaryKey": false,
          "notNull": false
        },
        "unit": {
          "name": "unit",
          "type": "leave_unit",
          "primaryKey": false,
          "notNull": true,
          "default": "'hours'"
        },
        "accrual_period": {
          "name": "accrual_period",
          "type": "leave_accrual_period",
          "primaryKey": false,
          "notNull": true,
          "default": "'monthly'"
        },
        "accrual_rate": {
          "name": "accrual_rate",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "annual_allowance": {
          "name": "annual_allowance",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "carryover_max": {
          "name": "carryover_max",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "allow_negative_balance": {
          "name": "allow_negative_balance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "min_notice_minutes": {
          "name": "min_notice_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "leave_policies_biz_id_id_unique": {
          "name": "leave_policies_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "leave_policies_biz_slug_unique": {
          "name": "leave_policies_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "leave_policies_biz_status_idx": {
          "name": "leave_policies_biz_status_idx",
          "columns": [
            "biz_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "leave_policies_biz_id_bizes_id_fk": {
          "name": "leave_policies_biz_id_bizes_id_fk",
          "tableFrom": "leave_policies",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_policies_location_id_locations_id_fk": {
          "name": "leave_policies_location_id_locations_id_fk",
          "tableFrom": "leave_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_policies_created_by_users_id_fk": {
          "name": "leave_policies_created_by_users_id_fk",
          "tableFrom": "leave_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_policies_updated_by_users_id_fk": {
          "name": "leave_policies_updated_by_users_id_fk",
          "tableFrom": "leave_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_policies_deleted_by_users_id_fk": {
          "name": "leave_policies_deleted_by_users_id_fk",
          "tableFrom": "leave_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_policies_biz_location_fk": {
          "name": "leave_policies_biz_location_fk",
          "tableFrom": "leave_policies",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "leave_requests": {
      "name": "leave_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "leave_policy_id": {
          "name": "leave_policy_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requester_user_id": {
          "name": "requester_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approver_user_id": {
          "name": "approver_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "leave_request_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "unit": {
          "name": "unit",
          "type": "leave_unit",
          "primaryKey": false,
          "notNull": true
        },
        "quantity_requested": {
          "name": "quantity_requested",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "quantity_approved": {
          "name": "quantity_approved",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "start_at": {
          "name": "start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "end_at": {
          "name": "end_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_reason": {
          "name": "decision_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "leave_requests_biz_id_id_unique": {
          "name": "leave_requests_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "leave_requests_biz_status_start_idx": {
          "name": "leave_requests_biz_status_start_idx",
          "columns": [
            "biz_id",
            "status",
            "start_at"
          ],
          "isUnique": false
        },
        "leave_requests_biz_resource_start_idx": {
          "name": "leave_requests_biz_resource_start_idx",
          "columns": [
            "biz_id",
            "resource_id",
            "start_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "leave_requests_biz_id_bizes_id_fk": {
          "name": "leave_requests_biz_id_bizes_id_fk",
          "tableFrom": "leave_requests",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_requests_leave_policy_id_leave_policies_id_fk": {
          "name": "leave_requests_leave_policy_id_leave_policies_id_fk",
          "tableFrom": "leave_requests",
          "tableTo": "leave_policies",
          "columnsFrom": [
            "leave_policy_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_requests_resource_id_resources_id_fk": {
          "name": "leave_requests_resource_id_resources_id_fk",
          "tableFrom": "leave_requests",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_requests_requester_user_id_users_id_fk": {
          "name": "leave_requests_requester_user_id_users_id_fk",
          "tableFrom": "leave_requests",
          "tableTo": "users",
          "columnsFrom": [
            "requester_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_requests_approver_user_id_users_id_fk": {
          "name": "leave_requests_approver_user_id_users_id_fk",
          "tableFrom": "leave_requests",
          "tableTo": "users",
          "columnsFrom": [
            "approver_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_requests_created_by_users_id_fk": {
          "name": "leave_requests_created_by_users_id_fk",
          "tableFrom": "leave_requests",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_requests_updated_by_users_id_fk": {
          "name": "leave_requests_updated_by_users_id_fk",
          "tableFrom": "leave_requests",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_requests_deleted_by_users_id_fk": {
          "name": "leave_requests_deleted_by_users_id_fk",
          "tableFrom": "leave_requests",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_requests_biz_policy_fk": {
          "name": "leave_requests_biz_policy_fk",
          "tableFrom": "leave_requests",
          "tableTo": "leave_policies",
          "columnsFrom": [
            "biz_id",
            "leave_policy_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "leave_requests_biz_resource_fk": {
          "name": "leave_requests_biz_resource_fk",
          "tableFrom": "leave_requests",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offline_merge_conflicts": {
      "name": "offline_merge_conflicts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offline_op_journal_id": {
          "name": "offline_op_journal_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conflict_type": {
          "name": "conflict_type",
          "type": "offline_conflict_type",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "offline_conflict_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "local_snapshot": {
          "name": "local_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "remote_snapshot": {
          "name": "remote_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "summary": {
          "name": "summary",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offline_merge_conflicts_biz_id_id_unique": {
          "name": "offline_merge_conflicts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offline_merge_conflicts_open_per_op_unique": {
          "name": "offline_merge_conflicts_open_per_op_unique",
          "columns": [
            "offline_op_journal_id"
          ],
          "isUnique": true
        },
        "offline_merge_conflicts_biz_status_detected_idx": {
          "name": "offline_merge_conflicts_biz_status_detected_idx",
          "columns": [
            "biz_id",
            "status",
            "detected_at"
          ],
          "isUnique": false
        },
        "offline_merge_conflicts_biz_entity_detected_idx": {
          "name": "offline_merge_conflicts_biz_entity_detected_idx",
          "columns": [
            "biz_id",
            "entity_type",
            "entity_id",
            "detected_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offline_merge_conflicts_biz_id_bizes_id_fk": {
          "name": "offline_merge_conflicts_biz_id_bizes_id_fk",
          "tableFrom": "offline_merge_conflicts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_merge_conflicts_offline_op_journal_id_offline_ops_journal_id_fk": {
          "name": "offline_merge_conflicts_offline_op_journal_id_offline_ops_journal_id_fk",
          "tableFrom": "offline_merge_conflicts",
          "tableTo": "offline_ops_journal",
          "columnsFrom": [
            "offline_op_journal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_merge_conflicts_created_by_users_id_fk": {
          "name": "offline_merge_conflicts_created_by_users_id_fk",
          "tableFrom": "offline_merge_conflicts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_merge_conflicts_updated_by_users_id_fk": {
          "name": "offline_merge_conflicts_updated_by_users_id_fk",
          "tableFrom": "offline_merge_conflicts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_merge_conflicts_deleted_by_users_id_fk": {
          "name": "offline_merge_conflicts_deleted_by_users_id_fk",
          "tableFrom": "offline_merge_conflicts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_merge_conflicts_biz_journal_fk": {
          "name": "offline_merge_conflicts_biz_journal_fk",
          "tableFrom": "offline_merge_conflicts",
          "tableTo": "offline_ops_journal",
          "columnsFrom": [
            "biz_id",
            "offline_op_journal_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offline_ops_journal": {
      "name": "offline_ops_journal",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "session_key": {
          "name": "session_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "operation_key": {
          "name": "operation_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "operation_kind": {
          "name": "operation_kind",
          "type": "offline_operation_kind",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "offline_operation_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "expected_version": {
          "name": "expected_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "applied_version": {
          "name": "applied_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "patch": {
          "name": "patch",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queued_at": {
          "name": "queued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "received_at": {
          "name": "received_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "applied_at": {
          "name": "applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offline_ops_journal_biz_id_id_unique": {
          "name": "offline_ops_journal_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offline_ops_journal_biz_client_operation_unique": {
          "name": "offline_ops_journal_biz_client_operation_unique",
          "columns": [
            "biz_id",
            "client_id",
            "operation_key"
          ],
          "isUnique": true
        },
        "offline_ops_journal_biz_status_received_idx": {
          "name": "offline_ops_journal_biz_status_received_idx",
          "columns": [
            "biz_id",
            "status",
            "received_at"
          ],
          "isUnique": false
        },
        "offline_ops_journal_biz_entity_received_idx": {
          "name": "offline_ops_journal_biz_entity_received_idx",
          "columns": [
            "biz_id",
            "entity_type",
            "entity_id",
            "received_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offline_ops_journal_biz_id_bizes_id_fk": {
          "name": "offline_ops_journal_biz_id_bizes_id_fk",
          "tableFrom": "offline_ops_journal",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_ops_journal_actor_user_id_users_id_fk": {
          "name": "offline_ops_journal_actor_user_id_users_id_fk",
          "tableFrom": "offline_ops_journal",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_ops_journal_created_by_users_id_fk": {
          "name": "offline_ops_journal_created_by_users_id_fk",
          "tableFrom": "offline_ops_journal",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_ops_journal_updated_by_users_id_fk": {
          "name": "offline_ops_journal_updated_by_users_id_fk",
          "tableFrom": "offline_ops_journal",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_ops_journal_deleted_by_users_id_fk": {
          "name": "offline_ops_journal_deleted_by_users_id_fk",
          "tableFrom": "offline_ops_journal",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offline_resolution_events": {
      "name": "offline_resolution_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "offline_merge_conflict_id": {
          "name": "offline_merge_conflict_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "offline_resolution_action",
          "primaryKey": false,
          "notNull": true
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resulting_offline_op_journal_id": {
          "name": "resulting_offline_op_journal_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "patch_applied": {
          "name": "patch_applied",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offline_resolution_events_biz_id_id_unique": {
          "name": "offline_resolution_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offline_resolution_events_biz_conflict_happened_idx": {
          "name": "offline_resolution_events_biz_conflict_happened_idx",
          "columns": [
            "biz_id",
            "offline_merge_conflict_id",
            "happened_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offline_resolution_events_biz_id_bizes_id_fk": {
          "name": "offline_resolution_events_biz_id_bizes_id_fk",
          "tableFrom": "offline_resolution_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_resolution_events_offline_merge_conflict_id_offline_merge_conflicts_id_fk": {
          "name": "offline_resolution_events_offline_merge_conflict_id_offline_merge_conflicts_id_fk",
          "tableFrom": "offline_resolution_events",
          "tableTo": "offline_merge_conflicts",
          "columnsFrom": [
            "offline_merge_conflict_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_resolution_events_actor_user_id_users_id_fk": {
          "name": "offline_resolution_events_actor_user_id_users_id_fk",
          "tableFrom": "offline_resolution_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_resolution_events_resulting_offline_op_journal_id_offline_ops_journal_id_fk": {
          "name": "offline_resolution_events_resulting_offline_op_journal_id_offline_ops_journal_id_fk",
          "tableFrom": "offline_resolution_events",
          "tableTo": "offline_ops_journal",
          "columnsFrom": [
            "resulting_offline_op_journal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_resolution_events_created_by_users_id_fk": {
          "name": "offline_resolution_events_created_by_users_id_fk",
          "tableFrom": "offline_resolution_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_resolution_events_updated_by_users_id_fk": {
          "name": "offline_resolution_events_updated_by_users_id_fk",
          "tableFrom": "offline_resolution_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_resolution_events_deleted_by_users_id_fk": {
          "name": "offline_resolution_events_deleted_by_users_id_fk",
          "tableFrom": "offline_resolution_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_resolution_events_biz_conflict_fk": {
          "name": "offline_resolution_events_biz_conflict_fk",
          "tableFrom": "offline_resolution_events",
          "tableTo": "offline_merge_conflicts",
          "columnsFrom": [
            "biz_id",
            "offline_merge_conflict_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_resolution_events_biz_resulting_op_fk": {
          "name": "offline_resolution_events_biz_resulting_op_fk",
          "tableFrom": "offline_resolution_events",
          "tableTo": "offline_ops_journal",
          "columnsFrom": [
            "biz_id",
            "resulting_offline_op_journal_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fact_operational_daily": {
      "name": "fact_operational_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "operational_demand_source_type",
          "primaryKey": false,
          "notNull": false
        },
        "fact_date": {
          "name": "fact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "open_demands_count": {
          "name": "open_demands_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "filled_demands_count": {
          "name": "filled_demands_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "active_assignments_count": {
          "name": "active_assignments_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "completed_assignments_count": {
          "name": "completed_assignments_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_fill_lead_minutes": {
          "name": "avg_fill_lead_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_assignment_duration_minutes": {
          "name": "avg_assignment_duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fact_operational_daily_biz_id_id_unique": {
          "name": "fact_operational_daily_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fact_operational_daily_slice_unique": {
          "name": "fact_operational_daily_slice_unique",
          "columns": [
            "biz_id",
            "location_id",
            "source_type",
            "fact_date"
          ],
          "isUnique": true
        },
        "fact_operational_daily_biz_date_idx": {
          "name": "fact_operational_daily_biz_date_idx",
          "columns": [
            "biz_id",
            "fact_date"
          ],
          "isUnique": false
        },
        "fact_operational_daily_biz_location_date_idx": {
          "name": "fact_operational_daily_biz_location_date_idx",
          "columns": [
            "biz_id",
            "location_id",
            "fact_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fact_operational_daily_biz_id_bizes_id_fk": {
          "name": "fact_operational_daily_biz_id_bizes_id_fk",
          "tableFrom": "fact_operational_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_operational_daily_location_id_locations_id_fk": {
          "name": "fact_operational_daily_location_id_locations_id_fk",
          "tableFrom": "fact_operational_daily",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_operational_daily_created_by_users_id_fk": {
          "name": "fact_operational_daily_created_by_users_id_fk",
          "tableFrom": "fact_operational_daily",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_operational_daily_updated_by_users_id_fk": {
          "name": "fact_operational_daily_updated_by_users_id_fk",
          "tableFrom": "fact_operational_daily",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_operational_daily_deleted_by_users_id_fk": {
          "name": "fact_operational_daily_deleted_by_users_id_fk",
          "tableFrom": "fact_operational_daily",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_operational_daily_biz_location_fk": {
          "name": "fact_operational_daily_biz_location_fk",
          "tableFrom": "fact_operational_daily",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fact_refresh_runs": {
      "name": "fact_refresh_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fact_key": {
          "name": "fact_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "fact_refresh_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "window_start_date": {
          "name": "window_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "window_end_date": {
          "name": "window_end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "input_rows": {
          "name": "input_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "output_rows": {
          "name": "output_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_summary": {
          "name": "error_summary",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fact_refresh_runs_biz_id_id_unique": {
          "name": "fact_refresh_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fact_refresh_runs_biz_fact_started_idx": {
          "name": "fact_refresh_runs_biz_fact_started_idx",
          "columns": [
            "biz_id",
            "fact_key",
            "started_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fact_refresh_runs_biz_id_bizes_id_fk": {
          "name": "fact_refresh_runs_biz_id_bizes_id_fk",
          "tableFrom": "fact_refresh_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_refresh_runs_created_by_users_id_fk": {
          "name": "fact_refresh_runs_created_by_users_id_fk",
          "tableFrom": "fact_refresh_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_refresh_runs_updated_by_users_id_fk": {
          "name": "fact_refresh_runs_updated_by_users_id_fk",
          "tableFrom": "fact_refresh_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_refresh_runs_deleted_by_users_id_fk": {
          "name": "fact_refresh_runs_deleted_by_users_id_fk",
          "tableFrom": "fact_refresh_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fact_resource_utilization_daily": {
      "name": "fact_resource_utilization_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fact_date": {
          "name": "fact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "available_minutes": {
          "name": "available_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "booked_minutes": {
          "name": "booked_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "blocked_minutes": {
          "name": "blocked_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "utilization_bps": {
          "name": "utilization_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "assignments_count": {
          "name": "assignments_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "no_show_count": {
          "name": "no_show_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fact_resource_utilization_daily_biz_id_id_unique": {
          "name": "fact_resource_utilization_daily_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fact_resource_utilization_daily_slice_unique": {
          "name": "fact_resource_utilization_daily_slice_unique",
          "columns": [
            "biz_id",
            "resource_id",
            "fact_date"
          ],
          "isUnique": true
        },
        "fact_resource_utilization_daily_biz_date_util_idx": {
          "name": "fact_resource_utilization_daily_biz_date_util_idx",
          "columns": [
            "biz_id",
            "fact_date",
            "utilization_bps"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fact_resource_utilization_daily_biz_id_bizes_id_fk": {
          "name": "fact_resource_utilization_daily_biz_id_bizes_id_fk",
          "tableFrom": "fact_resource_utilization_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_resource_utilization_daily_resource_id_resources_id_fk": {
          "name": "fact_resource_utilization_daily_resource_id_resources_id_fk",
          "tableFrom": "fact_resource_utilization_daily",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_resource_utilization_daily_created_by_users_id_fk": {
          "name": "fact_resource_utilization_daily_created_by_users_id_fk",
          "tableFrom": "fact_resource_utilization_daily",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_resource_utilization_daily_updated_by_users_id_fk": {
          "name": "fact_resource_utilization_daily_updated_by_users_id_fk",
          "tableFrom": "fact_resource_utilization_daily",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_resource_utilization_daily_deleted_by_users_id_fk": {
          "name": "fact_resource_utilization_daily_deleted_by_users_id_fk",
          "tableFrom": "fact_resource_utilization_daily",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_resource_utilization_daily_biz_resource_fk": {
          "name": "fact_resource_utilization_daily_biz_resource_fk",
          "tableFrom": "fact_resource_utilization_daily",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fact_revenue_daily": {
      "name": "fact_revenue_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fact_date": {
          "name": "fact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "gross_minor": {
          "name": "gross_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fee_minor": {
          "name": "fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "refund_minor": {
          "name": "refund_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "orders_count": {
          "name": "orders_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "paid_orders_count": {
          "name": "paid_orders_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fact_revenue_daily_biz_id_id_unique": {
          "name": "fact_revenue_daily_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fact_revenue_daily_slice_unique": {
          "name": "fact_revenue_daily_slice_unique",
          "columns": [
            "biz_id",
            "location_id",
            "fact_date",
            "currency"
          ],
          "isUnique": true
        },
        "fact_revenue_daily_biz_date_idx": {
          "name": "fact_revenue_daily_biz_date_idx",
          "columns": [
            "biz_id",
            "fact_date"
          ],
          "isUnique": false
        },
        "fact_revenue_daily_biz_location_date_idx": {
          "name": "fact_revenue_daily_biz_location_date_idx",
          "columns": [
            "biz_id",
            "location_id",
            "fact_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fact_revenue_daily_biz_id_bizes_id_fk": {
          "name": "fact_revenue_daily_biz_id_bizes_id_fk",
          "tableFrom": "fact_revenue_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_daily_location_id_locations_id_fk": {
          "name": "fact_revenue_daily_location_id_locations_id_fk",
          "tableFrom": "fact_revenue_daily",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_daily_created_by_users_id_fk": {
          "name": "fact_revenue_daily_created_by_users_id_fk",
          "tableFrom": "fact_revenue_daily",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_daily_updated_by_users_id_fk": {
          "name": "fact_revenue_daily_updated_by_users_id_fk",
          "tableFrom": "fact_revenue_daily",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_daily_deleted_by_users_id_fk": {
          "name": "fact_revenue_daily_deleted_by_users_id_fk",
          "tableFrom": "fact_revenue_daily",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_daily_biz_location_fk": {
          "name": "fact_revenue_daily_biz_location_fk",
          "tableFrom": "fact_revenue_daily",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fact_revenue_monthly": {
      "name": "fact_revenue_monthly",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "month_start_date": {
          "name": "month_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "gross_minor": {
          "name": "gross_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "tax_minor": {
          "name": "tax_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "fee_minor": {
          "name": "fee_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "refund_minor": {
          "name": "refund_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "orders_count": {
          "name": "orders_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "paid_orders_count": {
          "name": "paid_orders_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fact_revenue_monthly_biz_id_id_unique": {
          "name": "fact_revenue_monthly_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fact_revenue_monthly_slice_unique": {
          "name": "fact_revenue_monthly_slice_unique",
          "columns": [
            "biz_id",
            "location_id",
            "month_start_date",
            "currency"
          ],
          "isUnique": true
        },
        "fact_revenue_monthly_biz_month_idx": {
          "name": "fact_revenue_monthly_biz_month_idx",
          "columns": [
            "biz_id",
            "month_start_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fact_revenue_monthly_biz_id_bizes_id_fk": {
          "name": "fact_revenue_monthly_biz_id_bizes_id_fk",
          "tableFrom": "fact_revenue_monthly",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_monthly_location_id_locations_id_fk": {
          "name": "fact_revenue_monthly_location_id_locations_id_fk",
          "tableFrom": "fact_revenue_monthly",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_monthly_created_by_users_id_fk": {
          "name": "fact_revenue_monthly_created_by_users_id_fk",
          "tableFrom": "fact_revenue_monthly",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_monthly_updated_by_users_id_fk": {
          "name": "fact_revenue_monthly_updated_by_users_id_fk",
          "tableFrom": "fact_revenue_monthly",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_monthly_deleted_by_users_id_fk": {
          "name": "fact_revenue_monthly_deleted_by_users_id_fk",
          "tableFrom": "fact_revenue_monthly",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_revenue_monthly_biz_location_fk": {
          "name": "fact_revenue_monthly_biz_location_fk",
          "tableFrom": "fact_revenue_monthly",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fact_sellable_daily": {
      "name": "fact_sellable_daily",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fact_date": {
          "name": "fact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "gross_minor": {
          "name": "gross_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "discount_minor": {
          "name": "discount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "refund_minor": {
          "name": "refund_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "net_minor": {
          "name": "net_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cost_minor": {
          "name": "cost_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "margin_minor": {
          "name": "margin_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "orders_count": {
          "name": "orders_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fact_sellable_daily_biz_id_id_unique": {
          "name": "fact_sellable_daily_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fact_sellable_daily_slice_unique": {
          "name": "fact_sellable_daily_slice_unique",
          "columns": [
            "biz_id",
            "sellable_id",
            "fact_date",
            "currency"
          ],
          "isUnique": true
        },
        "fact_sellable_daily_biz_date_net_idx": {
          "name": "fact_sellable_daily_biz_date_net_idx",
          "columns": [
            "biz_id",
            "fact_date",
            "net_minor"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fact_sellable_daily_biz_id_bizes_id_fk": {
          "name": "fact_sellable_daily_biz_id_bizes_id_fk",
          "tableFrom": "fact_sellable_daily",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_sellable_daily_sellable_id_sellables_id_fk": {
          "name": "fact_sellable_daily_sellable_id_sellables_id_fk",
          "tableFrom": "fact_sellable_daily",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_sellable_daily_created_by_users_id_fk": {
          "name": "fact_sellable_daily_created_by_users_id_fk",
          "tableFrom": "fact_sellable_daily",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_sellable_daily_updated_by_users_id_fk": {
          "name": "fact_sellable_daily_updated_by_users_id_fk",
          "tableFrom": "fact_sellable_daily",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_sellable_daily_deleted_by_users_id_fk": {
          "name": "fact_sellable_daily_deleted_by_users_id_fk",
          "tableFrom": "fact_sellable_daily",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fact_sellable_daily_biz_sellable_fk": {
          "name": "fact_sellable_daily_biz_sellable_fk",
          "tableFrom": "fact_sellable_daily",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "projection_checkpoints": {
      "name": "projection_checkpoints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "projection_key": {
          "name": "projection_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "scope_type": {
          "name": "scope_type",
          "type": "projection_scope_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'biz'"
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "projection_health_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'healthy'"
        },
        "revision": {
          "name": "revision",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_lifecycle_event_id": {
          "name": "last_lifecycle_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_event_occurred_at": {
          "name": "last_event_occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_applied_at": {
          "name": "last_applied_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "lag_seconds": {
          "name": "lag_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_summary": {
          "name": "error_summary",
          "type": "varchar(2000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "projection_checkpoints_biz_id_id_unique": {
          "name": "projection_checkpoints_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "projection_checkpoints_biz_status_lag_idx": {
          "name": "projection_checkpoints_biz_status_lag_idx",
          "columns": [
            "biz_id",
            "status",
            "lag_seconds",
            "last_applied_at"
          ],
          "isUnique": false
        },
        "projection_checkpoints_biz_projection_applied_idx": {
          "name": "projection_checkpoints_biz_projection_applied_idx",
          "columns": [
            "biz_id",
            "projection_key",
            "last_applied_at"
          ],
          "isUnique": false
        },
        "projection_checkpoints_biz_subject_idx": {
          "name": "projection_checkpoints_biz_subject_idx",
          "columns": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "isUnique": false
        },
        "projection_checkpoints_biz_scope_unique": {
          "name": "projection_checkpoints_biz_scope_unique",
          "columns": [
            "biz_id",
            "projection_key"
          ],
          "isUnique": true
        },
        "projection_checkpoints_location_scope_unique": {
          "name": "projection_checkpoints_location_scope_unique",
          "columns": [
            "biz_id",
            "projection_key",
            "location_id"
          ],
          "isUnique": true
        },
        "projection_checkpoints_resource_scope_unique": {
          "name": "projection_checkpoints_resource_scope_unique",
          "columns": [
            "biz_id",
            "projection_key",
            "resource_id"
          ],
          "isUnique": true
        },
        "projection_checkpoints_sellable_scope_unique": {
          "name": "projection_checkpoints_sellable_scope_unique",
          "columns": [
            "biz_id",
            "projection_key",
            "sellable_id"
          ],
          "isUnique": true
        },
        "projection_checkpoints_custom_subject_scope_unique": {
          "name": "projection_checkpoints_custom_subject_scope_unique",
          "columns": [
            "biz_id",
            "projection_key",
            "subject_type",
            "subject_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "projection_checkpoints_biz_id_bizes_id_fk": {
          "name": "projection_checkpoints_biz_id_bizes_id_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_location_id_locations_id_fk": {
          "name": "projection_checkpoints_location_id_locations_id_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_resource_id_resources_id_fk": {
          "name": "projection_checkpoints_resource_id_resources_id_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_sellable_id_sellables_id_fk": {
          "name": "projection_checkpoints_sellable_id_sellables_id_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_last_lifecycle_event_id_lifecycle_events_id_fk": {
          "name": "projection_checkpoints_last_lifecycle_event_id_lifecycle_events_id_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "lifecycle_events",
          "columnsFrom": [
            "last_lifecycle_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_created_by_users_id_fk": {
          "name": "projection_checkpoints_created_by_users_id_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_updated_by_users_id_fk": {
          "name": "projection_checkpoints_updated_by_users_id_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_deleted_by_users_id_fk": {
          "name": "projection_checkpoints_deleted_by_users_id_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_biz_location_fk": {
          "name": "projection_checkpoints_biz_location_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_biz_resource_fk": {
          "name": "projection_checkpoints_biz_resource_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_biz_sellable_fk": {
          "name": "projection_checkpoints_biz_sellable_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_biz_subject_fk": {
          "name": "projection_checkpoints_biz_subject_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projection_checkpoints_biz_lifecycle_event_fk": {
          "name": "projection_checkpoints_biz_lifecycle_event_fk",
          "tableFrom": "projection_checkpoints",
          "tableTo": "lifecycle_events",
          "columnsFrom": [
            "biz_id",
            "last_lifecycle_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_audience_segment_members": {
      "name": "graph_audience_segment_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "segment_id": {
          "name": "segment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "member_identity_id": {
          "name": "member_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "source_ref": {
          "name": "source_ref",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_audience_segment_members_active_unique": {
          "name": "graph_audience_segment_members_active_unique",
          "columns": [
            "segment_id",
            "member_identity_id"
          ],
          "isUnique": true
        },
        "graph_audience_segment_members_segment_status_idx": {
          "name": "graph_audience_segment_members_segment_status_idx",
          "columns": [
            "segment_id",
            "status"
          ],
          "isUnique": false
        },
        "graph_audience_segment_members_member_status_idx": {
          "name": "graph_audience_segment_members_member_status_idx",
          "columns": [
            "member_identity_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_audience_segment_members_segment_id_graph_audience_segments_id_fk": {
          "name": "graph_audience_segment_members_segment_id_graph_audience_segments_id_fk",
          "tableFrom": "graph_audience_segment_members",
          "tableTo": "graph_audience_segments",
          "columnsFrom": [
            "segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_audience_segment_members_member_identity_id_graph_identities_id_fk": {
          "name": "graph_audience_segment_members_member_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_audience_segment_members",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "member_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_audience_segment_members_created_by_users_id_fk": {
          "name": "graph_audience_segment_members_created_by_users_id_fk",
          "tableFrom": "graph_audience_segment_members",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_audience_segment_members_updated_by_users_id_fk": {
          "name": "graph_audience_segment_members_updated_by_users_id_fk",
          "tableFrom": "graph_audience_segment_members",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_audience_segment_members_deleted_by_users_id_fk": {
          "name": "graph_audience_segment_members_deleted_by_users_id_fk",
          "tableFrom": "graph_audience_segment_members",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_audience_segments": {
      "name": "graph_audience_segments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_identity_id": {
          "name": "owner_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_dynamic": {
          "name": "is_dynamic",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "selector_definition": {
          "name": "selector_definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_audience_segments_owner_slug_unique": {
          "name": "graph_audience_segments_owner_slug_unique",
          "columns": [
            "owner_identity_id",
            "slug"
          ],
          "isUnique": true
        },
        "graph_audience_segments_owner_status_idx": {
          "name": "graph_audience_segments_owner_status_idx",
          "columns": [
            "owner_identity_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_audience_segments_owner_identity_id_graph_identities_id_fk": {
          "name": "graph_audience_segments_owner_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_audience_segments",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "owner_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_audience_segments_created_by_users_id_fk": {
          "name": "graph_audience_segments_created_by_users_id_fk",
          "tableFrom": "graph_audience_segments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_audience_segments_updated_by_users_id_fk": {
          "name": "graph_audience_segments_updated_by_users_id_fk",
          "tableFrom": "graph_audience_segments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_audience_segments_deleted_by_users_id_fk": {
          "name": "graph_audience_segments_deleted_by_users_id_fk",
          "tableFrom": "graph_audience_segments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_feed_item_audience_rules": {
      "name": "graph_feed_item_audience_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "feed_item_id": {
          "name": "feed_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "effect": {
          "name": "effect",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'allow'"
        },
        "selector_type": {
          "name": "selector_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "selector_identity_id": {
          "name": "selector_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "selector_relationship_type": {
          "name": "selector_relationship_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "selector_segment_id": {
          "name": "selector_segment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "selector_subject_biz_id": {
          "name": "selector_subject_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "selector_subject_type": {
          "name": "selector_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "selector_subject_id": {
          "name": "selector_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_feed_item_audience_rules_feed_priority_idx": {
          "name": "graph_feed_item_audience_rules_feed_priority_idx",
          "columns": [
            "feed_item_id",
            "priority",
            "effective_from"
          ],
          "isUnique": false
        },
        "graph_feed_item_audience_rules_selector_identity_idx": {
          "name": "graph_feed_item_audience_rules_selector_identity_idx",
          "columns": [
            "selector_identity_id",
            "selector_type",
            "effect"
          ],
          "isUnique": false
        },
        "graph_feed_item_audience_rules_selector_segment_idx": {
          "name": "graph_feed_item_audience_rules_selector_segment_idx",
          "columns": [
            "selector_segment_id",
            "selector_type",
            "effect"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_feed_item_audience_rules_feed_item_id_graph_feed_items_id_fk": {
          "name": "graph_feed_item_audience_rules_feed_item_id_graph_feed_items_id_fk",
          "tableFrom": "graph_feed_item_audience_rules",
          "tableTo": "graph_feed_items",
          "columnsFrom": [
            "feed_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_audience_rules_selector_identity_id_graph_identities_id_fk": {
          "name": "graph_feed_item_audience_rules_selector_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_feed_item_audience_rules",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "selector_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_audience_rules_selector_segment_id_graph_audience_segments_id_fk": {
          "name": "graph_feed_item_audience_rules_selector_segment_id_graph_audience_segments_id_fk",
          "tableFrom": "graph_feed_item_audience_rules",
          "tableTo": "graph_audience_segments",
          "columnsFrom": [
            "selector_segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_audience_rules_created_by_users_id_fk": {
          "name": "graph_feed_item_audience_rules_created_by_users_id_fk",
          "tableFrom": "graph_feed_item_audience_rules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_audience_rules_updated_by_users_id_fk": {
          "name": "graph_feed_item_audience_rules_updated_by_users_id_fk",
          "tableFrom": "graph_feed_item_audience_rules",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_audience_rules_deleted_by_users_id_fk": {
          "name": "graph_feed_item_audience_rules_deleted_by_users_id_fk",
          "tableFrom": "graph_feed_item_audience_rules",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_audience_rules_selector_subject_fk": {
          "name": "graph_feed_item_audience_rules_selector_subject_fk",
          "tableFrom": "graph_feed_item_audience_rules",
          "tableTo": "subjects",
          "columnsFrom": [
            "selector_subject_biz_id",
            "selector_subject_type",
            "selector_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_feed_item_deliveries": {
      "name": "graph_feed_item_deliveries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "feed_item_id": {
          "name": "feed_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "viewer_identity_id": {
          "name": "viewer_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'eligible'"
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "rank_score": {
          "name": "rank_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "seen_at": {
          "name": "seen_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "dismissed_at": {
          "name": "dismissed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "hidden_at": {
          "name": "hidden_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_feed_item_deliveries_unique": {
          "name": "graph_feed_item_deliveries_unique",
          "columns": [
            "feed_item_id",
            "viewer_identity_id"
          ],
          "isUnique": true
        },
        "graph_feed_item_deliveries_viewer_status_idx": {
          "name": "graph_feed_item_deliveries_viewer_status_idx",
          "columns": [
            "viewer_identity_id",
            "status",
            "delivered_at"
          ],
          "isUnique": false
        },
        "graph_feed_item_deliveries_feed_status_idx": {
          "name": "graph_feed_item_deliveries_feed_status_idx",
          "columns": [
            "feed_item_id",
            "status",
            "delivered_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_feed_item_deliveries_feed_item_id_graph_feed_items_id_fk": {
          "name": "graph_feed_item_deliveries_feed_item_id_graph_feed_items_id_fk",
          "tableFrom": "graph_feed_item_deliveries",
          "tableTo": "graph_feed_items",
          "columnsFrom": [
            "feed_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_deliveries_viewer_identity_id_graph_identities_id_fk": {
          "name": "graph_feed_item_deliveries_viewer_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_feed_item_deliveries",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "viewer_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_deliveries_created_by_users_id_fk": {
          "name": "graph_feed_item_deliveries_created_by_users_id_fk",
          "tableFrom": "graph_feed_item_deliveries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_deliveries_updated_by_users_id_fk": {
          "name": "graph_feed_item_deliveries_updated_by_users_id_fk",
          "tableFrom": "graph_feed_item_deliveries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_deliveries_deleted_by_users_id_fk": {
          "name": "graph_feed_item_deliveries_deleted_by_users_id_fk",
          "tableFrom": "graph_feed_item_deliveries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_feed_item_links": {
      "name": "graph_feed_item_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "feed_item_id": {
          "name": "feed_item_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "link_type": {
          "name": "link_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'related'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "subject_biz_id": {
          "name": "subject_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_feed_item_links_feed_sort_idx": {
          "name": "graph_feed_item_links_feed_sort_idx",
          "columns": [
            "feed_item_id",
            "sort_order"
          ],
          "isUnique": false
        },
        "graph_feed_item_links_subject_idx": {
          "name": "graph_feed_item_links_subject_idx",
          "columns": [
            "subject_biz_id",
            "subject_type",
            "subject_id",
            "link_type"
          ],
          "isUnique": false
        },
        "graph_feed_item_links_unique": {
          "name": "graph_feed_item_links_unique",
          "columns": [
            "feed_item_id",
            "subject_biz_id",
            "subject_type",
            "subject_id",
            "link_type"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "graph_feed_item_links_feed_item_id_graph_feed_items_id_fk": {
          "name": "graph_feed_item_links_feed_item_id_graph_feed_items_id_fk",
          "tableFrom": "graph_feed_item_links",
          "tableTo": "graph_feed_items",
          "columnsFrom": [
            "feed_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_links_created_by_users_id_fk": {
          "name": "graph_feed_item_links_created_by_users_id_fk",
          "tableFrom": "graph_feed_item_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_links_updated_by_users_id_fk": {
          "name": "graph_feed_item_links_updated_by_users_id_fk",
          "tableFrom": "graph_feed_item_links",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_links_deleted_by_users_id_fk": {
          "name": "graph_feed_item_links_deleted_by_users_id_fk",
          "tableFrom": "graph_feed_item_links",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_item_links_subject_fk": {
          "name": "graph_feed_item_links_subject_fk",
          "tableFrom": "graph_feed_item_links",
          "tableTo": "subjects",
          "columnsFrom": [
            "subject_biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_feed_items": {
      "name": "graph_feed_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_identity_id": {
          "name": "owner_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context_biz_id": {
          "name": "context_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "item_type": {
          "name": "item_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "default": "'post'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "visibility_mode": {
          "name": "visibility_mode",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "rank_score": {
          "name": "rank_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_feed_items_owner_status_published_idx": {
          "name": "graph_feed_items_owner_status_published_idx",
          "columns": [
            "owner_identity_id",
            "status",
            "published_at"
          ],
          "isUnique": false
        },
        "graph_feed_items_context_biz_status_idx": {
          "name": "graph_feed_items_context_biz_status_idx",
          "columns": [
            "context_biz_id",
            "status",
            "published_at"
          ],
          "isUnique": false
        },
        "graph_feed_items_type_status_idx": {
          "name": "graph_feed_items_type_status_idx",
          "columns": [
            "item_type",
            "status",
            "published_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_feed_items_owner_identity_id_graph_identities_id_fk": {
          "name": "graph_feed_items_owner_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_feed_items",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "owner_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_items_context_biz_id_bizes_id_fk": {
          "name": "graph_feed_items_context_biz_id_bizes_id_fk",
          "tableFrom": "graph_feed_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "context_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_items_created_by_users_id_fk": {
          "name": "graph_feed_items_created_by_users_id_fk",
          "tableFrom": "graph_feed_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_items_updated_by_users_id_fk": {
          "name": "graph_feed_items_updated_by_users_id_fk",
          "tableFrom": "graph_feed_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_feed_items_deleted_by_users_id_fk": {
          "name": "graph_feed_items_deleted_by_users_id_fk",
          "tableFrom": "graph_feed_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_identities": {
      "name": "graph_identities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_type": {
          "name": "owner_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_biz_id": {
          "name": "owner_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_subject_biz_id": {
          "name": "owner_subject_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_subject_type": {
          "name": "owner_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_subject_id": {
          "name": "owner_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "handle": {
          "name": "handle",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_discoverable": {
          "name": "is_discoverable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_identities_handle_unique": {
          "name": "graph_identities_handle_unique",
          "columns": [
            "handle"
          ],
          "isUnique": true
        },
        "graph_identities_owner_user_unique": {
          "name": "graph_identities_owner_user_unique",
          "columns": [
            "owner_user_id"
          ],
          "isUnique": true
        },
        "graph_identities_owner_biz_unique": {
          "name": "graph_identities_owner_biz_unique",
          "columns": [
            "owner_biz_id"
          ],
          "isUnique": true
        },
        "graph_identities_owner_subject_unique": {
          "name": "graph_identities_owner_subject_unique",
          "columns": [
            "owner_subject_biz_id",
            "owner_subject_type",
            "owner_subject_id"
          ],
          "isUnique": true
        },
        "graph_identities_owner_type_status_idx": {
          "name": "graph_identities_owner_type_status_idx",
          "columns": [
            "owner_type",
            "status",
            "is_discoverable"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_identities_owner_user_id_users_id_fk": {
          "name": "graph_identities_owner_user_id_users_id_fk",
          "tableFrom": "graph_identities",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identities_owner_biz_id_bizes_id_fk": {
          "name": "graph_identities_owner_biz_id_bizes_id_fk",
          "tableFrom": "graph_identities",
          "tableTo": "bizes",
          "columnsFrom": [
            "owner_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identities_created_by_users_id_fk": {
          "name": "graph_identities_created_by_users_id_fk",
          "tableFrom": "graph_identities",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identities_updated_by_users_id_fk": {
          "name": "graph_identities_updated_by_users_id_fk",
          "tableFrom": "graph_identities",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identities_deleted_by_users_id_fk": {
          "name": "graph_identities_deleted_by_users_id_fk",
          "tableFrom": "graph_identities",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identities_owner_subject_fk": {
          "name": "graph_identities_owner_subject_fk",
          "tableFrom": "graph_identities",
          "tableTo": "subjects",
          "columnsFrom": [
            "owner_subject_biz_id",
            "owner_subject_type",
            "owner_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_identity_notification_endpoints": {
      "name": "graph_identity_notification_endpoints",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_identity_id": {
          "name": "owner_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'in_app'"
        },
        "destination": {
          "name": "destination",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_identity_notification_endpoints_biz_id_id_unique": {
          "name": "graph_identity_notification_endpoints_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "graph_identity_notification_endpoints_owner_id_unique": {
          "name": "graph_identity_notification_endpoints_owner_id_unique",
          "columns": [
            "owner_identity_id",
            "id"
          ],
          "isUnique": true
        },
        "graph_identity_notification_endpoints_destination_unique": {
          "name": "graph_identity_notification_endpoints_destination_unique",
          "columns": [
            "owner_identity_id",
            "channel",
            "destination"
          ],
          "isUnique": true
        },
        "graph_identity_notification_endpoints_default_unique": {
          "name": "graph_identity_notification_endpoints_default_unique",
          "columns": [
            "owner_identity_id",
            "channel"
          ],
          "isUnique": true
        },
        "graph_identity_notification_endpoints_owner_status_idx": {
          "name": "graph_identity_notification_endpoints_owner_status_idx",
          "columns": [
            "owner_identity_id",
            "status",
            "channel"
          ],
          "isUnique": false
        },
        "graph_identity_notification_endpoints_biz_status_idx": {
          "name": "graph_identity_notification_endpoints_biz_status_idx",
          "columns": [
            "biz_id",
            "status",
            "channel"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_identity_notification_endpoints_owner_identity_id_graph_identities_id_fk": {
          "name": "graph_identity_notification_endpoints_owner_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_identity_notification_endpoints",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "owner_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identity_notification_endpoints_biz_id_bizes_id_fk": {
          "name": "graph_identity_notification_endpoints_biz_id_bizes_id_fk",
          "tableFrom": "graph_identity_notification_endpoints",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identity_notification_endpoints_created_by_users_id_fk": {
          "name": "graph_identity_notification_endpoints_created_by_users_id_fk",
          "tableFrom": "graph_identity_notification_endpoints",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identity_notification_endpoints_updated_by_users_id_fk": {
          "name": "graph_identity_notification_endpoints_updated_by_users_id_fk",
          "tableFrom": "graph_identity_notification_endpoints",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identity_notification_endpoints_deleted_by_users_id_fk": {
          "name": "graph_identity_notification_endpoints_deleted_by_users_id_fk",
          "tableFrom": "graph_identity_notification_endpoints",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_identity_policies": {
      "name": "graph_identity_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identity_id": {
          "name": "identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "follow_mode": {
          "name": "follow_mode",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "profile_visibility_mode": {
          "name": "profile_visibility_mode",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'public'"
        },
        "default_feed_visibility_mode": {
          "name": "default_feed_visibility_mode",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'followers'"
        },
        "allow_follower_list_visibility": {
          "name": "allow_follower_list_visibility",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allow_following_list_visibility": {
          "name": "allow_following_list_visibility",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "auto_approve_same_biz_follow": {
          "name": "auto_approve_same_biz_follow",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_identity_policies_identity_unique": {
          "name": "graph_identity_policies_identity_unique",
          "columns": [
            "identity_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "graph_identity_policies_identity_id_graph_identities_id_fk": {
          "name": "graph_identity_policies_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_identity_policies",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identity_policies_created_by_users_id_fk": {
          "name": "graph_identity_policies_created_by_users_id_fk",
          "tableFrom": "graph_identity_policies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identity_policies_updated_by_users_id_fk": {
          "name": "graph_identity_policies_updated_by_users_id_fk",
          "tableFrom": "graph_identity_policies",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_identity_policies_deleted_by_users_id_fk": {
          "name": "graph_identity_policies_deleted_by_users_id_fk",
          "tableFrom": "graph_identity_policies",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_relationship_events": {
      "name": "graph_relationship_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "relationship_id": {
          "name": "relationship_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "from_status": {
          "name": "from_status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "to_status": {
          "name": "to_status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_identity_id": {
          "name": "actor_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_relationship_events_relationship_happened_idx": {
          "name": "graph_relationship_events_relationship_happened_idx",
          "columns": [
            "relationship_id",
            "happened_at"
          ],
          "isUnique": false
        },
        "graph_relationship_events_type_happened_idx": {
          "name": "graph_relationship_events_type_happened_idx",
          "columns": [
            "event_type",
            "happened_at"
          ],
          "isUnique": false
        },
        "graph_relationship_events_actor_happened_idx": {
          "name": "graph_relationship_events_actor_happened_idx",
          "columns": [
            "actor_identity_id",
            "happened_at"
          ],
          "isUnique": false
        },
        "graph_relationship_events_request_key_unique": {
          "name": "graph_relationship_events_request_key_unique",
          "columns": [
            "request_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "graph_relationship_events_relationship_id_graph_relationships_id_fk": {
          "name": "graph_relationship_events_relationship_id_graph_relationships_id_fk",
          "tableFrom": "graph_relationship_events",
          "tableTo": "graph_relationships",
          "columnsFrom": [
            "relationship_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_relationship_events_actor_identity_id_graph_identities_id_fk": {
          "name": "graph_relationship_events_actor_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_relationship_events",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "actor_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_relationship_events_created_by_users_id_fk": {
          "name": "graph_relationship_events_created_by_users_id_fk",
          "tableFrom": "graph_relationship_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_relationship_events_updated_by_users_id_fk": {
          "name": "graph_relationship_events_updated_by_users_id_fk",
          "tableFrom": "graph_relationship_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_relationship_events_deleted_by_users_id_fk": {
          "name": "graph_relationship_events_deleted_by_users_id_fk",
          "tableFrom": "graph_relationship_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_relationships": {
      "name": "graph_relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "from_identity_id": {
          "name": "from_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_identity_id": {
          "name": "to_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "decided_by_identity_id": {
          "name": "decided_by_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_relationships_active_unique": {
          "name": "graph_relationships_active_unique",
          "columns": [
            "from_identity_id",
            "to_identity_id",
            "relationship_type"
          ],
          "isUnique": true
        },
        "graph_relationships_from_type_status_idx": {
          "name": "graph_relationships_from_type_status_idx",
          "columns": [
            "from_identity_id",
            "relationship_type",
            "status",
            "requested_at"
          ],
          "isUnique": false
        },
        "graph_relationships_to_type_status_idx": {
          "name": "graph_relationships_to_type_status_idx",
          "columns": [
            "to_identity_id",
            "relationship_type",
            "status",
            "requested_at"
          ],
          "isUnique": false
        },
        "graph_relationships_decider_idx": {
          "name": "graph_relationships_decider_idx",
          "columns": [
            "decided_by_identity_id",
            "status",
            "decided_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_relationships_from_identity_id_graph_identities_id_fk": {
          "name": "graph_relationships_from_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_relationships",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "from_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_relationships_to_identity_id_graph_identities_id_fk": {
          "name": "graph_relationships_to_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_relationships",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "to_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_relationships_decided_by_identity_id_graph_identities_id_fk": {
          "name": "graph_relationships_decided_by_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_relationships",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "decided_by_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_relationships_created_by_users_id_fk": {
          "name": "graph_relationships_created_by_users_id_fk",
          "tableFrom": "graph_relationships",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_relationships_updated_by_users_id_fk": {
          "name": "graph_relationships_updated_by_users_id_fk",
          "tableFrom": "graph_relationships",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_relationships_deleted_by_users_id_fk": {
          "name": "graph_relationships_deleted_by_users_id_fk",
          "tableFrom": "graph_relationships",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_subject_event_deliveries": {
      "name": "graph_subject_event_deliveries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_event_id": {
          "name": "subject_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subscriber_identity_id": {
          "name": "subscriber_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint_id": {
          "name": "endpoint_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'in_app'"
        },
        "state": {
          "name": "state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "queued_at": {
          "name": "queued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "attempted_at": {
          "name": "attempted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "seen_at": {
          "name": "seen_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_subject_event_deliveries_biz_id_id_unique": {
          "name": "graph_subject_event_deliveries_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "graph_subject_event_deliveries_unique": {
          "name": "graph_subject_event_deliveries_unique",
          "columns": [
            "subject_event_id",
            "subscription_id",
            "channel"
          ],
          "isUnique": true
        },
        "graph_subject_event_deliveries_subscriber_state_idx": {
          "name": "graph_subject_event_deliveries_subscriber_state_idx",
          "columns": [
            "subscriber_identity_id",
            "state",
            "queued_at"
          ],
          "isUnique": false
        },
        "graph_subject_event_deliveries_event_state_idx": {
          "name": "graph_subject_event_deliveries_event_state_idx",
          "columns": [
            "subject_event_id",
            "state",
            "queued_at"
          ],
          "isUnique": false
        },
        "graph_subject_event_deliveries_channel_state_idx": {
          "name": "graph_subject_event_deliveries_channel_state_idx",
          "columns": [
            "channel",
            "state",
            "queued_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_subject_event_deliveries_biz_id_bizes_id_fk": {
          "name": "graph_subject_event_deliveries_biz_id_bizes_id_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_event_deliveries_subject_event_id_graph_subject_events_id_fk": {
          "name": "graph_subject_event_deliveries_subject_event_id_graph_subject_events_id_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "graph_subject_events",
          "columnsFrom": [
            "subject_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_event_deliveries_subscription_id_graph_subject_subscriptions_id_fk": {
          "name": "graph_subject_event_deliveries_subscription_id_graph_subject_subscriptions_id_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "graph_subject_subscriptions",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_event_deliveries_subscriber_identity_id_graph_identities_id_fk": {
          "name": "graph_subject_event_deliveries_subscriber_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "subscriber_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_event_deliveries_endpoint_id_graph_identity_notification_endpoints_id_fk": {
          "name": "graph_subject_event_deliveries_endpoint_id_graph_identity_notification_endpoints_id_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "graph_identity_notification_endpoints",
          "columnsFrom": [
            "endpoint_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_event_deliveries_created_by_users_id_fk": {
          "name": "graph_subject_event_deliveries_created_by_users_id_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_event_deliveries_updated_by_users_id_fk": {
          "name": "graph_subject_event_deliveries_updated_by_users_id_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_event_deliveries_deleted_by_users_id_fk": {
          "name": "graph_subject_event_deliveries_deleted_by_users_id_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_event_deliveries_biz_event_fk": {
          "name": "graph_subject_event_deliveries_biz_event_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "graph_subject_events",
          "columnsFrom": [
            "biz_id",
            "subject_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_event_deliveries_subscriber_endpoint_fk": {
          "name": "graph_subject_event_deliveries_subscriber_endpoint_fk",
          "tableFrom": "graph_subject_event_deliveries",
          "tableTo": "graph_identity_notification_endpoints",
          "columnsFrom": [
            "subscriber_identity_id",
            "endpoint_id"
          ],
          "columnsTo": [
            "owner_identity_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_subject_events": {
      "name": "graph_subject_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "subject_id": {
          "name": "subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "actor_identity_id": {
          "name": "actor_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_key": {
          "name": "correlation_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_subject_events_biz_id_id_unique": {
          "name": "graph_subject_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "graph_subject_events_subject_happened_idx": {
          "name": "graph_subject_events_subject_happened_idx",
          "columns": [
            "biz_id",
            "subject_type",
            "subject_id",
            "happened_at"
          ],
          "isUnique": false
        },
        "graph_subject_events_type_happened_idx": {
          "name": "graph_subject_events_type_happened_idx",
          "columns": [
            "biz_id",
            "event_type",
            "happened_at"
          ],
          "isUnique": false
        },
        "graph_subject_events_actor_happened_idx": {
          "name": "graph_subject_events_actor_happened_idx",
          "columns": [
            "actor_identity_id",
            "happened_at"
          ],
          "isUnique": false
        },
        "graph_subject_events_request_key_unique": {
          "name": "graph_subject_events_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "graph_subject_events_biz_id_bizes_id_fk": {
          "name": "graph_subject_events_biz_id_bizes_id_fk",
          "tableFrom": "graph_subject_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_events_actor_identity_id_graph_identities_id_fk": {
          "name": "graph_subject_events_actor_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_subject_events",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "actor_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_events_created_by_users_id_fk": {
          "name": "graph_subject_events_created_by_users_id_fk",
          "tableFrom": "graph_subject_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_events_updated_by_users_id_fk": {
          "name": "graph_subject_events_updated_by_users_id_fk",
          "tableFrom": "graph_subject_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_events_deleted_by_users_id_fk": {
          "name": "graph_subject_events_deleted_by_users_id_fk",
          "tableFrom": "graph_subject_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_events_subject_fk": {
          "name": "graph_subject_events_subject_fk",
          "tableFrom": "graph_subject_events",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "graph_subject_subscriptions": {
      "name": "graph_subject_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "subscriber_identity_id": {
          "name": "subscriber_identity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_subject_biz_id": {
          "name": "target_subject_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_type": {
          "name": "subscription_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'watch'"
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "filter_policy": {
          "name": "filter_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "delivery_mode": {
          "name": "delivery_mode",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'instant'"
        },
        "preferred_channel": {
          "name": "preferred_channel",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'in_app'"
        },
        "min_delivery_interval_minutes": {
          "name": "min_delivery_interval_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "next_eligible_delivery_at": {
          "name": "next_eligible_delivery_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "muted_at": {
          "name": "muted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "unsubscribed_at": {
          "name": "unsubscribed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "graph_subject_subscriptions_unique": {
          "name": "graph_subject_subscriptions_unique",
          "columns": [
            "subscriber_identity_id",
            "target_subject_biz_id",
            "target_subject_type",
            "target_subject_id",
            "subscription_type"
          ],
          "isUnique": true
        },
        "graph_subject_subscriptions_subscriber_status_idx": {
          "name": "graph_subject_subscriptions_subscriber_status_idx",
          "columns": [
            "subscriber_identity_id",
            "status",
            "subscription_type"
          ],
          "isUnique": false
        },
        "graph_subject_subscriptions_target_status_idx": {
          "name": "graph_subject_subscriptions_target_status_idx",
          "columns": [
            "target_subject_biz_id",
            "target_subject_type",
            "target_subject_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "graph_subject_subscriptions_subscriber_identity_id_graph_identities_id_fk": {
          "name": "graph_subject_subscriptions_subscriber_identity_id_graph_identities_id_fk",
          "tableFrom": "graph_subject_subscriptions",
          "tableTo": "graph_identities",
          "columnsFrom": [
            "subscriber_identity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_subscriptions_created_by_users_id_fk": {
          "name": "graph_subject_subscriptions_created_by_users_id_fk",
          "tableFrom": "graph_subject_subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_subscriptions_updated_by_users_id_fk": {
          "name": "graph_subject_subscriptions_updated_by_users_id_fk",
          "tableFrom": "graph_subject_subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_subscriptions_deleted_by_users_id_fk": {
          "name": "graph_subject_subscriptions_deleted_by_users_id_fk",
          "tableFrom": "graph_subject_subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "graph_subject_subscriptions_target_subject_fk": {
          "name": "graph_subject_subscriptions_target_subject_fk",
          "tableFrom": "graph_subject_subscriptions",
          "tableTo": "subjects",
          "columnsFrom": [
            "target_subject_biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_credential_request_items": {
      "name": "biz_credential_request_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_credential_request_id": {
          "name": "biz_credential_request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_user_id": {
          "name": "candidate_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requirement_mode": {
          "name": "requirement_mode",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "selector_type": {
          "name": "selector_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "credential_record_id": {
          "name": "credential_record_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credential_type_key": {
          "name": "credential_type_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "fact_key": {
          "name": "fact_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "fact_predicate": {
          "name": "fact_predicate",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "min_validity_days_remaining": {
          "name": "min_validity_days_remaining",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "required_verification_status": {
          "name": "required_verification_status",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'verified'"
        },
        "is_satisfied": {
          "name": "is_satisfied",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "varchar(700)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_credential_request_items_biz_id_id_unique": {
          "name": "biz_credential_request_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_credential_request_items_biz_request_idx": {
          "name": "biz_credential_request_items_biz_request_idx",
          "columns": [
            "biz_id",
            "biz_credential_request_id"
          ],
          "isUnique": false
        },
        "biz_credential_request_items_candidate_satisfaction_idx": {
          "name": "biz_credential_request_items_candidate_satisfaction_idx",
          "columns": [
            "candidate_user_id",
            "is_satisfied",
            "selector_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_credential_request_items_biz_id_bizes_id_fk": {
          "name": "biz_credential_request_items_biz_id_bizes_id_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_request_items_biz_credential_request_id_biz_credential_requests_id_fk": {
          "name": "biz_credential_request_items_biz_credential_request_id_biz_credential_requests_id_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "biz_credential_requests",
          "columnsFrom": [
            "biz_credential_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_request_items_candidate_user_id_users_id_fk": {
          "name": "biz_credential_request_items_candidate_user_id_users_id_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "users",
          "columnsFrom": [
            "candidate_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_request_items_credential_record_id_user_credential_records_id_fk": {
          "name": "biz_credential_request_items_credential_record_id_user_credential_records_id_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "credential_record_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_request_items_created_by_users_id_fk": {
          "name": "biz_credential_request_items_created_by_users_id_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_request_items_updated_by_users_id_fk": {
          "name": "biz_credential_request_items_updated_by_users_id_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_request_items_deleted_by_users_id_fk": {
          "name": "biz_credential_request_items_deleted_by_users_id_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_request_items_biz_request_fk": {
          "name": "biz_credential_request_items_biz_request_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "biz_credential_requests",
          "columnsFrom": [
            "biz_id",
            "biz_credential_request_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_request_items_biz_request_candidate_fk": {
          "name": "biz_credential_request_items_biz_request_candidate_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "biz_credential_requests",
          "columnsFrom": [
            "biz_id",
            "biz_credential_request_id",
            "candidate_user_id"
          ],
          "columnsTo": [
            "biz_id",
            "id",
            "candidate_user_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_request_items_candidate_record_fk": {
          "name": "biz_credential_request_items_candidate_record_fk",
          "tableFrom": "biz_credential_request_items",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "candidate_user_id",
            "credential_record_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_credential_requests": {
      "name": "biz_credential_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "candidate_user_id": {
          "name": "candidate_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requested_by_user_id": {
          "name": "requested_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "title": {
          "name": "title",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(1200)",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "biz_credential_share_grant_id": {
          "name": "biz_credential_share_grant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_subject_type": {
          "name": "source_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_subject_id": {
          "name": "source_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "request_key": {
          "name": "request_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_credential_requests_biz_id_id_unique": {
          "name": "biz_credential_requests_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_credential_requests_biz_id_id_candidate_unique": {
          "name": "biz_credential_requests_biz_id_id_candidate_unique",
          "columns": [
            "biz_id",
            "id",
            "candidate_user_id"
          ],
          "isUnique": true
        },
        "biz_credential_requests_biz_status_due_idx": {
          "name": "biz_credential_requests_biz_status_due_idx",
          "columns": [
            "biz_id",
            "status",
            "due_at",
            "priority"
          ],
          "isUnique": false
        },
        "biz_credential_requests_candidate_status_idx": {
          "name": "biz_credential_requests_candidate_status_idx",
          "columns": [
            "candidate_user_id",
            "status",
            "due_at"
          ],
          "isUnique": false
        },
        "biz_credential_requests_biz_request_key_unique": {
          "name": "biz_credential_requests_biz_request_key_unique",
          "columns": [
            "biz_id",
            "request_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "biz_credential_requests_biz_id_bizes_id_fk": {
          "name": "biz_credential_requests_biz_id_bizes_id_fk",
          "tableFrom": "biz_credential_requests",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_requests_candidate_user_id_users_id_fk": {
          "name": "biz_credential_requests_candidate_user_id_users_id_fk",
          "tableFrom": "biz_credential_requests",
          "tableTo": "users",
          "columnsFrom": [
            "candidate_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_requests_requested_by_user_id_users_id_fk": {
          "name": "biz_credential_requests_requested_by_user_id_users_id_fk",
          "tableFrom": "biz_credential_requests",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_requests_biz_credential_share_grant_id_biz_credential_share_grants_id_fk": {
          "name": "biz_credential_requests_biz_credential_share_grant_id_biz_credential_share_grants_id_fk",
          "tableFrom": "biz_credential_requests",
          "tableTo": "biz_credential_share_grants",
          "columnsFrom": [
            "biz_credential_share_grant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_requests_created_by_users_id_fk": {
          "name": "biz_credential_requests_created_by_users_id_fk",
          "tableFrom": "biz_credential_requests",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_requests_updated_by_users_id_fk": {
          "name": "biz_credential_requests_updated_by_users_id_fk",
          "tableFrom": "biz_credential_requests",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_requests_deleted_by_users_id_fk": {
          "name": "biz_credential_requests_deleted_by_users_id_fk",
          "tableFrom": "biz_credential_requests",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_requests_biz_share_grant_fk": {
          "name": "biz_credential_requests_biz_share_grant_fk",
          "tableFrom": "biz_credential_requests",
          "tableTo": "biz_credential_share_grants",
          "columnsFrom": [
            "biz_id",
            "biz_credential_share_grant_id"
          ],
          "columnsTo": [
            "grantee_biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_requests_biz_source_subject_fk": {
          "name": "biz_credential_requests_biz_source_subject_fk",
          "tableFrom": "biz_credential_requests",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "source_subject_type",
            "source_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_credential_share_grant_selectors": {
      "name": "biz_credential_share_grant_selectors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grantee_biz_id": {
          "name": "grantee_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "biz_credential_share_grant_id": {
          "name": "biz_credential_share_grant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "selector_type": {
          "name": "selector_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "is_included": {
          "name": "is_included",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "credential_record_id": {
          "name": "credential_record_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credential_type_key": {
          "name": "credential_type_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "fact_key": {
          "name": "fact_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_credential_share_grant_selectors_grant_idx": {
          "name": "biz_credential_share_grant_selectors_grant_idx",
          "columns": [
            "biz_credential_share_grant_id",
            "selector_type",
            "is_included"
          ],
          "isUnique": false
        },
        "biz_credential_share_grant_selectors_unique_record": {
          "name": "biz_credential_share_grant_selectors_unique_record",
          "columns": [
            "biz_credential_share_grant_id",
            "is_included",
            "credential_record_id"
          ],
          "isUnique": true
        },
        "biz_credential_share_grant_selectors_unique_type": {
          "name": "biz_credential_share_grant_selectors_unique_type",
          "columns": [
            "biz_credential_share_grant_id",
            "is_included",
            "credential_type_key"
          ],
          "isUnique": true
        },
        "biz_credential_share_grant_selectors_unique_fact_key": {
          "name": "biz_credential_share_grant_selectors_unique_fact_key",
          "columns": [
            "biz_credential_share_grant_id",
            "is_included",
            "fact_key"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "biz_credential_share_grant_selectors_owner_user_id_users_id_fk": {
          "name": "biz_credential_share_grant_selectors_owner_user_id_users_id_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grant_selectors_grantee_biz_id_bizes_id_fk": {
          "name": "biz_credential_share_grant_selectors_grantee_biz_id_bizes_id_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "bizes",
          "columnsFrom": [
            "grantee_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grant_selectors_biz_credential_share_grant_id_biz_credential_share_grants_id_fk": {
          "name": "biz_credential_share_grant_selectors_biz_credential_share_grant_id_biz_credential_share_grants_id_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "biz_credential_share_grants",
          "columnsFrom": [
            "biz_credential_share_grant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grant_selectors_credential_record_id_user_credential_records_id_fk": {
          "name": "biz_credential_share_grant_selectors_credential_record_id_user_credential_records_id_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "credential_record_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grant_selectors_created_by_users_id_fk": {
          "name": "biz_credential_share_grant_selectors_created_by_users_id_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grant_selectors_updated_by_users_id_fk": {
          "name": "biz_credential_share_grant_selectors_updated_by_users_id_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grant_selectors_deleted_by_users_id_fk": {
          "name": "biz_credential_share_grant_selectors_deleted_by_users_id_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grant_selectors_owner_grant_fk": {
          "name": "biz_credential_share_grant_selectors_owner_grant_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "biz_credential_share_grants",
          "columnsFrom": [
            "owner_user_id",
            "biz_credential_share_grant_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grant_selectors_biz_grant_fk": {
          "name": "biz_credential_share_grant_selectors_biz_grant_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "biz_credential_share_grants",
          "columnsFrom": [
            "grantee_biz_id",
            "biz_credential_share_grant_id"
          ],
          "columnsTo": [
            "grantee_biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grant_selectors_owner_record_fk": {
          "name": "biz_credential_share_grant_selectors_owner_record_fk",
          "tableFrom": "biz_credential_share_grant_selectors",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "owner_user_id",
            "credential_record_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "biz_credential_share_grants": {
      "name": "biz_credential_share_grants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grantee_biz_id": {
          "name": "grantee_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'granted'"
        },
        "access_level": {
          "name": "access_level",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'summary'"
        },
        "scope": {
          "name": "scope",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'selected_records'"
        },
        "allow_candidate_search": {
          "name": "allow_candidate_search",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allow_fact_filtering": {
          "name": "allow_fact_filtering",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "allow_document_preview": {
          "name": "allow_document_preview",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allow_document_download": {
          "name": "allow_document_download",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allow_verification_requests": {
          "name": "allow_verification_requests",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "granted_by_user_id": {
          "name": "granted_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "biz_credential_share_grants_owner_id_unique": {
          "name": "biz_credential_share_grants_owner_id_unique",
          "columns": [
            "owner_user_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_credential_share_grants_biz_id_unique": {
          "name": "biz_credential_share_grants_biz_id_unique",
          "columns": [
            "grantee_biz_id",
            "id"
          ],
          "isUnique": true
        },
        "biz_credential_share_grants_active_pair_unique": {
          "name": "biz_credential_share_grants_active_pair_unique",
          "columns": [
            "owner_user_id",
            "grantee_biz_id"
          ],
          "isUnique": true
        },
        "biz_credential_share_grants_biz_lookup_idx": {
          "name": "biz_credential_share_grants_biz_lookup_idx",
          "columns": [
            "grantee_biz_id",
            "status",
            "access_level",
            "scope"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "biz_credential_share_grants_owner_user_id_users_id_fk": {
          "name": "biz_credential_share_grants_owner_user_id_users_id_fk",
          "tableFrom": "biz_credential_share_grants",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grants_grantee_biz_id_bizes_id_fk": {
          "name": "biz_credential_share_grants_grantee_biz_id_bizes_id_fk",
          "tableFrom": "biz_credential_share_grants",
          "tableTo": "bizes",
          "columnsFrom": [
            "grantee_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grants_granted_by_user_id_users_id_fk": {
          "name": "biz_credential_share_grants_granted_by_user_id_users_id_fk",
          "tableFrom": "biz_credential_share_grants",
          "tableTo": "users",
          "columnsFrom": [
            "granted_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grants_created_by_users_id_fk": {
          "name": "biz_credential_share_grants_created_by_users_id_fk",
          "tableFrom": "biz_credential_share_grants",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grants_updated_by_users_id_fk": {
          "name": "biz_credential_share_grants_updated_by_users_id_fk",
          "tableFrom": "biz_credential_share_grants",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "biz_credential_share_grants_deleted_by_users_id_fk": {
          "name": "biz_credential_share_grants_deleted_by_users_id_fk",
          "tableFrom": "biz_credential_share_grants",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credential_disclosure_events": {
      "name": "credential_disclosure_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grantee_biz_id": {
          "name": "grantee_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "biz_credential_share_grant_id": {
          "name": "biz_credential_share_grant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "biz_credential_request_id": {
          "name": "biz_credential_request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "credential_record_id": {
          "name": "credential_record_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credential_document_id": {
          "name": "credential_document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'system'"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "request_ref": {
          "name": "request_ref",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "credential_disclosure_events_owner_occurred_idx": {
          "name": "credential_disclosure_events_owner_occurred_idx",
          "columns": [
            "owner_user_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "credential_disclosure_events_biz_occurred_idx": {
          "name": "credential_disclosure_events_biz_occurred_idx",
          "columns": [
            "grantee_biz_id",
            "event_type",
            "occurred_at"
          ],
          "isUnique": false
        },
        "credential_disclosure_events_record_occurred_idx": {
          "name": "credential_disclosure_events_record_occurred_idx",
          "columns": [
            "owner_user_id",
            "credential_record_id",
            "occurred_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "credential_disclosure_events_owner_user_id_users_id_fk": {
          "name": "credential_disclosure_events_owner_user_id_users_id_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_grantee_biz_id_bizes_id_fk": {
          "name": "credential_disclosure_events_grantee_biz_id_bizes_id_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "grantee_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_biz_credential_share_grant_id_biz_credential_share_grants_id_fk": {
          "name": "credential_disclosure_events_biz_credential_share_grant_id_biz_credential_share_grants_id_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "biz_credential_share_grants",
          "columnsFrom": [
            "biz_credential_share_grant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_biz_credential_request_id_biz_credential_requests_id_fk": {
          "name": "credential_disclosure_events_biz_credential_request_id_biz_credential_requests_id_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "biz_credential_requests",
          "columnsFrom": [
            "biz_credential_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_credential_record_id_user_credential_records_id_fk": {
          "name": "credential_disclosure_events_credential_record_id_user_credential_records_id_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "credential_record_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_credential_document_id_user_credential_documents_id_fk": {
          "name": "credential_disclosure_events_credential_document_id_user_credential_documents_id_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "user_credential_documents",
          "columnsFrom": [
            "credential_document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_actor_user_id_users_id_fk": {
          "name": "credential_disclosure_events_actor_user_id_users_id_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_owner_record_fk": {
          "name": "credential_disclosure_events_owner_record_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "owner_user_id",
            "credential_record_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_owner_document_fk": {
          "name": "credential_disclosure_events_owner_document_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "user_credential_documents",
          "columnsFrom": [
            "owner_user_id",
            "credential_document_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_owner_grant_fk": {
          "name": "credential_disclosure_events_owner_grant_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "biz_credential_share_grants",
          "columnsFrom": [
            "owner_user_id",
            "biz_credential_share_grant_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_biz_grant_fk": {
          "name": "credential_disclosure_events_biz_grant_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "biz_credential_share_grants",
          "columnsFrom": [
            "grantee_biz_id",
            "biz_credential_share_grant_id"
          ],
          "columnsTo": [
            "grantee_biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_disclosure_events_biz_request_fk": {
          "name": "credential_disclosure_events_biz_request_fk",
          "tableFrom": "credential_disclosure_events",
          "tableTo": "biz_credential_requests",
          "columnsFrom": [
            "grantee_biz_id",
            "biz_credential_request_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credential_type_definitions": {
      "name": "credential_type_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_system": {
          "name": "is_system",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "credential_type_definitions_key_unique": {
          "name": "credential_type_definitions_key_unique",
          "columns": [
            "key"
          ],
          "isUnique": true
        },
        "credential_type_definitions_status_idx": {
          "name": "credential_type_definitions_status_idx",
          "columns": [
            "status",
            "category"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "credential_type_definitions_created_by_users_id_fk": {
          "name": "credential_type_definitions_created_by_users_id_fk",
          "tableFrom": "credential_type_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_type_definitions_updated_by_users_id_fk": {
          "name": "credential_type_definitions_updated_by_users_id_fk",
          "tableFrom": "credential_type_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "credential_type_definitions_deleted_by_users_id_fk": {
          "name": "credential_type_definitions_deleted_by_users_id_fk",
          "tableFrom": "credential_type_definitions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_credential_documents": {
      "name": "user_credential_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_credential_record_id": {
          "name": "user_credential_record_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "storage_ref": {
          "name": "storage_ref",
          "type": "varchar(700)",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size_bytes": {
          "name": "file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sha256": {
          "name": "sha256",
          "type": "varchar(128)",
          "primaryKey": false,
          "notNull": false
        },
        "captured_at": {
          "name": "captured_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'upload'"
        },
        "sensitivity_class": {
          "name": "sensitivity_class",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'restricted'"
        },
        "preview_policy": {
          "name": "preview_policy",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'redacted'"
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "user_credential_documents_owner_id_unique": {
          "name": "user_credential_documents_owner_id_unique",
          "columns": [
            "owner_user_id",
            "id"
          ],
          "isUnique": true
        },
        "user_credential_documents_owner_record_idx": {
          "name": "user_credential_documents_owner_record_idx",
          "columns": [
            "owner_user_id",
            "user_credential_record_id",
            "captured_at"
          ],
          "isUnique": false
        },
        "user_credential_documents_owner_type_status_idx": {
          "name": "user_credential_documents_owner_type_status_idx",
          "columns": [
            "owner_user_id",
            "document_type",
            "status"
          ],
          "isUnique": false
        },
        "user_credential_documents_primary_per_record_unique": {
          "name": "user_credential_documents_primary_per_record_unique",
          "columns": [
            "owner_user_id",
            "user_credential_record_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "user_credential_documents_owner_user_id_users_id_fk": {
          "name": "user_credential_documents_owner_user_id_users_id_fk",
          "tableFrom": "user_credential_documents",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_documents_user_credential_record_id_user_credential_records_id_fk": {
          "name": "user_credential_documents_user_credential_record_id_user_credential_records_id_fk",
          "tableFrom": "user_credential_documents",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "user_credential_record_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_documents_created_by_users_id_fk": {
          "name": "user_credential_documents_created_by_users_id_fk",
          "tableFrom": "user_credential_documents",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_documents_updated_by_users_id_fk": {
          "name": "user_credential_documents_updated_by_users_id_fk",
          "tableFrom": "user_credential_documents",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_documents_deleted_by_users_id_fk": {
          "name": "user_credential_documents_deleted_by_users_id_fk",
          "tableFrom": "user_credential_documents",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_documents_owner_record_fk": {
          "name": "user_credential_documents_owner_record_fk",
          "tableFrom": "user_credential_documents",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "owner_user_id",
            "user_credential_record_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_credential_facts": {
      "name": "user_credential_facts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_credential_record_id": {
          "name": "user_credential_record_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fact_key": {
          "name": "fact_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "value_key": {
          "name": "value_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "value_text": {
          "name": "value_text",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "value_number": {
          "name": "value_number",
          "type": "numeric(24, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "value_boolean": {
          "name": "value_boolean",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "value_date": {
          "name": "value_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "value_timestamp": {
          "name": "value_timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "visibility_mode": {
          "name": "visibility_mode",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'grant_required'"
        },
        "is_filterable": {
          "name": "is_filterable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "user_credential_facts_owner_record_idx": {
          "name": "user_credential_facts_owner_record_idx",
          "columns": [
            "owner_user_id",
            "user_credential_record_id",
            "fact_key"
          ],
          "isUnique": false
        },
        "user_credential_facts_filter_text_idx": {
          "name": "user_credential_facts_filter_text_idx",
          "columns": [
            "visibility_mode",
            "is_filterable",
            "fact_key",
            "value_key",
            "value_text"
          ],
          "isUnique": false
        },
        "user_credential_facts_filter_number_idx": {
          "name": "user_credential_facts_filter_number_idx",
          "columns": [
            "visibility_mode",
            "is_filterable",
            "fact_key",
            "value_number"
          ],
          "isUnique": false
        },
        "user_credential_facts_filter_date_idx": {
          "name": "user_credential_facts_filter_date_idx",
          "columns": [
            "visibility_mode",
            "is_filterable",
            "fact_key",
            "value_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_credential_facts_owner_user_id_users_id_fk": {
          "name": "user_credential_facts_owner_user_id_users_id_fk",
          "tableFrom": "user_credential_facts",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_facts_user_credential_record_id_user_credential_records_id_fk": {
          "name": "user_credential_facts_user_credential_record_id_user_credential_records_id_fk",
          "tableFrom": "user_credential_facts",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "user_credential_record_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_facts_created_by_users_id_fk": {
          "name": "user_credential_facts_created_by_users_id_fk",
          "tableFrom": "user_credential_facts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_facts_updated_by_users_id_fk": {
          "name": "user_credential_facts_updated_by_users_id_fk",
          "tableFrom": "user_credential_facts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_facts_deleted_by_users_id_fk": {
          "name": "user_credential_facts_deleted_by_users_id_fk",
          "tableFrom": "user_credential_facts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_facts_owner_record_fk": {
          "name": "user_credential_facts_owner_record_fk",
          "tableFrom": "user_credential_facts",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "owner_user_id",
            "user_credential_record_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_credential_profiles": {
      "name": "user_credential_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "allow_marketplace_discovery": {
          "name": "allow_marketplace_discovery",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allow_inbound_credential_requests": {
          "name": "allow_inbound_credential_requests",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "default_grant_access_level": {
          "name": "default_grant_access_level",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'summary'"
        },
        "default_grant_scope": {
          "name": "default_grant_scope",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'selected_records'"
        },
        "public_summary": {
          "name": "public_summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "preferences": {
          "name": "preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "user_credential_profiles_owner_unique": {
          "name": "user_credential_profiles_owner_unique",
          "columns": [
            "owner_user_id"
          ],
          "isUnique": true
        },
        "user_credential_profiles_status_discovery_idx": {
          "name": "user_credential_profiles_status_discovery_idx",
          "columns": [
            "status",
            "allow_marketplace_discovery",
            "allow_inbound_credential_requests"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_credential_profiles_owner_user_id_users_id_fk": {
          "name": "user_credential_profiles_owner_user_id_users_id_fk",
          "tableFrom": "user_credential_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_profiles_created_by_users_id_fk": {
          "name": "user_credential_profiles_created_by_users_id_fk",
          "tableFrom": "user_credential_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_profiles_updated_by_users_id_fk": {
          "name": "user_credential_profiles_updated_by_users_id_fk",
          "tableFrom": "user_credential_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_profiles_deleted_by_users_id_fk": {
          "name": "user_credential_profiles_deleted_by_users_id_fk",
          "tableFrom": "user_credential_profiles",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_credential_records": {
      "name": "user_credential_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "credential_type_definition_id": {
          "name": "credential_type_definition_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "credential_type_key": {
          "name": "credential_type_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "credential_key": {
          "name": "credential_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": false
        },
        "issuer_name": {
          "name": "issuer_name",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": false
        },
        "issuer_country": {
          "name": "issuer_country",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": false
        },
        "issuer_region": {
          "name": "issuer_region",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "credential_number_hash": {
          "name": "credential_number_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "verification_status": {
          "name": "verification_status",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'unverified'"
        },
        "last_verified_at": {
          "name": "last_verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_reverification_at": {
          "name": "next_reverification_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "discovery_visibility": {
          "name": "discovery_visibility",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'grant_required'"
        },
        "is_shareable": {
          "name": "is_shareable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "summary": {
          "name": "summary",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "user_credential_records_owner_id_unique": {
          "name": "user_credential_records_owner_id_unique",
          "columns": [
            "owner_user_id",
            "id"
          ],
          "isUnique": true
        },
        "user_credential_records_owner_type_key_unique": {
          "name": "user_credential_records_owner_type_key_unique",
          "columns": [
            "owner_user_id",
            "credential_type_key",
            "credential_key"
          ],
          "isUnique": true
        },
        "user_credential_records_owner_status_expiry_idx": {
          "name": "user_credential_records_owner_status_expiry_idx",
          "columns": [
            "owner_user_id",
            "status",
            "verification_status",
            "expires_at"
          ],
          "isUnique": false
        },
        "user_credential_records_discovery_idx": {
          "name": "user_credential_records_discovery_idx",
          "columns": [
            "discovery_visibility",
            "status",
            "verification_status",
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_credential_records_owner_user_id_users_id_fk": {
          "name": "user_credential_records_owner_user_id_users_id_fk",
          "tableFrom": "user_credential_records",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_records_credential_type_definition_id_credential_type_definitions_id_fk": {
          "name": "user_credential_records_credential_type_definition_id_credential_type_definitions_id_fk",
          "tableFrom": "user_credential_records",
          "tableTo": "credential_type_definitions",
          "columnsFrom": [
            "credential_type_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_records_created_by_users_id_fk": {
          "name": "user_credential_records_created_by_users_id_fk",
          "tableFrom": "user_credential_records",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_records_updated_by_users_id_fk": {
          "name": "user_credential_records_updated_by_users_id_fk",
          "tableFrom": "user_credential_records",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_records_deleted_by_users_id_fk": {
          "name": "user_credential_records_deleted_by_users_id_fk",
          "tableFrom": "user_credential_records",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_records_type_definition_fk": {
          "name": "user_credential_records_type_definition_fk",
          "tableFrom": "user_credential_records",
          "tableTo": "credential_type_definitions",
          "columnsFrom": [
            "credential_type_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "user_credential_verifications": {
      "name": "user_credential_verifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_credential_record_id": {
          "name": "user_credential_record_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_credential_document_id": {
          "name": "user_credential_document_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verifier_type": {
          "name": "verifier_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'system'"
        },
        "verifier_biz_id": {
          "name": "verifier_biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "verifier_user_id": {
          "name": "verifier_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "method": {
          "name": "method",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual_review'"
        },
        "status": {
          "name": "status",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "user_credential_verifications_owner_record_requested_idx": {
          "name": "user_credential_verifications_owner_record_requested_idx",
          "columns": [
            "owner_user_id",
            "user_credential_record_id",
            "requested_at"
          ],
          "isUnique": false
        },
        "user_credential_verifications_verifier_biz_status_idx": {
          "name": "user_credential_verifications_verifier_biz_status_idx",
          "columns": [
            "verifier_biz_id",
            "status",
            "requested_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_credential_verifications_owner_user_id_users_id_fk": {
          "name": "user_credential_verifications_owner_user_id_users_id_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_verifications_user_credential_record_id_user_credential_records_id_fk": {
          "name": "user_credential_verifications_user_credential_record_id_user_credential_records_id_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "user_credential_record_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_verifications_user_credential_document_id_user_credential_documents_id_fk": {
          "name": "user_credential_verifications_user_credential_document_id_user_credential_documents_id_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "user_credential_documents",
          "columnsFrom": [
            "user_credential_document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_verifications_verifier_biz_id_bizes_id_fk": {
          "name": "user_credential_verifications_verifier_biz_id_bizes_id_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "bizes",
          "columnsFrom": [
            "verifier_biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_verifications_verifier_user_id_users_id_fk": {
          "name": "user_credential_verifications_verifier_user_id_users_id_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "users",
          "columnsFrom": [
            "verifier_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_verifications_created_by_users_id_fk": {
          "name": "user_credential_verifications_created_by_users_id_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_verifications_updated_by_users_id_fk": {
          "name": "user_credential_verifications_updated_by_users_id_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_verifications_deleted_by_users_id_fk": {
          "name": "user_credential_verifications_deleted_by_users_id_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_verifications_owner_record_fk": {
          "name": "user_credential_verifications_owner_record_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "user_credential_records",
          "columnsFrom": [
            "owner_user_id",
            "user_credential_record_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_credential_verifications_owner_document_fk": {
          "name": "user_credential_verifications_owner_document_fk",
          "tableFrom": "user_credential_verifications",
          "tableTo": "user_credential_documents",
          "columnsFrom": [
            "owner_user_id",
            "user_credential_document_id"
          ],
          "columnsTo": [
            "owner_user_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "access_library_items": {
      "name": "access_library_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_group_account_id": {
          "name": "owner_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_subject_type": {
          "name": "owner_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_subject_id": {
          "name": "owner_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "projection_key": {
          "name": "projection_key",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "availability_state": {
          "name": "availability_state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'available'"
        },
        "access_artifact_id": {
          "name": "access_artifact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_usage_window_id": {
          "name": "access_usage_window_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "membership_id": {
          "name": "membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "entitlement_grant_id": {
          "name": "entitlement_grant_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "available_from": {
          "name": "available_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "available_until": {
          "name": "available_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "usage_granted": {
          "name": "usage_granted",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usage_remaining": {
          "name": "usage_remaining",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_updated_at": {
          "name": "source_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "refreshed_at": {
          "name": "refreshed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "projection_version": {
          "name": "projection_version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "snapshot": {
          "name": "snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "access_library_items_biz_id_id_unique": {
          "name": "access_library_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "access_library_items_owner_projection_unique": {
          "name": "access_library_items_owner_projection_unique",
          "columns": [
            "biz_id",
            "owner_user_id",
            "owner_group_account_id",
            "owner_subject_type",
            "owner_subject_id",
            "projection_key"
          ],
          "isUnique": true
        },
        "access_library_items_owner_artifact_unique": {
          "name": "access_library_items_owner_artifact_unique",
          "columns": [
            "biz_id",
            "owner_user_id",
            "owner_group_account_id",
            "owner_subject_type",
            "owner_subject_id",
            "access_artifact_id"
          ],
          "isUnique": true
        },
        "access_library_items_owner_status_idx": {
          "name": "access_library_items_owner_status_idx",
          "columns": [
            "biz_id",
            "owner_user_id",
            "owner_group_account_id",
            "status",
            "availability_state",
            "available_until"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "access_library_items_biz_id_bizes_id_fk": {
          "name": "access_library_items_biz_id_bizes_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_owner_user_id_users_id_fk": {
          "name": "access_library_items_owner_user_id_users_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_owner_group_account_id_group_accounts_id_fk": {
          "name": "access_library_items_owner_group_account_id_group_accounts_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "owner_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_access_artifact_id_access_artifacts_id_fk": {
          "name": "access_library_items_access_artifact_id_access_artifacts_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "access_artifact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_access_usage_window_id_access_usage_windows_id_fk": {
          "name": "access_library_items_access_usage_window_id_access_usage_windows_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "access_usage_windows",
          "columnsFrom": [
            "access_usage_window_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_sellable_id_sellables_id_fk": {
          "name": "access_library_items_sellable_id_sellables_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_membership_id_memberships_id_fk": {
          "name": "access_library_items_membership_id_memberships_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "memberships",
          "columnsFrom": [
            "membership_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_entitlement_grant_id_entitlement_grants_id_fk": {
          "name": "access_library_items_entitlement_grant_id_entitlement_grants_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "entitlement_grants",
          "columnsFrom": [
            "entitlement_grant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_created_by_users_id_fk": {
          "name": "access_library_items_created_by_users_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_updated_by_users_id_fk": {
          "name": "access_library_items_updated_by_users_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_deleted_by_users_id_fk": {
          "name": "access_library_items_deleted_by_users_id_fk",
          "tableFrom": "access_library_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_biz_owner_subject_fk": {
          "name": "access_library_items_biz_owner_subject_fk",
          "tableFrom": "access_library_items",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "owner_subject_type",
            "owner_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_biz_access_artifact_fk": {
          "name": "access_library_items_biz_access_artifact_fk",
          "tableFrom": "access_library_items",
          "tableTo": "access_artifacts",
          "columnsFrom": [
            "biz_id",
            "access_artifact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_biz_access_usage_window_fk": {
          "name": "access_library_items_biz_access_usage_window_fk",
          "tableFrom": "access_library_items",
          "tableTo": "access_usage_windows",
          "columnsFrom": [
            "biz_id",
            "access_usage_window_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_biz_sellable_fk": {
          "name": "access_library_items_biz_sellable_fk",
          "tableFrom": "access_library_items",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_biz_membership_fk": {
          "name": "access_library_items_biz_membership_fk",
          "tableFrom": "access_library_items",
          "tableTo": "memberships",
          "columnsFrom": [
            "biz_id",
            "membership_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "access_library_items_biz_entitlement_grant_fk": {
          "name": "access_library_items_biz_entitlement_grant_fk",
          "tableFrom": "access_library_items",
          "tableTo": "entitlement_grants",
          "columnsFrom": [
            "biz_id",
            "entitlement_grant_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "queue_counter_assignments": {
      "name": "queue_counter_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_counter_id": {
          "name": "queue_counter_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "assignee_user_id": {
          "name": "assignee_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee_group_account_id": {
          "name": "assignee_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee_resource_id": {
          "name": "assignee_resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assignee_subject_type": {
          "name": "assignee_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "assignee_subject_id": {
          "name": "assignee_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "assignment_state": {
          "name": "assignment_state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "activated_at": {
          "name": "activated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ended_at": {
          "name": "ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_by_user_id": {
          "name": "assigned_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "queue_counter_assignments_biz_id_id_unique": {
          "name": "queue_counter_assignments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "queue_counter_assignments_biz_counter_state_start_idx": {
          "name": "queue_counter_assignments_biz_counter_state_start_idx",
          "columns": [
            "biz_id",
            "queue_counter_id",
            "assignment_state",
            "starts_at"
          ],
          "isUnique": false
        },
        "queue_counter_assignments_active_counter_unique": {
          "name": "queue_counter_assignments_active_counter_unique",
          "columns": [
            "biz_id",
            "queue_counter_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "queue_counter_assignments_biz_id_bizes_id_fk": {
          "name": "queue_counter_assignments_biz_id_bizes_id_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_queue_counter_id_queue_counters_id_fk": {
          "name": "queue_counter_assignments_queue_counter_id_queue_counters_id_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "queue_counters",
          "columnsFrom": [
            "queue_counter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_assignee_user_id_users_id_fk": {
          "name": "queue_counter_assignments_assignee_user_id_users_id_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "assignee_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_assignee_group_account_id_group_accounts_id_fk": {
          "name": "queue_counter_assignments_assignee_group_account_id_group_accounts_id_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "assignee_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_assignee_resource_id_resources_id_fk": {
          "name": "queue_counter_assignments_assignee_resource_id_resources_id_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "assignee_resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_assigned_by_user_id_users_id_fk": {
          "name": "queue_counter_assignments_assigned_by_user_id_users_id_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_created_by_users_id_fk": {
          "name": "queue_counter_assignments_created_by_users_id_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_updated_by_users_id_fk": {
          "name": "queue_counter_assignments_updated_by_users_id_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_deleted_by_users_id_fk": {
          "name": "queue_counter_assignments_deleted_by_users_id_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_biz_counter_fk": {
          "name": "queue_counter_assignments_biz_counter_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "queue_counters",
          "columnsFrom": [
            "biz_id",
            "queue_counter_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_biz_resource_fk": {
          "name": "queue_counter_assignments_biz_resource_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "assignee_resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counter_assignments_biz_assignee_subject_fk": {
          "name": "queue_counter_assignments_biz_assignee_subject_fk",
          "tableFrom": "queue_counter_assignments",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "assignee_subject_type",
            "assignee_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "queue_counters": {
      "name": "queue_counters",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_id": {
          "name": "queue_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code": {
          "name": "code",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "counter_type": {
          "name": "counter_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'window'"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "queue_counters_biz_id_id_unique": {
          "name": "queue_counters_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "queue_counters_queue_code_unique": {
          "name": "queue_counters_queue_code_unique",
          "columns": [
            "queue_id",
            "code"
          ],
          "isUnique": true
        },
        "queue_counters_biz_queue_status_idx": {
          "name": "queue_counters_biz_queue_status_idx",
          "columns": [
            "biz_id",
            "queue_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "queue_counters_biz_id_bizes_id_fk": {
          "name": "queue_counters_biz_id_bizes_id_fk",
          "tableFrom": "queue_counters",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counters_queue_id_queues_id_fk": {
          "name": "queue_counters_queue_id_queues_id_fk",
          "tableFrom": "queue_counters",
          "tableTo": "queues",
          "columnsFrom": [
            "queue_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counters_location_id_locations_id_fk": {
          "name": "queue_counters_location_id_locations_id_fk",
          "tableFrom": "queue_counters",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counters_created_by_users_id_fk": {
          "name": "queue_counters_created_by_users_id_fk",
          "tableFrom": "queue_counters",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counters_updated_by_users_id_fk": {
          "name": "queue_counters_updated_by_users_id_fk",
          "tableFrom": "queue_counters",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counters_deleted_by_users_id_fk": {
          "name": "queue_counters_deleted_by_users_id_fk",
          "tableFrom": "queue_counters",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counters_biz_queue_fk": {
          "name": "queue_counters_biz_queue_fk",
          "tableFrom": "queue_counters",
          "tableTo": "queues",
          "columnsFrom": [
            "biz_id",
            "queue_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_counters_biz_location_fk": {
          "name": "queue_counters_biz_location_fk",
          "tableFrom": "queue_counters",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "queue_ticket_calls": {
      "name": "queue_ticket_calls",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_ticket_id": {
          "name": "queue_ticket_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "queue_counter_id": {
          "name": "queue_counter_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "call_state": {
          "name": "call_state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'called'"
        },
        "called_at": {
          "name": "called_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "acknowledged_at": {
          "name": "acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "service_started_at": {
          "name": "service_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "service_ended_at": {
          "name": "service_ended_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "called_by_user_id": {
          "name": "called_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "served_by_user_id": {
          "name": "served_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "queue_ticket_calls_biz_id_id_unique": {
          "name": "queue_ticket_calls_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "queue_ticket_calls_biz_ticket_called_idx": {
          "name": "queue_ticket_calls_biz_ticket_called_idx",
          "columns": [
            "biz_id",
            "queue_ticket_id",
            "called_at"
          ],
          "isUnique": false
        },
        "queue_ticket_calls_biz_counter_called_idx": {
          "name": "queue_ticket_calls_biz_counter_called_idx",
          "columns": [
            "biz_id",
            "queue_counter_id",
            "called_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "queue_ticket_calls_biz_id_bizes_id_fk": {
          "name": "queue_ticket_calls_biz_id_bizes_id_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_queue_ticket_id_queue_tickets_id_fk": {
          "name": "queue_ticket_calls_queue_ticket_id_queue_tickets_id_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "queue_tickets",
          "columnsFrom": [
            "queue_ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_queue_entry_id_queue_entries_id_fk": {
          "name": "queue_ticket_calls_queue_entry_id_queue_entries_id_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "queue_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_queue_counter_id_queue_counters_id_fk": {
          "name": "queue_ticket_calls_queue_counter_id_queue_counters_id_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "queue_counters",
          "columnsFrom": [
            "queue_counter_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_called_by_user_id_users_id_fk": {
          "name": "queue_ticket_calls_called_by_user_id_users_id_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "users",
          "columnsFrom": [
            "called_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_served_by_user_id_users_id_fk": {
          "name": "queue_ticket_calls_served_by_user_id_users_id_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "users",
          "columnsFrom": [
            "served_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_created_by_users_id_fk": {
          "name": "queue_ticket_calls_created_by_users_id_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_updated_by_users_id_fk": {
          "name": "queue_ticket_calls_updated_by_users_id_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_deleted_by_users_id_fk": {
          "name": "queue_ticket_calls_deleted_by_users_id_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_biz_ticket_fk": {
          "name": "queue_ticket_calls_biz_ticket_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "queue_tickets",
          "columnsFrom": [
            "biz_id",
            "queue_ticket_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_biz_entry_fk": {
          "name": "queue_ticket_calls_biz_entry_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "biz_id",
            "queue_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "queue_ticket_calls_biz_counter_fk": {
          "name": "queue_ticket_calls_biz_counter_fk",
          "tableFrom": "queue_ticket_calls",
          "tableTo": "queue_counters",
          "columnsFrom": [
            "biz_id",
            "queue_counter_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "seat_holds": {
      "name": "seat_holds",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seat_map_id": {
          "name": "seat_map_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seat_map_seat_id": {
          "name": "seat_map_seat_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "holder_user_id": {
          "name": "holder_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "holder_group_account_id": {
          "name": "holder_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hold_type": {
          "name": "hold_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'checkout'"
        },
        "hold_state": {
          "name": "hold_state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'held'"
        },
        "held_at": {
          "name": "held_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "released_at": {
          "name": "released_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "converted_at": {
          "name": "converted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "seat_holds_biz_id_id_unique": {
          "name": "seat_holds_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "seat_holds_biz_idempotency_unique": {
          "name": "seat_holds_biz_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "seat_holds_active_seat_unique": {
          "name": "seat_holds_active_seat_unique",
          "columns": [
            "biz_id",
            "seat_map_seat_id"
          ],
          "isUnique": true
        },
        "seat_holds_biz_state_expiry_idx": {
          "name": "seat_holds_biz_state_expiry_idx",
          "columns": [
            "biz_id",
            "hold_state",
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "seat_holds_biz_id_bizes_id_fk": {
          "name": "seat_holds_biz_id_bizes_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_seat_map_id_seat_maps_id_fk": {
          "name": "seat_holds_seat_map_id_seat_maps_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "seat_maps",
          "columnsFrom": [
            "seat_map_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_seat_map_seat_id_seat_map_seats_id_fk": {
          "name": "seat_holds_seat_map_seat_id_seat_map_seats_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "seat_map_seats",
          "columnsFrom": [
            "seat_map_seat_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_booking_order_id_booking_orders_id_fk": {
          "name": "seat_holds_booking_order_id_booking_orders_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "seat_holds_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_queue_entry_id_queue_entries_id_fk": {
          "name": "seat_holds_queue_entry_id_queue_entries_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "queue_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_holder_user_id_users_id_fk": {
          "name": "seat_holds_holder_user_id_users_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "users",
          "columnsFrom": [
            "holder_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_holder_group_account_id_group_accounts_id_fk": {
          "name": "seat_holds_holder_group_account_id_group_accounts_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "holder_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_created_by_users_id_fk": {
          "name": "seat_holds_created_by_users_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_updated_by_users_id_fk": {
          "name": "seat_holds_updated_by_users_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_deleted_by_users_id_fk": {
          "name": "seat_holds_deleted_by_users_id_fk",
          "tableFrom": "seat_holds",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_biz_map_fk": {
          "name": "seat_holds_biz_map_fk",
          "tableFrom": "seat_holds",
          "tableTo": "seat_maps",
          "columnsFrom": [
            "biz_id",
            "seat_map_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_biz_seat_fk": {
          "name": "seat_holds_biz_seat_fk",
          "tableFrom": "seat_holds",
          "tableTo": "seat_map_seats",
          "columnsFrom": [
            "biz_id",
            "seat_map_seat_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_biz_map_seat_pair_fk": {
          "name": "seat_holds_biz_map_seat_pair_fk",
          "tableFrom": "seat_holds",
          "tableTo": "seat_map_seats",
          "columnsFrom": [
            "biz_id",
            "seat_map_id",
            "seat_map_seat_id"
          ],
          "columnsTo": [
            "biz_id",
            "seat_map_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_biz_booking_order_fk": {
          "name": "seat_holds_biz_booking_order_fk",
          "tableFrom": "seat_holds",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_biz_booking_order_line_fk": {
          "name": "seat_holds_biz_booking_order_line_fk",
          "tableFrom": "seat_holds",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_holds_biz_queue_entry_fk": {
          "name": "seat_holds_biz_queue_entry_fk",
          "tableFrom": "seat_holds",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "biz_id",
            "queue_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "seat_map_seats": {
      "name": "seat_map_seats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seat_map_id": {
          "name": "seat_map_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seat_key": {
          "name": "seat_key",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "section_key": {
          "name": "section_key",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "row_label": {
          "name": "row_label",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": false
        },
        "column_label": {
          "name": "column_label",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": false
        },
        "grid_x": {
          "name": "grid_x",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "grid_y": {
          "name": "grid_y",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_accessible": {
          "name": "is_accessible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "seat_map_seats_biz_id_id_unique": {
          "name": "seat_map_seats_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "seat_map_seats_biz_map_id_id_unique": {
          "name": "seat_map_seats_biz_map_id_id_unique",
          "columns": [
            "biz_id",
            "seat_map_id",
            "id"
          ],
          "isUnique": true
        },
        "seat_map_seats_map_seat_key_unique": {
          "name": "seat_map_seats_map_seat_key_unique",
          "columns": [
            "seat_map_id",
            "seat_key"
          ],
          "isUnique": true
        },
        "seat_map_seats_biz_map_status_sort_idx": {
          "name": "seat_map_seats_biz_map_status_sort_idx",
          "columns": [
            "biz_id",
            "seat_map_id",
            "status",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "seat_map_seats_biz_id_bizes_id_fk": {
          "name": "seat_map_seats_biz_id_bizes_id_fk",
          "tableFrom": "seat_map_seats",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_map_seats_seat_map_id_seat_maps_id_fk": {
          "name": "seat_map_seats_seat_map_id_seat_maps_id_fk",
          "tableFrom": "seat_map_seats",
          "tableTo": "seat_maps",
          "columnsFrom": [
            "seat_map_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_map_seats_created_by_users_id_fk": {
          "name": "seat_map_seats_created_by_users_id_fk",
          "tableFrom": "seat_map_seats",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_map_seats_updated_by_users_id_fk": {
          "name": "seat_map_seats_updated_by_users_id_fk",
          "tableFrom": "seat_map_seats",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_map_seats_deleted_by_users_id_fk": {
          "name": "seat_map_seats_deleted_by_users_id_fk",
          "tableFrom": "seat_map_seats",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_map_seats_biz_map_fk": {
          "name": "seat_map_seats_biz_map_fk",
          "tableFrom": "seat_map_seats",
          "tableTo": "seat_maps",
          "columnsFrom": [
            "biz_id",
            "seat_map_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "seat_maps": {
      "name": "seat_maps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'resource'"
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "layout": {
          "name": "layout",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "seat_maps_biz_id_id_unique": {
          "name": "seat_maps_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "seat_maps_biz_slug_unique": {
          "name": "seat_maps_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "seat_maps_biz_target_status_idx": {
          "name": "seat_maps_biz_target_status_idx",
          "columns": [
            "biz_id",
            "target_type",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "seat_maps_biz_id_bizes_id_fk": {
          "name": "seat_maps_biz_id_bizes_id_fk",
          "tableFrom": "seat_maps",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_maps_resource_id_resources_id_fk": {
          "name": "seat_maps_resource_id_resources_id_fk",
          "tableFrom": "seat_maps",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_maps_created_by_users_id_fk": {
          "name": "seat_maps_created_by_users_id_fk",
          "tableFrom": "seat_maps",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_maps_updated_by_users_id_fk": {
          "name": "seat_maps_updated_by_users_id_fk",
          "tableFrom": "seat_maps",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_maps_deleted_by_users_id_fk": {
          "name": "seat_maps_deleted_by_users_id_fk",
          "tableFrom": "seat_maps",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_maps_biz_resource_fk": {
          "name": "seat_maps_biz_resource_fk",
          "tableFrom": "seat_maps",
          "tableTo": "resources",
          "columnsFrom": [
            "biz_id",
            "resource_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_maps_biz_target_subject_fk": {
          "name": "seat_maps_biz_target_subject_fk",
          "tableFrom": "seat_maps",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "seat_reservations": {
      "name": "seat_reservations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seat_map_id": {
          "name": "seat_map_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seat_map_seat_id": {
          "name": "seat_map_seat_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "seat_hold_id": {
          "name": "seat_hold_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "queue_entry_id": {
          "name": "queue_entry_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reservation_state": {
          "name": "reservation_state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'reserved'"
        },
        "reserved_at": {
          "name": "reserved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "released_at": {
          "name": "released_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "seat_reservations_biz_id_id_unique": {
          "name": "seat_reservations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "seat_reservations_active_seat_unique": {
          "name": "seat_reservations_active_seat_unique",
          "columns": [
            "biz_id",
            "seat_map_seat_id"
          ],
          "isUnique": true
        },
        "seat_reservations_biz_booking_idx": {
          "name": "seat_reservations_biz_booking_idx",
          "columns": [
            "biz_id",
            "booking_order_line_id",
            "reservation_state"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "seat_reservations_biz_id_bizes_id_fk": {
          "name": "seat_reservations_biz_id_bizes_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_seat_map_id_seat_maps_id_fk": {
          "name": "seat_reservations_seat_map_id_seat_maps_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "seat_maps",
          "columnsFrom": [
            "seat_map_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_seat_map_seat_id_seat_map_seats_id_fk": {
          "name": "seat_reservations_seat_map_seat_id_seat_map_seats_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "seat_map_seats",
          "columnsFrom": [
            "seat_map_seat_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_seat_hold_id_seat_holds_id_fk": {
          "name": "seat_reservations_seat_hold_id_seat_holds_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "seat_holds",
          "columnsFrom": [
            "seat_hold_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_booking_order_id_booking_orders_id_fk": {
          "name": "seat_reservations_booking_order_id_booking_orders_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "seat_reservations_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "seat_reservations_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_queue_entry_id_queue_entries_id_fk": {
          "name": "seat_reservations_queue_entry_id_queue_entries_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "queue_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_created_by_users_id_fk": {
          "name": "seat_reservations_created_by_users_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_updated_by_users_id_fk": {
          "name": "seat_reservations_updated_by_users_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_deleted_by_users_id_fk": {
          "name": "seat_reservations_deleted_by_users_id_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_biz_map_fk": {
          "name": "seat_reservations_biz_map_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "seat_maps",
          "columnsFrom": [
            "biz_id",
            "seat_map_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_biz_seat_fk": {
          "name": "seat_reservations_biz_seat_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "seat_map_seats",
          "columnsFrom": [
            "biz_id",
            "seat_map_seat_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_biz_map_seat_pair_fk": {
          "name": "seat_reservations_biz_map_seat_pair_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "seat_map_seats",
          "columnsFrom": [
            "biz_id",
            "seat_map_id",
            "seat_map_seat_id"
          ],
          "columnsTo": [
            "biz_id",
            "seat_map_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_biz_seat_hold_fk": {
          "name": "seat_reservations_biz_seat_hold_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "seat_holds",
          "columnsFrom": [
            "biz_id",
            "seat_hold_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_biz_booking_order_fk": {
          "name": "seat_reservations_biz_booking_order_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_biz_booking_order_line_fk": {
          "name": "seat_reservations_biz_booking_order_line_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_biz_fulfillment_unit_fk": {
          "name": "seat_reservations_biz_fulfillment_unit_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "seat_reservations_biz_queue_entry_fk": {
          "name": "seat_reservations_biz_queue_entry_fk",
          "tableFrom": "seat_reservations",
          "tableTo": "queue_entries",
          "columnsFrom": [
            "biz_id",
            "queue_entry_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "referral_attributions": {
      "name": "referral_attributions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referral_link_id": {
          "name": "referral_link_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referral_link_click_id": {
          "name": "referral_link_click_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referral_event_id": {
          "name": "referral_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cross_biz_order_id": {
          "name": "cross_biz_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attributed_at": {
          "name": "attributed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "attribution_model": {
          "name": "attribution_model",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'last_touch'"
        },
        "window_expires_at": {
          "name": "window_expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_eligible": {
          "name": "is_eligible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_reward_eligible": {
          "name": "is_reward_eligible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "decision_details": {
          "name": "decision_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "referral_attributions_biz_id_id_unique": {
          "name": "referral_attributions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "referral_attributions_biz_booking_order_unique": {
          "name": "referral_attributions_biz_booking_order_unique",
          "columns": [
            "biz_id",
            "booking_order_id"
          ],
          "isUnique": true
        },
        "referral_attributions_biz_cross_biz_order_unique": {
          "name": "referral_attributions_biz_cross_biz_order_unique",
          "columns": [
            "biz_id",
            "cross_biz_order_id"
          ],
          "isUnique": true
        },
        "referral_attributions_biz_link_attributed_idx": {
          "name": "referral_attributions_biz_link_attributed_idx",
          "columns": [
            "biz_id",
            "referral_link_id",
            "attributed_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "referral_attributions_biz_id_bizes_id_fk": {
          "name": "referral_attributions_biz_id_bizes_id_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_referral_link_id_referral_links_id_fk": {
          "name": "referral_attributions_referral_link_id_referral_links_id_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "referral_links",
          "columnsFrom": [
            "referral_link_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_referral_link_click_id_referral_link_clicks_id_fk": {
          "name": "referral_attributions_referral_link_click_id_referral_link_clicks_id_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "referral_link_clicks",
          "columnsFrom": [
            "referral_link_click_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_referral_event_id_referral_events_id_fk": {
          "name": "referral_attributions_referral_event_id_referral_events_id_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "referral_events",
          "columnsFrom": [
            "referral_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_booking_order_id_booking_orders_id_fk": {
          "name": "referral_attributions_booking_order_id_booking_orders_id_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_cross_biz_order_id_cross_biz_orders_id_fk": {
          "name": "referral_attributions_cross_biz_order_id_cross_biz_orders_id_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_created_by_users_id_fk": {
          "name": "referral_attributions_created_by_users_id_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_updated_by_users_id_fk": {
          "name": "referral_attributions_updated_by_users_id_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_deleted_by_users_id_fk": {
          "name": "referral_attributions_deleted_by_users_id_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_biz_link_fk": {
          "name": "referral_attributions_biz_link_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "referral_links",
          "columnsFrom": [
            "biz_id",
            "referral_link_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_biz_click_fk": {
          "name": "referral_attributions_biz_click_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "referral_link_clicks",
          "columnsFrom": [
            "biz_id",
            "referral_link_click_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_biz_event_fk": {
          "name": "referral_attributions_biz_event_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "referral_events",
          "columnsFrom": [
            "biz_id",
            "referral_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_biz_booking_order_fk": {
          "name": "referral_attributions_biz_booking_order_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_attributions_biz_cross_biz_order_fk": {
          "name": "referral_attributions_biz_cross_biz_order_fk",
          "tableFrom": "referral_attributions",
          "tableTo": "cross_biz_orders",
          "columnsFrom": [
            "biz_id",
            "cross_biz_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "referral_link_clicks": {
      "name": "referral_link_clicks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referral_link_id": {
          "name": "referral_link_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "visitor_user_id": {
          "name": "visitor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_key": {
          "name": "session_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_hash": {
          "name": "ip_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent_hash": {
          "name": "user_agent_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "source_channel": {
          "name": "source_channel",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "landing_path": {
          "name": "landing_path",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_params": {
          "name": "campaign_params",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "referral_link_clicks_biz_id_id_unique": {
          "name": "referral_link_clicks_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "referral_link_clicks_biz_link_clicked_idx": {
          "name": "referral_link_clicks_biz_link_clicked_idx",
          "columns": [
            "biz_id",
            "referral_link_id",
            "clicked_at"
          ],
          "isUnique": false
        },
        "referral_link_clicks_biz_session_clicked_idx": {
          "name": "referral_link_clicks_biz_session_clicked_idx",
          "columns": [
            "biz_id",
            "session_key",
            "clicked_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "referral_link_clicks_biz_id_bizes_id_fk": {
          "name": "referral_link_clicks_biz_id_bizes_id_fk",
          "tableFrom": "referral_link_clicks",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_link_clicks_referral_link_id_referral_links_id_fk": {
          "name": "referral_link_clicks_referral_link_id_referral_links_id_fk",
          "tableFrom": "referral_link_clicks",
          "tableTo": "referral_links",
          "columnsFrom": [
            "referral_link_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_link_clicks_visitor_user_id_users_id_fk": {
          "name": "referral_link_clicks_visitor_user_id_users_id_fk",
          "tableFrom": "referral_link_clicks",
          "tableTo": "users",
          "columnsFrom": [
            "visitor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_link_clicks_created_by_users_id_fk": {
          "name": "referral_link_clicks_created_by_users_id_fk",
          "tableFrom": "referral_link_clicks",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_link_clicks_updated_by_users_id_fk": {
          "name": "referral_link_clicks_updated_by_users_id_fk",
          "tableFrom": "referral_link_clicks",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_link_clicks_deleted_by_users_id_fk": {
          "name": "referral_link_clicks_deleted_by_users_id_fk",
          "tableFrom": "referral_link_clicks",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_link_clicks_biz_link_fk": {
          "name": "referral_link_clicks_biz_link_fk",
          "tableFrom": "referral_link_clicks",
          "tableTo": "referral_links",
          "columnsFrom": [
            "biz_id",
            "referral_link_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "referral_links": {
      "name": "referral_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referral_program_id": {
          "name": "referral_program_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "link_code": {
          "name": "link_code",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_group_account_id": {
          "name": "owner_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_subject_type": {
          "name": "owner_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "owner_subject_id": {
          "name": "owner_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "attribution_model": {
          "name": "attribution_model",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'last_touch'"
        },
        "attribution_window_minutes": {
          "name": "attribution_window_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 10080
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "referral_links_biz_id_id_unique": {
          "name": "referral_links_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "referral_links_biz_link_code_unique": {
          "name": "referral_links_biz_link_code_unique",
          "columns": [
            "biz_id",
            "link_code"
          ],
          "isUnique": true
        },
        "referral_links_biz_program_status_idx": {
          "name": "referral_links_biz_program_status_idx",
          "columns": [
            "biz_id",
            "referral_program_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "referral_links_biz_id_bizes_id_fk": {
          "name": "referral_links_biz_id_bizes_id_fk",
          "tableFrom": "referral_links",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_referral_program_id_referral_programs_id_fk": {
          "name": "referral_links_referral_program_id_referral_programs_id_fk",
          "tableFrom": "referral_links",
          "tableTo": "referral_programs",
          "columnsFrom": [
            "referral_program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_owner_user_id_users_id_fk": {
          "name": "referral_links_owner_user_id_users_id_fk",
          "tableFrom": "referral_links",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_owner_group_account_id_group_accounts_id_fk": {
          "name": "referral_links_owner_group_account_id_group_accounts_id_fk",
          "tableFrom": "referral_links",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "owner_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_sellable_id_sellables_id_fk": {
          "name": "referral_links_sellable_id_sellables_id_fk",
          "tableFrom": "referral_links",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_offer_version_id_offer_versions_id_fk": {
          "name": "referral_links_offer_version_id_offer_versions_id_fk",
          "tableFrom": "referral_links",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_created_by_users_id_fk": {
          "name": "referral_links_created_by_users_id_fk",
          "tableFrom": "referral_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_updated_by_users_id_fk": {
          "name": "referral_links_updated_by_users_id_fk",
          "tableFrom": "referral_links",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_deleted_by_users_id_fk": {
          "name": "referral_links_deleted_by_users_id_fk",
          "tableFrom": "referral_links",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_biz_program_fk": {
          "name": "referral_links_biz_program_fk",
          "tableFrom": "referral_links",
          "tableTo": "referral_programs",
          "columnsFrom": [
            "biz_id",
            "referral_program_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_biz_sellable_fk": {
          "name": "referral_links_biz_sellable_fk",
          "tableFrom": "referral_links",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_biz_offer_version_fk": {
          "name": "referral_links_biz_offer_version_fk",
          "tableFrom": "referral_links",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_biz_owner_subject_fk": {
          "name": "referral_links_biz_owner_subject_fk",
          "tableFrom": "referral_links",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "owner_subject_type",
            "owner_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "referral_links_biz_target_subject_fk": {
          "name": "referral_links_biz_target_subject_fk",
          "tableFrom": "referral_links",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "eligibility_snapshots": {
      "name": "eligibility_snapshots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payer_authorization_id": {
          "name": "payer_authorization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "member_user_id": {
          "name": "member_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "member_group_account_id": {
          "name": "member_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "member_subject_type": {
          "name": "member_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "member_subject_id": {
          "name": "member_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "evaluated_at": {
          "name": "evaluated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot": {
          "name": "snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "eligibility_snapshots_biz_id_id_unique": {
          "name": "eligibility_snapshots_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "eligibility_snapshots_biz_member_evaluated_idx": {
          "name": "eligibility_snapshots_biz_member_evaluated_idx",
          "columns": [
            "biz_id",
            "member_user_id",
            "member_group_account_id",
            "evaluated_at"
          ],
          "isUnique": false
        },
        "eligibility_snapshots_biz_outcome_evaluated_idx": {
          "name": "eligibility_snapshots_biz_outcome_evaluated_idx",
          "columns": [
            "biz_id",
            "outcome",
            "evaluated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "eligibility_snapshots_biz_id_bizes_id_fk": {
          "name": "eligibility_snapshots_biz_id_bizes_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_payer_authorization_id_payer_authorizations_id_fk": {
          "name": "eligibility_snapshots_payer_authorization_id_payer_authorizations_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "payer_authorizations",
          "columnsFrom": [
            "payer_authorization_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_member_user_id_users_id_fk": {
          "name": "eligibility_snapshots_member_user_id_users_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "member_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_member_group_account_id_group_accounts_id_fk": {
          "name": "eligibility_snapshots_member_group_account_id_group_accounts_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "member_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_offer_version_id_offer_versions_id_fk": {
          "name": "eligibility_snapshots_offer_version_id_offer_versions_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_service_product_id_service_products_id_fk": {
          "name": "eligibility_snapshots_service_product_id_service_products_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_booking_order_id_booking_orders_id_fk": {
          "name": "eligibility_snapshots_booking_order_id_booking_orders_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_created_by_users_id_fk": {
          "name": "eligibility_snapshots_created_by_users_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_updated_by_users_id_fk": {
          "name": "eligibility_snapshots_updated_by_users_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_deleted_by_users_id_fk": {
          "name": "eligibility_snapshots_deleted_by_users_id_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_biz_payer_authorization_fk": {
          "name": "eligibility_snapshots_biz_payer_authorization_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "payer_authorizations",
          "columnsFrom": [
            "biz_id",
            "payer_authorization_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_biz_offer_version_fk": {
          "name": "eligibility_snapshots_biz_offer_version_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_biz_service_product_fk": {
          "name": "eligibility_snapshots_biz_service_product_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_biz_booking_order_fk": {
          "name": "eligibility_snapshots_biz_booking_order_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_biz_member_subject_fk": {
          "name": "eligibility_snapshots_biz_member_subject_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "member_subject_type",
            "member_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "eligibility_snapshots_biz_target_subject_fk": {
          "name": "eligibility_snapshots_biz_target_subject_fk",
          "tableFrom": "eligibility_snapshots",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payer_authorizations": {
      "name": "payer_authorizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "authorization_type": {
          "name": "authorization_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "authorization_state": {
          "name": "authorization_state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "member_user_id": {
          "name": "member_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "member_group_account_id": {
          "name": "member_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "member_subject_type": {
          "name": "member_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "member_subject_id": {
          "name": "member_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "payer_name": {
          "name": "payer_name",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": true
        },
        "payer_reference": {
          "name": "payer_reference",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "member_reference": {
          "name": "member_reference",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "plan_reference": {
          "name": "plan_reference",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "offer_version_id": {
          "name": "offer_version_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_product_id": {
          "name": "service_product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_type": {
          "name": "target_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "target_subject_id": {
          "name": "target_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "authorized_amount_minor": {
          "name": "authorized_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "authorized_units": {
          "name": "authorized_units",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "external_authorization_ref": {
          "name": "external_authorization_ref",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "decision_snapshot": {
          "name": "decision_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payer_authorizations_biz_id_id_unique": {
          "name": "payer_authorizations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "payer_authorizations_external_ref_unique": {
          "name": "payer_authorizations_external_ref_unique",
          "columns": [
            "biz_id",
            "external_authorization_ref"
          ],
          "isUnique": true
        },
        "payer_authorizations_biz_state_requested_idx": {
          "name": "payer_authorizations_biz_state_requested_idx",
          "columns": [
            "biz_id",
            "authorization_state",
            "requested_at"
          ],
          "isUnique": false
        },
        "payer_authorizations_biz_member_user_idx": {
          "name": "payer_authorizations_biz_member_user_idx",
          "columns": [
            "biz_id",
            "member_user_id",
            "authorization_state",
            "requested_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payer_authorizations_biz_id_bizes_id_fk": {
          "name": "payer_authorizations_biz_id_bizes_id_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_member_user_id_users_id_fk": {
          "name": "payer_authorizations_member_user_id_users_id_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "member_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_member_group_account_id_group_accounts_id_fk": {
          "name": "payer_authorizations_member_group_account_id_group_accounts_id_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "member_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_offer_version_id_offer_versions_id_fk": {
          "name": "payer_authorizations_offer_version_id_offer_versions_id_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "offer_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_service_product_id_service_products_id_fk": {
          "name": "payer_authorizations_service_product_id_service_products_id_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "service_products",
          "columnsFrom": [
            "service_product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_booking_order_id_booking_orders_id_fk": {
          "name": "payer_authorizations_booking_order_id_booking_orders_id_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_created_by_users_id_fk": {
          "name": "payer_authorizations_created_by_users_id_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_updated_by_users_id_fk": {
          "name": "payer_authorizations_updated_by_users_id_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_deleted_by_users_id_fk": {
          "name": "payer_authorizations_deleted_by_users_id_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_biz_offer_version_fk": {
          "name": "payer_authorizations_biz_offer_version_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "offer_versions",
          "columnsFrom": [
            "biz_id",
            "offer_version_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_biz_service_product_fk": {
          "name": "payer_authorizations_biz_service_product_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "service_products",
          "columnsFrom": [
            "biz_id",
            "service_product_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_biz_booking_order_fk": {
          "name": "payer_authorizations_biz_booking_order_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_biz_member_subject_fk": {
          "name": "payer_authorizations_biz_member_subject_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "member_subject_type",
            "member_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "payer_authorizations_biz_target_subject_fk": {
          "name": "payer_authorizations_biz_target_subject_fk",
          "tableFrom": "payer_authorizations",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "target_subject_type",
            "target_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fulfillment_transfer_events": {
      "name": "fulfillment_transfer_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fulfillment_transfer_request_id": {
          "name": "fulfillment_transfer_request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "event_at": {
          "name": "event_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fulfillment_transfer_events_biz_id_id_unique": {
          "name": "fulfillment_transfer_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fulfillment_transfer_events_biz_request_event_at_idx": {
          "name": "fulfillment_transfer_events_biz_request_event_at_idx",
          "columns": [
            "biz_id",
            "fulfillment_transfer_request_id",
            "event_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fulfillment_transfer_events_biz_id_bizes_id_fk": {
          "name": "fulfillment_transfer_events_biz_id_bizes_id_fk",
          "tableFrom": "fulfillment_transfer_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_events_fulfillment_transfer_request_id_fulfillment_transfer_requests_id_fk": {
          "name": "fulfillment_transfer_events_fulfillment_transfer_request_id_fulfillment_transfer_requests_id_fk",
          "tableFrom": "fulfillment_transfer_events",
          "tableTo": "fulfillment_transfer_requests",
          "columnsFrom": [
            "fulfillment_transfer_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_events_actor_user_id_users_id_fk": {
          "name": "fulfillment_transfer_events_actor_user_id_users_id_fk",
          "tableFrom": "fulfillment_transfer_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_events_created_by_users_id_fk": {
          "name": "fulfillment_transfer_events_created_by_users_id_fk",
          "tableFrom": "fulfillment_transfer_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_events_updated_by_users_id_fk": {
          "name": "fulfillment_transfer_events_updated_by_users_id_fk",
          "tableFrom": "fulfillment_transfer_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_events_deleted_by_users_id_fk": {
          "name": "fulfillment_transfer_events_deleted_by_users_id_fk",
          "tableFrom": "fulfillment_transfer_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_events_biz_request_fk": {
          "name": "fulfillment_transfer_events_biz_request_fk",
          "tableFrom": "fulfillment_transfer_events",
          "tableTo": "fulfillment_transfer_requests",
          "columnsFrom": [
            "biz_id",
            "fulfillment_transfer_request_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fulfillment_transfer_requests": {
      "name": "fulfillment_transfer_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_subject_type": {
          "name": "source_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "source_subject_id": {
          "name": "source_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_line_id": {
          "name": "booking_order_line_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fulfillment_unit_id": {
          "name": "fulfillment_unit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_user_id": {
          "name": "from_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_group_account_id": {
          "name": "from_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "from_subject_type": {
          "name": "from_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "from_subject_id": {
          "name": "from_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "to_user_id": {
          "name": "to_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_group_account_id": {
          "name": "to_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_subject_type": {
          "name": "to_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "to_subject_id": {
          "name": "to_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_state": {
          "name": "transfer_state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "transfer_mode": {
          "name": "transfer_mode",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'approval_required'"
        },
        "fee_amount_minor": {
          "name": "fee_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by_user_id": {
          "name": "requested_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "decided_by_user_id": {
          "name": "decided_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason_note": {
          "name": "reason_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "fulfillment_transfer_requests_biz_id_id_unique": {
          "name": "fulfillment_transfer_requests_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "fulfillment_transfer_requests_biz_state_expiry_idx": {
          "name": "fulfillment_transfer_requests_biz_state_expiry_idx",
          "columns": [
            "biz_id",
            "transfer_state",
            "expires_at"
          ],
          "isUnique": false
        },
        "fulfillment_transfer_requests_biz_from_user_state_idx": {
          "name": "fulfillment_transfer_requests_biz_from_user_state_idx",
          "columns": [
            "biz_id",
            "from_user_id",
            "transfer_state",
            "requested_at"
          ],
          "isUnique": false
        },
        "fulfillment_transfer_requests_biz_to_user_state_idx": {
          "name": "fulfillment_transfer_requests_biz_to_user_state_idx",
          "columns": [
            "biz_id",
            "to_user_id",
            "transfer_state",
            "requested_at"
          ],
          "isUnique": false
        },
        "fulfillment_transfer_requests_active_source_unique": {
          "name": "fulfillment_transfer_requests_active_source_unique",
          "columns": [
            "biz_id",
            "source_subject_type",
            "source_subject_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "fulfillment_transfer_requests_biz_id_bizes_id_fk": {
          "name": "fulfillment_transfer_requests_biz_id_bizes_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_booking_order_id_booking_orders_id_fk": {
          "name": "fulfillment_transfer_requests_booking_order_id_booking_orders_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_booking_order_line_id_booking_order_lines_id_fk": {
          "name": "fulfillment_transfer_requests_booking_order_line_id_booking_order_lines_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "booking_order_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_fulfillment_unit_id_fulfillment_units_id_fk": {
          "name": "fulfillment_transfer_requests_fulfillment_unit_id_fulfillment_units_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_from_user_id_users_id_fk": {
          "name": "fulfillment_transfer_requests_from_user_id_users_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "users",
          "columnsFrom": [
            "from_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_from_group_account_id_group_accounts_id_fk": {
          "name": "fulfillment_transfer_requests_from_group_account_id_group_accounts_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "from_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_to_user_id_users_id_fk": {
          "name": "fulfillment_transfer_requests_to_user_id_users_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "users",
          "columnsFrom": [
            "to_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_to_group_account_id_group_accounts_id_fk": {
          "name": "fulfillment_transfer_requests_to_group_account_id_group_accounts_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "to_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_payment_transaction_id_payment_transactions_id_fk": {
          "name": "fulfillment_transfer_requests_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_requested_by_user_id_users_id_fk": {
          "name": "fulfillment_transfer_requests_requested_by_user_id_users_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_decided_by_user_id_users_id_fk": {
          "name": "fulfillment_transfer_requests_decided_by_user_id_users_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "users",
          "columnsFrom": [
            "decided_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_created_by_users_id_fk": {
          "name": "fulfillment_transfer_requests_created_by_users_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_updated_by_users_id_fk": {
          "name": "fulfillment_transfer_requests_updated_by_users_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_deleted_by_users_id_fk": {
          "name": "fulfillment_transfer_requests_deleted_by_users_id_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_biz_source_subject_fk": {
          "name": "fulfillment_transfer_requests_biz_source_subject_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "source_subject_type",
            "source_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_biz_booking_order_fk": {
          "name": "fulfillment_transfer_requests_biz_booking_order_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_biz_booking_order_line_fk": {
          "name": "fulfillment_transfer_requests_biz_booking_order_line_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "booking_order_lines",
          "columnsFrom": [
            "biz_id",
            "booking_order_line_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_biz_fulfillment_unit_fk": {
          "name": "fulfillment_transfer_requests_biz_fulfillment_unit_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "fulfillment_units",
          "columnsFrom": [
            "biz_id",
            "fulfillment_unit_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_biz_payment_transaction_fk": {
          "name": "fulfillment_transfer_requests_biz_payment_transaction_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_biz_from_group_account_fk": {
          "name": "fulfillment_transfer_requests_biz_from_group_account_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "biz_id",
            "from_group_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_biz_to_group_account_fk": {
          "name": "fulfillment_transfer_requests_biz_to_group_account_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "biz_id",
            "to_group_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_biz_from_subject_fk": {
          "name": "fulfillment_transfer_requests_biz_from_subject_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "from_subject_type",
            "from_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fulfillment_transfer_requests_biz_to_subject_fk": {
          "name": "fulfillment_transfer_requests_biz_to_subject_fk",
          "tableFrom": "fulfillment_transfer_requests",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "to_subject_type",
            "to_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "shipment_generated_items": {
      "name": "shipment_generated_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "shipment_generation_run_id": {
          "name": "shipment_generation_run_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "shipment_schedule_id": {
          "name": "shipment_schedule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "occurrence_at": {
          "name": "occurrence_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "item_state": {
          "name": "item_state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'generated'"
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "physical_fulfillment_id": {
          "name": "physical_fulfillment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "shipment_generated_items_biz_id_id_unique": {
          "name": "shipment_generated_items_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "shipment_generated_items_run_occurrence_unique": {
          "name": "shipment_generated_items_run_occurrence_unique",
          "columns": [
            "shipment_generation_run_id",
            "occurrence_at"
          ],
          "isUnique": true
        },
        "shipment_generated_items_biz_schedule_occurrence_idx": {
          "name": "shipment_generated_items_biz_schedule_occurrence_idx",
          "columns": [
            "biz_id",
            "shipment_schedule_id",
            "occurrence_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "shipment_generated_items_biz_id_bizes_id_fk": {
          "name": "shipment_generated_items_biz_id_bizes_id_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_shipment_generation_run_id_shipment_generation_runs_id_fk": {
          "name": "shipment_generated_items_shipment_generation_run_id_shipment_generation_runs_id_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "shipment_generation_runs",
          "columnsFrom": [
            "shipment_generation_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_shipment_schedule_id_shipment_schedules_id_fk": {
          "name": "shipment_generated_items_shipment_schedule_id_shipment_schedules_id_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "shipment_schedules",
          "columnsFrom": [
            "shipment_schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_booking_order_id_booking_orders_id_fk": {
          "name": "shipment_generated_items_booking_order_id_booking_orders_id_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_physical_fulfillment_id_physical_fulfillments_id_fk": {
          "name": "shipment_generated_items_physical_fulfillment_id_physical_fulfillments_id_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "physical_fulfillments",
          "columnsFrom": [
            "physical_fulfillment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_created_by_users_id_fk": {
          "name": "shipment_generated_items_created_by_users_id_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_updated_by_users_id_fk": {
          "name": "shipment_generated_items_updated_by_users_id_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_deleted_by_users_id_fk": {
          "name": "shipment_generated_items_deleted_by_users_id_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_biz_run_fk": {
          "name": "shipment_generated_items_biz_run_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "shipment_generation_runs",
          "columnsFrom": [
            "biz_id",
            "shipment_generation_run_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_biz_schedule_fk": {
          "name": "shipment_generated_items_biz_schedule_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "shipment_schedules",
          "columnsFrom": [
            "biz_id",
            "shipment_schedule_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_biz_booking_order_fk": {
          "name": "shipment_generated_items_biz_booking_order_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generated_items_biz_physical_fulfillment_fk": {
          "name": "shipment_generated_items_biz_physical_fulfillment_fk",
          "tableFrom": "shipment_generated_items",
          "tableTo": "physical_fulfillments",
          "columnsFrom": [
            "biz_id",
            "physical_fulfillment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "shipment_generation_runs": {
      "name": "shipment_generation_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "shipment_schedule_id": {
          "name": "shipment_schedule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "run_state": {
          "name": "run_state",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "window_starts_at": {
          "name": "window_starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "window_ends_at": {
          "name": "window_ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_for_at": {
          "name": "scheduled_for_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "generated_count": {
          "name": "generated_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "skipped_count": {
          "name": "skipped_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_count": {
          "name": "failed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "error_summary": {
          "name": "error_summary",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "shipment_generation_runs_biz_id_id_unique": {
          "name": "shipment_generation_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "shipment_generation_runs_idempotency_unique": {
          "name": "shipment_generation_runs_idempotency_unique",
          "columns": [
            "biz_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "shipment_generation_runs_biz_state_started_idx": {
          "name": "shipment_generation_runs_biz_state_started_idx",
          "columns": [
            "biz_id",
            "run_state",
            "started_at"
          ],
          "isUnique": false
        },
        "shipment_generation_runs_biz_schedule_window_idx": {
          "name": "shipment_generation_runs_biz_schedule_window_idx",
          "columns": [
            "biz_id",
            "shipment_schedule_id",
            "window_starts_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "shipment_generation_runs_biz_id_bizes_id_fk": {
          "name": "shipment_generation_runs_biz_id_bizes_id_fk",
          "tableFrom": "shipment_generation_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generation_runs_shipment_schedule_id_shipment_schedules_id_fk": {
          "name": "shipment_generation_runs_shipment_schedule_id_shipment_schedules_id_fk",
          "tableFrom": "shipment_generation_runs",
          "tableTo": "shipment_schedules",
          "columnsFrom": [
            "shipment_schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generation_runs_created_by_users_id_fk": {
          "name": "shipment_generation_runs_created_by_users_id_fk",
          "tableFrom": "shipment_generation_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generation_runs_updated_by_users_id_fk": {
          "name": "shipment_generation_runs_updated_by_users_id_fk",
          "tableFrom": "shipment_generation_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generation_runs_deleted_by_users_id_fk": {
          "name": "shipment_generation_runs_deleted_by_users_id_fk",
          "tableFrom": "shipment_generation_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_generation_runs_biz_schedule_fk": {
          "name": "shipment_generation_runs_biz_schedule_fk",
          "tableFrom": "shipment_generation_runs",
          "tableTo": "shipment_schedules",
          "columnsFrom": [
            "biz_id",
            "shipment_schedule_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "shipment_schedules": {
      "name": "shipment_schedules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "recipient_user_id": {
          "name": "recipient_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_group_account_id": {
          "name": "recipient_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_subject_type": {
          "name": "recipient_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_subject_id": {
          "name": "recipient_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "membership_id": {
          "name": "membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "inventory_location_id": {
          "name": "inventory_location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "recurrence_mode": {
          "name": "recurrence_mode",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'interval'"
        },
        "interval_count": {
          "name": "interval_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "interval_unit": {
          "name": "interval_unit",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "recurrence_rule_text": {
          "name": "recurrence_rule_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generation_lead_minutes": {
          "name": "generation_lead_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "generation_window_minutes": {
          "name": "generation_window_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 120
        },
        "max_occurrences": {
          "name": "max_occurrences",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "generated_occurrences": {
          "name": "generated_occurrences",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "starts_at": {
          "name": "starts_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "ends_at": {
          "name": "ends_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_generated_at": {
          "name": "last_generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_generation_at": {
          "name": "next_generation_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "shipment_schedules_biz_id_id_unique": {
          "name": "shipment_schedules_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "shipment_schedules_biz_slug_unique": {
          "name": "shipment_schedules_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "shipment_schedules_biz_status_next_gen_idx": {
          "name": "shipment_schedules_biz_status_next_gen_idx",
          "columns": [
            "biz_id",
            "status",
            "next_generation_at"
          ],
          "isUnique": false
        },
        "shipment_schedules_biz_recipient_idx": {
          "name": "shipment_schedules_biz_recipient_idx",
          "columns": [
            "biz_id",
            "recipient_user_id",
            "status",
            "starts_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "shipment_schedules_biz_id_bizes_id_fk": {
          "name": "shipment_schedules_biz_id_bizes_id_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_recipient_user_id_users_id_fk": {
          "name": "shipment_schedules_recipient_user_id_users_id_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "users",
          "columnsFrom": [
            "recipient_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_recipient_group_account_id_group_accounts_id_fk": {
          "name": "shipment_schedules_recipient_group_account_id_group_accounts_id_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "recipient_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_sellable_id_sellables_id_fk": {
          "name": "shipment_schedules_sellable_id_sellables_id_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_membership_id_memberships_id_fk": {
          "name": "shipment_schedules_membership_id_memberships_id_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "memberships",
          "columnsFrom": [
            "membership_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_inventory_location_id_inventory_locations_id_fk": {
          "name": "shipment_schedules_inventory_location_id_inventory_locations_id_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "inventory_location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_created_by_users_id_fk": {
          "name": "shipment_schedules_created_by_users_id_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_updated_by_users_id_fk": {
          "name": "shipment_schedules_updated_by_users_id_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_deleted_by_users_id_fk": {
          "name": "shipment_schedules_deleted_by_users_id_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_biz_recipient_subject_fk": {
          "name": "shipment_schedules_biz_recipient_subject_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "recipient_subject_type",
            "recipient_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_biz_sellable_fk": {
          "name": "shipment_schedules_biz_sellable_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_biz_membership_fk": {
          "name": "shipment_schedules_biz_membership_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "memberships",
          "columnsFrom": [
            "biz_id",
            "membership_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shipment_schedules_biz_inventory_location_fk": {
          "name": "shipment_schedules_biz_inventory_location_fk",
          "tableFrom": "shipment_schedules",
          "tableTo": "inventory_locations",
          "columnsFrom": [
            "biz_id",
            "inventory_location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "session_interaction_artifacts": {
      "name": "session_interaction_artifacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_interaction_event_id": {
          "name": "session_interaction_event_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "artifact_type": {
          "name": "artifact_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "visibility": {
          "name": "visibility",
          "type": "session_interaction_visibility",
          "primaryKey": false,
          "notNull": true,
          "default": "'public'"
        },
        "label": {
          "name": "label",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "storage_provider": {
          "name": "storage_provider",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'s3'"
        },
        "storage_key": {
          "name": "storage_key",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "byte_size": {
          "name": "byte_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "checksum": {
          "name": "checksum",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by_user_id": {
          "name": "uploaded_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by_subject_type": {
          "name": "uploaded_by_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by_subject_id": {
          "name": "uploaded_by_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at_source": {
          "name": "created_at_source",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "redacted_at": {
          "name": "redacted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "session_interaction_artifacts_biz_id_id_unique": {
          "name": "session_interaction_artifacts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "session_interaction_artifacts_biz_storage_unique": {
          "name": "session_interaction_artifacts_biz_storage_unique",
          "columns": [
            "biz_id",
            "storage_provider",
            "storage_key"
          ],
          "isUnique": true
        },
        "session_interaction_artifacts_biz_event_status_idx": {
          "name": "session_interaction_artifacts_biz_event_status_idx",
          "columns": [
            "biz_id",
            "session_interaction_event_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "session_interaction_artifacts_biz_id_bizes_id_fk": {
          "name": "session_interaction_artifacts_biz_id_bizes_id_fk",
          "tableFrom": "session_interaction_artifacts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_artifacts_session_interaction_event_id_session_interaction_events_id_fk": {
          "name": "session_interaction_artifacts_session_interaction_event_id_session_interaction_events_id_fk",
          "tableFrom": "session_interaction_artifacts",
          "tableTo": "session_interaction_events",
          "columnsFrom": [
            "session_interaction_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_artifacts_uploaded_by_user_id_users_id_fk": {
          "name": "session_interaction_artifacts_uploaded_by_user_id_users_id_fk",
          "tableFrom": "session_interaction_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_artifacts_created_by_users_id_fk": {
          "name": "session_interaction_artifacts_created_by_users_id_fk",
          "tableFrom": "session_interaction_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_artifacts_updated_by_users_id_fk": {
          "name": "session_interaction_artifacts_updated_by_users_id_fk",
          "tableFrom": "session_interaction_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_artifacts_deleted_by_users_id_fk": {
          "name": "session_interaction_artifacts_deleted_by_users_id_fk",
          "tableFrom": "session_interaction_artifacts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_artifacts_biz_event_fk": {
          "name": "session_interaction_artifacts_biz_event_fk",
          "tableFrom": "session_interaction_artifacts",
          "tableTo": "session_interaction_events",
          "columnsFrom": [
            "biz_id",
            "session_interaction_event_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "session_interaction_artifacts_biz_uploader_subject_fk": {
          "name": "session_interaction_artifacts_biz_uploader_subject_fk",
          "tableFrom": "session_interaction_artifacts",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "uploaded_by_subject_type",
            "uploaded_by_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "gift_delivery_attempts": {
      "name": "gift_delivery_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gift_delivery_schedule_id": {
          "name": "gift_delivery_schedule_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "attempt_no": {
          "name": "attempt_no",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel": {
          "name": "channel",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true
        },
        "attempted_at": {
          "name": "attempted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_message_ref": {
          "name": "provider_message_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "outbound_message_id": {
          "name": "outbound_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "gift_delivery_attempts_biz_id_id_unique": {
          "name": "gift_delivery_attempts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "gift_delivery_attempts_schedule_attempt_unique": {
          "name": "gift_delivery_attempts_schedule_attempt_unique",
          "columns": [
            "gift_delivery_schedule_id",
            "attempt_no"
          ],
          "isUnique": true
        },
        "gift_delivery_attempts_biz_status_attempted_idx": {
          "name": "gift_delivery_attempts_biz_status_attempted_idx",
          "columns": [
            "biz_id",
            "status",
            "attempted_at"
          ],
          "isUnique": false
        },
        "gift_delivery_attempts_biz_status_config_attempted_idx": {
          "name": "gift_delivery_attempts_biz_status_config_attempted_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "attempted_at"
          ],
          "isUnique": false
        },
        "gift_delivery_attempts_biz_schedule_attempted_idx": {
          "name": "gift_delivery_attempts_biz_schedule_attempted_idx",
          "columns": [
            "biz_id",
            "gift_delivery_schedule_id",
            "attempted_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "gift_delivery_attempts_biz_id_bizes_id_fk": {
          "name": "gift_delivery_attempts_biz_id_bizes_id_fk",
          "tableFrom": "gift_delivery_attempts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_attempts_gift_delivery_schedule_id_gift_delivery_schedules_id_fk": {
          "name": "gift_delivery_attempts_gift_delivery_schedule_id_gift_delivery_schedules_id_fk",
          "tableFrom": "gift_delivery_attempts",
          "tableTo": "gift_delivery_schedules",
          "columnsFrom": [
            "gift_delivery_schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_attempts_outbound_message_id_outbound_messages_id_fk": {
          "name": "gift_delivery_attempts_outbound_message_id_outbound_messages_id_fk",
          "tableFrom": "gift_delivery_attempts",
          "tableTo": "outbound_messages",
          "columnsFrom": [
            "outbound_message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_attempts_created_by_users_id_fk": {
          "name": "gift_delivery_attempts_created_by_users_id_fk",
          "tableFrom": "gift_delivery_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_attempts_updated_by_users_id_fk": {
          "name": "gift_delivery_attempts_updated_by_users_id_fk",
          "tableFrom": "gift_delivery_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_attempts_deleted_by_users_id_fk": {
          "name": "gift_delivery_attempts_deleted_by_users_id_fk",
          "tableFrom": "gift_delivery_attempts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_attempts_biz_schedule_fk": {
          "name": "gift_delivery_attempts_biz_schedule_fk",
          "tableFrom": "gift_delivery_attempts",
          "tableTo": "gift_delivery_schedules",
          "columnsFrom": [
            "biz_id",
            "gift_delivery_schedule_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_attempts_biz_outbound_message_fk": {
          "name": "gift_delivery_attempts_biz_outbound_message_fk",
          "tableFrom": "gift_delivery_attempts",
          "tableTo": "outbound_messages",
          "columnsFrom": [
            "biz_id",
            "outbound_message_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_attempts_biz_status_config_fk": {
          "name": "gift_delivery_attempts_biz_status_config_fk",
          "tableFrom": "gift_delivery_attempts",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "gift_delivery_schedules": {
      "name": "gift_delivery_schedules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gift_instrument_id": {
          "name": "gift_instrument_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_name": {
          "name": "recipient_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_channel": {
          "name": "recipient_channel",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_address": {
          "name": "recipient_address",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_locale": {
          "name": "recipient_locale",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'UTC'"
        },
        "send_at": {
          "name": "send_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "not_before_at": {
          "name": "not_before_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "message_subject": {
          "name": "message_subject",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": false
        },
        "message_body": {
          "name": "message_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "message_template_id": {
          "name": "message_template_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outbound_message_id": {
          "name": "outbound_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "delivery_policy": {
          "name": "delivery_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "gift_delivery_schedules_biz_id_id_unique": {
          "name": "gift_delivery_schedules_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "gift_delivery_schedules_gift_send_unique": {
          "name": "gift_delivery_schedules_gift_send_unique",
          "columns": [
            "gift_instrument_id",
            "send_at"
          ],
          "isUnique": true
        },
        "gift_delivery_schedules_biz_status_send_idx": {
          "name": "gift_delivery_schedules_biz_status_send_idx",
          "columns": [
            "biz_id",
            "status",
            "send_at"
          ],
          "isUnique": false
        },
        "gift_delivery_schedules_biz_status_config_send_idx": {
          "name": "gift_delivery_schedules_biz_status_config_send_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "send_at"
          ],
          "isUnique": false
        },
        "gift_delivery_schedules_biz_gift_send_idx": {
          "name": "gift_delivery_schedules_biz_gift_send_idx",
          "columns": [
            "biz_id",
            "gift_instrument_id",
            "send_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "gift_delivery_schedules_biz_id_bizes_id_fk": {
          "name": "gift_delivery_schedules_biz_id_bizes_id_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_gift_instrument_id_gift_instruments_id_fk": {
          "name": "gift_delivery_schedules_gift_instrument_id_gift_instruments_id_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "gift_instrument_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_message_template_id_message_templates_id_fk": {
          "name": "gift_delivery_schedules_message_template_id_message_templates_id_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "message_templates",
          "columnsFrom": [
            "message_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_outbound_message_id_outbound_messages_id_fk": {
          "name": "gift_delivery_schedules_outbound_message_id_outbound_messages_id_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "outbound_messages",
          "columnsFrom": [
            "outbound_message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_created_by_users_id_fk": {
          "name": "gift_delivery_schedules_created_by_users_id_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_updated_by_users_id_fk": {
          "name": "gift_delivery_schedules_updated_by_users_id_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_deleted_by_users_id_fk": {
          "name": "gift_delivery_schedules_deleted_by_users_id_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_biz_gift_fk": {
          "name": "gift_delivery_schedules_biz_gift_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "gift_instruments",
          "columnsFrom": [
            "biz_id",
            "gift_instrument_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_biz_template_fk": {
          "name": "gift_delivery_schedules_biz_template_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "message_templates",
          "columnsFrom": [
            "biz_id",
            "message_template_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_biz_outbound_message_fk": {
          "name": "gift_delivery_schedules_biz_outbound_message_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "outbound_messages",
          "columnsFrom": [
            "biz_id",
            "outbound_message_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "gift_delivery_schedules_biz_status_config_fk": {
          "name": "gift_delivery_schedules_biz_status_config_fk",
          "tableFrom": "gift_delivery_schedules",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "ad_spend_daily_facts": {
      "name": "ad_spend_daily_facts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fact_date": {
          "name": "fact_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "channel_account_id": {
          "name": "channel_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_account_ref": {
          "name": "provider_account_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "provider_account_name": {
          "name": "provider_account_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_ref": {
          "name": "campaign_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_name": {
          "name": "campaign_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "ad_group_ref": {
          "name": "ad_group_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "ad_group_name": {
          "name": "ad_group_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "ad_ref": {
          "name": "ad_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "ad_name": {
          "name": "ad_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "impressions": {
          "name": "impressions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "clicks": {
          "name": "clicks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "conversions": {
          "name": "conversions",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "spend_minor": {
          "name": "spend_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "conversion_value_minor": {
          "name": "conversion_value_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "attributed_revenue_minor": {
          "name": "attributed_revenue_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ad_spend_daily_facts_biz_id_id_unique": {
          "name": "ad_spend_daily_facts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "ad_spend_daily_facts_slice_unique": {
          "name": "ad_spend_daily_facts_slice_unique",
          "columns": [
            "biz_id",
            "fact_date",
            "provider",
            "provider_account_ref",
            "campaign_ref",
            "ad_group_ref",
            "ad_ref",
            "currency"
          ],
          "isUnique": true
        },
        "ad_spend_daily_facts_biz_date_provider_idx": {
          "name": "ad_spend_daily_facts_biz_date_provider_idx",
          "columns": [
            "biz_id",
            "fact_date",
            "provider"
          ],
          "isUnique": false
        },
        "ad_spend_daily_facts_biz_campaign_date_idx": {
          "name": "ad_spend_daily_facts_biz_campaign_date_idx",
          "columns": [
            "biz_id",
            "campaign_ref",
            "fact_date"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ad_spend_daily_facts_biz_id_bizes_id_fk": {
          "name": "ad_spend_daily_facts_biz_id_bizes_id_fk",
          "tableFrom": "ad_spend_daily_facts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ad_spend_daily_facts_channel_account_id_channel_accounts_id_fk": {
          "name": "ad_spend_daily_facts_channel_account_id_channel_accounts_id_fk",
          "tableFrom": "ad_spend_daily_facts",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "channel_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ad_spend_daily_facts_created_by_users_id_fk": {
          "name": "ad_spend_daily_facts_created_by_users_id_fk",
          "tableFrom": "ad_spend_daily_facts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ad_spend_daily_facts_updated_by_users_id_fk": {
          "name": "ad_spend_daily_facts_updated_by_users_id_fk",
          "tableFrom": "ad_spend_daily_facts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ad_spend_daily_facts_deleted_by_users_id_fk": {
          "name": "ad_spend_daily_facts_deleted_by_users_id_fk",
          "tableFrom": "ad_spend_daily_facts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ad_spend_daily_facts_biz_channel_account_fk": {
          "name": "ad_spend_daily_facts_biz_channel_account_fk",
          "tableFrom": "ad_spend_daily_facts",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "biz_id",
            "channel_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "marketing_audience_segment_memberships": {
      "name": "marketing_audience_segment_memberships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "marketing_audience_segment_id": {
          "name": "marketing_audience_segment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "member_crm_contact_id": {
          "name": "member_crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "member_subject_type": {
          "name": "member_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "member_subject_id": {
          "name": "member_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'rule'"
        },
        "source_ref": {
          "name": "source_ref",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": false
        },
        "score": {
          "name": "score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "added_at": {
          "name": "added_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "removed_at": {
          "name": "removed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "marketing_audience_segment_memberships_biz_id_id_unique": {
          "name": "marketing_audience_segment_memberships_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "marketing_audience_segment_memberships_active_contact_unique": {
          "name": "marketing_audience_segment_memberships_active_contact_unique",
          "columns": [
            "biz_id",
            "marketing_audience_segment_id",
            "member_crm_contact_id"
          ],
          "isUnique": true
        },
        "marketing_audience_segment_memberships_active_subject_unique": {
          "name": "marketing_audience_segment_memberships_active_subject_unique",
          "columns": [
            "biz_id",
            "marketing_audience_segment_id",
            "member_subject_type",
            "member_subject_id"
          ],
          "isUnique": true
        },
        "marketing_audience_segment_memberships_biz_segment_status_idx": {
          "name": "marketing_audience_segment_memberships_biz_segment_status_idx",
          "columns": [
            "biz_id",
            "marketing_audience_segment_id",
            "status",
            "added_at"
          ],
          "isUnique": false
        },
        "marketing_audience_segment_memberships_biz_member_idx": {
          "name": "marketing_audience_segment_memberships_biz_member_idx",
          "columns": [
            "biz_id",
            "member_crm_contact_id",
            "member_subject_type",
            "member_subject_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "marketing_audience_segment_memberships_biz_id_bizes_id_fk": {
          "name": "marketing_audience_segment_memberships_biz_id_bizes_id_fk",
          "tableFrom": "marketing_audience_segment_memberships",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segment_memberships_marketing_audience_segment_id_marketing_audience_segments_id_fk": {
          "name": "marketing_audience_segment_memberships_marketing_audience_segment_id_marketing_audience_segments_id_fk",
          "tableFrom": "marketing_audience_segment_memberships",
          "tableTo": "marketing_audience_segments",
          "columnsFrom": [
            "marketing_audience_segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segment_memberships_member_crm_contact_id_crm_contacts_id_fk": {
          "name": "marketing_audience_segment_memberships_member_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "marketing_audience_segment_memberships",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "member_crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segment_memberships_created_by_users_id_fk": {
          "name": "marketing_audience_segment_memberships_created_by_users_id_fk",
          "tableFrom": "marketing_audience_segment_memberships",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segment_memberships_updated_by_users_id_fk": {
          "name": "marketing_audience_segment_memberships_updated_by_users_id_fk",
          "tableFrom": "marketing_audience_segment_memberships",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segment_memberships_deleted_by_users_id_fk": {
          "name": "marketing_audience_segment_memberships_deleted_by_users_id_fk",
          "tableFrom": "marketing_audience_segment_memberships",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segment_memberships_biz_segment_fk": {
          "name": "marketing_audience_segment_memberships_biz_segment_fk",
          "tableFrom": "marketing_audience_segment_memberships",
          "tableTo": "marketing_audience_segments",
          "columnsFrom": [
            "biz_id",
            "marketing_audience_segment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segment_memberships_biz_contact_fk": {
          "name": "marketing_audience_segment_memberships_biz_contact_fk",
          "tableFrom": "marketing_audience_segment_memberships",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "member_crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segment_memberships_biz_subject_fk": {
          "name": "marketing_audience_segment_memberships_biz_subject_fk",
          "tableFrom": "marketing_audience_segment_memberships",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "member_subject_type",
            "member_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "marketing_audience_segments": {
      "name": "marketing_audience_segments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "segment_type": {
          "name": "segment_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'dynamic'"
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'rule'"
        },
        "graph_audience_segment_id": {
          "name": "graph_audience_segment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "definition": {
          "name": "definition",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "last_materialized_at": {
          "name": "last_materialized_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "member_count": {
          "name": "member_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "marketing_audience_segments_biz_id_id_unique": {
          "name": "marketing_audience_segments_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "marketing_audience_segments_biz_slug_unique": {
          "name": "marketing_audience_segments_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "marketing_audience_segments_biz_status_type_idx": {
          "name": "marketing_audience_segments_biz_status_type_idx",
          "columns": [
            "biz_id",
            "status",
            "segment_type"
          ],
          "isUnique": false
        },
        "marketing_audience_segments_biz_source_type_idx": {
          "name": "marketing_audience_segments_biz_source_type_idx",
          "columns": [
            "biz_id",
            "source_type",
            "last_materialized_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "marketing_audience_segments_biz_id_bizes_id_fk": {
          "name": "marketing_audience_segments_biz_id_bizes_id_fk",
          "tableFrom": "marketing_audience_segments",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segments_graph_audience_segment_id_graph_audience_segments_id_fk": {
          "name": "marketing_audience_segments_graph_audience_segment_id_graph_audience_segments_id_fk",
          "tableFrom": "marketing_audience_segments",
          "tableTo": "graph_audience_segments",
          "columnsFrom": [
            "graph_audience_segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segments_created_by_users_id_fk": {
          "name": "marketing_audience_segments_created_by_users_id_fk",
          "tableFrom": "marketing_audience_segments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segments_updated_by_users_id_fk": {
          "name": "marketing_audience_segments_updated_by_users_id_fk",
          "tableFrom": "marketing_audience_segments",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_segments_deleted_by_users_id_fk": {
          "name": "marketing_audience_segments_deleted_by_users_id_fk",
          "tableFrom": "marketing_audience_segments",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "marketing_audience_sync_runs": {
      "name": "marketing_audience_sync_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "marketing_audience_segment_id": {
          "name": "marketing_audience_segment_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel_account_id": {
          "name": "channel_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "external_audience_ref": {
          "name": "external_audience_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "direction": {
          "name": "direction",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'export'"
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_by_user_id": {
          "name": "requested_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "input_count": {
          "name": "input_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "added_count": {
          "name": "added_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "removed_count": {
          "name": "removed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_count": {
          "name": "failed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_summary": {
          "name": "error_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "marketing_audience_sync_runs_biz_id_id_unique": {
          "name": "marketing_audience_sync_runs_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "marketing_audience_sync_runs_biz_status_requested_idx": {
          "name": "marketing_audience_sync_runs_biz_status_requested_idx",
          "columns": [
            "biz_id",
            "status",
            "requested_at"
          ],
          "isUnique": false
        },
        "marketing_audience_sync_runs_biz_status_config_requested_idx": {
          "name": "marketing_audience_sync_runs_biz_status_config_requested_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "requested_at"
          ],
          "isUnique": false
        },
        "marketing_audience_sync_runs_biz_segment_requested_idx": {
          "name": "marketing_audience_sync_runs_biz_segment_requested_idx",
          "columns": [
            "biz_id",
            "marketing_audience_segment_id",
            "requested_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "marketing_audience_sync_runs_biz_id_bizes_id_fk": {
          "name": "marketing_audience_sync_runs_biz_id_bizes_id_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_sync_runs_marketing_audience_segment_id_marketing_audience_segments_id_fk": {
          "name": "marketing_audience_sync_runs_marketing_audience_segment_id_marketing_audience_segments_id_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "marketing_audience_segments",
          "columnsFrom": [
            "marketing_audience_segment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_sync_runs_channel_account_id_channel_accounts_id_fk": {
          "name": "marketing_audience_sync_runs_channel_account_id_channel_accounts_id_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "channel_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_sync_runs_requested_by_user_id_users_id_fk": {
          "name": "marketing_audience_sync_runs_requested_by_user_id_users_id_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "users",
          "columnsFrom": [
            "requested_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_sync_runs_created_by_users_id_fk": {
          "name": "marketing_audience_sync_runs_created_by_users_id_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_sync_runs_updated_by_users_id_fk": {
          "name": "marketing_audience_sync_runs_updated_by_users_id_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_sync_runs_deleted_by_users_id_fk": {
          "name": "marketing_audience_sync_runs_deleted_by_users_id_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_sync_runs_biz_segment_fk": {
          "name": "marketing_audience_sync_runs_biz_segment_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "marketing_audience_segments",
          "columnsFrom": [
            "biz_id",
            "marketing_audience_segment_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_sync_runs_biz_channel_account_fk": {
          "name": "marketing_audience_sync_runs_biz_channel_account_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "biz_id",
            "channel_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "marketing_audience_sync_runs_biz_status_config_fk": {
          "name": "marketing_audience_sync_runs_biz_status_config_fk",
          "tableFrom": "marketing_audience_sync_runs",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "offline_conversion_pushes": {
      "name": "offline_conversion_pushes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel_account_id": {
          "name": "channel_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "conversion_action_ref": {
          "name": "conversion_action_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'queued'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_transaction_id": {
          "name": "payment_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referral_attribution_id": {
          "name": "referral_attribution_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "conversion_at": {
          "name": "conversion_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "conversion_value_minor": {
          "name": "conversion_value_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "external_event_ref": {
          "name": "external_event_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "attempt_count": {
          "name": "attempt_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "offline_conversion_pushes_biz_id_id_unique": {
          "name": "offline_conversion_pushes_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "offline_conversion_pushes_external_ref_unique": {
          "name": "offline_conversion_pushes_external_ref_unique",
          "columns": [
            "biz_id",
            "provider",
            "external_event_ref"
          ],
          "isUnique": true
        },
        "offline_conversion_pushes_biz_status_conversion_idx": {
          "name": "offline_conversion_pushes_biz_status_conversion_idx",
          "columns": [
            "biz_id",
            "status",
            "conversion_at"
          ],
          "isUnique": false
        },
        "offline_conversion_pushes_biz_status_config_conversion_idx": {
          "name": "offline_conversion_pushes_biz_status_config_conversion_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "conversion_at"
          ],
          "isUnique": false
        },
        "offline_conversion_pushes_biz_attribution_idx": {
          "name": "offline_conversion_pushes_biz_attribution_idx",
          "columns": [
            "biz_id",
            "referral_attribution_id",
            "conversion_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "offline_conversion_pushes_biz_id_bizes_id_fk": {
          "name": "offline_conversion_pushes_biz_id_bizes_id_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_channel_account_id_channel_accounts_id_fk": {
          "name": "offline_conversion_pushes_channel_account_id_channel_accounts_id_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "channel_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_booking_order_id_booking_orders_id_fk": {
          "name": "offline_conversion_pushes_booking_order_id_booking_orders_id_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_payment_transaction_id_payment_transactions_id_fk": {
          "name": "offline_conversion_pushes_payment_transaction_id_payment_transactions_id_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "payment_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_referral_attribution_id_referral_attributions_id_fk": {
          "name": "offline_conversion_pushes_referral_attribution_id_referral_attributions_id_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "referral_attributions",
          "columnsFrom": [
            "referral_attribution_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_created_by_users_id_fk": {
          "name": "offline_conversion_pushes_created_by_users_id_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_updated_by_users_id_fk": {
          "name": "offline_conversion_pushes_updated_by_users_id_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_deleted_by_users_id_fk": {
          "name": "offline_conversion_pushes_deleted_by_users_id_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_biz_channel_account_fk": {
          "name": "offline_conversion_pushes_biz_channel_account_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "channel_accounts",
          "columnsFrom": [
            "biz_id",
            "channel_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_biz_booking_order_fk": {
          "name": "offline_conversion_pushes_biz_booking_order_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_biz_payment_transaction_fk": {
          "name": "offline_conversion_pushes_biz_payment_transaction_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "payment_transactions",
          "columnsFrom": [
            "biz_id",
            "payment_transaction_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offline_conversion_pushes_biz_status_config_fk": {
          "name": "offline_conversion_pushes_biz_status_config_fk",
          "tableFrom": "offline_conversion_pushes",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_contact_channels": {
      "name": "crm_contact_channels",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "crm_contact_id": {
          "name": "crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "channel_type": {
          "name": "channel_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true
        },
        "channel_address": {
          "name": "channel_address",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "label": {
          "name": "label",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "opted_out_at": {
          "name": "opted_out_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_contact_channels_biz_id_id_unique": {
          "name": "crm_contact_channels_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_contact_channels_biz_id_id_contact_unique": {
          "name": "crm_contact_channels_biz_id_id_contact_unique",
          "columns": [
            "biz_id",
            "id",
            "crm_contact_id"
          ],
          "isUnique": true
        },
        "crm_contact_channels_endpoint_unique": {
          "name": "crm_contact_channels_endpoint_unique",
          "columns": [
            "biz_id",
            "crm_contact_id",
            "channel_type",
            "channel_address"
          ],
          "isUnique": true
        },
        "crm_contact_channels_primary_unique": {
          "name": "crm_contact_channels_primary_unique",
          "columns": [
            "biz_id",
            "crm_contact_id",
            "channel_type"
          ],
          "isUnique": true
        },
        "crm_contact_channels_biz_contact_status_idx": {
          "name": "crm_contact_channels_biz_contact_status_idx",
          "columns": [
            "biz_id",
            "crm_contact_id",
            "status",
            "channel_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_contact_channels_biz_id_bizes_id_fk": {
          "name": "crm_contact_channels_biz_id_bizes_id_fk",
          "tableFrom": "crm_contact_channels",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contact_channels_crm_contact_id_crm_contacts_id_fk": {
          "name": "crm_contact_channels_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "crm_contact_channels",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contact_channels_created_by_users_id_fk": {
          "name": "crm_contact_channels_created_by_users_id_fk",
          "tableFrom": "crm_contact_channels",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contact_channels_updated_by_users_id_fk": {
          "name": "crm_contact_channels_updated_by_users_id_fk",
          "tableFrom": "crm_contact_channels",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contact_channels_deleted_by_users_id_fk": {
          "name": "crm_contact_channels_deleted_by_users_id_fk",
          "tableFrom": "crm_contact_channels",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contact_channels_biz_contact_fk": {
          "name": "crm_contact_channels_biz_contact_fk",
          "tableFrom": "crm_contact_channels",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_contacts": {
      "name": "crm_contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "contact_type": {
          "name": "contact_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "group_account_id": {
          "name": "group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_contact_ref": {
          "name": "external_contact_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref": {
          "name": "source_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "profile": {
          "name": "profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_contacts_biz_id_id_unique": {
          "name": "crm_contacts_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_contacts_biz_user_unique": {
          "name": "crm_contacts_biz_user_unique",
          "columns": [
            "biz_id",
            "user_id"
          ],
          "isUnique": true
        },
        "crm_contacts_biz_group_unique": {
          "name": "crm_contacts_biz_group_unique",
          "columns": [
            "biz_id",
            "group_account_id"
          ],
          "isUnique": true
        },
        "crm_contacts_biz_external_unique": {
          "name": "crm_contacts_biz_external_unique",
          "columns": [
            "biz_id",
            "external_contact_ref"
          ],
          "isUnique": true
        },
        "crm_contacts_biz_source_unique": {
          "name": "crm_contacts_biz_source_unique",
          "columns": [
            "biz_id",
            "source_type",
            "source_ref"
          ],
          "isUnique": true
        },
        "crm_contacts_biz_status_display_idx": {
          "name": "crm_contacts_biz_status_display_idx",
          "columns": [
            "biz_id",
            "status",
            "display_name",
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_contacts_biz_id_bizes_id_fk": {
          "name": "crm_contacts_biz_id_bizes_id_fk",
          "tableFrom": "crm_contacts",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contacts_user_id_users_id_fk": {
          "name": "crm_contacts_user_id_users_id_fk",
          "tableFrom": "crm_contacts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contacts_group_account_id_group_accounts_id_fk": {
          "name": "crm_contacts_group_account_id_group_accounts_id_fk",
          "tableFrom": "crm_contacts",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contacts_created_by_users_id_fk": {
          "name": "crm_contacts_created_by_users_id_fk",
          "tableFrom": "crm_contacts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contacts_updated_by_users_id_fk": {
          "name": "crm_contacts_updated_by_users_id_fk",
          "tableFrom": "crm_contacts",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contacts_deleted_by_users_id_fk": {
          "name": "crm_contacts_deleted_by_users_id_fk",
          "tableFrom": "crm_contacts",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_contacts_biz_group_account_fk": {
          "name": "crm_contacts_biz_group_account_fk",
          "tableFrom": "crm_contacts",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "biz_id",
            "group_account_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_conversation_messages": {
      "name": "crm_conversation_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "crm_conversation_id": {
          "name": "crm_conversation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "direction": {
          "name": "direction",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'inbound'"
        },
        "sender_crm_contact_id": {
          "name": "sender_crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sender_subject_type": {
          "name": "sender_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "sender_subject_id": {
          "name": "sender_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "sender_display_name": {
          "name": "sender_display_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'received'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occurred_at": {
          "name": "occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "outbound_message_id": {
          "name": "outbound_message_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_message_ref": {
          "name": "provider_message_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_conversation_messages_biz_id_id_unique": {
          "name": "crm_conversation_messages_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_conversation_messages_biz_conversation_occurred_idx": {
          "name": "crm_conversation_messages_biz_conversation_occurred_idx",
          "columns": [
            "biz_id",
            "crm_conversation_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "crm_conversation_messages_biz_status_occurred_idx": {
          "name": "crm_conversation_messages_biz_status_occurred_idx",
          "columns": [
            "biz_id",
            "status",
            "occurred_at"
          ],
          "isUnique": false
        },
        "crm_conversation_messages_biz_status_config_occurred_idx": {
          "name": "crm_conversation_messages_biz_status_config_occurred_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "crm_conversation_messages_biz_sender_contact_idx": {
          "name": "crm_conversation_messages_biz_sender_contact_idx",
          "columns": [
            "biz_id",
            "sender_crm_contact_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "crm_conversation_messages_biz_sender_subject_idx": {
          "name": "crm_conversation_messages_biz_sender_subject_idx",
          "columns": [
            "biz_id",
            "sender_subject_type",
            "sender_subject_id",
            "occurred_at"
          ],
          "isUnique": false
        },
        "crm_conversation_messages_provider_ref_unique": {
          "name": "crm_conversation_messages_provider_ref_unique",
          "columns": [
            "biz_id",
            "provider_message_ref"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "crm_conversation_messages_biz_id_bizes_id_fk": {
          "name": "crm_conversation_messages_biz_id_bizes_id_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_crm_conversation_id_crm_conversations_id_fk": {
          "name": "crm_conversation_messages_crm_conversation_id_crm_conversations_id_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "crm_conversations",
          "columnsFrom": [
            "crm_conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_sender_crm_contact_id_crm_contacts_id_fk": {
          "name": "crm_conversation_messages_sender_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "sender_crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_outbound_message_id_outbound_messages_id_fk": {
          "name": "crm_conversation_messages_outbound_message_id_outbound_messages_id_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "outbound_messages",
          "columnsFrom": [
            "outbound_message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_created_by_users_id_fk": {
          "name": "crm_conversation_messages_created_by_users_id_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_updated_by_users_id_fk": {
          "name": "crm_conversation_messages_updated_by_users_id_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_deleted_by_users_id_fk": {
          "name": "crm_conversation_messages_deleted_by_users_id_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_biz_conversation_fk": {
          "name": "crm_conversation_messages_biz_conversation_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "crm_conversations",
          "columnsFrom": [
            "biz_id",
            "crm_conversation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_biz_outbound_message_fk": {
          "name": "crm_conversation_messages_biz_outbound_message_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "outbound_messages",
          "columnsFrom": [
            "biz_id",
            "outbound_message_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_biz_sender_contact_fk": {
          "name": "crm_conversation_messages_biz_sender_contact_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "sender_crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_biz_sender_subject_fk": {
          "name": "crm_conversation_messages_biz_sender_subject_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "sender_subject_type",
            "sender_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_messages_biz_status_config_fk": {
          "name": "crm_conversation_messages_biz_status_config_fk",
          "tableFrom": "crm_conversation_messages",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_conversation_participants": {
      "name": "crm_conversation_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "crm_conversation_id": {
          "name": "crm_conversation_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "participant_crm_contact_id": {
          "name": "participant_crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participant_subject_type": {
          "name": "participant_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "participant_subject_id": {
          "name": "participant_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'customer'"
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "left_at": {
          "name": "left_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_conversation_participants_biz_id_id_unique": {
          "name": "crm_conversation_participants_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_conversation_participants_active_contact_unique": {
          "name": "crm_conversation_participants_active_contact_unique",
          "columns": [
            "biz_id",
            "crm_conversation_id",
            "participant_crm_contact_id"
          ],
          "isUnique": true
        },
        "crm_conversation_participants_active_subject_unique": {
          "name": "crm_conversation_participants_active_subject_unique",
          "columns": [
            "biz_id",
            "crm_conversation_id",
            "participant_subject_type",
            "participant_subject_id"
          ],
          "isUnique": true
        },
        "crm_conversation_participants_biz_conversation_status_idx": {
          "name": "crm_conversation_participants_biz_conversation_status_idx",
          "columns": [
            "biz_id",
            "crm_conversation_id",
            "status",
            "joined_at"
          ],
          "isUnique": false
        },
        "crm_conversation_participants_biz_contact_idx": {
          "name": "crm_conversation_participants_biz_contact_idx",
          "columns": [
            "biz_id",
            "participant_crm_contact_id",
            "status"
          ],
          "isUnique": false
        },
        "crm_conversation_participants_biz_subject_idx": {
          "name": "crm_conversation_participants_biz_subject_idx",
          "columns": [
            "biz_id",
            "participant_subject_type",
            "participant_subject_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_conversation_participants_biz_id_bizes_id_fk": {
          "name": "crm_conversation_participants_biz_id_bizes_id_fk",
          "tableFrom": "crm_conversation_participants",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_participants_crm_conversation_id_crm_conversations_id_fk": {
          "name": "crm_conversation_participants_crm_conversation_id_crm_conversations_id_fk",
          "tableFrom": "crm_conversation_participants",
          "tableTo": "crm_conversations",
          "columnsFrom": [
            "crm_conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_participants_participant_crm_contact_id_crm_contacts_id_fk": {
          "name": "crm_conversation_participants_participant_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "crm_conversation_participants",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "participant_crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_participants_created_by_users_id_fk": {
          "name": "crm_conversation_participants_created_by_users_id_fk",
          "tableFrom": "crm_conversation_participants",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_participants_updated_by_users_id_fk": {
          "name": "crm_conversation_participants_updated_by_users_id_fk",
          "tableFrom": "crm_conversation_participants",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_participants_deleted_by_users_id_fk": {
          "name": "crm_conversation_participants_deleted_by_users_id_fk",
          "tableFrom": "crm_conversation_participants",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_participants_biz_conversation_fk": {
          "name": "crm_conversation_participants_biz_conversation_fk",
          "tableFrom": "crm_conversation_participants",
          "tableTo": "crm_conversations",
          "columnsFrom": [
            "biz_id",
            "crm_conversation_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_participants_biz_contact_fk": {
          "name": "crm_conversation_participants_biz_contact_fk",
          "tableFrom": "crm_conversation_participants",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "participant_crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversation_participants_biz_subject_fk": {
          "name": "crm_conversation_participants_biz_subject_fk",
          "tableFrom": "crm_conversation_participants",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "participant_subject_type",
            "participant_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_conversations": {
      "name": "crm_conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "channel_type": {
          "name": "channel_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'email'"
        },
        "topic": {
          "name": "topic",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": false
        },
        "crm_lead_id": {
          "name": "crm_lead_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "crm_opportunity_id": {
          "name": "crm_opportunity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "crm_contact_id": {
          "name": "crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_user_id": {
          "name": "assigned_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "first_inbound_at": {
          "name": "first_inbound_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "next_action_at": {
          "name": "next_action_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "external_thread_ref": {
          "name": "external_thread_ref",
          "type": "varchar(240)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_conversations_biz_id_id_unique": {
          "name": "crm_conversations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_conversations_external_thread_unique": {
          "name": "crm_conversations_external_thread_unique",
          "columns": [
            "biz_id",
            "channel_type",
            "external_thread_ref"
          ],
          "isUnique": true
        },
        "crm_conversations_biz_status_recency_idx": {
          "name": "crm_conversations_biz_status_recency_idx",
          "columns": [
            "biz_id",
            "status",
            "last_message_at",
            "priority"
          ],
          "isUnique": false
        },
        "crm_conversations_biz_status_config_recency_idx": {
          "name": "crm_conversations_biz_status_config_recency_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "last_message_at",
            "priority"
          ],
          "isUnique": false
        },
        "crm_conversations_biz_assignee_status_idx": {
          "name": "crm_conversations_biz_assignee_status_idx",
          "columns": [
            "biz_id",
            "assigned_user_id",
            "status",
            "last_message_at"
          ],
          "isUnique": false
        },
        "crm_conversations_biz_contact_status_idx": {
          "name": "crm_conversations_biz_contact_status_idx",
          "columns": [
            "biz_id",
            "crm_contact_id",
            "status",
            "last_message_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_conversations_biz_id_bizes_id_fk": {
          "name": "crm_conversations_biz_id_bizes_id_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_crm_lead_id_crm_leads_id_fk": {
          "name": "crm_conversations_crm_lead_id_crm_leads_id_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "crm_leads",
          "columnsFrom": [
            "crm_lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_crm_opportunity_id_crm_opportunities_id_fk": {
          "name": "crm_conversations_crm_opportunity_id_crm_opportunities_id_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "crm_opportunities",
          "columnsFrom": [
            "crm_opportunity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_crm_contact_id_crm_contacts_id_fk": {
          "name": "crm_conversations_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_owner_user_id_users_id_fk": {
          "name": "crm_conversations_owner_user_id_users_id_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_assigned_user_id_users_id_fk": {
          "name": "crm_conversations_assigned_user_id_users_id_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_created_by_users_id_fk": {
          "name": "crm_conversations_created_by_users_id_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_updated_by_users_id_fk": {
          "name": "crm_conversations_updated_by_users_id_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_deleted_by_users_id_fk": {
          "name": "crm_conversations_deleted_by_users_id_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_biz_lead_fk": {
          "name": "crm_conversations_biz_lead_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "crm_leads",
          "columnsFrom": [
            "biz_id",
            "crm_lead_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_biz_opportunity_fk": {
          "name": "crm_conversations_biz_opportunity_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "crm_opportunities",
          "columnsFrom": [
            "biz_id",
            "crm_opportunity_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_biz_contact_fk": {
          "name": "crm_conversations_biz_contact_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_conversations_biz_status_config_fk": {
          "name": "crm_conversations_biz_status_config_fk",
          "tableFrom": "crm_conversations",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_lead_events": {
      "name": "crm_lead_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "crm_lead_id": {
          "name": "crm_lead_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "from_status": {
          "name": "from_status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "to_status": {
          "name": "to_status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_lead_events_biz_id_id_unique": {
          "name": "crm_lead_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_lead_events_biz_lead_happened_idx": {
          "name": "crm_lead_events_biz_lead_happened_idx",
          "columns": [
            "biz_id",
            "crm_lead_id",
            "happened_at"
          ],
          "isUnique": false
        },
        "crm_lead_events_biz_type_happened_idx": {
          "name": "crm_lead_events_biz_type_happened_idx",
          "columns": [
            "biz_id",
            "event_type",
            "happened_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_lead_events_biz_id_bizes_id_fk": {
          "name": "crm_lead_events_biz_id_bizes_id_fk",
          "tableFrom": "crm_lead_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_lead_events_crm_lead_id_crm_leads_id_fk": {
          "name": "crm_lead_events_crm_lead_id_crm_leads_id_fk",
          "tableFrom": "crm_lead_events",
          "tableTo": "crm_leads",
          "columnsFrom": [
            "crm_lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_lead_events_actor_user_id_users_id_fk": {
          "name": "crm_lead_events_actor_user_id_users_id_fk",
          "tableFrom": "crm_lead_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_lead_events_created_by_users_id_fk": {
          "name": "crm_lead_events_created_by_users_id_fk",
          "tableFrom": "crm_lead_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_lead_events_updated_by_users_id_fk": {
          "name": "crm_lead_events_updated_by_users_id_fk",
          "tableFrom": "crm_lead_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_lead_events_deleted_by_users_id_fk": {
          "name": "crm_lead_events_deleted_by_users_id_fk",
          "tableFrom": "crm_lead_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_lead_events_biz_lead_fk": {
          "name": "crm_lead_events_biz_lead_fk",
          "tableFrom": "crm_lead_events",
          "tableTo": "crm_leads",
          "columnsFrom": [
            "biz_id",
            "crm_lead_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_leads": {
      "name": "crm_leads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'new'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref": {
          "name": "source_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "crm_contact_id": {
          "name": "crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "crm_pipeline_id": {
          "name": "crm_pipeline_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "crm_pipeline_stage_id": {
          "name": "crm_pipeline_stage_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "score_bps": {
          "name": "score_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "qualified_at": {
          "name": "qualified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "converted_at": {
          "name": "converted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "lost_at": {
          "name": "lost_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_leads_biz_id_id_unique": {
          "name": "crm_leads_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_leads_source_unique": {
          "name": "crm_leads_source_unique",
          "columns": [
            "biz_id",
            "source_type",
            "source_ref"
          ],
          "isUnique": true
        },
        "crm_leads_biz_status_priority_idx": {
          "name": "crm_leads_biz_status_priority_idx",
          "columns": [
            "biz_id",
            "status",
            "priority",
            "score_bps"
          ],
          "isUnique": false
        },
        "crm_leads_biz_status_config_priority_idx": {
          "name": "crm_leads_biz_status_config_priority_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "priority",
            "score_bps"
          ],
          "isUnique": false
        },
        "crm_leads_biz_contact_status_idx": {
          "name": "crm_leads_biz_contact_status_idx",
          "columns": [
            "biz_id",
            "crm_contact_id",
            "status"
          ],
          "isUnique": false
        },
        "crm_leads_biz_owner_status_idx": {
          "name": "crm_leads_biz_owner_status_idx",
          "columns": [
            "biz_id",
            "owner_user_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_leads_biz_id_bizes_id_fk": {
          "name": "crm_leads_biz_id_bizes_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_crm_contact_id_crm_contacts_id_fk": {
          "name": "crm_leads_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_location_id_locations_id_fk": {
          "name": "crm_leads_location_id_locations_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_crm_pipeline_id_crm_pipelines_id_fk": {
          "name": "crm_leads_crm_pipeline_id_crm_pipelines_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "crm_pipelines",
          "columnsFrom": [
            "crm_pipeline_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_crm_pipeline_stage_id_crm_pipeline_stages_id_fk": {
          "name": "crm_leads_crm_pipeline_stage_id_crm_pipeline_stages_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "crm_pipeline_stages",
          "columnsFrom": [
            "crm_pipeline_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_owner_user_id_users_id_fk": {
          "name": "crm_leads_owner_user_id_users_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_created_by_users_id_fk": {
          "name": "crm_leads_created_by_users_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_updated_by_users_id_fk": {
          "name": "crm_leads_updated_by_users_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_deleted_by_users_id_fk": {
          "name": "crm_leads_deleted_by_users_id_fk",
          "tableFrom": "crm_leads",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_biz_pipeline_fk": {
          "name": "crm_leads_biz_pipeline_fk",
          "tableFrom": "crm_leads",
          "tableTo": "crm_pipelines",
          "columnsFrom": [
            "biz_id",
            "crm_pipeline_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_biz_stage_fk": {
          "name": "crm_leads_biz_stage_fk",
          "tableFrom": "crm_leads",
          "tableTo": "crm_pipeline_stages",
          "columnsFrom": [
            "biz_id",
            "crm_pipeline_stage_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_biz_location_fk": {
          "name": "crm_leads_biz_location_fk",
          "tableFrom": "crm_leads",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_biz_contact_fk": {
          "name": "crm_leads_biz_contact_fk",
          "tableFrom": "crm_leads",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_leads_biz_status_config_fk": {
          "name": "crm_leads_biz_status_config_fk",
          "tableFrom": "crm_leads",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_merge_candidates": {
      "name": "crm_merge_candidates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "left_subject_type": {
          "name": "left_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "left_subject_id": {
          "name": "left_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "right_subject_type": {
          "name": "right_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "right_subject_id": {
          "name": "right_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "similarity_score_bps": {
          "name": "similarity_score_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "rule_key": {
          "name": "rule_key",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_merge_candidates_biz_id_id_unique": {
          "name": "crm_merge_candidates_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_merge_candidates_pair_unique": {
          "name": "crm_merge_candidates_pair_unique",
          "columns": [
            "biz_id",
            "left_subject_type",
            "left_subject_id",
            "right_subject_type",
            "right_subject_id"
          ],
          "isUnique": true
        },
        "crm_merge_candidates_biz_status_detected_idx": {
          "name": "crm_merge_candidates_biz_status_detected_idx",
          "columns": [
            "biz_id",
            "status",
            "detected_at"
          ],
          "isUnique": false
        },
        "crm_merge_candidates_biz_status_config_detected_idx": {
          "name": "crm_merge_candidates_biz_status_config_detected_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "detected_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_merge_candidates_biz_id_bizes_id_fk": {
          "name": "crm_merge_candidates_biz_id_bizes_id_fk",
          "tableFrom": "crm_merge_candidates",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_candidates_created_by_users_id_fk": {
          "name": "crm_merge_candidates_created_by_users_id_fk",
          "tableFrom": "crm_merge_candidates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_candidates_updated_by_users_id_fk": {
          "name": "crm_merge_candidates_updated_by_users_id_fk",
          "tableFrom": "crm_merge_candidates",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_candidates_deleted_by_users_id_fk": {
          "name": "crm_merge_candidates_deleted_by_users_id_fk",
          "tableFrom": "crm_merge_candidates",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_candidates_left_subject_fk": {
          "name": "crm_merge_candidates_left_subject_fk",
          "tableFrom": "crm_merge_candidates",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "left_subject_type",
            "left_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_candidates_right_subject_fk": {
          "name": "crm_merge_candidates_right_subject_fk",
          "tableFrom": "crm_merge_candidates",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "right_subject_type",
            "right_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_candidates_biz_status_config_fk": {
          "name": "crm_merge_candidates_biz_status_config_fk",
          "tableFrom": "crm_merge_candidates",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_merge_decisions": {
      "name": "crm_merge_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "crm_merge_candidate_id": {
          "name": "crm_merge_candidate_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "decision_type": {
          "name": "decision_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true
        },
        "decided_by_user_id": {
          "name": "decided_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decided_at": {
          "name": "decided_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "winner_subject_type": {
          "name": "winner_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "winner_subject_id": {
          "name": "winner_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "loser_subject_type": {
          "name": "loser_subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "loser_subject_id": {
          "name": "loser_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": false
        },
        "decision_note": {
          "name": "decision_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "field_resolution": {
          "name": "field_resolution",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_merge_decisions_biz_id_id_unique": {
          "name": "crm_merge_decisions_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_merge_decisions_candidate_unique": {
          "name": "crm_merge_decisions_candidate_unique",
          "columns": [
            "crm_merge_candidate_id"
          ],
          "isUnique": true
        },
        "crm_merge_decisions_biz_type_decided_idx": {
          "name": "crm_merge_decisions_biz_type_decided_idx",
          "columns": [
            "biz_id",
            "decision_type",
            "decided_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_merge_decisions_biz_id_bizes_id_fk": {
          "name": "crm_merge_decisions_biz_id_bizes_id_fk",
          "tableFrom": "crm_merge_decisions",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_decisions_crm_merge_candidate_id_crm_merge_candidates_id_fk": {
          "name": "crm_merge_decisions_crm_merge_candidate_id_crm_merge_candidates_id_fk",
          "tableFrom": "crm_merge_decisions",
          "tableTo": "crm_merge_candidates",
          "columnsFrom": [
            "crm_merge_candidate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_decisions_decided_by_user_id_users_id_fk": {
          "name": "crm_merge_decisions_decided_by_user_id_users_id_fk",
          "tableFrom": "crm_merge_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "decided_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_decisions_created_by_users_id_fk": {
          "name": "crm_merge_decisions_created_by_users_id_fk",
          "tableFrom": "crm_merge_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_decisions_updated_by_users_id_fk": {
          "name": "crm_merge_decisions_updated_by_users_id_fk",
          "tableFrom": "crm_merge_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_decisions_deleted_by_users_id_fk": {
          "name": "crm_merge_decisions_deleted_by_users_id_fk",
          "tableFrom": "crm_merge_decisions",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_decisions_biz_candidate_fk": {
          "name": "crm_merge_decisions_biz_candidate_fk",
          "tableFrom": "crm_merge_decisions",
          "tableTo": "crm_merge_candidates",
          "columnsFrom": [
            "biz_id",
            "crm_merge_candidate_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_decisions_winner_subject_fk": {
          "name": "crm_merge_decisions_winner_subject_fk",
          "tableFrom": "crm_merge_decisions",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "winner_subject_type",
            "winner_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_merge_decisions_loser_subject_fk": {
          "name": "crm_merge_decisions_loser_subject_fk",
          "tableFrom": "crm_merge_decisions",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "loser_subject_type",
            "loser_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_opportunities": {
      "name": "crm_opportunities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "crm_pipeline_id": {
          "name": "crm_pipeline_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "crm_pipeline_stage_id": {
          "name": "crm_pipeline_stage_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(260)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_crm_lead_id": {
          "name": "primary_crm_lead_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "crm_contact_id": {
          "name": "crm_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_amount_minor": {
          "name": "estimated_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "committed_amount_minor": {
          "name": "committed_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "weighted_amount_minor": {
          "name": "weighted_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "probability_bps": {
          "name": "probability_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "expected_close_at": {
          "name": "expected_close_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "won_at": {
          "name": "won_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "lost_at": {
          "name": "lost_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_reason_code": {
          "name": "closed_reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "source_type": {
          "name": "source_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": false
        },
        "source_ref": {
          "name": "source_ref",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_opportunities_biz_id_id_unique": {
          "name": "crm_opportunities_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_opportunities_biz_stage_status_idx": {
          "name": "crm_opportunities_biz_stage_status_idx",
          "columns": [
            "biz_id",
            "crm_pipeline_stage_id",
            "status",
            "probability_bps"
          ],
          "isUnique": false
        },
        "crm_opportunities_biz_status_config_stage_idx": {
          "name": "crm_opportunities_biz_status_config_stage_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "crm_pipeline_stage_id",
            "probability_bps"
          ],
          "isUnique": false
        },
        "crm_opportunities_biz_owner_status_idx": {
          "name": "crm_opportunities_biz_owner_status_idx",
          "columns": [
            "biz_id",
            "owner_user_id",
            "status"
          ],
          "isUnique": false
        },
        "crm_opportunities_biz_expected_close_idx": {
          "name": "crm_opportunities_biz_expected_close_idx",
          "columns": [
            "biz_id",
            "expected_close_at",
            "status"
          ],
          "isUnique": false
        },
        "crm_opportunities_biz_contact_status_idx": {
          "name": "crm_opportunities_biz_contact_status_idx",
          "columns": [
            "biz_id",
            "crm_contact_id",
            "status",
            "expected_close_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_opportunities_biz_id_bizes_id_fk": {
          "name": "crm_opportunities_biz_id_bizes_id_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_crm_pipeline_id_crm_pipelines_id_fk": {
          "name": "crm_opportunities_crm_pipeline_id_crm_pipelines_id_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "crm_pipelines",
          "columnsFrom": [
            "crm_pipeline_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_crm_pipeline_stage_id_crm_pipeline_stages_id_fk": {
          "name": "crm_opportunities_crm_pipeline_stage_id_crm_pipeline_stages_id_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "crm_pipeline_stages",
          "columnsFrom": [
            "crm_pipeline_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_primary_crm_lead_id_crm_leads_id_fk": {
          "name": "crm_opportunities_primary_crm_lead_id_crm_leads_id_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "crm_leads",
          "columnsFrom": [
            "primary_crm_lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_owner_user_id_users_id_fk": {
          "name": "crm_opportunities_owner_user_id_users_id_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_crm_contact_id_crm_contacts_id_fk": {
          "name": "crm_opportunities_crm_contact_id_crm_contacts_id_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "crm_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_created_by_users_id_fk": {
          "name": "crm_opportunities_created_by_users_id_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_updated_by_users_id_fk": {
          "name": "crm_opportunities_updated_by_users_id_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_deleted_by_users_id_fk": {
          "name": "crm_opportunities_deleted_by_users_id_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_biz_pipeline_fk": {
          "name": "crm_opportunities_biz_pipeline_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "crm_pipelines",
          "columnsFrom": [
            "biz_id",
            "crm_pipeline_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_biz_stage_fk": {
          "name": "crm_opportunities_biz_stage_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "crm_pipeline_stages",
          "columnsFrom": [
            "biz_id",
            "crm_pipeline_stage_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_biz_lead_fk": {
          "name": "crm_opportunities_biz_lead_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "crm_leads",
          "columnsFrom": [
            "biz_id",
            "primary_crm_lead_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_biz_contact_fk": {
          "name": "crm_opportunities_biz_contact_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "crm_contacts",
          "columnsFrom": [
            "biz_id",
            "crm_contact_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunities_biz_status_config_fk": {
          "name": "crm_opportunities_biz_status_config_fk",
          "tableFrom": "crm_opportunities",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_opportunity_stage_events": {
      "name": "crm_opportunity_stage_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "crm_opportunity_id": {
          "name": "crm_opportunity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "from_crm_pipeline_stage_id": {
          "name": "from_crm_pipeline_stage_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "to_crm_pipeline_stage_id": {
          "name": "to_crm_pipeline_stage_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true,
          "default": "'moved'"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "happened_at": {
          "name": "happened_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_opportunity_stage_events_biz_id_id_unique": {
          "name": "crm_opportunity_stage_events_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_opportunity_stage_events_biz_opportunity_happened_idx": {
          "name": "crm_opportunity_stage_events_biz_opportunity_happened_idx",
          "columns": [
            "biz_id",
            "crm_opportunity_id",
            "happened_at"
          ],
          "isUnique": false
        },
        "crm_opportunity_stage_events_biz_type_happened_idx": {
          "name": "crm_opportunity_stage_events_biz_type_happened_idx",
          "columns": [
            "biz_id",
            "event_type",
            "happened_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_opportunity_stage_events_biz_id_bizes_id_fk": {
          "name": "crm_opportunity_stage_events_biz_id_bizes_id_fk",
          "tableFrom": "crm_opportunity_stage_events",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunity_stage_events_crm_opportunity_id_crm_opportunities_id_fk": {
          "name": "crm_opportunity_stage_events_crm_opportunity_id_crm_opportunities_id_fk",
          "tableFrom": "crm_opportunity_stage_events",
          "tableTo": "crm_opportunities",
          "columnsFrom": [
            "crm_opportunity_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunity_stage_events_from_crm_pipeline_stage_id_crm_pipeline_stages_id_fk": {
          "name": "crm_opportunity_stage_events_from_crm_pipeline_stage_id_crm_pipeline_stages_id_fk",
          "tableFrom": "crm_opportunity_stage_events",
          "tableTo": "crm_pipeline_stages",
          "columnsFrom": [
            "from_crm_pipeline_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunity_stage_events_to_crm_pipeline_stage_id_crm_pipeline_stages_id_fk": {
          "name": "crm_opportunity_stage_events_to_crm_pipeline_stage_id_crm_pipeline_stages_id_fk",
          "tableFrom": "crm_opportunity_stage_events",
          "tableTo": "crm_pipeline_stages",
          "columnsFrom": [
            "to_crm_pipeline_stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunity_stage_events_actor_user_id_users_id_fk": {
          "name": "crm_opportunity_stage_events_actor_user_id_users_id_fk",
          "tableFrom": "crm_opportunity_stage_events",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunity_stage_events_created_by_users_id_fk": {
          "name": "crm_opportunity_stage_events_created_by_users_id_fk",
          "tableFrom": "crm_opportunity_stage_events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunity_stage_events_updated_by_users_id_fk": {
          "name": "crm_opportunity_stage_events_updated_by_users_id_fk",
          "tableFrom": "crm_opportunity_stage_events",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunity_stage_events_deleted_by_users_id_fk": {
          "name": "crm_opportunity_stage_events_deleted_by_users_id_fk",
          "tableFrom": "crm_opportunity_stage_events",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_opportunity_stage_events_biz_opportunity_fk": {
          "name": "crm_opportunity_stage_events_biz_opportunity_fk",
          "tableFrom": "crm_opportunity_stage_events",
          "tableTo": "crm_opportunities",
          "columnsFrom": [
            "biz_id",
            "crm_opportunity_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_pipeline_stages": {
      "name": "crm_pipeline_stages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "crm_pipeline_id": {
          "name": "crm_pipeline_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(180)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "is_closed_won": {
          "name": "is_closed_won",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_closed_lost": {
          "name": "is_closed_lost",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "default_probability_bps": {
          "name": "default_probability_bps",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "stage_policy": {
          "name": "stage_policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_pipeline_stages_biz_id_id_unique": {
          "name": "crm_pipeline_stages_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_pipeline_stages_slug_unique": {
          "name": "crm_pipeline_stages_slug_unique",
          "columns": [
            "crm_pipeline_id",
            "slug"
          ],
          "isUnique": true
        },
        "crm_pipeline_stages_sort_unique": {
          "name": "crm_pipeline_stages_sort_unique",
          "columns": [
            "crm_pipeline_id",
            "sort_order"
          ],
          "isUnique": true
        },
        "crm_pipeline_stages_biz_pipeline_sort_idx": {
          "name": "crm_pipeline_stages_biz_pipeline_sort_idx",
          "columns": [
            "biz_id",
            "crm_pipeline_id",
            "sort_order"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_pipeline_stages_biz_id_bizes_id_fk": {
          "name": "crm_pipeline_stages_biz_id_bizes_id_fk",
          "tableFrom": "crm_pipeline_stages",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_pipeline_stages_crm_pipeline_id_crm_pipelines_id_fk": {
          "name": "crm_pipeline_stages_crm_pipeline_id_crm_pipelines_id_fk",
          "tableFrom": "crm_pipeline_stages",
          "tableTo": "crm_pipelines",
          "columnsFrom": [
            "crm_pipeline_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_pipeline_stages_created_by_users_id_fk": {
          "name": "crm_pipeline_stages_created_by_users_id_fk",
          "tableFrom": "crm_pipeline_stages",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_pipeline_stages_updated_by_users_id_fk": {
          "name": "crm_pipeline_stages_updated_by_users_id_fk",
          "tableFrom": "crm_pipeline_stages",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_pipeline_stages_deleted_by_users_id_fk": {
          "name": "crm_pipeline_stages_deleted_by_users_id_fk",
          "tableFrom": "crm_pipeline_stages",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_pipeline_stages_biz_pipeline_fk": {
          "name": "crm_pipeline_stages_biz_pipeline_fk",
          "tableFrom": "crm_pipeline_stages",
          "tableTo": "crm_pipelines",
          "columnsFrom": [
            "biz_id",
            "crm_pipeline_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_pipelines": {
      "name": "crm_pipelines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "pipeline_type": {
          "name": "pipeline_type",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'opportunity'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "policy": {
          "name": "policy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_pipelines_biz_id_id_unique": {
          "name": "crm_pipelines_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_pipelines_biz_slug_unique": {
          "name": "crm_pipelines_biz_slug_unique",
          "columns": [
            "biz_id",
            "slug"
          ],
          "isUnique": true
        },
        "crm_pipelines_default_per_type_unique": {
          "name": "crm_pipelines_default_per_type_unique",
          "columns": [
            "biz_id",
            "pipeline_type"
          ],
          "isUnique": true
        },
        "crm_pipelines_biz_type_status_idx": {
          "name": "crm_pipelines_biz_type_status_idx",
          "columns": [
            "biz_id",
            "pipeline_type",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_pipelines_biz_id_bizes_id_fk": {
          "name": "crm_pipelines_biz_id_bizes_id_fk",
          "tableFrom": "crm_pipelines",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_pipelines_created_by_users_id_fk": {
          "name": "crm_pipelines_created_by_users_id_fk",
          "tableFrom": "crm_pipelines",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_pipelines_updated_by_users_id_fk": {
          "name": "crm_pipelines_updated_by_users_id_fk",
          "tableFrom": "crm_pipelines",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_pipelines_deleted_by_users_id_fk": {
          "name": "crm_pipelines_deleted_by_users_id_fk",
          "tableFrom": "crm_pipelines",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "crm_subject_redirects": {
      "name": "crm_subject_redirects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "subject_type": {
          "name": "subject_type",
          "type": "varchar(80)",
          "primaryKey": false,
          "notNull": true
        },
        "from_subject_id": {
          "name": "from_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "to_subject_id": {
          "name": "to_subject_id",
          "type": "varchar(140)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "lifecycle_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "crm_merge_decision_id": {
          "name": "crm_merge_decision_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason_code": {
          "name": "reason_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "effective_to": {
          "name": "effective_to",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "crm_subject_redirects_biz_id_id_unique": {
          "name": "crm_subject_redirects_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "crm_subject_redirects_active_unique": {
          "name": "crm_subject_redirects_active_unique",
          "columns": [
            "biz_id",
            "subject_type",
            "from_subject_id"
          ],
          "isUnique": true
        },
        "crm_subject_redirects_biz_to_subject_idx": {
          "name": "crm_subject_redirects_biz_to_subject_idx",
          "columns": [
            "biz_id",
            "subject_type",
            "to_subject_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "crm_subject_redirects_biz_id_bizes_id_fk": {
          "name": "crm_subject_redirects_biz_id_bizes_id_fk",
          "tableFrom": "crm_subject_redirects",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_subject_redirects_crm_merge_decision_id_crm_merge_decisions_id_fk": {
          "name": "crm_subject_redirects_crm_merge_decision_id_crm_merge_decisions_id_fk",
          "tableFrom": "crm_subject_redirects",
          "tableTo": "crm_merge_decisions",
          "columnsFrom": [
            "crm_merge_decision_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_subject_redirects_created_by_users_id_fk": {
          "name": "crm_subject_redirects_created_by_users_id_fk",
          "tableFrom": "crm_subject_redirects",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_subject_redirects_updated_by_users_id_fk": {
          "name": "crm_subject_redirects_updated_by_users_id_fk",
          "tableFrom": "crm_subject_redirects",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_subject_redirects_deleted_by_users_id_fk": {
          "name": "crm_subject_redirects_deleted_by_users_id_fk",
          "tableFrom": "crm_subject_redirects",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_subject_redirects_from_subject_fk": {
          "name": "crm_subject_redirects_from_subject_fk",
          "tableFrom": "crm_subject_redirects",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "from_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_subject_redirects_to_subject_fk": {
          "name": "crm_subject_redirects_to_subject_fk",
          "tableFrom": "crm_subject_redirects",
          "tableTo": "subjects",
          "columnsFrom": [
            "biz_id",
            "subject_type",
            "to_subject_id"
          ],
          "columnsTo": [
            "biz_id",
            "subject_type",
            "subject_id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "crm_subject_redirects_biz_merge_decision_fk": {
          "name": "crm_subject_redirects_biz_merge_decision_fk",
          "tableFrom": "crm_subject_redirects",
          "tableTo": "crm_merge_decisions",
          "columnsFrom": [
            "biz_id",
            "crm_merge_decision_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "production_batch_reservations": {
      "name": "production_batch_reservations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "production_batch_id": {
          "name": "production_batch_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'waitlisted'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_group_account_id": {
          "name": "owner_group_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "guest_email": {
          "name": "guest_email",
          "type": "varchar(320)",
          "primaryKey": false,
          "notNull": false
        },
        "requested_quantity": {
          "name": "requested_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "allocated_quantity": {
          "name": "allocated_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "paid_amount_minor": {
          "name": "paid_amount_minor",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "source_checkout_session_id": {
          "name": "source_checkout_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "booking_order_id": {
          "name": "booking_order_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fulfilled_at": {
          "name": "fulfilled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "production_batch_reservations_biz_id_id_unique": {
          "name": "production_batch_reservations_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "production_batch_reservations_biz_batch_status_requested_idx": {
          "name": "production_batch_reservations_biz_batch_status_requested_idx",
          "columns": [
            "biz_id",
            "production_batch_id",
            "status",
            "requested_at"
          ],
          "isUnique": false
        },
        "production_batch_reservations_biz_status_config_requested_idx": {
          "name": "production_batch_reservations_biz_status_config_requested_idx",
          "columns": [
            "biz_id",
            "status_config_value_id",
            "requested_at"
          ],
          "isUnique": false
        },
        "production_batch_reservations_biz_owner_requested_idx": {
          "name": "production_batch_reservations_biz_owner_requested_idx",
          "columns": [
            "biz_id",
            "owner_user_id",
            "owner_group_account_id",
            "requested_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "production_batch_reservations_biz_id_bizes_id_fk": {
          "name": "production_batch_reservations_biz_id_bizes_id_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_production_batch_id_production_batches_id_fk": {
          "name": "production_batch_reservations_production_batch_id_production_batches_id_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "production_batches",
          "columnsFrom": [
            "production_batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_owner_user_id_users_id_fk": {
          "name": "production_batch_reservations_owner_user_id_users_id_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_owner_group_account_id_group_accounts_id_fk": {
          "name": "production_batch_reservations_owner_group_account_id_group_accounts_id_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "group_accounts",
          "columnsFrom": [
            "owner_group_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_source_checkout_session_id_checkout_sessions_id_fk": {
          "name": "production_batch_reservations_source_checkout_session_id_checkout_sessions_id_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "source_checkout_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_booking_order_id_booking_orders_id_fk": {
          "name": "production_batch_reservations_booking_order_id_booking_orders_id_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "booking_order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_created_by_users_id_fk": {
          "name": "production_batch_reservations_created_by_users_id_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_updated_by_users_id_fk": {
          "name": "production_batch_reservations_updated_by_users_id_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_deleted_by_users_id_fk": {
          "name": "production_batch_reservations_deleted_by_users_id_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_biz_batch_fk": {
          "name": "production_batch_reservations_biz_batch_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "production_batches",
          "columnsFrom": [
            "biz_id",
            "production_batch_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_biz_checkout_session_fk": {
          "name": "production_batch_reservations_biz_checkout_session_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "checkout_sessions",
          "columnsFrom": [
            "biz_id",
            "source_checkout_session_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_biz_booking_order_fk": {
          "name": "production_batch_reservations_biz_booking_order_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "booking_orders",
          "columnsFrom": [
            "biz_id",
            "booking_order_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batch_reservations_biz_status_config_fk": {
          "name": "production_batch_reservations_biz_status_config_fk",
          "tableFrom": "production_batch_reservations",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "production_batches": {
      "name": "production_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "biz_id": {
          "name": "biz_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sellable_id": {
          "name": "sellable_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "batch_code": {
          "name": "batch_code",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(220)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true,
          "default": "'planned'"
        },
        "status_config_value_id": {
          "name": "status_config_value_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "planned_quantity": {
          "name": "planned_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "produced_quantity": {
          "name": "produced_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "reserved_quantity": {
          "name": "reserved_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "released_quantity": {
          "name": "released_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "production_start_at": {
          "name": "production_start_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ready_at": {
          "name": "ready_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "policy_snapshot": {
          "name": "policy_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_by": {
          "name": "deleted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "production_batches_biz_id_id_unique": {
          "name": "production_batches_biz_id_id_unique",
          "columns": [
            "biz_id",
            "id"
          ],
          "isUnique": true
        },
        "production_batches_biz_code_unique": {
          "name": "production_batches_biz_code_unique",
          "columns": [
            "biz_id",
            "batch_code"
          ],
          "isUnique": true
        },
        "production_batches_biz_status_ready_idx": {
          "name": "production_batches_biz_status_ready_idx",
          "columns": [
            "biz_id",
            "status",
            "ready_at"
          ],
          "isUnique": false
        },
        "production_batches_biz_status_config_idx": {
          "name": "production_batches_biz_status_config_idx",
          "columns": [
            "biz_id",
            "status_config_value_id"
          ],
          "isUnique": false
        },
        "production_batches_biz_sellable_ready_idx": {
          "name": "production_batches_biz_sellable_ready_idx",
          "columns": [
            "biz_id",
            "sellable_id",
            "ready_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "production_batches_biz_id_bizes_id_fk": {
          "name": "production_batches_biz_id_bizes_id_fk",
          "tableFrom": "production_batches",
          "tableTo": "bizes",
          "columnsFrom": [
            "biz_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batches_location_id_locations_id_fk": {
          "name": "production_batches_location_id_locations_id_fk",
          "tableFrom": "production_batches",
          "tableTo": "locations",
          "columnsFrom": [
            "location_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batches_sellable_id_sellables_id_fk": {
          "name": "production_batches_sellable_id_sellables_id_fk",
          "tableFrom": "production_batches",
          "tableTo": "sellables",
          "columnsFrom": [
            "sellable_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batches_created_by_users_id_fk": {
          "name": "production_batches_created_by_users_id_fk",
          "tableFrom": "production_batches",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batches_updated_by_users_id_fk": {
          "name": "production_batches_updated_by_users_id_fk",
          "tableFrom": "production_batches",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batches_deleted_by_users_id_fk": {
          "name": "production_batches_deleted_by_users_id_fk",
          "tableFrom": "production_batches",
          "tableTo": "users",
          "columnsFrom": [
            "deleted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batches_biz_location_fk": {
          "name": "production_batches_biz_location_fk",
          "tableFrom": "production_batches",
          "tableTo": "locations",
          "columnsFrom": [
            "biz_id",
            "location_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batches_biz_sellable_fk": {
          "name": "production_batches_biz_sellable_fk",
          "tableFrom": "production_batches",
          "tableTo": "sellables",
          "columnsFrom": [
            "biz_id",
            "sellable_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "production_batches_biz_status_config_fk": {
          "name": "production_batches_biz_status_config_fk",
          "tableFrom": "production_batches",
          "tableTo": "biz_config_values",
          "columnsFrom": [
            "biz_id",
            "status_config_value_id"
          ],
          "columnsTo": [
            "biz_id",
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "access_action_outcome": {
      "name": "access_action_outcome",
      "values": {
        "allowed": "allowed",
        "denied": "denied",
        "expired": "expired",
        "revoked": "revoked",
        "suspended": "suspended",
        "limit_exceeded": "limit_exceeded",
        "invalid": "invalid",
        "risk_blocked": "risk_blocked",
        "not_found": "not_found",
        "error": "error"
      }
    },
    "access_action_token_event_type": {
      "name": "access_action_token_event_type",
      "values": {
        "issued": "issued",
        "validated": "validated",
        "validation_failed": "validation_failed",
        "used": "used",
        "reissued": "reissued",
        "expired": "expired",
        "revoked": "revoked",
        "consumed": "consumed"
      }
    },
    "access_action_token_status": {
      "name": "access_action_token_status",
      "values": {
        "active": "active",
        "used": "used",
        "expired": "expired",
        "revoked": "revoked",
        "consumed": "consumed"
      }
    },
    "access_action_token_type": {
      "name": "access_action_token_type",
      "values": {
        "opaque_link": "opaque_link",
        "numeric_code": "numeric_code",
        "qr_code": "qr_code",
        "one_time_password": "one_time_password",
        "custom": "custom"
      }
    },
    "access_action_type": {
      "name": "access_action_type",
      "values": {
        "verify": "verify",
        "view": "view",
        "download": "download",
        "redeem": "redeem",
        "transfer": "transfer",
        "support_override": "support_override"
      }
    },
    "access_artifact_event_type": {
      "name": "access_artifact_event_type",
      "values": {
        "issued": "issued",
        "activated": "activated",
        "verified": "verified",
        "verification_failed": "verification_failed",
        "consumed": "consumed",
        "usage_debited": "usage_debited",
        "usage_credited": "usage_credited",
        "suspended": "suspended",
        "unsuspended": "unsuspended",
        "revoked": "revoked",
        "expired": "expired",
        "transferred_in": "transferred_in",
        "transferred_out": "transferred_out",
        "reissued": "reissued",
        "metadata_updated": "metadata_updated"
      }
    },
    "access_artifact_link_type": {
      "name": "access_artifact_link_type",
      "values": {
        "sellable": "sellable",
        "booking_order": "booking_order",
        "booking_order_line": "booking_order_line",
        "membership": "membership",
        "entitlement_grant": "entitlement_grant",
        "payment_transaction": "payment_transaction",
        "fulfillment_unit": "fulfillment_unit",
        "custom_subject": "custom_subject",
        "external_reference": "external_reference"
      }
    },
    "access_artifact_status": {
      "name": "access_artifact_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "suspended": "suspended",
        "revoked": "revoked",
        "expired": "expired",
        "consumed": "consumed",
        "transferred": "transferred"
      }
    },
    "access_artifact_type": {
      "name": "access_artifact_type",
      "values": {
        "access_grant": "access_grant",
        "license_key": "license_key",
        "download_entitlement": "download_entitlement",
        "ticket_entitlement": "ticket_entitlement",
        "content_gate": "content_gate",
        "replay_access": "replay_access",
        "custom": "custom"
      }
    },
    "access_delivery_link_channel": {
      "name": "access_delivery_link_channel",
      "values": {
        "web": "web",
        "email": "email",
        "sms": "sms",
        "api": "api",
        "support": "support"
      }
    },
    "access_delivery_link_status": {
      "name": "access_delivery_link_status",
      "values": {
        "active": "active",
        "expired": "expired",
        "revoked": "revoked",
        "consumed": "consumed"
      }
    },
    "access_resale_status": {
      "name": "access_resale_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "reserved": "reserved",
        "sold": "sold",
        "expired": "expired",
        "cancelled": "cancelled",
        "removed": "removed"
      }
    },
    "access_security_decision_outcome": {
      "name": "access_security_decision_outcome",
      "values": {
        "allow": "allow",
        "challenge": "challenge",
        "deny": "deny",
        "manual_review": "manual_review",
        "suspend_artifact": "suspend_artifact",
        "revoke_artifact": "revoke_artifact"
      }
    },
    "access_security_decision_status": {
      "name": "access_security_decision_status",
      "values": {
        "active": "active",
        "expired": "expired",
        "reverted": "reverted"
      }
    },
    "access_security_signal_status": {
      "name": "access_security_signal_status",
      "values": {
        "open": "open",
        "acknowledged": "acknowledged",
        "resolved": "resolved",
        "dismissed": "dismissed"
      }
    },
    "access_security_signal_type": {
      "name": "access_security_signal_type",
      "values": {
        "ip_velocity": "ip_velocity",
        "geo_anomaly": "geo_anomaly",
        "token_reuse": "token_reuse",
        "device_mismatch": "device_mismatch",
        "download_burst": "download_burst",
        "provider_risk": "provider_risk",
        "manual_flag": "manual_flag",
        "custom": "custom"
      }
    },
    "access_transfer_mode": {
      "name": "access_transfer_mode",
      "values": {
        "full_transfer": "full_transfer",
        "split_transfer": "split_transfer",
        "delegation": "delegation"
      }
    },
    "access_transfer_status": {
      "name": "access_transfer_status",
      "values": {
        "requested": "requested",
        "approved": "approved",
        "rejected": "rejected",
        "cancelled": "cancelled",
        "expired": "expired",
        "completed": "completed",
        "reversed": "reversed"
      }
    },
    "access_usage_window_mode": {
      "name": "access_usage_window_mode",
      "values": {
        "lifetime": "lifetime",
        "rolling_window": "rolling_window",
        "calendar_day": "calendar_day",
        "fixed_window": "fixed_window"
      }
    },
    "allocation_source_type": {
      "name": "allocation_source_type",
      "values": {
        "card": "card",
        "wallet": "wallet",
        "gift_card": "gift_card",
        "cash": "cash",
        "bank_transfer": "bank_transfer",
        "credit": "credit"
      }
    },
    "allocation_target_type": {
      "name": "allocation_target_type",
      "values": {
        "service": "service",
        "product": "product",
        "fee": "fee",
        "tax": "tax",
        "deposit": "deposit",
        "tip": "tip"
      }
    },
    "ar_invoice_status": {
      "name": "ar_invoice_status",
      "values": {
        "draft": "draft",
        "issued": "issued",
        "partially_paid": "partially_paid",
        "paid": "paid",
        "overdue": "overdue",
        "voided": "voided",
        "in_dispute": "in_dispute",
        "written_off": "written_off"
      }
    },
    "assessment_attempt_status": {
      "name": "assessment_attempt_status",
      "values": {
        "started": "started",
        "submitted": "submitted",
        "graded": "graded",
        "passed": "passed",
        "failed": "failed",
        "expired": "expired",
        "cancelled": "cancelled",
        "voided": "voided"
      }
    },
    "assessment_evaluation_mode": {
      "name": "assessment_evaluation_mode",
      "values": {
        "auto": "auto",
        "manual": "manual",
        "hybrid": "hybrid"
      }
    },
    "assessment_item_type": {
      "name": "assessment_item_type",
      "values": {
        "single_choice": "single_choice",
        "multi_choice": "multi_choice",
        "text": "text",
        "numeric": "numeric",
        "boolean": "boolean",
        "file_upload": "file_upload",
        "custom": "custom"
      }
    },
    "assessment_result_status": {
      "name": "assessment_result_status",
      "values": {
        "pending": "pending",
        "passed": "passed",
        "failed": "failed",
        "waived": "waived",
        "invalidated": "invalidated"
      }
    },
    "assessment_template_status": {
      "name": "assessment_template_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "async_deliverable_status": {
      "name": "async_deliverable_status",
      "values": {
        "queued": "queued",
        "processing": "processing",
        "ready": "ready",
        "delivered": "delivered",
        "expired": "expired",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "async_deliverable_type": {
      "name": "async_deliverable_type",
      "values": {
        "document": "document",
        "media_bundle": "media_bundle",
        "analysis_result": "analysis_result",
        "message_response": "message_response",
        "custom": "custom"
      }
    },
    "auction_status": {
      "name": "auction_status",
      "values": {
        "scheduled": "scheduled",
        "live": "live",
        "closed": "closed",
        "cancelled": "cancelled",
        "settled": "settled"
      }
    },
    "auction_target_type": {
      "name": "auction_target_type",
      "values": {
        "marketplace_listing": "marketplace_listing",
        "custom_subject": "custom_subject"
      }
    },
    "audit_actor_type": {
      "name": "audit_actor_type",
      "values": {
        "user": "user",
        "system": "system",
        "api_key": "api_key",
        "integration": "integration"
      }
    },
    "audit_event_type": {
      "name": "audit_event_type",
      "values": {
        "create": "create",
        "update": "update",
        "delete": "delete",
        "read": "read",
        "state_transition": "state_transition",
        "policy_decision": "policy_decision",
        "payment_event": "payment_event",
        "custom": "custom"
      }
    },
    "audit_integrity_status": {
      "name": "audit_integrity_status",
      "values": {
        "valid": "valid",
        "broken": "broken",
        "unverified": "unverified"
      }
    },
    "availability_default_mode": {
      "name": "availability_default_mode",
      "values": {
        "available_by_default": "available_by_default",
        "unavailable_by_default": "unavailable_by_default"
      }
    },
    "availability_dependency_enforcement_mode": {
      "name": "availability_dependency_enforcement_mode",
      "values": {
        "hard_block": "hard_block",
        "soft_gate": "soft_gate",
        "advisory": "advisory"
      }
    },
    "availability_dependency_evaluation_mode": {
      "name": "availability_dependency_evaluation_mode",
      "values": {
        "all": "all",
        "any": "any",
        "threshold": "threshold"
      }
    },
    "availability_dependency_target_type": {
      "name": "availability_dependency_target_type",
      "values": {
        "calendar": "calendar",
        "custom_subject": "custom_subject"
      }
    },
    "availability_exception_type": {
      "name": "availability_exception_type",
      "values": {
        "closed": "closed",
        "modified_hours": "modified_hours",
        "special_pricing": "special_pricing",
        "holiday": "holiday"
      }
    },
    "availability_gate_signal_type": {
      "name": "availability_gate_signal_type",
      "values": {
        "manual": "manual",
        "queue_eta": "queue_eta",
        "capacity_pressure": "capacity_pressure",
        "dependency": "dependency",
        "external_event": "external_event",
        "plugin": "plugin",
        "custom_subject": "custom_subject"
      }
    },
    "availability_resolution_status": {
      "name": "availability_resolution_status",
      "values": {
        "available": "available",
        "unavailable": "unavailable",
        "mixed": "mixed",
        "error": "error"
      }
    },
    "availability_rule_action": {
      "name": "availability_rule_action",
      "values": {
        "available": "available",
        "unavailable": "unavailable",
        "override_hours": "override_hours",
        "special_pricing": "special_pricing",
        "capacity_adjustment": "capacity_adjustment"
      }
    },
    "availability_rule_frequency": {
      "name": "availability_rule_frequency",
      "values": {
        "none": "none",
        "daily": "daily",
        "weekly": "weekly",
        "monthly": "monthly",
        "yearly": "yearly",
        "recurrence_rule": "recurrence_rule"
      }
    },
    "availability_rule_mode": {
      "name": "availability_rule_mode",
      "values": {
        "recurring": "recurring",
        "date_range": "date_range",
        "timestamp_range": "timestamp_range"
      }
    },
    "availability_rule_outcome": {
      "name": "availability_rule_outcome",
      "values": {
        "available": "available",
        "unavailable": "unavailable",
        "override_hours": "override_hours",
        "special_pricing": "special_pricing"
      }
    },
    "baa_party_type": {
      "name": "baa_party_type",
      "values": {
        "extension_install": "extension_install",
        "vendor_org": "vendor_org",
        "subcontractor": "subcontractor",
        "other": "other"
      }
    },
    "baa_status": {
      "name": "baa_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "suspended": "suspended",
        "terminated": "terminated",
        "expired": "expired"
      }
    },
    "bid_status": {
      "name": "bid_status",
      "values": {
        "pending": "pending",
        "winning": "winning",
        "outbid": "outbid",
        "accepted": "accepted",
        "rejected": "rejected",
        "withdrawn": "withdrawn",
        "expired": "expired"
      }
    },
    "billing_account_status": {
      "name": "billing_account_status",
      "values": {
        "active": "active",
        "suspended": "suspended",
        "closed": "closed"
      }
    },
    "billing_account_type": {
      "name": "billing_account_type",
      "values": {
        "user": "user",
        "group_account": "group_account",
        "biz": "biz"
      }
    },
    "biz_config_promotion_action": {
      "name": "biz_config_promotion_action",
      "values": {
        "create": "create",
        "update": "update",
        "delete": "delete",
        "noop": "noop"
      }
    },
    "biz_config_promotion_entity_type": {
      "name": "biz_config_promotion_entity_type",
      "values": {
        "set": "set",
        "value": "value",
        "binding": "binding"
      }
    },
    "biz_config_promotion_item_status": {
      "name": "biz_config_promotion_item_status",
      "values": {
        "pending": "pending",
        "applied": "applied",
        "failed": "failed",
        "skipped": "skipped"
      }
    },
    "biz_config_promotion_operation": {
      "name": "biz_config_promotion_operation",
      "values": {
        "dry_run": "dry_run",
        "apply": "apply",
        "rollback": "rollback"
      }
    },
    "biz_config_promotion_run_status": {
      "name": "biz_config_promotion_run_status",
      "values": {
        "queued": "queued",
        "running": "running",
        "completed": "completed",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "biz_type": {
      "name": "biz_type",
      "values": {
        "individual": "individual",
        "small_business": "small_business",
        "enterprise": "enterprise"
      }
    },
    "booking_assignment_status": {
      "name": "booking_assignment_status",
      "values": {
        "pending": "pending",
        "confirmed": "confirmed",
        "declined": "declined",
        "replaced": "replaced"
      }
    },
    "booking_order_line_type": {
      "name": "booking_order_line_type",
      "values": {
        "offer_base": "offer_base",
        "seat": "seat",
        "addon": "addon",
        "fee": "fee",
        "tip": "tip",
        "tax": "tax",
        "discount": "discount",
        "refund_adjustment": "refund_adjustment"
      }
    },
    "booking_order_status": {
      "name": "booking_order_status",
      "values": {
        "draft": "draft",
        "quoted": "quoted",
        "awaiting_payment": "awaiting_payment",
        "confirmed": "confirmed",
        "checked_in": "checked_in",
        "in_progress": "in_progress",
        "completed": "completed",
        "cancelled": "cancelled",
        "expired": "expired",
        "failed": "failed"
      }
    },
    "booking_participant_status": {
      "name": "booking_participant_status",
      "values": {
        "invited": "invited",
        "confirmed": "confirmed",
        "checked_in": "checked_in",
        "cancelled": "cancelled",
        "no_show": "no_show"
      }
    },
    "booking_segment_mode": {
      "name": "booking_segment_mode",
      "values": {
        "in_person": "in_person",
        "virtual": "virtual",
        "phone": "phone"
      }
    },
    "booking_source": {
      "name": "booking_source",
      "values": {
        "web": "web",
        "mobile": "mobile",
        "admin": "admin",
        "phone": "phone",
        "api": "api",
        "import": "import",
        "marketplace": "marketplace",
        "kiosk": "kiosk"
      }
    },
    "breach_notification_recipient_type": {
      "name": "breach_notification_recipient_type",
      "values": {
        "affected_individual": "affected_individual",
        "regulator": "regulator",
        "media": "media",
        "business_associate": "business_associate",
        "other": "other"
      }
    },
    "breach_notification_status": {
      "name": "breach_notification_status",
      "values": {
        "draft": "draft",
        "scheduled": "scheduled",
        "sent": "sent",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "break_glass_review_status": {
      "name": "break_glass_review_status",
      "values": {
        "pending": "pending",
        "approved": "approved",
        "rejected": "rejected",
        "escalated": "escalated"
      }
    },
    "bundle_component_price_mode": {
      "name": "bundle_component_price_mode",
      "values": {
        "included": "included",
        "fixed_override": "fixed_override",
        "surcharge": "surcharge",
        "multiplier": "multiplier"
      }
    },
    "bundle_component_target_type": {
      "name": "bundle_component_target_type",
      "values": {
        "product": "product",
        "service_product": "service_product",
        "offer": "offer"
      }
    },
    "bundle_pricing_mode": {
      "name": "bundle_pricing_mode",
      "values": {
        "fixed_bundle_price": "fixed_bundle_price",
        "sum_components": "sum_components",
        "hybrid": "hybrid"
      }
    },
    "calendar_access_grant_status": {
      "name": "calendar_access_grant_status",
      "values": {
        "granted": "granted",
        "revoked": "revoked",
        "expired": "expired"
      }
    },
    "calendar_access_level": {
      "name": "calendar_access_level",
      "values": {
        "free_busy": "free_busy",
        "masked_details": "masked_details",
        "full_details": "full_details"
      }
    },
    "calendar_conflict_resolution_mode": {
      "name": "calendar_conflict_resolution_mode",
      "values": {
        "priority_wins": "priority_wins",
        "unavailable_wins": "unavailable_wins",
        "available_wins": "available_wins",
        "most_restrictive_wins": "most_restrictive_wins"
      }
    },
    "calendar_grant_scope": {
      "name": "calendar_grant_scope",
      "values": {
        "all_sources": "all_sources",
        "selected_sources": "selected_sources"
      }
    },
    "calendar_grant_source_type": {
      "name": "calendar_grant_source_type",
      "values": {
        "external_calendar": "external_calendar",
        "internal_user_calendar_binding": "internal_user_calendar_binding"
      }
    },
    "calendar_overlay_kind": {
      "name": "calendar_overlay_kind",
      "values": {
        "base": "base",
        "blackout": "blackout",
        "seasonal": "seasonal",
        "maintenance": "maintenance",
        "emergency": "emergency",
        "promo": "promo"
      }
    },
    "calendar_owner_type": {
      "name": "calendar_owner_type",
      "values": {
        "biz": "biz",
        "user": "user",
        "resource": "resource",
        "service": "service",
        "service_product": "service_product",
        "offer": "offer",
        "offer_version": "offer_version",
        "location": "location",
        "custom_subject": "custom_subject"
      }
    },
    "calendar_rule_evaluation_order": {
      "name": "calendar_rule_evaluation_order",
      "values": {
        "priority_asc": "priority_asc",
        "priority_desc": "priority_desc",
        "specificity_then_priority": "specificity_then_priority"
      }
    },
    "calendar_status": {
      "name": "calendar_status",
      "values": {
        "active": "active",
        "inactive": "inactive"
      }
    },
    "calendar_sync_connection_status": {
      "name": "calendar_sync_connection_status",
      "values": {
        "active": "active",
        "reauth_required": "reauth_required",
        "paused": "paused",
        "error": "error",
        "revoked": "revoked"
      }
    },
    "calendar_sync_provider": {
      "name": "calendar_sync_provider",
      "values": {
        "google": "google",
        "microsoft": "microsoft",
        "apple": "apple",
        "ical": "ical",
        "other": "other"
      }
    },
    "calendar_template_merge_mode": {
      "name": "calendar_template_merge_mode",
      "values": {
        "append": "append",
        "template_precedence": "template_precedence",
        "template_only": "template_only"
      }
    },
    "calendar_timeline_event_source_type": {
      "name": "calendar_timeline_event_source_type",
      "values": {
        "availability_rule": "availability_rule",
        "availability_gate": "availability_gate",
        "capacity_hold": "capacity_hold",
        "maintenance_work_order": "maintenance_work_order",
        "external_calendar_event": "external_calendar_event",
        "fulfillment": "fulfillment",
        "manual_entry": "manual_entry",
        "plugin": "plugin",
        "custom_subject": "custom_subject"
      }
    },
    "calendar_timeline_state": {
      "name": "calendar_timeline_state",
      "values": {
        "available": "available",
        "unavailable": "unavailable",
        "busy": "busy",
        "tentative": "tentative",
        "blocked": "blocked",
        "unknown": "unknown"
      }
    },
    "calendar_timeline_visibility": {
      "name": "calendar_timeline_visibility",
      "values": {
        "private": "private",
        "free_busy": "free_busy",
        "masked_details": "masked_details",
        "full_details": "full_details"
      }
    },
    "capacity_hold_demand_alert_severity": {
      "name": "capacity_hold_demand_alert_severity",
      "values": {
        "low": "low",
        "medium": "medium",
        "high": "high",
        "critical": "critical"
      }
    },
    "capacity_hold_demand_alert_status": {
      "name": "capacity_hold_demand_alert_status",
      "values": {
        "open": "open",
        "acknowledged": "acknowledged",
        "resolved": "resolved",
        "dismissed": "dismissed",
        "expired": "expired"
      }
    },
    "capacity_hold_effect_mode": {
      "name": "capacity_hold_effect_mode",
      "values": {
        "blocking": "blocking",
        "non_blocking": "non_blocking",
        "advisory": "advisory"
      }
    },
    "capacity_hold_event_type": {
      "name": "capacity_hold_event_type",
      "values": {
        "created": "created",
        "updated": "updated",
        "extended": "extended",
        "effect_mode_changed": "effect_mode_changed",
        "quantity_changed": "quantity_changed",
        "released": "released",
        "consumed": "consumed",
        "expired": "expired",
        "cancelled": "cancelled"
      }
    },
    "capacity_hold_owner_type": {
      "name": "capacity_hold_owner_type",
      "values": {
        "user": "user",
        "group_account": "group_account",
        "subject": "subject",
        "guest_fingerprint": "guest_fingerprint",
        "system": "system"
      }
    },
    "capacity_hold_policy_target_type": {
      "name": "capacity_hold_policy_target_type",
      "values": {
        "biz": "biz",
        "location": "location",
        "calendar": "calendar",
        "resource": "resource",
        "capacity_pool": "capacity_pool",
        "service": "service",
        "service_product": "service_product",
        "offer": "offer",
        "offer_version": "offer_version",
        "product": "product",
        "sellable": "sellable",
        "custom_subject": "custom_subject"
      }
    },
    "capacity_hold_status": {
      "name": "capacity_hold_status",
      "values": {
        "active": "active",
        "released": "released",
        "consumed": "consumed",
        "expired": "expired",
        "cancelled": "cancelled"
      }
    },
    "capacity_hold_target_type": {
      "name": "capacity_hold_target_type",
      "values": {
        "calendar": "calendar",
        "capacity_pool": "capacity_pool",
        "resource": "resource",
        "offer_version": "offer_version",
        "custom_subject": "custom_subject"
      }
    },
    "capacity_pool_member_type": {
      "name": "capacity_pool_member_type",
      "values": {
        "resource": "resource",
        "offer_version": "offer_version",
        "location": "location",
        "custom_subject": "custom_subject"
      }
    },
    "capacity_pool_status": {
      "name": "capacity_pool_status",
      "values": {
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "certification_award_status": {
      "name": "certification_award_status",
      "values": {
        "awarded": "awarded",
        "revoked": "revoked",
        "expired": "expired"
      }
    },
    "channel_connection_status": {
      "name": "channel_connection_status",
      "values": {
        "active": "active",
        "inactive": "inactive",
        "error": "error",
        "revoked": "revoked"
      }
    },
    "channel_object_type": {
      "name": "channel_object_type",
      "values": {
        "offer_version": "offer_version",
        "availability": "availability",
        "booking_order": "booking_order",
        "customer": "customer",
        "resource": "resource",
        "class_session": "class_session",
        "custom": "custom"
      }
    },
    "channel_provider": {
      "name": "channel_provider",
      "values": {
        "google_reserve": "google_reserve",
        "classpass": "classpass",
        "instagram": "instagram",
        "facebook": "facebook",
        "meta_messenger": "meta_messenger",
        "custom": "custom"
      }
    },
    "channel_sync_direction": {
      "name": "channel_sync_direction",
      "values": {
        "inbound": "inbound",
        "outbound": "outbound",
        "bidirectional": "bidirectional"
      }
    },
    "channel_sync_item_status": {
      "name": "channel_sync_item_status",
      "values": {
        "pending": "pending",
        "succeeded": "succeeded",
        "failed": "failed",
        "skipped": "skipped"
      }
    },
    "channel_sync_job_status": {
      "name": "channel_sync_job_status",
      "values": {
        "queued": "queued",
        "running": "running",
        "succeeded": "succeeded",
        "partial": "partial",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "channel_webhook_status": {
      "name": "channel_webhook_status",
      "values": {
        "received": "received",
        "processed": "processed",
        "failed": "failed",
        "ignored": "ignored"
      }
    },
    "checkout_channel": {
      "name": "checkout_channel",
      "values": {
        "web": "web",
        "mobile": "mobile",
        "pos": "pos",
        "api": "api",
        "admin": "admin",
        "external_channel": "external_channel"
      }
    },
    "checkout_event_type": {
      "name": "checkout_event_type",
      "values": {
        "started": "started",
        "item_added": "item_added",
        "item_updated": "item_updated",
        "item_removed": "item_removed",
        "coupon_applied": "coupon_applied",
        "coupon_removed": "coupon_removed",
        "payment_started": "payment_started",
        "payment_failed": "payment_failed",
        "abandoned": "abandoned",
        "recovery_sent": "recovery_sent",
        "recovered": "recovered",
        "completed": "completed",
        "expired": "expired",
        "cancelled": "cancelled"
      }
    },
    "checkout_item_type": {
      "name": "checkout_item_type",
      "values": {
        "sellable": "sellable",
        "custom_fee": "custom_fee",
        "custom_subject": "custom_subject"
      }
    },
    "checkout_recovery_channel": {
      "name": "checkout_recovery_channel",
      "values": {
        "email": "email",
        "sms": "sms",
        "push": "push",
        "manual": "manual",
        "link": "link"
      }
    },
    "checkout_recovery_status": {
      "name": "checkout_recovery_status",
      "values": {
        "active": "active",
        "used": "used",
        "expired": "expired",
        "revoked": "revoked"
      }
    },
    "checkout_session_status": {
      "name": "checkout_session_status",
      "values": {
        "active": "active",
        "abandoned": "abandoned",
        "recovery_sent": "recovery_sent",
        "recovered": "recovered",
        "completed": "completed",
        "expired": "expired",
        "cancelled": "cancelled"
      }
    },
    "cohort_status": {
      "name": "cohort_status",
      "values": {
        "planned": "planned",
        "enrolling": "enrolling",
        "in_progress": "in_progress",
        "completed": "completed",
        "cancelled": "cancelled"
      }
    },
    "commitment_claim_event_type": {
      "name": "commitment_claim_event_type",
      "values": {
        "opened": "opened",
        "note": "note",
        "evidence_added": "evidence_added",
        "amount_updated": "amount_updated",
        "escalated": "escalated",
        "resolution_proposed": "resolution_proposed",
        "resolved": "resolved",
        "reopened": "reopened",
        "closed": "closed"
      }
    },
    "commitment_claim_resolution_type": {
      "name": "commitment_claim_resolution_type",
      "values": {
        "release_funds": "release_funds",
        "refund": "refund",
        "forfeit": "forfeit",
        "partial_settlement": "partial_settlement",
        "rework_required": "rework_required",
        "no_action": "no_action",
        "other": "other"
      }
    },
    "commitment_claim_status": {
      "name": "commitment_claim_status",
      "values": {
        "open": "open",
        "in_review": "in_review",
        "escalated": "escalated",
        "resolved": "resolved",
        "rejected": "rejected",
        "cancelled": "cancelled",
        "closed": "closed"
      }
    },
    "commitment_claim_type": {
      "name": "commitment_claim_type",
      "values": {
        "non_delivery": "non_delivery",
        "quality_issue": "quality_issue",
        "damage": "damage",
        "billing_dispute": "billing_dispute",
        "fraud": "fraud",
        "sla_breach": "sla_breach",
        "custom": "custom"
      }
    },
    "commitment_contract_status": {
      "name": "commitment_contract_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "paused": "paused",
        "completed": "completed",
        "cancelled": "cancelled",
        "defaulted": "defaulted",
        "disputed": "disputed"
      }
    },
    "commitment_contract_type": {
      "name": "commitment_contract_type",
      "values": {
        "escrow": "escrow",
        "retainage": "retainage",
        "service_commitment": "service_commitment",
        "payment_assurance": "payment_assurance",
        "custom": "custom"
      }
    },
    "commitment_milestone_evaluation_mode": {
      "name": "commitment_milestone_evaluation_mode",
      "values": {
        "all": "all",
        "any": "any",
        "threshold": "threshold"
      }
    },
    "commitment_milestone_release_mode": {
      "name": "commitment_milestone_release_mode",
      "values": {
        "manual": "manual",
        "automatic": "automatic"
      }
    },
    "commitment_milestone_status": {
      "name": "commitment_milestone_status",
      "values": {
        "pending": "pending",
        "ready": "ready",
        "released": "released",
        "skipped": "skipped",
        "cancelled": "cancelled"
      }
    },
    "commitment_obligation_status": {
      "name": "commitment_obligation_status",
      "values": {
        "pending": "pending",
        "in_progress": "in_progress",
        "satisfied": "satisfied",
        "waived": "waived",
        "breached": "breached",
        "cancelled": "cancelled",
        "expired": "expired"
      }
    },
    "commitment_obligation_type": {
      "name": "commitment_obligation_type",
      "values": {
        "payment": "payment",
        "service_delivery": "service_delivery",
        "evidence_submission": "evidence_submission",
        "inspection_pass": "inspection_pass",
        "approval": "approval",
        "custom": "custom"
      }
    },
    "communication_channel": {
      "name": "communication_channel",
      "values": {
        "sms": "sms",
        "email": "email",
        "push": "push",
        "whatsapp": "whatsapp",
        "postal": "postal",
        "voice": "voice",
        "webhook": "webhook"
      }
    },
    "communication_consent_source": {
      "name": "communication_consent_source",
      "values": {
        "user_action": "user_action",
        "admin_override": "admin_override",
        "import": "import",
        "system": "system",
        "legal_update": "legal_update"
      }
    },
    "communication_consent_status": {
      "name": "communication_consent_status",
      "values": {
        "opted_in": "opted_in",
        "opted_out": "opted_out",
        "suppressed": "suppressed"
      }
    },
    "communication_purpose": {
      "name": "communication_purpose",
      "values": {
        "transactional": "transactional",
        "marketing": "marketing",
        "operational": "operational",
        "legal": "legal"
      }
    },
    "compensation_calculation_mode": {
      "name": "compensation_calculation_mode",
      "values": {
        "flat_amount": "flat_amount",
        "percent_of_order_total": "percent_of_order_total",
        "percent_of_order_subtotal": "percent_of_order_subtotal",
        "percent_of_line_total": "percent_of_line_total",
        "hourly": "hourly",
        "base_plus_percent": "base_plus_percent"
      }
    },
    "compensation_ledger_entry_type": {
      "name": "compensation_ledger_entry_type",
      "values": {
        "accrual": "accrual",
        "adjustment": "adjustment",
        "reversal": "reversal",
        "hold": "hold",
        "release": "release",
        "payout": "payout",
        "correction": "correction"
      }
    },
    "compensation_pay_run_item_status": {
      "name": "compensation_pay_run_item_status",
      "values": {
        "pending": "pending",
        "approved": "approved",
        "withheld": "withheld",
        "paid": "paid",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "compensation_pay_run_status": {
      "name": "compensation_pay_run_status",
      "values": {
        "draft": "draft",
        "calculating": "calculating",
        "review": "review",
        "approved": "approved",
        "processing_payout": "processing_payout",
        "paid": "paid",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "compensation_plan_version_status": {
      "name": "compensation_plan_version_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "retired": "retired",
        "archived": "archived"
      }
    },
    "compensation_rule_selector_type": {
      "name": "compensation_rule_selector_type",
      "values": {
        "any": "any",
        "resource": "resource",
        "resource_type": "resource_type",
        "capability_template": "capability_template",
        "location": "location",
        "service": "service",
        "service_product": "service_product",
        "offer_component": "offer_component"
      }
    },
    "compliance_regime": {
      "name": "compliance_regime",
      "values": {
        "hipaa": "hipaa",
        "gdpr": "gdpr",
        "ccpa": "ccpa",
        "ferpa": "ferpa",
        "pci_dss": "pci_dss",
        "soc2": "soc2",
        "custom": "custom"
      }
    },
    "cross_biz_contract_status": {
      "name": "cross_biz_contract_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "suspended": "suspended",
        "terminated": "terminated",
        "expired": "expired"
      }
    },
    "cross_biz_order_status": {
      "name": "cross_biz_order_status",
      "values": {
        "draft": "draft",
        "pending": "pending",
        "confirmed": "confirmed",
        "fulfilled": "fulfilled",
        "settled": "settled",
        "cancelled": "cancelled",
        "disputed": "disputed"
      }
    },
    "custom_field_data_type": {
      "name": "custom_field_data_type",
      "values": {
        "short_text": "short_text",
        "long_text": "long_text",
        "number": "number",
        "boolean": "boolean",
        "date": "date",
        "datetime": "datetime",
        "single_select": "single_select",
        "multi_select": "multi_select",
        "currency": "currency",
        "email": "email",
        "phone": "phone",
        "url": "url",
        "json": "json"
      }
    },
    "custom_field_scope": {
      "name": "custom_field_scope",
      "values": {
        "biz": "biz",
        "location": "location"
      }
    },
    "custom_field_target_type": {
      "name": "custom_field_target_type",
      "values": {
        "biz": "biz",
        "location": "location",
        "user": "user",
        "group_account": "group_account",
        "resource": "resource",
        "service": "service",
        "service_product": "service_product",
        "offer": "offer",
        "offer_version": "offer_version",
        "product": "product",
        "sellable": "sellable",
        "booking_order": "booking_order",
        "booking_order_line": "booking_order_line",
        "fulfillment_unit": "fulfillment_unit",
        "payment_intent": "payment_intent",
        "queue_entry": "queue_entry",
        "trip": "trip",
        "custom": "custom"
      }
    },
    "custom_field_value_source": {
      "name": "custom_field_value_source",
      "values": {
        "user": "user",
        "system": "system",
        "extension": "extension",
        "import": "import",
        "migration": "migration"
      }
    },
    "custom_field_visibility": {
      "name": "custom_field_visibility",
      "values": {
        "public": "public",
        "internal": "internal",
        "private": "private",
        "system": "system"
      }
    },
    "data_subject_request_status": {
      "name": "data_subject_request_status",
      "values": {
        "submitted": "submitted",
        "verifying": "verifying",
        "identity_verified": "identity_verified",
        "processing": "processing",
        "fulfilled": "fulfilled",
        "denied": "denied",
        "cancelled": "cancelled"
      }
    },
    "data_subject_request_type": {
      "name": "data_subject_request_type",
      "values": {
        "access": "access",
        "rectification": "rectification",
        "deletion": "deletion",
        "portability": "portability",
        "restriction": "restriction",
        "objection": "objection"
      }
    },
    "demand_pricing_evaluation_status": {
      "name": "demand_pricing_evaluation_status",
      "values": {
        "applied": "applied",
        "no_match": "no_match",
        "capped": "capped",
        "blocked": "blocked",
        "error": "error"
      }
    },
    "demand_pricing_policy_status": {
      "name": "demand_pricing_policy_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "demand_pricing_scoring_mode": {
      "name": "demand_pricing_scoring_mode",
      "values": {
        "weighted_sum": "weighted_sum",
        "max_signal": "max_signal",
        "manual_only": "manual_only"
      }
    },
    "demand_pricing_target_type": {
      "name": "demand_pricing_target_type",
      "values": {
        "global": "global",
        "resource": "resource",
        "service": "service",
        "service_product": "service_product",
        "offer": "offer",
        "offer_version": "offer_version",
        "location": "location"
      }
    },
    "demand_signal_aggregation_method": {
      "name": "demand_signal_aggregation_method",
      "values": {
        "sum": "sum",
        "avg": "avg",
        "min": "min",
        "max": "max",
        "p50": "p50",
        "p90": "p90",
        "p95": "p95",
        "latest": "latest"
      }
    },
    "demand_signal_kind": {
      "name": "demand_signal_kind",
      "values": {
        "quote_requests": "quote_requests",
        "checkout_starts": "checkout_starts",
        "booking_conversions": "booking_conversions",
        "waitlist_depth": "waitlist_depth",
        "search_views": "search_views",
        "cancellation_rate": "cancellation_rate",
        "no_show_rate": "no_show_rate",
        "capacity_utilization": "capacity_utilization",
        "manual_index": "manual_index",
        "external_index": "external_index"
      }
    },
    "demand_signal_source": {
      "name": "demand_signal_source",
      "values": {
        "system": "system",
        "manual": "manual",
        "import": "import",
        "forecast": "forecast"
      }
    },
    "disclosure_recipient_type": {
      "name": "disclosure_recipient_type",
      "values": {
        "provider": "provider",
        "payer": "payer",
        "business_associate": "business_associate",
        "individual": "individual",
        "legal_authority": "legal_authority",
        "public_health_authority": "public_health_authority",
        "other": "other"
      }
    },
    "discount_campaign_status": {
      "name": "discount_campaign_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "paused": "paused",
        "expired": "expired",
        "archived": "archived"
      }
    },
    "discount_redemption_status": {
      "name": "discount_redemption_status",
      "values": {
        "reserved": "reserved",
        "applied": "applied",
        "voided": "voided",
        "reversed": "reversed"
      }
    },
    "discount_scope": {
      "name": "discount_scope",
      "values": {
        "order": "order",
        "line_item": "line_item",
        "sellable": "sellable",
        "service_product": "service_product",
        "offer_version": "offer_version"
      }
    },
    "discount_stacking_mode": {
      "name": "discount_stacking_mode",
      "values": {
        "exclusive": "exclusive",
        "stackable": "stackable",
        "capped_stack": "capped_stack"
      }
    },
    "discount_type": {
      "name": "discount_type",
      "values": {
        "percentage": "percentage",
        "fixed_amount": "fixed_amount",
        "free_item": "free_item",
        "free_service": "free_service"
      }
    },
    "dispatch_task_status": {
      "name": "dispatch_task_status",
      "values": {
        "queued": "queued",
        "assigned": "assigned",
        "accepted": "accepted",
        "en_route": "en_route",
        "in_progress": "in_progress",
        "done": "done",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "dispute_status": {
      "name": "dispute_status",
      "values": {
        "needs_response": "needs_response",
        "under_review": "under_review",
        "won": "won",
        "lost": "lost",
        "closed": "closed"
      }
    },
    "dsr_verification_method": {
      "name": "dsr_verification_method",
      "values": {
        "email_otp": "email_otp",
        "document": "document",
        "manual": "manual",
        "account_login": "account_login"
      }
    },
    "duration_mode": {
      "name": "duration_mode",
      "values": {
        "fixed": "fixed",
        "flexible": "flexible",
        "multi_day": "multi_day"
      }
    },
    "enrollment_status": {
      "name": "enrollment_status",
      "values": {
        "enrolled": "enrolled",
        "waitlisted": "waitlisted",
        "dropped": "dropped",
        "completed": "completed",
        "failed": "failed"
      }
    },
    "enterprise_contract_pack_binding_mode": {
      "name": "enterprise_contract_pack_binding_mode",
      "values": {
        "required": "required",
        "recommended": "recommended",
        "optional": "optional"
      }
    },
    "enterprise_delegation_status": {
      "name": "enterprise_delegation_status",
      "values": {
        "active": "active",
        "revoked": "revoked",
        "expired": "expired",
        "suspended": "suspended"
      }
    },
    "enterprise_directory_link_status": {
      "name": "enterprise_directory_link_status",
      "values": {
        "active": "active",
        "disabled": "disabled",
        "error": "error"
      }
    },
    "enterprise_identity_provider_type": {
      "name": "enterprise_identity_provider_type",
      "values": {
        "oidc": "oidc",
        "saml": "saml",
        "scim": "scim",
        "custom": "custom"
      }
    },
    "enterprise_resolution_status": {
      "name": "enterprise_resolution_status",
      "values": {
        "ready": "ready",
        "stale": "stale",
        "error": "error"
      }
    },
    "enterprise_rollout_status": {
      "name": "enterprise_rollout_status",
      "values": {
        "draft": "draft",
        "running": "running",
        "completed": "completed",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "enterprise_rollout_target_status": {
      "name": "enterprise_rollout_target_status",
      "values": {
        "pending": "pending",
        "applied": "applied",
        "skipped": "skipped",
        "failed": "failed"
      }
    },
    "enterprise_scim_sync_status": {
      "name": "enterprise_scim_sync_status",
      "values": {
        "pending": "pending",
        "running": "running",
        "succeeded": "succeeded",
        "partial": "partial",
        "failed": "failed"
      }
    },
    "enterprise_scope_type": {
      "name": "enterprise_scope_type",
      "values": {
        "network": "network",
        "biz": "biz",
        "location": "location",
        "subject": "subject"
      }
    },
    "entitlement_grant_type": {
      "name": "entitlement_grant_type",
      "values": {
        "pass": "pass",
        "credit": "credit",
        "time_allowance": "time_allowance",
        "seat_pack": "seat_pack",
        "custom": "custom"
      }
    },
    "entitlement_ledger_entry_type": {
      "name": "entitlement_ledger_entry_type",
      "values": {
        "grant": "grant",
        "consume": "consume",
        "expire": "expire",
        "rollover": "rollover",
        "transfer_in": "transfer_in",
        "transfer_out": "transfer_out",
        "adjustment": "adjustment",
        "reversal": "reversal"
      }
    },
    "entitlement_transfer_status": {
      "name": "entitlement_transfer_status",
      "values": {
        "requested": "requested",
        "approved": "approved",
        "rejected": "rejected",
        "completed": "completed",
        "cancelled": "cancelled",
        "expired": "expired"
      }
    },
    "eta_event_type": {
      "name": "eta_event_type",
      "values": {
        "predicted": "predicted",
        "updated": "updated",
        "arrived": "arrived",
        "departed": "departed",
        "delay_alert": "delay_alert"
      }
    },
    "extension_hook_delivery_mode": {
      "name": "extension_hook_delivery_mode",
      "values": {
        "internal_handler": "internal_handler",
        "webhook": "webhook"
      }
    },
    "extension_install_status": {
      "name": "extension_install_status",
      "values": {
        "active": "active",
        "disabled": "disabled",
        "suspended": "suspended",
        "uninstalled": "uninstalled"
      }
    },
    "extension_permission_effect": {
      "name": "extension_permission_effect",
      "values": {
        "allow": "allow",
        "deny": "deny"
      }
    },
    "extension_runtime_type": {
      "name": "extension_runtime_type",
      "values": {
        "internal": "internal",
        "webhook": "webhook"
      }
    },
    "extension_scope": {
      "name": "extension_scope",
      "values": {
        "biz": "biz",
        "location": "location",
        "custom_subject": "custom_subject"
      }
    },
    "extension_source_type": {
      "name": "extension_source_type",
      "values": {
        "first_party": "first_party",
        "partner": "partner",
        "third_party": "third_party",
        "private": "private"
      }
    },
    "external_calendar_event_busy_status": {
      "name": "external_calendar_event_busy_status",
      "values": {
        "free": "free",
        "tentative": "tentative",
        "busy": "busy",
        "out_of_office": "out_of_office",
        "unknown": "unknown"
      }
    },
    "external_calendar_event_status": {
      "name": "external_calendar_event_status",
      "values": {
        "confirmed": "confirmed",
        "tentative": "tentative",
        "cancelled": "cancelled"
      }
    },
    "external_calendar_sync_state": {
      "name": "external_calendar_sync_state",
      "values": {
        "pending": "pending",
        "active": "active",
        "paused": "paused",
        "error": "error"
      }
    },
    "fact_refresh_status": {
      "name": "fact_refresh_status",
      "values": {
        "running": "running",
        "succeeded": "succeeded",
        "partial": "partial",
        "failed": "failed"
      }
    },
    "fairness_window_unit": {
      "name": "fairness_window_unit",
      "values": {
        "day": "day",
        "week": "week",
        "month": "month"
      }
    },
    "fee_status": {
      "name": "fee_status",
      "values": {
        "applied": "applied",
        "waived": "waived",
        "credited": "credited",
        "refunded": "refunded"
      }
    },
    "fee_trigger": {
      "name": "fee_trigger",
      "values": {
        "on_booking": "on_booking",
        "on_confirmation": "on_confirmation",
        "on_arrival": "on_arrival",
        "on_no_show": "on_no_show",
        "on_late_cancel": "on_late_cancel",
        "manual": "manual"
      }
    },
    "fee_type": {
      "name": "fee_type",
      "values": {
        "phone_booking": "phone_booking",
        "discovery_call": "discovery_call",
        "onsite_visit": "onsite_visit",
        "after_hours": "after_hours",
        "emergency_callout": "emergency_callout",
        "late_cancel": "late_cancel",
        "no_show": "no_show"
      }
    },
    "fulfillment_assignment_conflict_policy": {
      "name": "fulfillment_assignment_conflict_policy",
      "values": {
        "enforce_no_overlap": "enforce_no_overlap",
        "allow_overlap": "allow_overlap"
      }
    },
    "fulfillment_assignment_event_type": {
      "name": "fulfillment_assignment_event_type",
      "values": {
        "created": "created",
        "status_changed": "status_changed",
        "resource_changed": "resource_changed",
        "window_changed": "window_changed",
        "conflict_policy_changed": "conflict_policy_changed",
        "cancelled": "cancelled",
        "completed": "completed",
        "metadata_updated": "metadata_updated"
      }
    },
    "fulfillment_assignment_status": {
      "name": "fulfillment_assignment_status",
      "values": {
        "proposed": "proposed",
        "reserved": "reserved",
        "confirmed": "confirmed",
        "in_progress": "in_progress",
        "completed": "completed",
        "cancelled": "cancelled",
        "failed": "failed"
      }
    },
    "fulfillment_checkpoint_status": {
      "name": "fulfillment_checkpoint_status",
      "values": {
        "pending": "pending",
        "completed": "completed",
        "skipped": "skipped",
        "failed": "failed"
      }
    },
    "fulfillment_checkpoint_type": {
      "name": "fulfillment_checkpoint_type",
      "values": {
        "arrival": "arrival",
        "check_in": "check_in",
        "start": "start",
        "pause": "pause",
        "resume": "resume",
        "pickup": "pickup",
        "dropoff": "dropoff",
        "completion": "completion",
        "no_access": "no_access"
      }
    },
    "fulfillment_dependency_type": {
      "name": "fulfillment_dependency_type",
      "values": {
        "must_follow": "must_follow",
        "same_day": "same_day",
        "min_gap": "min_gap",
        "max_gap": "max_gap",
        "hard_block_if_missing": "hard_block_if_missing"
      }
    },
    "fulfillment_unit_kind": {
      "name": "fulfillment_unit_kind",
      "values": {
        "service_task": "service_task",
        "rental_segment": "rental_segment",
        "transport_leg": "transport_leg",
        "queue_service": "queue_service",
        "async_review": "async_review"
      }
    },
    "fulfillment_unit_status": {
      "name": "fulfillment_unit_status",
      "values": {
        "planned": "planned",
        "ready": "ready",
        "held": "held",
        "in_progress": "in_progress",
        "completed": "completed",
        "cancelled": "cancelled",
        "blocked": "blocked"
      }
    },
    "fx_rate_source": {
      "name": "fx_rate_source",
      "values": {
        "provider": "provider",
        "manual": "manual",
        "custom": "custom"
      }
    },
    "gift_expiration_reason": {
      "name": "gift_expiration_reason",
      "values": {
        "scheduled_expiry": "scheduled_expiry",
        "manual_expiry": "manual_expiry",
        "policy_expiry": "policy_expiry"
      }
    },
    "gift_instrument_source_type": {
      "name": "gift_instrument_source_type",
      "values": {
        "manual": "manual",
        "purchase": "purchase",
        "promotion": "promotion",
        "compensation": "compensation",
        "transfer_split": "transfer_split",
        "migration": "migration",
        "external": "external"
      }
    },
    "gift_instrument_status": {
      "name": "gift_instrument_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "partially_redeemed": "partially_redeemed",
        "redeemed": "redeemed",
        "expired": "expired",
        "voided": "voided"
      }
    },
    "gift_ledger_entry_type": {
      "name": "gift_ledger_entry_type",
      "values": {
        "issuance": "issuance",
        "redemption": "redemption",
        "redemption_reversal": "redemption_reversal",
        "transfer_out": "transfer_out",
        "transfer_in": "transfer_in",
        "expiration": "expiration",
        "void_adjustment": "void_adjustment",
        "manual_adjustment": "manual_adjustment"
      }
    },
    "gift_redemption_status": {
      "name": "gift_redemption_status",
      "values": {
        "applied": "applied",
        "reversed": "reversed",
        "failed": "failed"
      }
    },
    "gift_transfer_mode": {
      "name": "gift_transfer_mode",
      "values": {
        "full_transfer": "full_transfer",
        "split_transfer": "split_transfer"
      }
    },
    "gift_transfer_status": {
      "name": "gift_transfer_status",
      "values": {
        "pending": "pending",
        "completed": "completed",
        "cancelled": "cancelled",
        "failed": "failed"
      }
    },
    "grading_event_type": {
      "name": "grading_event_type",
      "values": {
        "attempt_started": "attempt_started",
        "attempt_submitted": "attempt_submitted",
        "auto_graded": "auto_graded",
        "manual_graded": "manual_graded",
        "regraded": "regraded",
        "waived": "waived",
        "override_pass": "override_pass",
        "override_fail": "override_fail",
        "feedback_added": "feedback_added"
      }
    },
    "hipaa_authorization_status": {
      "name": "hipaa_authorization_status",
      "values": {
        "draft": "draft",
        "signed": "signed",
        "revoked": "revoked",
        "expired": "expired"
      }
    },
    "hipaa_purpose_of_use": {
      "name": "hipaa_purpose_of_use",
      "values": {
        "treatment": "treatment",
        "payment": "payment",
        "operations": "operations",
        "public_health": "public_health",
        "legal": "legal",
        "research": "research",
        "individual_request": "individual_request",
        "emergency": "emergency",
        "other": "other"
      }
    },
    "idempotency_status": {
      "name": "idempotency_status",
      "values": {
        "processing": "processing",
        "completed": "completed",
        "failed": "failed"
      }
    },
    "interaction_artifact_type": {
      "name": "interaction_artifact_type",
      "values": {
        "file": "file",
        "image": "image",
        "video": "video",
        "audio": "audio",
        "pdf": "pdf",
        "signature": "signature",
        "other": "other"
      }
    },
    "interaction_assignment_status": {
      "name": "interaction_assignment_status",
      "values": {
        "pending": "pending",
        "in_progress": "in_progress",
        "completed": "completed",
        "expired": "expired",
        "waived": "waived",
        "cancelled": "cancelled"
      }
    },
    "interaction_requirement_mode": {
      "name": "interaction_requirement_mode",
      "values": {
        "required": "required",
        "optional": "optional"
      }
    },
    "interaction_submission_status": {
      "name": "interaction_submission_status",
      "values": {
        "draft": "draft",
        "submitted": "submitted",
        "accepted": "accepted",
        "rejected": "rejected",
        "withdrawn": "withdrawn",
        "expired": "expired"
      }
    },
    "interaction_template_type": {
      "name": "interaction_template_type",
      "values": {
        "intake_form": "intake_form",
        "waiver": "waiver",
        "release_form": "release_form",
        "checklist": "checklist",
        "survey": "survey",
        "other": "other"
      }
    },
    "intercompany_account_type": {
      "name": "intercompany_account_type",
      "values": {
        "clearing": "clearing",
        "royalty": "royalty",
        "management_fee": "management_fee",
        "cost_share": "cost_share",
        "custom": "custom"
      }
    },
    "intercompany_entry_status": {
      "name": "intercompany_entry_status",
      "values": {
        "pending": "pending",
        "posted": "posted",
        "reversed": "reversed",
        "voided": "voided"
      }
    },
    "intercompany_entry_type": {
      "name": "intercompany_entry_type",
      "values": {
        "accrual": "accrual",
        "adjustment": "adjustment",
        "settlement": "settlement",
        "reversal": "reversal"
      }
    },
    "intercompany_settlement_run_status": {
      "name": "intercompany_settlement_run_status",
      "values": {
        "draft": "draft",
        "running": "running",
        "completed": "completed",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "inventory_location_kind": {
      "name": "inventory_location_kind",
      "values": {
        "warehouse": "warehouse",
        "storefront": "storefront",
        "vehicle": "vehicle",
        "virtual": "virtual",
        "supplier": "supplier",
        "third_party": "third_party",
        "customer_site": "customer_site"
      }
    },
    "inventory_movement_type": {
      "name": "inventory_movement_type",
      "values": {
        "opening_balance": "opening_balance",
        "receive": "receive",
        "reserve": "reserve",
        "release": "release",
        "commit": "commit",
        "adjustment_increase": "adjustment_increase",
        "adjustment_decrease": "adjustment_decrease",
        "transfer_in": "transfer_in",
        "transfer_out": "transfer_out",
        "return_in": "return_in",
        "return_to_vendor": "return_to_vendor",
        "damage": "damage",
        "shrinkage": "shrinkage",
        "cycle_count": "cycle_count"
      }
    },
    "inventory_reservation_status": {
      "name": "inventory_reservation_status",
      "values": {
        "reserved": "reserved",
        "partially_committed": "partially_committed",
        "committed": "committed",
        "released": "released",
        "expired": "expired",
        "cancelled": "cancelled"
      }
    },
    "invoice_event_type": {
      "name": "invoice_event_type",
      "values": {
        "created": "created",
        "issued": "issued",
        "sent": "sent",
        "viewed": "viewed",
        "payment_recorded": "payment_recorded",
        "partial_payment": "partial_payment",
        "voided": "voided",
        "disputed": "disputed",
        "resolved": "resolved",
        "note": "note"
      }
    },
    "leave_accrual_period": {
      "name": "leave_accrual_period",
      "values": {
        "per_hour_worked": "per_hour_worked",
        "weekly": "weekly",
        "biweekly": "biweekly",
        "monthly": "monthly",
        "yearly": "yearly",
        "manual": "manual"
      }
    },
    "leave_event_type": {
      "name": "leave_event_type",
      "values": {
        "grant": "grant",
        "accrual": "accrual",
        "adjustment": "adjustment",
        "request_approved": "request_approved",
        "request_reversed": "request_reversed",
        "expiry": "expiry",
        "carryover": "carryover"
      }
    },
    "leave_request_status": {
      "name": "leave_request_status",
      "values": {
        "pending": "pending",
        "approved": "approved",
        "rejected": "rejected",
        "cancelled": "cancelled",
        "withdrawn": "withdrawn"
      }
    },
    "leave_unit": {
      "name": "leave_unit",
      "values": {
        "minutes": "minutes",
        "hours": "hours",
        "days": "days"
      }
    },
    "legal_hold_scope": {
      "name": "legal_hold_scope",
      "values": {
        "tenant": "tenant",
        "offer": "offer",
        "booking_order": "booking_order",
        "payment": "payment",
        "audit_log": "audit_log",
        "custom": "custom"
      }
    },
    "legal_hold_status": {
      "name": "legal_hold_status",
      "values": {
        "active": "active",
        "released": "released",
        "expired": "expired"
      }
    },
    "lifecycle_event_phase": {
      "name": "lifecycle_event_phase",
      "values": {
        "before": "before",
        "after": "after"
      }
    },
    "lifecycle_event_source": {
      "name": "lifecycle_event_source",
      "values": {
        "api": "api",
        "system": "system",
        "workflow": "workflow",
        "integration": "integration",
        "manual": "manual",
        "migration": "migration"
      }
    },
    "lifecycle_status": {
      "name": "lifecycle_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "location_type": {
      "name": "location_type",
      "values": {
        "physical": "physical",
        "virtual": "virtual",
        "mobile": "mobile",
        "hybrid": "hybrid"
      }
    },
    "maintenance_action_type": {
      "name": "maintenance_action_type",
      "values": {
        "create_work_order": "create_work_order",
        "block_resource": "block_resource",
        "warn_only": "warn_only",
        "notify_only": "notify_only"
      }
    },
    "maintenance_trigger_type": {
      "name": "maintenance_trigger_type",
      "values": {
        "usage_hours": "usage_hours",
        "usage_count": "usage_count",
        "elapsed_days": "elapsed_days",
        "calendar_date": "calendar_date",
        "manual": "manual"
      }
    },
    "maintenance_work_order_status": {
      "name": "maintenance_work_order_status",
      "values": {
        "open": "open",
        "scheduled": "scheduled",
        "in_progress": "in_progress",
        "completed": "completed",
        "cancelled": "cancelled",
        "deferred": "deferred"
      }
    },
    "marketing_campaign_status": {
      "name": "marketing_campaign_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "paused": "paused",
        "completed": "completed",
        "archived": "archived"
      }
    },
    "marketing_campaign_step_type": {
      "name": "marketing_campaign_step_type",
      "values": {
        "delay": "delay",
        "message": "message",
        "condition": "condition",
        "exit": "exit"
      }
    },
    "marketing_enrollment_status": {
      "name": "marketing_enrollment_status",
      "values": {
        "active": "active",
        "completed": "completed",
        "exited": "exited",
        "failed": "failed",
        "paused": "paused"
      }
    },
    "marketplace_listing_status": {
      "name": "marketplace_listing_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "paused": "paused",
        "closed": "closed",
        "archived": "archived"
      }
    },
    "marketplace_listing_type": {
      "name": "marketplace_listing_type",
      "values": {
        "offer_version": "offer_version",
        "resource": "resource",
        "package": "package"
      }
    },
    "membership_billing_interval_unit": {
      "name": "membership_billing_interval_unit",
      "values": {
        "day": "day",
        "week": "week",
        "month": "month",
        "year": "year",
        "custom": "custom"
      }
    },
    "membership_plan_status": {
      "name": "membership_plan_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "membership_status": {
      "name": "membership_status",
      "values": {
        "trialing": "trialing",
        "active": "active",
        "paused": "paused",
        "past_due": "past_due",
        "cancelled": "cancelled",
        "expired": "expired"
      }
    },
    "membership_subscription_status": {
      "name": "membership_subscription_status",
      "values": {
        "trialing": "trialing",
        "active": "active",
        "paused": "paused",
        "past_due": "past_due",
        "cancelled": "cancelled",
        "expired": "expired"
      }
    },
    "message_delivery_status": {
      "name": "message_delivery_status",
      "values": {
        "queued": "queued",
        "processing": "processing",
        "sent": "sent",
        "delivered": "delivered",
        "failed": "failed",
        "bounced": "bounced",
        "opened": "opened",
        "clicked": "clicked",
        "replied": "replied",
        "cancelled": "cancelled",
        "suppressed": "suppressed"
      }
    },
    "message_event_type": {
      "name": "message_event_type",
      "values": {
        "queued": "queued",
        "sent": "sent",
        "delivered": "delivered",
        "failed": "failed",
        "bounced": "bounced",
        "opened": "opened",
        "clicked": "clicked",
        "replied": "replied",
        "complained": "complained",
        "unsubscribed": "unsubscribed",
        "other": "other"
      }
    },
    "note_status": {
      "name": "note_status",
      "values": {
        "active": "active",
        "archived": "archived",
        "deleted": "deleted"
      }
    },
    "note_target_type": {
      "name": "note_target_type",
      "values": {
        "booking_order": "booking_order",
        "fulfillment_unit": "fulfillment_unit",
        "resource": "resource",
        "offer": "offer",
        "offer_version": "offer_version",
        "customer": "customer",
        "queue_entry": "queue_entry",
        "trip": "trip",
        "custom": "custom"
      }
    },
    "note_visibility": {
      "name": "note_visibility",
      "values": {
        "public": "public",
        "private": "private",
        "ai": "ai",
        "system": "system"
      }
    },
    "requirement_mode": {
      "name": "requirement_mode",
      "values": {
        "required": "required",
        "optional": "optional"
      }
    },
    "selector_match_mode": {
      "name": "selector_match_mode",
      "values": {
        "any": "any",
        "all": "all"
      }
    },
    "resource_selector_type": {
      "name": "resource_selector_type",
      "values": {
        "any": "any",
        "resource": "resource",
        "resource_type": "resource_type",
        "capability_template": "capability_template",
        "location": "location",
        "custom_subject": "custom_subject"
      }
    },
    "resource_type": {
      "name": "resource_type",
      "values": {
        "host": "host",
        "company_host": "company_host",
        "asset": "asset",
        "venue": "venue"
      }
    },
    "offer_execution_mode": {
      "name": "offer_execution_mode",
      "values": {
        "slot": "slot",
        "queue": "queue",
        "request": "request",
        "auction": "auction",
        "async": "async",
        "route_trip": "route_trip",
        "open_access": "open_access",
        "itinerary": "itinerary"
      }
    },
    "offer_seat_pricing_mode": {
      "name": "offer_seat_pricing_mode",
      "values": {
        "included": "included",
        "surcharge": "surcharge",
        "multiplier": "multiplier"
      }
    },
    "offer_status": {
      "name": "offer_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "offer_version_status": {
      "name": "offer_version_status",
      "values": {
        "draft": "draft",
        "published": "published",
        "superseded": "superseded",
        "retired": "retired"
      }
    },
    "offline_conflict_status": {
      "name": "offline_conflict_status",
      "values": {
        "open": "open",
        "resolved": "resolved",
        "ignored": "ignored",
        "escalated": "escalated"
      }
    },
    "offline_conflict_type": {
      "name": "offline_conflict_type",
      "values": {
        "version_mismatch": "version_mismatch",
        "uniqueness_violation": "uniqueness_violation",
        "dependency_missing": "dependency_missing",
        "permission_denied": "permission_denied",
        "deleted_remote": "deleted_remote",
        "custom": "custom"
      }
    },
    "offline_operation_kind": {
      "name": "offline_operation_kind",
      "values": {
        "create": "create",
        "update": "update",
        "delete": "delete",
        "upsert": "upsert",
        "custom": "custom"
      }
    },
    "offline_operation_status": {
      "name": "offline_operation_status",
      "values": {
        "pending": "pending",
        "applied": "applied",
        "conflict": "conflict",
        "rejected": "rejected",
        "failed": "failed",
        "superseded": "superseded"
      }
    },
    "offline_resolution_action": {
      "name": "offline_resolution_action",
      "values": {
        "use_local": "use_local",
        "use_remote": "use_remote",
        "manual_merge": "manual_merge",
        "replay_with_patch": "replay_with_patch",
        "cancel_operation": "cancel_operation"
      }
    },
    "operational_assignment_source_type": {
      "name": "operational_assignment_source_type",
      "values": {
        "fulfillment_assignment": "fulfillment_assignment",
        "staffing_assignment": "staffing_assignment",
        "custom_subject": "custom_subject"
      }
    },
    "operational_demand_source_type": {
      "name": "operational_demand_source_type",
      "values": {
        "fulfillment_unit": "fulfillment_unit",
        "staffing_demand": "staffing_demand",
        "custom_subject": "custom_subject"
      }
    },
    "org_membership_role": {
      "name": "org_membership_role",
      "values": {
        "owner": "owner",
        "admin": "admin",
        "manager": "manager",
        "staff": "staff",
        "host": "host",
        "customer": "customer"
      }
    },
    "outbox_status": {
      "name": "outbox_status",
      "values": {
        "pending": "pending",
        "processing": "processing",
        "published": "published",
        "failed": "failed",
        "dead_letter": "dead_letter"
      }
    },
    "overtime_forecast_status": {
      "name": "overtime_forecast_status",
      "values": {
        "projected": "projected",
        "confirmed": "confirmed",
        "mitigated": "mitigated",
        "ignored": "ignored"
      }
    },
    "overtime_policy_scope": {
      "name": "overtime_policy_scope",
      "values": {
        "biz": "biz",
        "location": "location",
        "resource_type": "resource_type",
        "resource": "resource"
      }
    },
    "overtime_policy_status": {
      "name": "overtime_policy_status",
      "values": {
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "package_wallet_status": {
      "name": "package_wallet_status",
      "values": {
        "active": "active",
        "expired": "expired",
        "depleted": "depleted",
        "cancelled": "cancelled"
      }
    },
    "participant_obligation_event_type": {
      "name": "participant_obligation_event_type",
      "values": {
        "created": "created",
        "updated": "updated",
        "satisfied": "satisfied",
        "waived": "waived",
        "cancelled": "cancelled",
        "reopened": "reopened",
        "payment_applied": "payment_applied",
        "note": "note"
      }
    },
    "participant_obligation_status": {
      "name": "participant_obligation_status",
      "values": {
        "pending": "pending",
        "satisfied": "satisfied",
        "waived": "waived",
        "cancelled": "cancelled",
        "overdue": "overdue"
      }
    },
    "participant_obligation_type": {
      "name": "participant_obligation_type",
      "values": {
        "payment_contribution": "payment_contribution",
        "consent": "consent",
        "identity_verification": "identity_verification",
        "attendance": "attendance",
        "document_submission": "document_submission",
        "custom": "custom"
      }
    },
    "payment_dispute_status": {
      "name": "payment_dispute_status",
      "values": {
        "warning_needs_response": "warning_needs_response",
        "needs_response": "needs_response",
        "under_review": "under_review",
        "won": "won",
        "lost": "lost",
        "cancelled": "cancelled"
      }
    },
    "payment_intent_event_type": {
      "name": "payment_intent_event_type",
      "values": {
        "created": "created",
        "status_changed": "status_changed",
        "amount_updated": "amount_updated",
        "authorized": "authorized",
        "captured": "captured",
        "partially_captured": "partially_captured",
        "failed": "failed",
        "cancelled": "cancelled",
        "refunded": "refunded",
        "metadata_updated": "metadata_updated"
      }
    },
    "payment_intent_status": {
      "name": "payment_intent_status",
      "values": {
        "requires_payment_method": "requires_payment_method",
        "requires_confirmation": "requires_confirmation",
        "requires_capture": "requires_capture",
        "processing": "processing",
        "succeeded": "succeeded",
        "partially_paid": "partially_paid",
        "failed": "failed",
        "cancelled": "cancelled",
        "refunded": "refunded"
      }
    },
    "payment_method_type": {
      "name": "payment_method_type",
      "values": {
        "card": "card",
        "cash": "cash",
        "bank_transfer": "bank_transfer",
        "wallet": "wallet",
        "gift_card": "gift_card",
        "external_channel_credit": "external_channel_credit",
        "custom": "custom"
      }
    },
    "payment_status": {
      "name": "payment_status",
      "values": {
        "unpaid": "unpaid",
        "pending": "pending",
        "partial": "partial",
        "paid": "paid",
        "refunded": "refunded",
        "disputed": "disputed",
        "voided": "voided"
      }
    },
    "payment_transaction_status": {
      "name": "payment_transaction_status",
      "values": {
        "pending": "pending",
        "processing": "processing",
        "succeeded": "succeeded",
        "failed": "failed",
        "cancelled": "cancelled",
        "disputed": "disputed"
      }
    },
    "payment_transaction_type": {
      "name": "payment_transaction_type",
      "values": {
        "authorization": "authorization",
        "capture": "capture",
        "charge": "charge",
        "refund": "refund",
        "void": "void",
        "chargeback": "chargeback",
        "chargeback_reversal": "chargeback_reversal",
        "fee": "fee",
        "adjustment": "adjustment",
        "payout": "payout",
        "transfer": "transfer"
      }
    },
    "payout_ledger_entry_type": {
      "name": "payout_ledger_entry_type",
      "values": {
        "credit": "credit",
        "debit": "debit",
        "fee": "fee",
        "adjustment": "adjustment",
        "reversal": "reversal"
      }
    },
    "payout_status": {
      "name": "payout_status",
      "values": {
        "pending": "pending",
        "in_transit": "in_transit",
        "paid": "paid",
        "failed": "failed",
        "cancelled": "cancelled",
        "reversed": "reversed"
      }
    },
    "phi_access_action": {
      "name": "phi_access_action",
      "values": {
        "view": "view",
        "create": "create",
        "update": "update",
        "delete": "delete",
        "export": "export",
        "print": "print",
        "disclose": "disclose"
      }
    },
    "phi_access_decision": {
      "name": "phi_access_decision",
      "values": {
        "allowed": "allowed",
        "denied": "denied"
      }
    },
    "physical_fulfillment_item_status": {
      "name": "physical_fulfillment_item_status",
      "values": {
        "pending": "pending",
        "allocated": "allocated",
        "picked": "picked",
        "packed": "packed",
        "shipped": "shipped",
        "delivered": "delivered",
        "returned": "returned",
        "cancelled": "cancelled"
      }
    },
    "physical_fulfillment_method": {
      "name": "physical_fulfillment_method",
      "values": {
        "shipment": "shipment",
        "pickup": "pickup",
        "onsite_handover": "onsite_handover",
        "locker_pickup": "locker_pickup",
        "third_party_delivery": "third_party_delivery"
      }
    },
    "physical_fulfillment_status": {
      "name": "physical_fulfillment_status",
      "values": {
        "draft": "draft",
        "allocated": "allocated",
        "picking": "picking",
        "packed": "packed",
        "shipped": "shipped",
        "out_for_delivery": "out_for_delivery",
        "delivered": "delivered",
        "returned": "returned",
        "cancelled": "cancelled",
        "failed": "failed"
      }
    },
    "pii_sensitivity_level": {
      "name": "pii_sensitivity_level",
      "values": {
        "low": "low",
        "moderate": "moderate",
        "high": "high",
        "restricted": "restricted"
      }
    },
    "policy_binding_target_type": {
      "name": "policy_binding_target_type",
      "values": {
        "biz": "biz",
        "location": "location",
        "resource": "resource",
        "service": "service",
        "service_product": "service_product",
        "offer": "offer",
        "offer_version": "offer_version",
        "queue": "queue",
        "subject": "subject"
      }
    },
    "policy_breach_detection_source": {
      "name": "policy_breach_detection_source",
      "values": {
        "auto_engine": "auto_engine",
        "manual_review": "manual_review",
        "external_import": "external_import",
        "plugin": "plugin"
      }
    },
    "policy_breach_status": {
      "name": "policy_breach_status",
      "values": {
        "open": "open",
        "acknowledged": "acknowledged",
        "in_review": "in_review",
        "resolved": "resolved",
        "waived": "waived",
        "dismissed": "dismissed"
      }
    },
    "policy_consequence_status": {
      "name": "policy_consequence_status",
      "values": {
        "planned": "planned",
        "applied": "applied",
        "failed": "failed",
        "reverted": "reverted",
        "cancelled": "cancelled"
      }
    },
    "policy_consequence_type": {
      "name": "policy_consequence_type",
      "values": {
        "warning": "warning",
        "cooldown": "cooldown",
        "suspension": "suspension",
        "compensation_adjustment": "compensation_adjustment",
        "payment_adjustment": "payment_adjustment",
        "credit": "credit",
        "debit": "debit",
        "queue_review": "queue_review",
        "workflow_trigger": "workflow_trigger",
        "custom": "custom"
      }
    },
    "policy_rule_aggregation_mode": {
      "name": "policy_rule_aggregation_mode",
      "values": {
        "all": "all",
        "any": "any",
        "threshold": "threshold"
      }
    },
    "policy_rule_predicate_type": {
      "name": "policy_rule_predicate_type",
      "values": {
        "expression": "expression",
        "metric_threshold": "metric_threshold",
        "schedule_window": "schedule_window",
        "event_pattern": "event_pattern",
        "custom": "custom"
      }
    },
    "policy_rule_severity": {
      "name": "policy_rule_severity",
      "values": {
        "low": "low",
        "medium": "medium",
        "high": "high",
        "critical": "critical"
      }
    },
    "pricing_adjustment_type": {
      "name": "pricing_adjustment_type",
      "values": {
        "set_price": "set_price",
        "fixed_amount": "fixed_amount",
        "percentage": "percentage"
      }
    },
    "pricing_apply_as": {
      "name": "pricing_apply_as",
      "values": {
        "base_price": "base_price",
        "discount": "discount",
        "surcharge": "surcharge",
        "call_fee": "call_fee",
        "booking_fee": "booking_fee",
        "after_hours_fee": "after_hours_fee",
        "emergency_fee": "emergency_fee"
      }
    },
    "pricing_rule_type": {
      "name": "pricing_rule_type",
      "values": {
        "base_override": "base_override",
        "day_of_week": "day_of_week",
        "time_window": "time_window",
        "date_range": "date_range",
        "holiday": "holiday",
        "manual": "manual"
      }
    },
    "privacy_identity_mode": {
      "name": "privacy_identity_mode",
      "values": {
        "full_identity": "full_identity",
        "pseudonymous": "pseudonymous",
        "anonymous": "anonymous",
        "sealed": "sealed"
      }
    },
    "product_type": {
      "name": "product_type",
      "values": {
        "physical": "physical",
        "digital": "digital",
        "service": "service",
        "membership": "membership",
        "pass": "pass",
        "credit_pack": "credit_pack",
        "fee": "fee",
        "other": "other"
      }
    },
    "program_enrollment_status": {
      "name": "program_enrollment_status",
      "values": {
        "active": "active",
        "paused": "paused",
        "completed": "completed",
        "cancelled": "cancelled"
      }
    },
    "program_session_status": {
      "name": "program_session_status",
      "values": {
        "planned": "planned",
        "scheduled": "scheduled",
        "in_progress": "in_progress",
        "completed": "completed",
        "cancelled": "cancelled"
      }
    },
    "program_status": {
      "name": "program_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "projection_health_status": {
      "name": "projection_health_status",
      "values": {
        "healthy": "healthy",
        "lagging": "lagging",
        "degraded": "degraded",
        "failed": "failed"
      }
    },
    "projection_scope_type": {
      "name": "projection_scope_type",
      "values": {
        "biz": "biz",
        "location": "location",
        "resource": "resource",
        "sellable": "sellable",
        "custom_subject": "custom_subject"
      }
    },
    "purchase_order_status": {
      "name": "purchase_order_status",
      "values": {
        "draft": "draft",
        "issued": "issued",
        "accepted": "accepted",
        "partially_billed": "partially_billed",
        "closed": "closed",
        "cancelled": "cancelled"
      }
    },
    "queue_entry_status": {
      "name": "queue_entry_status",
      "values": {
        "waiting": "waiting",
        "offered": "offered",
        "claimed": "claimed",
        "expired": "expired",
        "removed": "removed",
        "served": "served",
        "cancelled": "cancelled",
        "no_show": "no_show"
      }
    },
    "queue_event_type": {
      "name": "queue_event_type",
      "values": {
        "joined": "joined",
        "offered": "offered",
        "claimed": "claimed",
        "expired": "expired",
        "cancelled": "cancelled",
        "called": "called",
        "served": "served",
        "status_changed": "status_changed",
        "priority_changed": "priority_changed",
        "estimate_updated": "estimate_updated"
      }
    },
    "queue_status": {
      "name": "queue_status",
      "values": {
        "active": "active",
        "paused": "paused",
        "closed": "closed",
        "archived": "archived"
      }
    },
    "queue_strategy": {
      "name": "queue_strategy",
      "values": {
        "fifo": "fifo",
        "priority": "priority",
        "weighted": "weighted",
        "fair_share": "fair_share"
      }
    },
    "queue_ticket_status": {
      "name": "queue_ticket_status",
      "values": {
        "issued": "issued",
        "called": "called",
        "serving": "serving",
        "completed": "completed",
        "cancelled": "cancelled",
        "expired": "expired"
      }
    },
    "ranking_event_type": {
      "name": "ranking_event_type",
      "values": {
        "booking_completed": "booking_completed",
        "cancelled_by_host": "cancelled_by_host",
        "cancelled_by_customer": "cancelled_by_customer",
        "no_show": "no_show",
        "rating_received": "rating_received",
        "manual_adjustment": "manual_adjustment"
      }
    },
    "ranking_model_status": {
      "name": "ranking_model_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "redaction_job_status": {
      "name": "redaction_job_status",
      "values": {
        "queued": "queued",
        "running": "running",
        "completed": "completed",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "redaction_target_type": {
      "name": "redaction_target_type",
      "values": {
        "user": "user",
        "booking_order": "booking_order",
        "fulfillment_unit": "fulfillment_unit",
        "payment": "payment",
        "note": "note",
        "attachment": "attachment",
        "custom": "custom"
      }
    },
    "referral_event_type": {
      "name": "referral_event_type",
      "values": {
        "referral_created": "referral_created",
        "qualified_purchase": "qualified_purchase",
        "converted": "converted",
        "reward_granted": "reward_granted",
        "expired": "expired",
        "reversed": "reversed"
      }
    },
    "referral_reward_status": {
      "name": "referral_reward_status",
      "values": {
        "pending": "pending",
        "approved": "approved",
        "granted": "granted",
        "reversed": "reversed",
        "expired": "expired"
      }
    },
    "requirement_edge_type": {
      "name": "requirement_edge_type",
      "values": {
        "depends_on": "depends_on",
        "unlocks": "unlocks",
        "blocks": "blocks"
      }
    },
    "requirement_evaluation_status": {
      "name": "requirement_evaluation_status",
      "values": {
        "pending": "pending",
        "in_progress": "in_progress",
        "passed": "passed",
        "failed": "failed",
        "blocked": "blocked",
        "waived": "waived",
        "expired": "expired"
      }
    },
    "requirement_evidence_type": {
      "name": "requirement_evidence_type",
      "values": {
        "subject": "subject",
        "external_reference": "external_reference",
        "artifact": "artifact",
        "event": "event"
      }
    },
    "requirement_item_status": {
      "name": "requirement_item_status",
      "values": {
        "pending": "pending",
        "blocked": "blocked",
        "completed": "completed",
        "skipped": "skipped",
        "waived": "waived"
      }
    },
    "requirement_item_type": {
      "name": "requirement_item_type",
      "values": {
        "confirm": "confirm",
        "upload": "upload",
        "watch": "watch",
        "purchase": "purchase",
        "attestation": "attestation",
        "custom": "custom"
      }
    },
    "requirement_node_type": {
      "name": "requirement_node_type",
      "values": {
        "predicate": "predicate",
        "group": "group",
        "milestone": "milestone",
        "manual": "manual",
        "custom": "custom"
      }
    },
    "requirement_set_evaluation_mode": {
      "name": "requirement_set_evaluation_mode",
      "values": {
        "all": "all",
        "any": "any",
        "threshold": "threshold"
      }
    },
    "requirement_set_status": {
      "name": "requirement_set_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "reservation_hold_reason": {
      "name": "reservation_hold_reason",
      "values": {
        "checkout": "checkout",
        "cooldown": "cooldown",
        "manual": "manual",
        "sync": "sync",
        "waitlist_offer": "waitlist_offer"
      }
    },
    "reservation_status": {
      "name": "reservation_status",
      "values": {
        "active": "active",
        "expired": "expired",
        "converted": "converted",
        "cancelled": "cancelled"
      }
    },
    "residency_enforcement_mode": {
      "name": "residency_enforcement_mode",
      "values": {
        "hard_block": "hard_block",
        "soft_warn": "soft_warn",
        "report_only": "report_only"
      }
    },
    "residency_scope": {
      "name": "residency_scope",
      "values": {
        "global": "global",
        "region": "region",
        "country": "country",
        "tenant_custom": "tenant_custom"
      }
    },
    "resource_capability_scope": {
      "name": "resource_capability_scope",
      "values": {
        "host": "host",
        "company_host": "company_host",
        "asset": "asset",
        "venue": "venue"
      }
    },
    "resource_condition_report_type": {
      "name": "resource_condition_report_type",
      "values": {
        "pre_use": "pre_use",
        "post_use": "post_use",
        "inspection": "inspection",
        "incident": "incident",
        "return_check": "return_check"
      }
    },
    "resource_rate_unit": {
      "name": "resource_rate_unit",
      "values": {
        "flat": "flat",
        "per_minute": "per_minute",
        "per_hour": "per_hour",
        "per_day": "per_day",
        "per_session": "per_session"
      }
    },
    "resource_status": {
      "name": "resource_status",
      "values": {
        "active": "active",
        "inactive": "inactive",
        "maintenance": "maintenance",
        "retired": "retired"
      }
    },
    "retention_action": {
      "name": "retention_action",
      "values": {
        "delete": "delete",
        "anonymize": "anonymize",
        "archive": "archive"
      }
    },
    "retention_interval_unit": {
      "name": "retention_interval_unit",
      "values": {
        "days": "days",
        "months": "months",
        "years": "years",
        "indefinite": "indefinite"
      }
    },
    "revenue_share_rule_type": {
      "name": "revenue_share_rule_type",
      "values": {
        "fixed_percent": "fixed_percent",
        "fixed_amount": "fixed_amount",
        "tiered": "tiered"
      }
    },
    "review_item_status": {
      "name": "review_item_status",
      "values": {
        "pending": "pending",
        "claimed": "claimed",
        "approved": "approved",
        "rejected": "rejected",
        "escalated": "escalated",
        "timed_out": "timed_out",
        "cancelled": "cancelled"
      }
    },
    "review_queue_status": {
      "name": "review_queue_status",
      "values": {
        "active": "active",
        "paused": "paused",
        "archived": "archived"
      }
    },
    "review_queue_type": {
      "name": "review_queue_type",
      "values": {
        "fraud": "fraud",
        "manual_approval": "manual_approval",
        "compliance": "compliance",
        "moderation": "moderation",
        "risk": "risk"
      }
    },
    "rollover_run_status": {
      "name": "rollover_run_status",
      "values": {
        "pending": "pending",
        "running": "running",
        "completed": "completed",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "route_stop_kind": {
      "name": "route_stop_kind",
      "values": {
        "pickup": "pickup",
        "dropoff": "dropoff",
        "waypoint": "waypoint",
        "depot": "depot",
        "break": "break"
      }
    },
    "secured_balance_account_status": {
      "name": "secured_balance_account_status",
      "values": {
        "open": "open",
        "locked": "locked",
        "releasing": "releasing",
        "frozen": "frozen",
        "closed": "closed"
      }
    },
    "secured_balance_account_type": {
      "name": "secured_balance_account_type",
      "values": {
        "escrow": "escrow",
        "retainage": "retainage",
        "deposit": "deposit",
        "assurance": "assurance",
        "custom": "custom"
      }
    },
    "secured_balance_allocation_type": {
      "name": "secured_balance_allocation_type",
      "values": {
        "obligation_settlement": "obligation_settlement",
        "milestone_release": "milestone_release",
        "refund": "refund",
        "forfeit": "forfeit",
        "adjustment": "adjustment"
      }
    },
    "secured_balance_ledger_entry_status": {
      "name": "secured_balance_ledger_entry_status",
      "values": {
        "pending": "pending",
        "posted": "posted",
        "reversed": "reversed",
        "failed": "failed"
      }
    },
    "secured_balance_ledger_entry_type": {
      "name": "secured_balance_ledger_entry_type",
      "values": {
        "fund": "fund",
        "hold": "hold",
        "release": "release",
        "refund": "refund",
        "forfeit": "forfeit",
        "adjustment": "adjustment",
        "transfer_in": "transfer_in",
        "transfer_out": "transfer_out"
      }
    },
    "security_incident_severity": {
      "name": "security_incident_severity",
      "values": {
        "low": "low",
        "medium": "medium",
        "high": "high",
        "critical": "critical"
      }
    },
    "security_incident_status": {
      "name": "security_incident_status",
      "values": {
        "open": "open",
        "investigating": "investigating",
        "contained": "contained",
        "resolved": "resolved",
        "reported": "reported",
        "closed": "closed"
      }
    },
    "security_incident_type": {
      "name": "security_incident_type",
      "values": {
        "unauthorized_access": "unauthorized_access",
        "improper_disclosure": "improper_disclosure",
        "ransomware": "ransomware",
        "data_loss_or_theft": "data_loss_or_theft",
        "availability_outage": "availability_outage",
        "integrity_compromise": "integrity_compromise",
        "other": "other"
      }
    },
    "sellable_kind": {
      "name": "sellable_kind",
      "values": {
        "product": "product",
        "service_product": "service_product",
        "offer_version": "offer_version",
        "resource_rate": "resource_rate"
      }
    },
    "sellable_pricing_mode": {
      "name": "sellable_pricing_mode",
      "values": {
        "free": "free",
        "fixed": "fixed",
        "flexible": "flexible",
        "tiered": "tiered",
        "metered": "metered",
        "external_quote": "external_quote"
      }
    },
    "sellable_pricing_override_type": {
      "name": "sellable_pricing_override_type",
      "values": {
        "absolute": "absolute",
        "delta": "delta",
        "multiplier": "multiplier"
      }
    },
    "sellable_pricing_scope_type": {
      "name": "sellable_pricing_scope_type",
      "values": {
        "biz": "biz",
        "location": "location",
        "channel": "channel",
        "custom_subject": "custom_subject"
      }
    },
    "sellable_pricing_threshold_type": {
      "name": "sellable_pricing_threshold_type",
      "values": {
        "minimum": "minimum",
        "maximum": "maximum",
        "suggested": "suggested",
        "default": "default"
      }
    },
    "sellable_variant_dimension_type": {
      "name": "sellable_variant_dimension_type",
      "values": {
        "choice": "choice",
        "boolean": "boolean",
        "numeric": "numeric",
        "text": "text"
      }
    },
    "sellable_variant_price_mode": {
      "name": "sellable_variant_price_mode",
      "values": {
        "inherited": "inherited",
        "override": "override",
        "delta": "delta"
      }
    },
    "sellable_variant_status": {
      "name": "sellable_variant_status",
      "values": {
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "service_product_kind": {
      "name": "service_product_kind",
      "values": {
        "booking": "booking",
        "rental": "rental",
        "hybrid": "hybrid"
      }
    },
    "service_time_observation_source": {
      "name": "service_time_observation_source",
      "values": {
        "actual": "actual",
        "manual_adjustment": "manual_adjustment",
        "imported": "imported"
      }
    },
    "service_type": {
      "name": "service_type",
      "values": {
        "appointment": "appointment",
        "class": "class",
        "rental": "rental",
        "multi_day": "multi_day",
        "call": "call"
      }
    },
    "service_visibility": {
      "name": "service_visibility",
      "values": {
        "public": "public",
        "private": "private",
        "internal": "internal"
      }
    },
    "session_attendance_status": {
      "name": "session_attendance_status",
      "values": {
        "present": "present",
        "late": "late",
        "absent": "absent",
        "excused": "excused",
        "no_show": "no_show",
        "makeup": "makeup"
      }
    },
    "session_interaction_source_type": {
      "name": "session_interaction_source_type",
      "values": {
        "program_session": "program_session",
        "fulfillment_unit": "fulfillment_unit",
        "custom_subject": "custom_subject"
      }
    },
    "session_interaction_type": {
      "name": "session_interaction_type",
      "values": {
        "join": "join",
        "leave": "leave",
        "chat_message": "chat_message",
        "qna_question": "qna_question",
        "qna_answer": "qna_answer",
        "poll_response": "poll_response",
        "reaction": "reaction",
        "hand_raise": "hand_raise",
        "replay_view": "replay_view",
        "custom": "custom"
      }
    },
    "session_interaction_visibility": {
      "name": "session_interaction_visibility",
      "values": {
        "public": "public",
        "participant_only": "participant_only",
        "staff_only": "staff_only",
        "private": "private"
      }
    },
    "settlement_batch_status": {
      "name": "settlement_batch_status",
      "values": {
        "open": "open",
        "calculating": "calculating",
        "ready": "ready",
        "paid": "paid",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "shared_account_member_role": {
      "name": "shared_account_member_role",
      "values": {
        "primary": "primary",
        "adult": "adult",
        "minor": "minor",
        "dependent": "dependent",
        "employee": "employee"
      }
    },
    "shared_account_type": {
      "name": "shared_account_type",
      "values": {
        "family": "family",
        "company": "company",
        "group": "group"
      }
    },
    "signature_method": {
      "name": "signature_method",
      "values": {
        "typed": "typed",
        "drawn": "drawn",
        "click_accept": "click_accept",
        "uploaded": "uploaded"
      }
    },
    "signature_signer_role": {
      "name": "signature_signer_role",
      "values": {
        "customer": "customer",
        "guardian": "guardian",
        "witness": "witness",
        "provider": "provider",
        "staff": "staff",
        "other": "other"
      }
    },
    "sla_breach_status": {
      "name": "sla_breach_status",
      "values": {
        "open": "open",
        "acknowledged": "acknowledged",
        "compensated": "compensated",
        "waived": "waived",
        "closed": "closed"
      }
    },
    "sla_breach_target_type": {
      "name": "sla_breach_target_type",
      "values": {
        "booking_order": "booking_order",
        "fulfillment_unit": "fulfillment_unit",
        "queue_entry": "queue_entry",
        "work_run": "work_run",
        "resource": "resource",
        "custom_subject": "custom_subject"
      }
    },
    "sla_compensation_status": {
      "name": "sla_compensation_status",
      "values": {
        "pending": "pending",
        "applied": "applied",
        "reversed": "reversed",
        "failed": "failed"
      }
    },
    "sla_compensation_type": {
      "name": "sla_compensation_type",
      "values": {
        "credit": "credit",
        "refund": "refund",
        "gift_value": "gift_value",
        "internal_adjustment": "internal_adjustment",
        "custom": "custom"
      }
    },
    "sla_metric_kind": {
      "name": "sla_metric_kind",
      "values": {
        "response_time": "response_time",
        "start_time": "start_time",
        "completion_time": "completion_time",
        "custom": "custom"
      }
    },
    "sla_policy_scope_type": {
      "name": "sla_policy_scope_type",
      "values": {
        "biz": "biz",
        "location": "location",
        "resource": "resource",
        "offer_version": "offer_version",
        "service_product": "service_product",
        "queue": "queue",
        "custom_subject": "custom_subject"
      }
    },
    "staffing_assignment_status": {
      "name": "staffing_assignment_status",
      "values": {
        "planned": "planned",
        "confirmed": "confirmed",
        "in_progress": "in_progress",
        "completed": "completed",
        "cancelled": "cancelled",
        "no_show": "no_show"
      }
    },
    "staffing_demand_status": {
      "name": "staffing_demand_status",
      "values": {
        "open": "open",
        "offered": "offered",
        "claimed": "claimed",
        "assigned": "assigned",
        "filled": "filled",
        "expired": "expired",
        "cancelled": "cancelled"
      }
    },
    "staffing_demand_type": {
      "name": "staffing_demand_type",
      "values": {
        "replacement": "replacement",
        "open_shift": "open_shift",
        "internal_task": "internal_task",
        "on_call": "on_call",
        "overtime": "overtime"
      }
    },
    "staffing_fill_mode": {
      "name": "staffing_fill_mode",
      "values": {
        "direct_assign": "direct_assign",
        "fcfs_claim": "fcfs_claim",
        "invite_accept": "invite_accept",
        "auction": "auction",
        "auto_match": "auto_match"
      }
    },
    "staffing_requirement_mode": {
      "name": "staffing_requirement_mode",
      "values": {
        "required": "required",
        "optional": "optional"
      }
    },
    "staffing_response_mode": {
      "name": "staffing_response_mode",
      "values": {
        "invite": "invite",
        "claim": "claim",
        "bid": "bid"
      }
    },
    "staffing_response_status": {
      "name": "staffing_response_status",
      "values": {
        "pending": "pending",
        "accepted": "accepted",
        "declined": "declined",
        "expired": "expired",
        "withdrawn": "withdrawn",
        "won": "won",
        "lost": "lost",
        "cancelled": "cancelled"
      }
    },
    "staffing_selector_match_mode": {
      "name": "staffing_selector_match_mode",
      "values": {
        "any": "any",
        "all": "all"
      }
    },
    "staffing_selector_type": {
      "name": "staffing_selector_type",
      "values": {
        "any": "any",
        "resource": "resource",
        "resource_type": "resource_type",
        "capability_template": "capability_template",
        "location": "location",
        "custom_subject": "custom_subject"
      }
    },
    "standing_reservation_contract_status": {
      "name": "standing_reservation_contract_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "paused": "paused",
        "completed": "completed",
        "cancelled": "cancelled",
        "archived": "archived"
      }
    },
    "standing_reservation_exception_action": {
      "name": "standing_reservation_exception_action",
      "values": {
        "skip_occurrence": "skip_occurrence",
        "cancel_occurrence": "cancel_occurrence",
        "reschedule_occurrence": "reschedule_occurrence",
        "pause_window": "pause_window"
      }
    },
    "standing_reservation_occurrence_status": {
      "name": "standing_reservation_occurrence_status",
      "values": {
        "planned": "planned",
        "generated": "generated",
        "booked": "booked",
        "fulfilled": "fulfilled",
        "skipped": "skipped",
        "cancelled": "cancelled",
        "failed": "failed"
      }
    },
    "subject_relationship_direction": {
      "name": "subject_relationship_direction",
      "values": {
        "directed": "directed",
        "undirected": "undirected"
      }
    },
    "survey_invitation_status": {
      "name": "survey_invitation_status",
      "values": {
        "pending": "pending",
        "sent": "sent",
        "opened": "opened",
        "completed": "completed",
        "expired": "expired",
        "cancelled": "cancelled"
      }
    },
    "survey_question_type": {
      "name": "survey_question_type",
      "values": {
        "rating": "rating",
        "nps": "nps",
        "single_choice": "single_choice",
        "multi_choice": "multi_choice",
        "text": "text",
        "boolean": "boolean"
      }
    },
    "survey_response_status": {
      "name": "survey_response_status",
      "values": {
        "started": "started",
        "completed": "completed",
        "abandoned": "abandoned",
        "rejected": "rejected"
      }
    },
    "survey_response_visibility": {
      "name": "survey_response_visibility",
      "values": {
        "identified": "identified",
        "anonymous": "anonymous",
        "pseudonymous": "pseudonymous"
      }
    },
    "tax_calculation_status": {
      "name": "tax_calculation_status",
      "values": {
        "calculated": "calculated",
        "finalized": "finalized",
        "voided": "voided"
      }
    },
    "transaction_status": {
      "name": "transaction_status",
      "values": {
        "pending": "pending",
        "succeeded": "succeeded",
        "failed": "failed"
      }
    },
    "transaction_type": {
      "name": "transaction_type",
      "values": {
        "authorization": "authorization",
        "capture": "capture",
        "void": "void",
        "refund": "refund",
        "adjustment": "adjustment",
        "fee": "fee",
        "chargeback": "chargeback"
      }
    },
    "transport_route_status": {
      "name": "transport_route_status",
      "values": {
        "active": "active",
        "inactive": "inactive",
        "archived": "archived"
      }
    },
    "transport_trip_status": {
      "name": "transport_trip_status",
      "values": {
        "planned": "planned",
        "boarding": "boarding",
        "in_progress": "in_progress",
        "delayed": "delayed",
        "completed": "completed",
        "cancelled": "cancelled"
      }
    },
    "trip_manifest_status": {
      "name": "trip_manifest_status",
      "values": {
        "booked": "booked",
        "checked_in": "checked_in",
        "boarded": "boarded",
        "no_show": "no_show",
        "cancelled": "cancelled",
        "completed": "completed"
      }
    },
    "vehicle_status": {
      "name": "vehicle_status",
      "values": {
        "active": "active",
        "maintenance": "maintenance",
        "out_of_service": "out_of_service",
        "retired": "retired"
      }
    },
    "wait_time_prediction_model": {
      "name": "wait_time_prediction_model",
      "values": {
        "heuristic": "heuristic",
        "statistical": "statistical",
        "ml": "ml",
        "manual": "manual"
      }
    },
    "waitlist_mode": {
      "name": "waitlist_mode",
      "values": {
        "queue": "queue",
        "race": "race"
      }
    },
    "waitlist_status": {
      "name": "waitlist_status",
      "values": {
        "waiting": "waiting",
        "offered": "offered",
        "accepted": "accepted",
        "expired": "expired",
        "cancelled": "cancelled",
        "converted": "converted"
      }
    },
    "work_approval_assignee_type": {
      "name": "work_approval_assignee_type",
      "values": {
        "user": "user",
        "group_account": "group_account",
        "role": "role",
        "external": "external"
      }
    },
    "work_approval_decision": {
      "name": "work_approval_decision",
      "values": {
        "pending": "pending",
        "approved": "approved",
        "rejected": "rejected",
        "delegated": "delegated",
        "skipped": "skipped"
      }
    },
    "work_approval_routing_mode": {
      "name": "work_approval_routing_mode",
      "values": {
        "sequential": "sequential",
        "parallel": "parallel"
      }
    },
    "work_clock_source": {
      "name": "work_clock_source",
      "values": {
        "mobile": "mobile",
        "kiosk": "kiosk",
        "web": "web",
        "api": "api",
        "import": "import"
      }
    },
    "work_entry_status": {
      "name": "work_entry_status",
      "values": {
        "logged": "logged",
        "submitted": "submitted",
        "approved": "approved",
        "rejected": "rejected",
        "voided": "voided"
      }
    },
    "work_entry_type": {
      "name": "work_entry_type",
      "values": {
        "note": "note",
        "labor": "labor",
        "material": "material",
        "expense": "expense",
        "mileage": "mileage",
        "incident": "incident",
        "weather": "weather",
        "measurement": "measurement",
        "custom": "custom"
      }
    },
    "work_run_status": {
      "name": "work_run_status",
      "values": {
        "draft": "draft",
        "active": "active",
        "submitted": "submitted",
        "approved": "approved",
        "rejected": "rejected",
        "completed": "completed",
        "cancelled": "cancelled",
        "archived": "archived"
      }
    },
    "work_step_status": {
      "name": "work_step_status",
      "values": {
        "pending": "pending",
        "in_progress": "in_progress",
        "completed": "completed",
        "blocked": "blocked",
        "failed": "failed",
        "skipped": "skipped"
      }
    },
    "work_step_type": {
      "name": "work_step_type",
      "values": {
        "field": "field",
        "check_item": "check_item",
        "action": "action",
        "approval_gate": "approval_gate",
        "custom": "custom"
      }
    },
    "work_template_kind": {
      "name": "work_template_kind",
      "values": {
        "report": "report",
        "timesheet": "timesheet",
        "checklist": "checklist",
        "inspection": "inspection",
        "punch_list": "punch_list",
        "signoff": "signoff",
        "form": "form",
        "custom": "custom"
      }
    },
    "work_time_segment_type": {
      "name": "work_time_segment_type",
      "values": {
        "work": "work",
        "break": "break",
        "travel": "travel",
        "standby": "standby",
        "overtime": "overtime"
      }
    },
    "workflow_decision_outcome": {
      "name": "workflow_decision_outcome",
      "values": {
        "approve": "approve",
        "reject": "reject",
        "request_changes": "request_changes",
        "escalate": "escalate",
        "defer": "defer"
      }
    },
    "workflow_instance_status": {
      "name": "workflow_instance_status",
      "values": {
        "pending": "pending",
        "running": "running",
        "waiting_input": "waiting_input",
        "completed": "completed",
        "failed": "failed",
        "cancelled": "cancelled"
      }
    },
    "workflow_step_status": {
      "name": "workflow_step_status",
      "values": {
        "pending": "pending",
        "running": "running",
        "blocked": "blocked",
        "completed": "completed",
        "failed": "failed",
        "skipped": "skipped"
      }
    },
    "workflow_trigger_type": {
      "name": "workflow_trigger_type",
      "values": {
        "manual": "manual",
        "policy": "policy",
        "webhook": "webhook",
        "schedule": "schedule",
        "system_event": "system_event"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}