{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-configure-pricing-1771948326636",
  "title": "Configure default pricing rules Snapshot",
  "generatedAt": "2026-02-24T15:52:06.642Z",
  "stepKey": "owner-configure-pricing",
  "status": "passed",
  "view": {
    "title": "Configure default pricing rules",
    "subtitle": "Pricing baseline configured on biz metadata.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Configure Pricing completed",
        "message": "Pricing baseline configured on biz metadata.",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-configure-pricing",
    "resultPayload": {
      "note": "Pricing baseline configured on biz metadata."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7f2gRRhFamqDtHFVA7aHccoNc/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "customer-sign-up",
          "title": "Customer one signs up and logs in API Trace",
          "trace": {
            "stepKey": "customer-sign-up",
            "callCount": 3,
            "calls": [
              {
                "method": "POST",
                "path": "/api/v1/bizes/3A7f2aVi4q3LBu4fdZw7Lpmz30E/booking-orders",
                "status": 403,
                "requestBody": {
                  "offerId": "offer_3A7f2leK7cEER4opdTsWK4jGgMl",
                  "offerVersionId": "offer_version_3A7f2nVqqaon5O7Rqy5tjBK2g0G",
                  "status": "draft",
                  "subtotalMinor": 1000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 1000,
                  "currency": "USD"
                },
                "responseBody": {
                  "success": false,
                  "error": {
                    "code": "FORBIDDEN",
                    "message": "You are not a member of this biz."
                  },
                  "meta": {
                    "requestId": "5dae8cda-ab86-4b15-aa7f-53475f2abe65",
                    "timestamp": "2026-02-24T15:52:06.276Z"
                  }
                },
                "at": "2026-02-24T15:52:06.283Z"
              },
              {
                "method": "POST",
                "path": "/api/v1/bizes/3A7f2yNBp5gNguf4SW39VqKXsDP/resources",
                "status": 201,
                "requestBody": {
                  "locationId": "3A7f2t8jPYyGqxYPulj8J63jxJ7",
                  "type": "host",
                  "name": "Primary Host",
                  "slug": "host-lydeiwby",
                  "capacity": 1,
                  "bufferBeforeMinutes": 10,
                  "bufferAfterMinutes": 10
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "3A7f33v31DQgd0JRWRCBYjuQv56",
                    "bizId": "3A7f2yNBp5gNguf4SW39VqKXsDP",
                    "locationId": "3A7f2t8jPYyGqxYPulj8J63jxJ7",
                    "type": "host",
                    "name": "Primary Host",
                    "slug": "host-lydeiwby",
                    "description": null,
                    "timezone": "UTC",
                    "statusDefinitionId": null,
                    "hostUserId": null,
                    "groupAccountId": null,
                    "assetId": null,
                    "venueId": null,
                    "capacity": 1,
                    "allowSimultaneousBookings": false,
                    "maxSimultaneousBookings": null,
                    "bufferBeforeMinutes": 10,
                    "bufferAfterMinutes": 10,
                    "metadata": {},
                    "createdAt": "2026-02-24T15:52:06.277Z",
                    "updatedAt": "2026-02-24T15:52:06.277Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "12d1befe-9c11-4637-a34c-bc73d936d3f4",
                    "timestamp": "2026-02-24T15:52:06.278Z"
                  }
                },
                "at": "2026-02-24T15:52:06.284Z"
              },
              {
                "method": "POST",
                "path": "/api/v1/bizes/3A7f301X1lDaknrHAXhEoNHd6yD/locations",
                "status": 201,
                "requestBody": {
                  "name": "Primary Location",
                  "slug": "loc-opgxblb5",
                  "type": "physical",
                  "timezone": "UTC"
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "3A7f32SkvsYGKUJSJmK1Djg12nT",
                    "bizId": "3A7f301X1lDaknrHAXhEoNHd6yD",
                    "name": "Primary Location",
                    "slug": "loc-opgxblb5",
                    "type": "physical",
                    "timezone": "UTC",
                    "address": {},
                    "operatingHours": {},
                    "configOverride": {},
                    "serviceArea": {},
                    "status": "active",
                    "isDefault": false,
                    "metadata": {},
                    "createdAt": "2026-02-24T15:52:06.374Z",
                    "updatedAt": "2026-02-24T15:52:06.374Z",
                    "deletedAt": null
                  },
                  "meta": {
                    "requestId": "9f6ef487-cd7f-414b-9b01-2e3b0344bc4b",
                    "timestamp": "2026-02-24T15:52:06.376Z"
                  }
                },
                "at": "2026-02-24T15:52:06.377Z"
              }
            ]
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7f35ceeFNL3LBovLFAvOiskBs",
            "sagaRunId": "saga_run_3A7f2gRRhFamqDtHFVA7aHccoNc",
            "sagaRunStepId": "saga_run_step_3A7f2i2F7Ot5Cn6WTjW0DeZiHIP",
            "artifactType": "api_trace",
            "title": "Customer one signs up and logs in API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3A7f2gRRhFamqDtHFVA7aHccoNc/artifacts/1771948326393-Customer_one_signs_up_and_logs_in_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"customer-sign-up\",\n  \"callCount\": 3,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/bizes/3A7f2aVi4q3LBu4fdZw7Lpmz30E/booking-orders\",\n      \"status\": 403,\n      \"requestBody\": {\n        \"offerId\": \"offer_3A7f2leK7cEER4opdTsWK4jGgMl\",\n        \"offerVersionId\": \"offer_version_3A7f2nVqqaon5O7Rqy5tjBK2g0G\",\n        \"status\": \"draft\",\n        \"subtotalMinor\": 1000,\n        \"taxMinor\": 0,\n        \"feeMinor\": 0,\n        \"discountMinor\": 0,\n        \"totalMinor\": 1000,\n        \"currency\": \"USD\"\n      },\n      \"responseBody\": {\n        \"success\": false,\n        \"error\": {\n          \"code\": \"FORBIDDEN\",\n          \"message\": \"You are not a member of this biz.\"\n        },\n        \"meta\": {\n          \"requestId\": \"5dae8cda-ab86-4b15-aa7f-53475f2abe65\",\n          \"timestamp\": \"2026-02-24T15:52:06.276Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:52:06.283Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/bizes/3A7f2yNBp5gNguf4SW39VqKXsDP/resources\",\n      \"status\": 201,\n      \"requestBody\": {\n        \"locationId\": \"3A7f2t8jPYyGqxYPulj8J63jxJ7\",\n        \"type\": \"host\",\n        \"name\": \"Primary Host\",\n        \"slug\": \"host-lydeiwby\",\n        \"capacity\": 1,\n        \"bufferBeforeMinutes\": 10,\n        \"bufferAfterMinutes\": 10\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"3A7f33v31DQgd0JRWRCBYjuQv56\",\n          \"bizId\": \"3A7f2yNBp5gNguf4SW39VqKXsDP\",\n          \"locationId\": \"3A7f2t8jPYyGqxYPulj8J63jxJ7\",\n          \"type\": \"host\",\n          \"name\": \"Primary Host\",\n          \"slug\": \"host-lydeiwby\",\n          \"description\": null,\n          \"timezone\": \"UTC\",\n          \"statusDefinitionId\": null,\n          \"hostUserId\": null,\n          \"groupAccountId\": null,\n          \"assetId\": null,\n          \"venueId\": null,\n          \"capacity\": 1,\n          \"allowSimultaneousBookings\": false,\n          \"maxSimultaneousBookings\": null,\n          \"bufferBeforeMinutes\": 10,\n          \"bufferAfterMinutes\": 10,\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T15:52:06.277Z\",\n          \"updatedAt\": \"2026-02-24T15:52:06.277Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"12d1befe-9c11-4637-a34c-bc73d936d3f4\",\n          \"timestamp\": \"2026-02-24T15:52:06.278Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:52:06.284Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/bizes/3A7f301X1lDaknrHAXhEoNHd6yD/locations\",\n      \"status\": 201,\n      \"requestBody\": {\n        \"name\": \"Primary Location\",\n        \"slug\": \"loc-opgxblb5\",\n        \"type\": \"physical\",\n        \"timezone\": \"UTC\"\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"3A7f32SkvsYGKUJSJmK1Djg12nT\",\n          \"bizId\": \"3A7f301X1lDaknrHAXhEoNHd6yD\",\n          \"name\": \"Primary Location\",\n          \"slug\": \"loc-opgxblb5\",\n          \"type\": \"physical\",\n          \"timezone\": \"UTC\",\n          \"address\": {},\n          \"operatingHours\": {},\n          \"configOverride\": {},\n          \"serviceArea\": {},\n          \"status\": \"active\",\n          \"isDefault\": false,\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T15:52:06.374Z\",\n          \"updatedAt\": \"2026-02-24T15:52:06.374Z\",\n          \"deletedAt\": null\n        },\n        \"meta\": {\n          \"requestId\": \"9f6ef487-cd7f-414b-9b01-2e3b0344bc4b\",\n          \"timestamp\": \"2026-02-24T15:52:06.376Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:52:06.377Z\"\n    }\n  ]\n}\n",
            "byteSize": 3567,
            "checksum": "b315b6b2aeaab8c6ae7f54270f240068470a9aafd555abb55cd2c8ade3edd0b0",
            "capturedAt": "2026-02-24T15:52:06.405Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-24T15:52:06.405Z",
            "updatedAt": "2026-02-24T15:52:06.405Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "7104ff96-18df-4db5-9ab1-916ff0d5d8e1",
            "timestamp": "2026-02-24T15:52:06.423Z"
          }
        },
        "at": "2026-02-24T15:52:06.424Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7f2Pkm4ROufrgBxRnlakEM94l/steps/adversary-hold-abuse/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:52:06.408Z",
          "resultPayload": {
            "note": "Started adversary-hold-abuse"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7f2Q0DtkSvIW4FXTbHnobqkBu",
            "sagaRunId": "saga_run_3A7f2Pkm4ROufrgBxRnlakEM94l",
            "phaseKey": "security-and-abuse",
            "phaseOrder": 6,
            "phaseTitle": "Security And Abuse Checks",
            "stepKey": "adversary-hold-abuse",
            "stepOrder": 16,
            "actorKey": "adversary",
            "instruction": "Trigger repeated booking/hold-like attempts to validate throttling, expiry, or non-blocking demand visibility behavior.",
            "expectedResult": "Abusive attempts are rate-limited or isolated without blocking legitimate customer flow.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:52:06.408Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started adversary-hold-abuse"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:52:01.348Z",
            "updatedAt": "2026-02-24T15:52:01.348Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "69e2c5f1-a0c2-44f1-be48-2e50f70811fe",
            "timestamp": "2026-02-24T15:52:06.436Z"
          }
        },
        "at": "2026-02-24T15:52:06.438Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7f2rEX40nsuuWW2euIWLntYzR/steps/owner-configure-pricing/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:52:06.415Z",
          "resultPayload": {
            "note": "Started owner-configure-pricing"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7f2le0TWZ74mBqTw10srS2mVe",
            "sagaRunId": "saga_run_3A7f2rEX40nsuuWW2euIWLntYzR",
            "phaseKey": "business-configuration",
            "phaseOrder": 2,
            "phaseTitle": "Business Configuration",
            "stepKey": "owner-configure-pricing",
            "stepOrder": 5,
            "actorKey": "biz_owner",
            "instruction": "Configure pricing defaults for the offer lifecycle including call fees/manual surge if UC needs imply it.",
            "expectedResult": "Pricing model persists and future bookings can calculate totals deterministically.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:52:06.415Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started owner-configure-pricing"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:52:04.820Z",
            "updatedAt": "2026-02-24T15:52:04.820Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "26c6ebd5-af6f-484e-a294-7eaf0b4c21b4",
            "timestamp": "2026-02-24T15:52:06.437Z"
          }
        },
        "at": "2026-02-24T15:52:06.441Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7f2jzUCYIXRBBK7adDUvpsUtT/steps/owner-create-offer/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T15:52:06.388Z",
          "endedAt": "2026-02-24T15:52:06.388Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Offer created.",
            "evidence": {
              "offerId": "offer_3A7f34tlCsIzRuHHXLBWj9xDieo"
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7f2mUrSJ7pesucRX6sxLLwB7p",
            "sagaRunId": "saga_run_3A7f2jzUCYIXRBBK7adDUvpsUtT",
            "phaseKey": "catalog-publish",
            "phaseOrder": 4,
            "phaseTitle": "Catalog And Publish",
            "stepKey": "owner-create-offer",
            "stepOrder": 8,
            "actorKey": "biz_owner",
            "instruction": "Create an offer representing the UC primary service; choose execution mode matching the scenario.",
            "expectedResult": "Offer is created in draft state with captured id.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:52:06.388Z",
            "endedAt": "2026-02-24T15:52:06.388Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Offer created.",
              "evidence": {
                "offerId": "offer_3A7f34tlCsIzRuHHXLBWj9xDieo"
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:52:04.052Z",
            "updatedAt": "2026-02-24T15:52:04.052Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "9f7e7b8a-a6a6-4b8d-ad4a-91b56486e5d5",
            "timestamp": "2026-02-24T15:52:06.437Z"
          }
        },
        "at": "2026-02-24T15:52:06.442Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7f2wl0DTLoPMK5Ms0gn8zykxF/steps/owner-create-location/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:52:06.413Z",
          "resultPayload": {
            "note": "Started owner-create-location"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7f2v8Z7Uv3xbWWZ0i0TjkodnK",
            "sagaRunId": "saga_run_3A7f2wl0DTLoPMK5Ms0gn8zykxF",
            "phaseKey": "owner-onboarding",
            "phaseOrder": 1,
            "phaseTitle": "Owner Onboarding",
            "stepKey": "owner-create-location",
            "stepOrder": 3,
            "actorKey": "biz_owner",
            "instruction": "Create a primary location for the biz and set timezone aligned with scenario context.",
            "expectedResult": "Location exists and is associated with the new biz.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:52:06.413Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started owner-create-location"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:52:05.408Z",
            "updatedAt": "2026-02-24T15:52:05.408Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "603e7ab5-0d77-409a-8544-92a1557a0b94",
            "timestamp": "2026-02-24T15:52:06.437Z"
          }
        },
        "at": "2026-02-24T15:52:06.445Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7f2qHTvX9iS3nKsSsvAksYBnv/steps/owner-create-resources/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:52:06.418Z",
          "resultPayload": {
            "note": "Started owner-create-resources"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7f2pgwll24TPEfd1t6aEdj2Xx",
            "sagaRunId": "saga_run_3A7f2qHTvX9iS3nKsSsvAksYBnv",
            "phaseKey": "supply-and-team-setup",
            "phaseOrder": 3,
            "phaseTitle": "Supply And Team Setup",
            "stepKey": "owner-create-resources",
            "stepOrder": 6,
            "actorKey": "biz_owner",
            "instruction": "Create at least one host resource and one non-host resource (asset or venue) suitable for the UC.",
            "expectedResult": "Resources are created with expected type, location, and buffers.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:52:06.418Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started owner-create-resources"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:52:04.735Z",
            "updatedAt": "2026-02-24T15:52:04.735Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "2a60b628-aeba-4cfa-93e5-b4feeccb85de",
            "timestamp": "2026-02-24T15:52:06.439Z"
          }
        },
        "at": "2026-02-24T15:52:06.446Z"
      },
      {
        "method": "PATCH",
        "path": "/api/v1/bizes/3A7f2wYdNxTG3YXd2HiVaS15keC",
        "status": 200,
        "requestBody": {
          "metadata": {
            "availability": {
              "timezone": "UTC",
              "weekly": {
                "mon": [
                  "09:00-17:00"
                ],
                "tue": [
                  "09:00-17:00"
                ],
                "wed": [
                  "09:00-17:00"
                ],
                "thu": [
                  "09:00-17:00"
                ],
                "fri": [
                  "09:00-17:00"
                ]
              },
              "leadTimeHours": 24,
              "maxAdvanceDays": 60
            },
            "pricing": {
              "baseCurrency": "USD",
              "callFeeMinor": 5000,
              "surgeManualEnabled": true
            }
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "3A7f2wYdNxTG3YXd2HiVaS15keC",
            "name": "Saga uc-67-the-solo-entrepreneur-sarah",
            "slug": "uc-67-the-solo-entrepreneur-sarah-qp90hfcv",
            "type": "small_business",
            "logoUrl": null,
            "timezone": "UTC",
            "currency": "USD",
            "status": "active",
            "metadata": {
              "pricing": {
                "baseCurrency": "USD",
                "callFeeMinor": 5000,
                "surgeManualEnabled": true
              },
              "availability": {
                "weekly": {
                  "fri": [
                    "09:00-17:00"
                  ],
                  "mon": [
                    "09:00-17:00"
                  ],
                  "thu": [
                    "09:00-17:00"
                  ],
                  "tue": [
                    "09:00-17:00"
                  ],
                  "wed": [
                    "09:00-17:00"
                  ]
                },
                "timezone": "UTC",
                "leadTimeHours": 24,
                "maxAdvanceDays": 60
              }
            },
            "createdAt": "2026-02-24T15:52:05.671Z",
            "updatedAt": "2026-02-24T15:52:05.671Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "daa812c7-3534-4f03-9067-12e58507c666",
            "timestamp": "2026-02-24T15:52:06.440Z"
          }
        },
        "at": "2026-02-24T15:52:06.446Z"
      }
    ]
  },
  "metadata": {}
}
