{
  "schemaVersion": "snapshot.v1",
  "screenKey": "customer-sign-up-1772030456719",
  "title": "Customer one signs up and logs in Snapshot",
  "generatedAt": "2026-02-25T14:40:56.731Z",
  "stepKey": "customer-sign-up",
  "status": "passed",
  "view": {
    "title": "Customer one signs up and logs in",
    "subtitle": "Primary customer account created.",
    "blocks": [
      {
        "type": "alert",
        "title": "Customer Sign Up completed",
        "message": "Primary customer account created.",
        "tone": "success"
      },
      {
        "type": "form",
        "title": "Account session state",
        "fields": [
          {
            "label": "Customer user id",
            "value": "49p8Yg7qQ58tzsfCP6iv6DrKLgjaSo3J",
            "state": "default"
          },
          {
            "label": "Email",
            "value": "customer1-uc-109-the-group-event-organizer-gathering-gwen-1772030455744-atsugr@example.com",
            "state": "default"
          },
          {
            "label": "Session",
            "value": "Active",
            "state": "success"
          }
        ],
        "submitLabel": "Authenticated"
      },
      {
        "type": "key_value",
        "title": "Screen details",
        "items": [
          {
            "label": "CustomerUserId",
            "value": "49p8Yg7qQ58tzsfCP6iv6DrKLgjaSo3J"
          },
          {
            "label": "Email",
            "value": "customer1-uc-109-the-group-event-organizer-gathering-gwen-1772030455744-atsugr@example.com"
          }
        ]
      }
    ]
  },
  "rawData": {
    "stepKey": "customer-sign-up",
    "resultPayload": {
      "note": "Primary customer account created.",
      "evidence": {
        "customerUserId": "49p8Yg7qQ58tzsfCP6iv6DrKLgjaSo3J",
        "email": "customer1-uc-109-the-group-event-organizer-gathering-gwen-1772030455744-atsugr@example.com"
      }
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AALTysQ8o2SMxyMIzK7pdpTa2M/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "customer-sign-up",
          "title": "Customer one signs up and logs in API Trace",
          "trace": {
            "stepKey": "customer-sign-up",
            "callCount": 4,
            "calls": [
              {
                "method": "POST",
                "path": "/api/v1/sagas/runs/saga_run_3AALSyBnKvSn57RLb2sqsjZZKxo/steps/owner-review-route-dispatch-state/result",
                "status": 200,
                "requestBody": {
                  "status": "passed",
                  "startedAt": "2026-02-25T14:40:54.533Z",
                  "endedAt": "2026-02-25T14:40:54.533Z",
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Route/dispatch capability detected via tool registry.",
                    "evidence": {
                      "detectedToolCount": 92
                    }
                  },
                  "assertionSummary": {
                    "status": "passed",
                    "hasFailure": false,
                    "assertionsPassed": 1
                  }
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "saga_run_step_3AALSuEVfHLxnU0cOJLUqeRqqPS",
                    "sagaRunId": "saga_run_3AALSyBnKvSn57RLb2sqsjZZKxo",
                    "phaseKey": "operations-and-follow-up",
                    "phaseOrder": 7,
                    "phaseTitle": "Operations And Follow-up",
                    "stepKey": "owner-review-route-dispatch-state",
                    "stepOrder": 19,
                    "actorKey": "biz_owner",
                    "instruction": "Inspect route/dispatch state after bookings and verify assignment/ETA/operational telemetry consistency.",
                    "expectedResult": "Route/dispatch records align with bookings and can be used for operations decisions.",
                    "delayMode": "none",
                    "delayMs": null,
                    "delayConditionKey": null,
                    "delayTimeoutMs": null,
                    "delayPollMs": null,
                    "delayJitterMs": 0,
                    "status": "passed",
                    "attemptCount": 1,
                    "startedAt": "2026-02-25T14:40:54.533Z",
                    "endedAt": "2026-02-25T14:40:54.533Z",
                    "failureCode": null,
                    "failureMessage": null,
                    "resultPayload": {
                      "note": "Route/dispatch capability detected via tool registry.",
                      "evidence": {
                        "detectedToolCount": 92
                      }
                    },
                    "assertionSummary": {
                      "status": "passed",
                      "hasFailure": false,
                      "assertionsPassed": 1
                    },
                    "metadata": {},
                    "createdAt": "2026-02-25T14:40:31.109Z",
                    "updatedAt": "2026-02-25T14:40:31.109Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "07198319-ea29-4e57-80e2-074073e42307",
                    "timestamp": "2026-02-25T14:40:55.366Z"
                  }
                },
                "at": "2026-02-25T14:40:55.366Z"
              },
              {
                "method": "GET",
                "path": "/api/auth/get-session",
                "status": 200,
                "responseBody": {
                  "session": {
                    "expiresAt": "2026-03-04T14:40:55.382Z",
                    "token": "GY6oPJ2n5RM7up5OVrvDuIBFdE2jTnTK",
                    "createdAt": "2026-02-25T14:40:55.382Z",
                    "updatedAt": "2026-02-25T14:40:55.382Z",
                    "ipAddress": "",
                    "userAgent": "node",
                    "userId": "a25dd5EI92THbheFnlg4yEsk3Vo9H9a4",
                    "activeOrganizationId": null,
                    "impersonatedBy": null,
                    "id": "TwJWSaarsw8CC31R9bBnYnwpSzhqm6dL"
                  },
                  "user": {
                    "name": "customer1-uc-109-the-front-desk-manager-lisa",
                    "email": "customer1-uc-109-the-front-desk-manager-lisa-1772030455182-c1emi5@example.com",
                    "emailVerified": false,
                    "image": null,
                    "createdAt": "2026-02-25T14:40:55.351Z",
                    "updatedAt": "2026-02-25T14:40:55.351Z",
                    "role": "user",
                    "banned": false,
                    "banReason": null,
                    "banExpires": null,
                    "id": "a25dd5EI92THbheFnlg4yEsk3Vo9H9a4"
                  }
                },
                "at": "2026-02-25T14:40:55.418Z"
              },
              {
                "method": "POST",
                "path": "/api/v1/sagas/runs/saga_run_3AALU1yufGRHoE04dGjozBXcwmb/steps/owner-publish-catalog/result",
                "status": 200,
                "requestBody": {
                  "status": "passed",
                  "startedAt": "2026-02-25T14:40:54.594Z",
                  "endedAt": "2026-02-25T14:40:54.594Z",
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Offer published and activated."
                  },
                  "assertionSummary": {
                    "status": "passed",
                    "hasFailure": false,
                    "assertionsPassed": 1
                  }
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "saga_run_step_3AALU6VR8HPXJOzuOvjudk6DWfX",
                    "sagaRunId": "saga_run_3AALU1yufGRHoE04dGjozBXcwmb",
                    "phaseKey": "catalog-publish",
                    "phaseOrder": 4,
                    "phaseTitle": "Catalog And Publish",
                    "stepKey": "owner-publish-catalog",
                    "stepOrder": 10,
                    "actorKey": "biz_owner",
                    "instruction": "Update offer publish/lifecycle flags so customer actors can discover it.",
                    "expectedResult": "Offer appears as published/active and can be returned in customer-facing list queries.",
                    "delayMode": "none",
                    "delayMs": null,
                    "delayConditionKey": null,
                    "delayTimeoutMs": null,
                    "delayPollMs": null,
                    "delayJitterMs": 0,
                    "status": "passed",
                    "attemptCount": 1,
                    "startedAt": "2026-02-25T14:40:54.594Z",
                    "endedAt": "2026-02-25T14:40:54.594Z",
                    "failureCode": null,
                    "failureMessage": null,
                    "resultPayload": {
                      "note": "Offer published and activated."
                    },
                    "assertionSummary": {
                      "status": "passed",
                      "hasFailure": false,
                      "assertionsPassed": 1
                    },
                    "metadata": {},
                    "createdAt": "2026-02-25T14:40:40.065Z",
                    "updatedAt": "2026-02-25T14:40:40.065Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "0355e0c3-db53-4d73-87fc-84328bed20ac",
                    "timestamp": "2026-02-25T14:40:55.418Z"
                  }
                },
                "at": "2026-02-25T14:40:55.423Z"
              },
              {
                "method": "GET",
                "path": "/api/v1/public/bizes/3AALULFegRf83PxzyiYWy41KGdi/offers",
                "status": 200,
                "responseBody": {
                  "success": true,
                  "data": [
                    {
                      "id": "offer_3AALVcYnEzwWER4YJKy4YQql6U1",
                      "bizId": "3AALULFegRf83PxzyiYWy41KGdi",
                      "name": "Primary Service Offer",
                      "slug": "offer-jwbro6k6",
                      "description": null,
                      "executionMode": "slot",
                      "executionModeConfigValueId": null,
                      "status": "active",
                      "statusConfigValueId": null,
                      "isPublished": true,
                      "timezone": "UTC",
                      "metadata": {},
                      "createdAt": "2026-02-25T14:40:52.140Z",
                      "updatedAt": "2026-02-25T14:40:52.140Z",
                      "deletedAt": null,
                      "createdBy": null,
                      "updatedBy": null,
                      "deletedBy": null
                    }
                  ],
                  "meta": {
                    "requestId": "bec33b8e-fd8e-443e-aa6e-effddda6a108",
                    "timestamp": "2026-02-25T14:40:55.435Z"
                  }
                },
                "at": "2026-02-25T14:40:55.436Z"
              }
            ]
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3AALVui3o71H4mpe0OkkxM7mBFq",
            "sagaRunId": "saga_run_3AALTysQ8o2SMxyMIzK7pdpTa2M",
            "sagaRunStepId": "saga_run_step_3AALU1BZQK8hGVVVjYJSxL081Kv",
            "artifactType": "api_trace",
            "title": "Customer one signs up and logs in API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3AALTysQ8o2SMxyMIzK7pdpTa2M/artifacts/1772030455475-Customer_one_signs_up_and_logs_in_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"customer-sign-up\",\n  \"callCount\": 4,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3AALSyBnKvSn57RLb2sqsjZZKxo/steps/owner-review-route-dispatch-state/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"passed\",\n        \"startedAt\": \"2026-02-25T14:40:54.533Z\",\n        \"endedAt\": \"2026-02-25T14:40:54.533Z\",\n        \"failureMessage\": null,\n        \"resultPayload\": {\n          \"note\": \"Route/dispatch capability detected via tool registry.\",\n          \"evidence\": {\n            \"detectedToolCount\": 92\n          }\n        },\n        \"assertionSummary\": {\n          \"status\": \"passed\",\n          \"hasFailure\": false,\n          \"assertionsPassed\": 1\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3AALSuEVfHLxnU0cOJLUqeRqqPS\",\n          \"sagaRunId\": \"saga_run_3AALSyBnKvSn57RLb2sqsjZZKxo\",\n          \"phaseKey\": \"operations-and-follow-up\",\n          \"phaseOrder\": 7,\n          \"phaseTitle\": \"Operations And Follow-up\",\n          \"stepKey\": \"owner-review-route-dispatch-state\",\n          \"stepOrder\": 19,\n          \"actorKey\": \"biz_owner\",\n          \"instruction\": \"Inspect route/dispatch state after bookings and verify assignment/ETA/operational telemetry consistency.\",\n          \"expectedResult\": \"Route/dispatch records align with bookings and can be used for operations decisions.\",\n          \"delayMode\": \"none\",\n          \"delayMs\": null,\n          \"delayConditionKey\": null,\n          \"delayTimeoutMs\": null,\n          \"delayPollMs\": null,\n          \"delayJitterMs\": 0,\n          \"status\": \"passed\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-25T14:40:54.533Z\",\n          \"endedAt\": \"2026-02-25T14:40:54.533Z\",\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Route/dispatch capability detected via tool registry.\",\n            \"evidence\": {\n              \"detectedToolCount\": 92\n            }\n          },\n          \"assertionSummary\": {\n            \"status\": \"passed\",\n            \"hasFailure\": false,\n            \"assertionsPassed\": 1\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-25T14:40:31.109Z\",\n          \"updatedAt\": \"2026-02-25T14:40:31.109Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"07198319-ea29-4e57-80e2-074073e42307\",\n          \"timestamp\": \"2026-02-25T14:40:55.366Z\"\n        }\n      },\n      \"at\": \"2026-02-25T14:40:55.366Z\"\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/auth/get-session\",\n      \"status\": 200,\n      \"responseBody\": {\n        \"session\": {\n          \"expiresAt\": \"2026-03-04T14:40:55.382Z\",\n          \"token\": \"GY6oPJ2n5RM7up5OVrvDuIBFdE2jTnTK\",\n          \"createdAt\": \"2026-02-25T14:40:55.382Z\",\n          \"updatedAt\": \"2026-02-25T14:40:55.382Z\",\n          \"ipAddress\": \"\",\n          \"userAgent\": \"node\",\n          \"userId\": \"a25dd5EI92THbheFnlg4yEsk3Vo9H9a4\",\n          \"activeOrganizationId\": null,\n          \"impersonatedBy\": null,\n          \"id\": \"TwJWSaarsw8CC31R9bBnYnwpSzhqm6dL\"\n        },\n        \"user\": {\n          \"name\": \"customer1-uc-109-the-front-desk-manager-lisa\",\n          \"email\": \"customer1-uc-109-the-front-desk-manager-lisa-1772030455182-c1emi5@example.com\",\n          \"emailVerified\": false,\n          \"image\": null,\n          \"createdAt\": \"2026-02-25T14:40:55.351Z\",\n          \"updatedAt\": \"2026-02-25T14:40:55.351Z\",\n          \"role\": \"user\",\n          \"banned\": false,\n          \"banReason\": null,\n          \"banExpires\": null,\n          \"id\": \"a25dd5EI92THbheFnlg4yEsk3Vo9H9a4\"\n        }\n      },\n      \"at\": \"2026-02-25T14:40:55.418Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3AALU1yufGRHoE04dGjozBXcwmb/steps/owner-publish-catalog/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"passed\",\n        \"startedAt\": \"2026-02-25T14:40:54.594Z\",\n        \"endedAt\": \"2026-02-25T14:40:54.594Z\",\n        \"failureMessage\": null,\n        \"resultPayload\": {\n          \"note\": \"Offer published and activated.\"\n        },\n        \"assertionSummary\": {\n          \"status\": \"passed\",\n          \"hasFailure\": false,\n          \"assertionsPassed\": 1\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3AALU6VR8HPXJOzuOvjudk6DWfX\",\n          \"sagaRunId\": \"saga_run_3AALU1yufGRHoE04dGjozBXcwmb\",\n          \"phaseKey\": \"catalog-publish\",\n          \"phaseOrder\": 4,\n          \"phaseTitle\": \"Catalog And Publish\",\n          \"stepKey\": \"owner-publish-catalog\",\n          \"stepOrder\": 10,\n          \"actorKey\": \"biz_owner\",\n          \"instruction\": \"Update offer publish/lifecycle flags so customer actors can discover it.\",\n          \"expectedResult\": \"Offer appears as published/active and can be returned in customer-facing list queries.\",\n          \"delayMode\": \"none\",\n          \"delayMs\": null,\n          \"delayConditionKey\": null,\n          \"delayTimeoutMs\": null,\n          \"delayPollMs\": null,\n          \"delayJitterMs\": 0,\n          \"status\": \"passed\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-25T14:40:54.594Z\",\n          \"endedAt\": \"2026-02-25T14:40:54.594Z\",\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Offer published and activated.\"\n          },\n          \"assertionSummary\": {\n            \"status\": \"passed\",\n            \"hasFailure\": false,\n            \"assertionsPassed\": 1\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-25T14:40:40.065Z\",\n          \"updatedAt\": \"2026-02-25T14:40:40.065Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"0355e0c3-db53-4d73-87fc-84328bed20ac\",\n          \"timestamp\": \"2026-02-25T14:40:55.418Z\"\n        }\n      },\n      \"at\": \"2026-02-25T14:40:55.423Z\"\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/v1/public/bizes/3AALULFegRf83PxzyiYWy41KGdi/offers\",\n      \"status\": 200,\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": [\n          {\n            \"id\": \"offer_3AALVcYnEzwWER4YJKy4YQql6U1\",\n            \"bizId\": \"3AALULFegRf83PxzyiYWy41KGdi\",\n            \"name\": \"Primary Service Offer\",\n            \"slug\": \"offer-jwbro6k6\",\n            \"description\": null,\n            \"executionMode\": \"slot\",\n            \"executionModeConfigValueId\": null,\n            \"status\": \"active\",\n            \"statusConfigValueId\": null,\n            \"isPublished\": true,\n            \"timezone\": \"UTC\",\n            \"metadata\": {},\n            \"createdAt\": \"2026-02-25T14:40:52.140Z\",\n            \"updatedAt\": \"2026-02-25T14:40:52.140Z\",\n            \"deletedAt\": null,\n            \"createdBy\": null,\n            \"updatedBy\": null,\n            \"deletedBy\": null\n          }\n        ],\n        \"meta\": {\n          \"requestId\": \"bec33b8e-fd8e-443e-aa6e-effddda6a108\",\n          \"timestamp\": \"2026-02-25T14:40:55.435Z\"\n        }\n      },\n      \"at\": \"2026-02-25T14:40:55.436Z\"\n    }\n  ]\n}\n",
            "byteSize": 7235,
            "checksum": "e7adcb07d07496d0e17e3ac4e662faf8cc63f9ed368340e7cb830049725d3a29",
            "capturedAt": "2026-02-25T14:40:55.520Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-25T14:40:55.520Z",
            "updatedAt": "2026-02-25T14:40:55.520Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "a272d406-edf7-47fb-97c1-5b93b13e3080",
            "timestamp": "2026-02-25T14:40:55.748Z"
          }
        },
        "at": "2026-02-25T14:40:55.750Z"
      },
      {
        "method": "GET",
        "path": "/api/v1/bizes/3AALTCwu691Ctt4WZw6FONgO0Pt/booking-orders?perPage=100",
        "status": 200,
        "responseBody": {
          "success": true,
          "data": [
            {
              "id": "booking_order_3AALUp8f5jMdyrFrDztVu6Hq9Gp",
              "bizId": "3AALTCwu691Ctt4WZw6FONgO0Pt",
              "offerId": "offer_3AALTwkZGaltTZ9XChvx1oSiEPy",
              "offerVersionId": "offer_version_3AALU4ZH8timhBAw1c04jmcg4tk",
              "customerUserId": "y0aA10vgUaOjNpJ7FpP1XjGLo5vuXCel",
              "customerGroupAccountId": null,
              "status": "in_progress",
              "statusConfigValueId": null,
              "currency": "USD",
              "subtotalMinor": 15000,
              "taxMinor": 0,
              "feeMinor": 0,
              "discountMinor": 0,
              "totalMinor": 15000,
              "requestedStartAt": "2026-02-26T14:40:46.303Z",
              "requestedEndAt": "2026-02-26T15:30:46.303Z",
              "confirmedStartAt": "2026-02-26T14:40:46.303Z",
              "confirmedEndAt": "2026-02-26T15:30:46.303Z",
              "pricingSnapshot": {},
              "policySnapshot": {},
              "metadata": {},
              "createdAt": "2026-02-25T14:40:46.336Z",
              "updatedAt": "2026-02-25T14:40:46.336Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            },
            {
              "id": "booking_order_3AALUcxrt2xnxC9AHxtjUk5YJWO",
              "bizId": "3AALTCwu691Ctt4WZw6FONgO0Pt",
              "offerId": "offer_3AALTwkZGaltTZ9XChvx1oSiEPy",
              "offerVersionId": "offer_version_3AALU4ZH8timhBAw1c04jmcg4tk",
              "customerUserId": "bECH9sa4XkzloKEsECSstv4yRdl6QiQt",
              "customerGroupAccountId": null,
              "status": "confirmed",
              "statusConfigValueId": null,
              "currency": "USD",
              "subtotalMinor": 15000,
              "taxMinor": 0,
              "feeMinor": 0,
              "discountMinor": 0,
              "totalMinor": 15000,
              "requestedStartAt": "2026-02-26T14:40:44.380Z",
              "requestedEndAt": "2026-02-26T15:30:44.380Z",
              "confirmedStartAt": "2026-02-26T14:40:44.380Z",
              "confirmedEndAt": "2026-02-26T15:30:44.380Z",
              "pricingSnapshot": {},
              "policySnapshot": {},
              "metadata": {},
              "createdAt": "2026-02-25T14:40:44.700Z",
              "updatedAt": "2026-02-25T14:40:44.700Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            }
          ],
          "meta": {
            "requestId": "352f2dd7-8ece-4c6e-a63c-ca5e92a434c4",
            "timestamp": "2026-02-25T14:40:55.934Z"
          },
          "pagination": {
            "page": 1,
            "perPage": 100,
            "total": 2,
            "hasMore": false
          }
        },
        "at": "2026-02-25T14:40:55.935Z"
      }
    ]
  },
  "metadata": {}
}
