{
  "stepKey": "owner-invite-member",
  "callCount": 10,
  "calls": [
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AALZMO0IuGJ5eYJ9xmKJPfX3wq/traces",
      "status": 201,
      "requestBody": {
        "stepKey": "persona-scenario-validate-2",
        "title": "Validate persona scenario #2 API Trace",
        "trace": {
          "stepKey": "persona-scenario-validate-2",
          "callCount": 0,
          "calls": []
        },
        "metadata": {
          "source": "rerun-sagas.ts"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3AALfD96BkW9KzWw27ZjAMY4hXt",
          "sagaRunId": "saga_run_3AALZMO0IuGJ5eYJ9xmKJPfX3wq",
          "sagaRunStepId": "saga_run_step_3AALZNl9UYQLGgIyNZWoc8pJ1mT",
          "artifactType": "api_trace",
          "title": "Validate persona scenario #2 API Trace",
          "storagePath": "testing/sagas/runs/saga_run_3AALZMO0IuGJ5eYJ9xmKJPfX3wq/artifacts/1772030528928-Validate_persona_scenario__2_API_Trace.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"stepKey\": \"persona-scenario-validate-2\",\n  \"callCount\": 0,\n  \"calls\": []\n}\n",
          "byteSize": 80,
          "checksum": "0a4cd582a28e3cb2fea84ef0674a493d95fa15ca19e7dfb26d765465f026c97f",
          "capturedAt": "2026-02-25T14:42:08.970Z",
          "metadata": {
            "source": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-25T14:42:08.970Z",
          "updatedAt": "2026-02-25T14:42:08.970Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "57fe9041-299b-4051-838a-3c16ded87e6c",
          "timestamp": "2026-02-25T14:42:09.288Z"
        }
      },
      "at": "2026-02-25T14:42:09.289Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AALdb3IQKLqBDiYlFOxCZVZltU/steps/owner-create-resources/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-25T14:42:08.930Z",
        "resultPayload": {
          "note": "Started owner-create-resources"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AALdgaL9CjKvJ62KLCdMLnsUyX",
          "sagaRunId": "saga_run_3AALdb3IQKLqBDiYlFOxCZVZltU",
          "phaseKey": "supply-and-team-setup",
          "phaseOrder": 3,
          "phaseTitle": "Supply And Team Setup",
          "stepKey": "owner-create-resources",
          "stepOrder": 6,
          "actorKey": "biz_owner",
          "instruction": "Create at least one host resource and one non-host resource (asset or venue) suitable for the UC.",
          "expectedResult": "Resources are created with expected type, location, and buffers.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-25T14:42:08.930Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started owner-create-resources"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-25T14:41:56.756Z",
          "updatedAt": "2026-02-25T14:41:56.756Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "d216b7a6-bcd3-4277-acba-76f130f7e1ce",
          "timestamp": "2026-02-25T14:42:09.292Z"
        }
      },
      "at": "2026-02-25T14:42:09.293Z"
    },
    {
      "method": "GET",
      "path": "/api/auth/get-session",
      "status": 200,
      "responseBody": {
        "session": {
          "expiresAt": "2026-03-04T14:42:09.280Z",
          "token": "ucljHodGYYXpRcJsIdG87dOLgaiT8bdt",
          "createdAt": "2026-02-25T14:42:09.280Z",
          "updatedAt": "2026-02-25T14:42:09.280Z",
          "ipAddress": "",
          "userAgent": "node",
          "userId": "1jwcGZ7ime7uNntnhDZcSPkGI64nmiAR",
          "activeOrganizationId": null,
          "impersonatedBy": null,
          "id": "Y4ZIqdn22e2sIiRnEu8vkH6zSdkzSixi"
        },
        "user": {
          "name": "member-uc-114-the-competitor-spy-raven",
          "email": "member-uc-114-the-competitor-spy-raven-1772030529069-j21wmu@example.com",
          "emailVerified": false,
          "image": null,
          "createdAt": "2026-02-25T14:42:09.267Z",
          "updatedAt": "2026-02-25T14:42:09.267Z",
          "role": "user",
          "banned": false,
          "banReason": null,
          "banExpires": null,
          "id": "1jwcGZ7ime7uNntnhDZcSPkGI64nmiAR"
        }
      },
      "at": "2026-02-25T14:42:09.336Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AALcaGWRvlxF17TmP8n6TLQnT7/steps/customer-advanced-payment-flow/result",
      "status": 200,
      "requestBody": {
        "status": "passed",
        "startedAt": "2026-02-25T14:42:08.681Z",
        "endedAt": "2026-02-25T14:42:08.681Z",
        "failureMessage": null,
        "resultPayload": {
          "note": "Advanced split-tender flow executed and traceable through intent/tender/line allocations.",
          "evidence": {
            "paymentIntentId": "payment_intent_3AALf6ZrMXVONbAklu9h6hncW1p",
            "amountTargetMinor": 15500,
            "amountCapturedMinor": 15500,
            "intentStatus": "succeeded",
            "tenderCount": 2,
            "lineAllocationCount": 3,
            "transactionCount": 2,
            "transactionLineAllocationCount": 3,
            "hasIntentInList": true
          }
        },
        "assertionSummary": {
          "status": "passed",
          "hasFailure": false,
          "assertionsPassed": 1
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AALcadEPmOxFYUqQsAmQw5DE8W",
          "sagaRunId": "saga_run_3AALcaGWRvlxF17TmP8n6TLQnT7",
          "phaseKey": "customer-lifecycle",
          "phaseOrder": 5,
          "phaseTitle": "Customer Lifecycle",
          "stepKey": "customer-advanced-payment-flow",
          "stepOrder": 14,
          "actorKey": "customer_1",
          "instruction": "Execute advanced payment path (split tender and/or tip/gift/credit entitlement usage) and persist allocation evidence.",
          "expectedResult": "Payment trace clearly links payer, tender mix, and booking/order amounts with no ambiguity.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "passed",
          "attemptCount": 1,
          "startedAt": "2026-02-25T14:42:08.681Z",
          "endedAt": "2026-02-25T14:42:08.681Z",
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Advanced split-tender flow executed and traceable through intent/tender/line allocations.",
            "evidence": {
              "tenderCount": 2,
              "intentStatus": "succeeded",
              "hasIntentInList": true,
              "paymentIntentId": "payment_intent_3AALf6ZrMXVONbAklu9h6hncW1p",
              "transactionCount": 2,
              "amountTargetMinor": 15500,
              "amountCapturedMinor": 15500,
              "lineAllocationCount": 3,
              "transactionLineAllocationCount": 3
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          },
          "metadata": {},
          "createdAt": "2026-02-25T14:41:48.046Z",
          "updatedAt": "2026-02-25T14:41:48.046Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "72f96e58-1e95-4694-97d9-cc1c250538db",
          "timestamp": "2026-02-25T14:42:09.346Z"
        }
      },
      "at": "2026-02-25T14:42:09.347Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AALeLT4uoWJB1FVKzRBLIEXpxB/steps/owner-configure-hours/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-25T14:42:09.037Z",
        "resultPayload": {
          "note": "Started owner-configure-hours"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AALeSU5uUsrkdmCMRwsApORrTJ",
          "sagaRunId": "saga_run_3AALeLT4uoWJB1FVKzRBLIEXpxB",
          "phaseKey": "business-configuration",
          "phaseOrder": 2,
          "phaseTitle": "Business Configuration",
          "stepKey": "owner-configure-hours",
          "stepOrder": 4,
          "actorKey": "biz_owner",
          "instruction": "Create baseline availability and lead-time rules representing the UC default business hours and booking window behavior.",
          "expectedResult": "Availability defaults and rules are stored and can be referenced by calendars.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-25T14:42:09.037Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started owner-configure-hours"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-25T14:42:02.123Z",
          "updatedAt": "2026-02-25T14:42:02.123Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "9ffb6c83-3592-450e-a276-356ee87895c2",
          "timestamp": "2026-02-25T14:42:09.375Z"
        }
      },
      "at": "2026-02-25T14:42:09.376Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AALeiaHdRvbV54eN2L0OuFx7rx/steps/owner-sign-up/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-25T14:42:09.021Z",
        "resultPayload": {
          "note": "Started owner-sign-up"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AALemwu24zsHQCogmzhKF45NqX",
          "sagaRunId": "saga_run_3AALeiaHdRvbV54eN2L0OuFx7rx",
          "phaseKey": "owner-onboarding",
          "phaseOrder": 1,
          "phaseTitle": "Owner Onboarding",
          "stepKey": "owner-sign-up",
          "stepOrder": 1,
          "actorKey": "biz_owner",
          "instruction": "Create or login the owner account through Better Auth endpoints, then verify session context can call authenticated API routes.",
          "expectedResult": "Owner session exists and authenticated routes return success for this user.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-25T14:42:09.021Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started owner-sign-up"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-25T14:42:05.890Z",
          "updatedAt": "2026-02-25T14:42:05.890Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "2ca3eef0-ab98-41fd-aeab-95c441bed07e",
          "timestamp": "2026-02-25T14:42:09.415Z"
        }
      },
      "at": "2026-02-25T14:42:09.416Z"
    },
    {
      "method": "POST",
      "path": "/api/auth/organization/invite-member",
      "status": 200,
      "requestBody": {
        "email": "member-uc-114-the-competitor-spy-raven-1772030529069-j21wmu@example.com",
        "role": "admin",
        "organizationId": "3AALeP8hkAhJ24l0asEy4U3cOlo"
      },
      "responseBody": {
        "organizationId": "3AALeP8hkAhJ24l0asEy4U3cOlo",
        "email": "member-uc-114-the-competitor-spy-raven-1772030529069-j21wmu@example.com",
        "role": "admin",
        "status": "pending",
        "expiresAt": "2026-02-27T14:42:09.411Z",
        "createdAt": "2026-02-25T14:42:09.411Z",
        "inviterId": "n1sZmxkoRU3I056ePPa62zeC77c08bew",
        "id": "W6uBKH3sOCQz5nn37IDpYMSwPGkszqoU"
      },
      "at": "2026-02-25T14:42:09.417Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AALZxXbZgmD7mbKIwt8LKgKGmE/traces",
      "status": 201,
      "requestBody": {
        "stepKey": "uc-need-validate-6",
        "title": "Validate explicit UC need #6 API Trace",
        "trace": {
          "stepKey": "uc-need-validate-6",
          "callCount": 0,
          "calls": []
        },
        "metadata": {
          "source": "rerun-sagas.ts"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3AALfGIpsWmDdyibvtYevjHM8N7",
          "sagaRunId": "saga_run_3AALZxXbZgmD7mbKIwt8LKgKGmE",
          "sagaRunStepId": "saga_run_step_3AALZy7M5NPoUX19oaEimXa53NA",
          "artifactType": "api_trace",
          "title": "Validate explicit UC need #6 API Trace",
          "storagePath": "testing/sagas/runs/saga_run_3AALZxXbZgmD7mbKIwt8LKgKGmE/artifacts/1772030529035-Validate_explicit_UC_need__6_API_Trace.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"stepKey\": \"uc-need-validate-6\",\n  \"callCount\": 0,\n  \"calls\": []\n}\n",
          "byteSize": 71,
          "checksum": "d2056843d5daf84ab48ddbb3b38cb9b5a3cb319f1e60d88fb6f771d0c3d363f9",
          "capturedAt": "2026-02-25T14:42:09.060Z",
          "metadata": {
            "source": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-25T14:42:09.060Z",
          "updatedAt": "2026-02-25T14:42:09.060Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "93c7179c-ce38-4e8e-a911-06f378c0a2c5",
          "timestamp": "2026-02-25T14:42:09.528Z"
        }
      },
      "at": "2026-02-25T14:42:09.529Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AALcmQXajsFrmNbam4HGglol4J/traces",
      "status": 201,
      "requestBody": {
        "stepKey": "customer-advanced-payment-flow",
        "title": "Customer uses advanced payment instruments API Trace",
        "trace": {
          "stepKey": "customer-advanced-payment-flow",
          "callCount": 1,
          "calls": [
            {
              "method": "PATCH",
              "path": "/api/v1/bizes/3AALelPAsBUZfuNdML7IVj4j489",
              "status": 200,
              "requestBody": {
                "metadata": {
                  "availability": {
                    "timezone": "UTC",
                    "weekly": {
                      "mon": [
                        "09:00-17:00"
                      ],
                      "tue": [
                        "09:00-17:00"
                      ],
                      "wed": [
                        "09:00-17:00"
                      ],
                      "thu": [
                        "09:00-17:00"
                      ],
                      "fri": [
                        "09:00-17:00"
                      ]
                    },
                    "leadTimeHours": 24,
                    "maxAdvanceDays": 60
                  }
                }
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "3AALelPAsBUZfuNdML7IVj4j489",
                  "name": "Saga uc-114-the-group-event-organizer-gathering-gwen",
                  "slug": "uc-114-the-group-event-organizer-gathering-gwen-47fuooa7",
                  "type": "small_business",
                  "logoUrl": null,
                  "timezone": "UTC",
                  "currency": "USD",
                  "status": "active",
                  "metadata": {
                    "availability": {
                      "weekly": {
                        "fri": [
                          "09:00-17:00"
                        ],
                        "mon": [
                          "09:00-17:00"
                        ],
                        "thu": [
                          "09:00-17:00"
                        ],
                        "tue": [
                          "09:00-17:00"
                        ],
                        "wed": [
                          "09:00-17:00"
                        ]
                      },
                      "timezone": "UTC",
                      "leadTimeHours": 24,
                      "maxAdvanceDays": 60
                    }
                  },
                  "createdAt": "2026-02-25T14:42:05.605Z",
                  "updatedAt": "2026-02-25T14:42:05.605Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "068c9fe1-5ccf-429e-b173-bd7534ea977a",
                  "timestamp": "2026-02-25T14:42:08.676Z"
                }
              },
              "at": "2026-02-25T14:42:08.677Z"
            }
          ]
        },
        "metadata": {
          "source": "rerun-sagas.ts"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3AALfHII3NARJ4KOEGewoq01s9I",
          "sagaRunId": "saga_run_3AALcmQXajsFrmNbam4HGglol4J",
          "sagaRunStepId": "saga_run_step_3AALci4h6QQ1TL7js9zfF4yXjWY",
          "artifactType": "api_trace",
          "title": "Customer uses advanced payment instruments API Trace",
          "storagePath": "testing/sagas/runs/saga_run_3AALcmQXajsFrmNbam4HGglol4J/artifacts/1772030529057-Customer_uses_advanced_payment_instruments_API_Trace.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"stepKey\": \"customer-advanced-payment-flow\",\n  \"callCount\": 1,\n  \"calls\": [\n    {\n      \"method\": \"PATCH\",\n      \"path\": \"/api/v1/bizes/3AALelPAsBUZfuNdML7IVj4j489\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"metadata\": {\n          \"availability\": {\n            \"timezone\": \"UTC\",\n            \"weekly\": {\n              \"mon\": [\n                \"09:00-17:00\"\n              ],\n              \"tue\": [\n                \"09:00-17:00\"\n              ],\n              \"wed\": [\n                \"09:00-17:00\"\n              ],\n              \"thu\": [\n                \"09:00-17:00\"\n              ],\n              \"fri\": [\n                \"09:00-17:00\"\n              ]\n            },\n            \"leadTimeHours\": 24,\n            \"maxAdvanceDays\": 60\n          }\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"3AALelPAsBUZfuNdML7IVj4j489\",\n          \"name\": \"Saga uc-114-the-group-event-organizer-gathering-gwen\",\n          \"slug\": \"uc-114-the-group-event-organizer-gathering-gwen-47fuooa7\",\n          \"type\": \"small_business\",\n          \"logoUrl\": null,\n          \"timezone\": \"UTC\",\n          \"currency\": \"USD\",\n          \"status\": \"active\",\n          \"metadata\": {\n            \"availability\": {\n              \"weekly\": {\n                \"fri\": [\n                  \"09:00-17:00\"\n                ],\n                \"mon\": [\n                  \"09:00-17:00\"\n                ],\n                \"thu\": [\n                  \"09:00-17:00\"\n                ],\n                \"tue\": [\n                  \"09:00-17:00\"\n                ],\n                \"wed\": [\n                  \"09:00-17:00\"\n                ]\n              },\n              \"timezone\": \"UTC\",\n              \"leadTimeHours\": 24,\n              \"maxAdvanceDays\": 60\n            }\n          },\n          \"createdAt\": \"2026-02-25T14:42:05.605Z\",\n          \"updatedAt\": \"2026-02-25T14:42:05.605Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"068c9fe1-5ccf-429e-b173-bd7534ea977a\",\n          \"timestamp\": \"2026-02-25T14:42:08.676Z\"\n        }\n      },\n      \"at\": \"2026-02-25T14:42:08.677Z\"\n    }\n  ]\n}\n",
          "byteSize": 2232,
          "checksum": "e241d148d4ee208e810048664e3f2187a8cf8af0613d886e23d396c3ecfa2c6b",
          "capturedAt": "2026-02-25T14:42:09.278Z",
          "metadata": {
            "source": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-25T14:42:09.278Z",
          "updatedAt": "2026-02-25T14:42:09.278Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "90aaaac4-b8f6-43fa-afe3-8bd563cdbadc",
          "timestamp": "2026-02-25T14:42:09.531Z"
        }
      },
      "at": "2026-02-25T14:42:09.532Z"
    },
    {
      "method": "POST",
      "path": "/api/auth/organization/accept-invitation",
      "status": 200,
      "requestBody": {
        "invitationId": "W6uBKH3sOCQz5nn37IDpYMSwPGkszqoU"
      },
      "responseBody": {
        "invitation": {
          "organizationId": "3AALeP8hkAhJ24l0asEy4U3cOlo",
          "email": "member-uc-114-the-competitor-spy-raven-1772030529069-j21wmu@example.com",
          "role": "admin",
          "status": "accepted",
          "expiresAt": "2026-02-27T14:42:09.411Z",
          "createdAt": "2026-02-25T14:42:09.411Z",
          "inviterId": "n1sZmxkoRU3I056ePPa62zeC77c08bew",
          "id": "W6uBKH3sOCQz5nn37IDpYMSwPGkszqoU"
        },
        "member": {
          "organizationId": "3AALeP8hkAhJ24l0asEy4U3cOlo",
          "userId": "1jwcGZ7ime7uNntnhDZcSPkGI64nmiAR",
          "role": "admin",
          "createdAt": "2026-02-25T14:42:09.534Z",
          "id": "NMgiACiNTQ8xIVgviCikaCrYyVxVMdrG"
        }
      },
      "at": "2026-02-25T14:42:09.554Z"
    }
  ]
}
