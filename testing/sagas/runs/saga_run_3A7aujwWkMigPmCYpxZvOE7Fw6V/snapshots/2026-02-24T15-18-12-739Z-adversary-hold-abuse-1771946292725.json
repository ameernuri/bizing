{
  "schemaVersion": "snapshot.v1",
  "screenKey": "adversary-hold-abuse-1771946292725",
  "title": "Adversary attempts demand/hold abuse Snapshot",
  "generatedAt": "2026-02-24T15:18:12.735Z",
  "stepKey": "adversary-hold-abuse",
  "status": "passed",
  "view": {
    "title": "Adversary attempts demand/hold abuse",
    "subtitle": "Repeated unauthorized hold attempts were blocked (403).",
    "blocks": [
      {
        "type": "alert",
        "title": "Adversary Hold Abuse completed",
        "message": "Repeated unauthorized hold attempts were blocked (403).",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "adversary-hold-abuse",
    "resultPayload": {
      "note": "Repeated unauthorized hold attempts were blocked (403)."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/bizes/3A7auqNMt4mbjl5EX49GOhZrWiA/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3A7ausSDODJrkFpBHcL8QejsQBy",
          "offerVersionId": "offer_version_3A7av5rnp2QgRpSPXEjUytdBQO7",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "af1b4afb-729f-42ae-ad5b-e5f870b4be73",
            "timestamp": "2026-02-24T15:18:12.380Z"
          }
        },
        "at": "2026-02-24T15:18:12.381Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3A7aurYZBQv4yK8CpZyhG9V3WT7/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3A7auyISJd6ltZf2x4sX0P0niib",
          "offerVersionId": "offer_version_3A7av5KGrBXBNdc7Ih4COqK1cyX",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "59dcd5a0-5fd6-4b78-b24e-daac4de04e04",
            "timestamp": "2026-02-24T15:18:12.381Z"
          }
        },
        "at": "2026-02-24T15:18:12.393Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7aue3jtQrYeRYjOXpC9kryfqL/traces",
        "status": 201,
        "requestBody": {
          "_truncated": true,
          "_preview": "{\"stepKey\":\"customer-two-concurrent\",\"title\":\"Customer two performs concurrent booking attempt API Trace\",\"trace\":{\"stepKey\":\"customer-two-concurrent\",\"callCount\":3,\"calls\":[{\"method\":\"GET\",\"path\":\"/api/auth/get-session\",\"status\":200,\"responseBody\":{\"session\":{\"expiresAt\":\"2026-03-03T15:18:12.007Z\",\"token\":\"SS4m81qCqG0QaUAZyPauLiP2KEKzKFV3\",\"createdAt\":\"2026-02-24T15:18:12.007Z\",\"updatedAt\":\"2026-02-24T15:18:12.007Z\",\"ipAddress\":\"\",\"userAgent\":\"node\",\"userId\":\"oyW8W0pRDtevOgoRt5deIrAzaxDwdow4\",\"activeOrganizationId\":null,\"impersonatedBy\":null,\"id\":\"xXCnfeya2CUBUUSCesBMfqSTHQ5OhvTg\"},\"user\":{\"name\":\"adversary-uc-118-the-solo-entrepreneur-sarah\",\"email\":\"adversary-uc-118-the-solo-entrepreneur-sarah-1771946291896-gvpty3@example.com\",\"emailVerified\":false,\"image\":null,\"createdAt\":\"2026-02-24T15:18:11.999Z\",\"updatedAt\":\"2026-02-24T15:18:11.999Z\",\"role\":\"user\",\"banned\":false,\"banReason\":null,\"banExpires\":null,\"id\":\"oyW8W0pRDtevOgoRt5deIrAzaxDwdow4\"}},\"at\":\"2026-02-24T15:18:12.040Z\"},{\"method\":\"POST\",\"path\":\"/api/v1/sagas/runs/saga_run_3A7aug3AZgErFCr8P1TRW9I5VOC/steps/adversary-cross-biz-read/result\",\"status\":200,\"requestBody\":{\"status\":\"passed\",\"startedAt\":\"2026-02-24T15:18:11.875Z\",\"endedAt\":\"2026-02-24T15:18:11.875Z\",\"failureMessage\":null,\"resultPayload\":{\"note\":\"Cross-biz read blocked for non-member account.\",\"evidence\":{\"adversaryUserId\":\"HdyEHZj4NLMD8eww0KHRiYmRWrrnOMAT\"}},\"assertionSummary\":{\"status\":\"passed\",\"hasFailure\":false,\"assertionsPassed\":1}},\"responseBody\":{\"success\":true,\"data\":{\"id\":\"saga_run_step_3A7auh6NnNzRfDxuesMhlrUm21B\",\"sagaRunId\":\"saga_run_3A7aug3AZgErFCr8P1TRW9I5VOC\",\"phaseKey\":\"security-and-abuse\",\"phaseOrder\":6,\"phaseTitle\":\"Security And Abuse Checks\",\"stepKey\":\"adversary-cross-biz-read\",\"stepOrder\":14,\"actorKey\":\"adversary\",\"instruction\":\"Using credentials from another context, attempt to read or mutate booking/order resources for this biz.\",\"expectedResult\":\"Request is rejected with forbidden/unauthorized error and no data leakage.\",\"status\":\"passed\",\"attemptCount\":1,\"startedAt\":\"2026-02-24T15:18:11.875Z\",\"endedAt\":\"2026-02-24T15:18:11.875Z\",\"failureCode\":null,\"failureMessage\":null,\"resultPayload\":{\"note\":\"Cross-biz read blocked for non-member account.\",\"evidence\":{\"adversaryUserId\":\"HdyEHZj4NLMD8eww0KHRiYmRWrrnOMAT\"}},\"assertionSummary\":{\"status\":\"passed\",\"hasFailure\":false,\"assertionsPassed\":1},\"metadata\":{},\"createdAt\":\"2026-02-24T15:18:06.730Z\",\"updatedAt\":\"2026-02-24T15:18:06.730Z\",\"deletedAt\":null,\"createdBy\":null,\"updatedBy\":null,\"deletedBy\":null},\"meta\":{\"requestId\":\"82248c03-9ec1-46c2-ac27-821f8ef75c64\",\"timestamp\":\"2026-02-24T15:18:12.033Z\"}},\"at\":\"2026-02-24T15:18:12.042Z\"},{\"method\":\"POST\",\"path\":\"/api/v1/sagas/runs/saga_run_3A7aur92BlWqm6QFPjcTNLoemN1/snapshots\",\"status\":201,\"requestBody\":{\"stepKey\":\"customer-book-primary\",\"screenKey\":\"customer-book-primary-1771946291897\",\"title\":\"Customer one books primary offer Snapshot\",\"status\":\"passed\",\"route\":\"/sagas/saga_run_3A7aur92BlWqm6QFPjcTNLoemN1/customer-book-primary\",\"format\":\"json\",\"view\":{\"title\":\"Customer one books primary offer\",\"subtitle\":\"Primary booking created.\",\"blocks\":[{\"type\":\"alert\",\"title\":\"Customer Book Primary completed\",\"message\":\"Primary booking created.\",\"tone\":\"success\"},{\"type\":\"key_value\",\"title\":\"Booking confirmation\",\"items\":[{\"label\":\"Booking id\",\"value\":\"booking_order_3A7avJKwAToEzKGvSbEWjWySoc0\"},{\"label\":\"Status\",\"value\":\"confirmed\"},{\"label\":\"Starts at\",\"value\":\"2026-02-25T15:18:11.497Z\"},{\"label\":\"Total\",\"value\":\"15000\"}]},{\"type\":\"actions\",\"title\":\"Visible actions\",\"items\":[{\"label\":\"Download receipt\",\"kind\":\"secondary\",\"enabled\":true},{\"label\":\"Reschedule\",\"kind\":\"secondary\",\"enabled\":true},{\"label\":\"Cancel booking\",\"kind\":\"danger\",\"enabled\":true}]},{\"type\":\"stats\",\"title\":\"What user sees at a glance\",\"items\":[{\"label\":\"SubtotalMinor\",\"value\":\"15000\"},{\"label\":\"TaxMinor\",\"value\":\"0\"},{\"label\":\"FeeMinor\",\"value\":\"0\"},{\"label\":\"DiscountMinor\",\"value\":\"0\"},{\"label\":\"TotalMinor\",\"value\":\"15000\"}]},{\"type\":\"key_value\",\"title\":\"Screen details\",\"items\":[{\"label\":\"Id\",\"value\":\"booking_order_3A7avJKwAToEzKGvSbEWjWySoc0\"},{\"label\":\"BizId\",\"value\":\"3A7aukZMMVlomY5GFjxZwrCVwWI\"},{\"label\":\"OfferId\",\"value\":\"offer_3A7av2C8tgD2zkp4lUPeXjtSYSl\"},{\"label\":\"OfferVersionId\",\"value\":\"offer_version_3A7av2JVqebS3HUZ4mc1iA8RvdN\"},{\"label\":\"CustomerUserId\",\"value\":\"jCpZtsumbFyzGMm58RLvZC0ABQ4sxZxs\"},{\"label\":\"CustomerGroupAccountId\",\"value\":\"null\"},{\"label\":\"Status\",\"value\":\"confirmed\"},{\"label\":\"StatusConfigValueId\",\"value\":\"null\"},{\"label\":\"Currency\",\"value\":\"USD\"},{\"label\":\"SubtotalMinor\",\"value\":\"15000\"},{\"label\":\"TaxMinor\",\"value\":\"0\"},{\"label\":\"FeeMinor\",\"value\":\"0\"},{\"label\":\"DiscountMinor\",\"value\":\"0\"},{\"label\":\"TotalMinor\",\"value\":\"15000\"},{\"label\":\"RequestedStartAt\",\"value\":\"2026-02-25T15:18:11.497Z\"},{\"label\":\"RequestedEndAt\",\"value\":\"2026-02-25T16:08:11.497Z\"}]}]},\"rawData\":{\"stepKey\":\"customer-book-primary\",\"resultPayload\":{\"note\":\"Primary booking created.\",\"evidence\":{\"id\":\"booking_order_3A7avJKwAToEzKGvSbEWjWySoc0\",\"bizId\":\"3A7aukZMMVlomY5GFjxZwrCVwWI\",\"offerId\":\"offer_3A7av2C8tgD2zkp4lUPeXjtSYSl\",\"offerVersionId\":\"offer_version_3A7av2JVqebS3HUZ4mc1iA8RvdN\",\"customerUserId\":\"jCpZtsumbFyzGMm58RLvZC0ABQ4sxZxs\",\"customerGroupAccountId\":null,\"status\":\"confirmed\",\"statusConfigValueId\":null,\"currency\":\"USD\",\"subtotalMinor\":15000,\"taxMinor\":0,\"feeMinor\":0,\"discountMinor\":0,\"totalMinor\":15000,\"requestedStartAt\":\"2026-02-25T15:18:11.497Z\",\"requestedEndAt\":\"2026-02-25T16:08:11.497Z\",\"confirmedStartAt\":\"2026-02-25T15:18:11.497Z\",\"confirmedEndAt\":\"2026-02-25T16:08:11.497Z\",\"pricingSnapshot\":{},\"policySnapshot\":{},\"metadata\":{},\"createdAt\":\"2026-02-24T15:18:11.511Z\",\"updatedAt\":\"2026-02-24T15:18:11.511Z\",\"deletedAt\":null,\"createdBy\":null,\"updatedBy\":null,\"deletedBy\":null}},\"apiCalls\":[{\"method\":\"POST\",\"path\":\"/api/v1/public/bizes/3A7aunfyDzxzCkNzitummfD1tsd/booking-orders\",\"status\":201,\"requestBody\":{\"offerId\":\"offer_3A7av0f2hMmCpMCdyaZeZMK32wf\",\"offerVersionId\":\"offer_version_3A7av0Tbf3G25QAKG636Ehz9UmN\",\"customerUserId\":\"9pw2C7sIO5u1X5vcZDgdYAApqD45PGcb\",\"status\":\"confirmed\",\"subtotalMinor\":15000,\"taxMinor\":0,\"feeMinor\":0,\"discountMinor\":0,\"totalMinor\":15000,\"currency\":\"USD\",\"requestedStartAt\":\"2026-02-25T15:18:11.481Z\",\"requestedEndAt\":\"2026-02-25T16:08:11.481Z\",\"confirmedStartAt\":\"2026-02-25T15:18:11.481Z\",\"confirmedEndAt\":\"2026-02-25T16:08:11.481Z\"},\"responseBody\":{\"success\":true,\"data\":{\"id\":\"booking_order_3A7avGnm2QRJnUAtYgXBrVf23KB\",\"bizId\":\"3A7aunfyDzxzCkNzitummfD1tsd\",\"offerId\":\"offer_3A7av0f2hMmCpMCdyaZeZMK32wf\",\"offerVersionId\":\"offer_version_3A7av0Tbf3G25QAKG636Ehz9UmN\",\"customerUserId\":\"9pw2C7sIO5u1X5vcZDgdYAApqD45PGcb\",\"customerGroupAccountId\":null,\"status\":\"confirmed\",\"statusConfigValueId\":null,\"currency\":\"USD\",\"subtotalMinor\":15000,\"taxMinor\":0,\"feeMinor\":0,\"discountMinor\":0,\"totalMinor\":15000,\"requestedStartAt\":\"2026-02-25T15:18:11.481Z\",\"requestedEndAt\":\"2026-02-25T16:08:11.481Z\",\"confirmedStartAt\":\"2026-02-25T15:18:11.481Z\",\"confirmedEndAt\":\"2026-02-25T16:08:11.481Z\",\"pricingSnapshot\":{},\"policySnapshot\":{},\"metadata\":{},\"createdAt\":\"2026-02-24T15:18:11.489Z\",\"updatedAt\":\"2026-02-24T15:18:11.489Z\",\"deletedAt\":null,\"createdBy\":null,\"updatedBy\":null,\"deletedBy\":null},\"meta\":{\"requestId\":\"23986a59-67e3-43bb-a68f-6c3bbd8974da\",\"timestamp\":\"2026-02-24T15:18:11.491Z\"}},\"at\":\"2026-02-24T15:18:11.498Z\"}]}},\"responseBody\":{\"success\":true,\"data\":{\"id\":\"saga_artifact_3A7avSjb6aB0KlpK7CTFItyaQZC\",\"sagaRunId\":\"saga_run_3A7aur92BlWqm6QFPjcTNLoemN1\",\"sagaRunStepId\":\"saga_run_step_3A7aurD2AWacZelyC7qpyJYYUKe\",\"artifactType\":\"snapshot\",\"title\":\"Customer one books primary offer Snapshot\",\"storagePath\":\"testing/sagas/runs/saga_run_3A7aur92BlWqm6QFPjcTNLoemN1/snapshots/2026-02-24T15-18-12-010Z-customer-book-primary-1771946291897.json\",\"contentType\":\"application/json\",\"bodyText\":\"{\\n  \\\"schemaVersion\\\": \\\"snapshot.v1\\\",\\n  \\\"screenKey\\\": \\\"customer-book-primary-1771946291897\\\",\\n  \\\"title\\\": \\\"Customer one books primary offer Snapshot\\\",\\n  \\\"generatedAt\\\": \\\"2026-02-24T15:18:12.006Z\\\",\\n  \\\"stepKey\\\": \\\"customer-book-primary\\\",\\n  \\\"status\\\": \\\"passed\\\",\\n  \\\"view\\\": {\\n    \\\"title\\\": \\\"Customer one books primary offer\\\",\\n    \\\"subtitle\\\": \\\"Primary booking created.\\\",\\n    \\\"blocks\\\": [\\n      {\\n        \\\"type\\\": \\\"alert\\\",\\n        \\\"title\\\": \\\"Customer Book Primary completed\\\",\\n        \\\"message\\\": \\\"Primary booking created.\\\",\\n        \\\"tone\\\": \\\"success\\\"\\n      },\\n      {\\n        \\\"type\\\": \\\"key_value\\\",\\n        \\\"title\\\": \\\"Booking confirmation\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"label\\\": \\\"Booking id\\\",\\n            \\\"value\\\": \\\"booking_order_3A7avJKwAToEzKGvSbEWjWySoc0\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"Status\\\",\\n            \\\"value\\\": \\\"confirmed\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"Starts at\\\",\\n            \\\"value\\\": \\\"2026-02-25T15:18:11.497Z\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"Total\\\",\\n            \\\"value\\\": \\\"15000\\\"\\n          }\\n        ]\\n      },\\n      {\\n        \\\"type\\\": \\\"actions\\\",\\n        \\\"title\\\": \\\"Visible actions\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"label\\\": \\\"Download receipt\\\",\\n            \\\"kind\\\": \\\"secondary\\\",\\n            \\\"enabled\\\": true\\n          },\\n          {\\n            \\\"label\\\": \\\"Reschedule\\\",\\n            \\\"kind\\\": \\\"secondary\\\",\\n            \\\"enabled\\\": true\\n          },\\n          {\\n            \\\"label\\\": \\\"Cancel booking\\\",\\n            \\\"kind\\\": \\\"danger\\\",\\n            \\\"enabled\\\": true\\n          }\\n        ]\\n      },\\n      {\\n        \\\"type\\\": \\\"stats\\\",\\n        \\\"title\\\": \\\"What user sees at a glance\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"label\\\": \\\"SubtotalMinor\\\",\\n            \\\"value\\\": \\\"15000\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"TaxMinor\\\",\\n            \\\"value\\\": \\\"0\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"FeeMinor\\\",\\n            \\\"value\\\": \\\"0\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"DiscountMinor\\\",\\n            \\\"value\\\": \\\"0\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"TotalMinor\\\",\\n            \\\"value\\\": \\\"15000\\\"\\n          }\\n        ]\\n      },\\n      {\\n        \\\"type\\\": \\\"key_value\\\",\\n        \\\"title\\\": \\\"Screen details\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"label\\\": \\\"Id\\\",\\n            \\\"value\\\": \\\"booking_order_3A7avJKwAToEzKGvSbEWjWySoc0\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"BizId\\\",\\n            \\\"value\\\": \\\"3A7aukZMMVlomY5GFjxZwrCVwWI\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"OfferId\\\",\\n            \\\"value\\\": \\\"offer_3A7av2C8tgD2zkp4lUPeXjtSYSl\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"OfferVersionId\\\",\\n            \\\"value\\\": \\\"offer_version_3A7av2JVqebS3HUZ4mc1iA8RvdN\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"CustomerUserId\\\",\\n            \\\"value\\\": \\\"jCpZtsumbFyzGMm58RLvZC0ABQ4sxZxs\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"CustomerGroupAccountId\\\",\\n            \\\"value\\\": \\\"null\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"Status\\\",\\n            \\\"value\\\": \\\"confirmed\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"StatusConfigValueId\\\",\\n            \\\"value\\\": \\\"null\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"Currency\\\",\\n            \\\"value\\\": \\\"USD\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"SubtotalMinor\\\",\\n            \\\"value\\\": \\\"15000\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"TaxMinor\\\",\\n            \\\"value\\\": \\\"0\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"FeeMinor\\\",\\n            \\\"value\\\": \\\"0\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"DiscountMinor\\\",\\n            \\\"value\\\": \\\"0\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"TotalMinor\\\",\\n            \\\"value\\\": \\\"15000\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"RequestedStartAt\\\",\\n            \\\"value\\\": \\\"2026-02-25T15:18:11.497Z\\\"\\n          },\\n          {\\n            \\\"",
          "_size": 16665
        },
        "responseBody": {
          "_truncated": true,
          "_preview": "{\"success\":true,\"data\":{\"id\":\"saga_artifact_3A7avQpgMMHSg8ZM10VWRGEDPWM\",\"sagaRunId\":\"saga_run_3A7aue3jtQrYeRYjOXpC9kryfqL\",\"sagaRunStepId\":\"saga_run_step_3A7auf6LjHT4eGb6g1HqNSuMNJx\",\"artifactType\":\"api_trace\",\"title\":\"Customer two performs concurrent booking attempt API Trace\",\"storagePath\":\"testing/sagas/runs/saga_run_3A7aue3jtQrYeRYjOXpC9kryfqL/artifacts/1771946292369-Customer_two_performs_concurrent_booking_attempt_API_Trace.json\",\"contentType\":\"application/json\",\"bodyText\":\"{\\n  \\\"stepKey\\\": \\\"customer-two-concurrent\\\",\\n  \\\"callCount\\\": 3,\\n  \\\"calls\\\": [\\n    {\\n      \\\"method\\\": \\\"GET\\\",\\n      \\\"path\\\": \\\"/api/auth/get-session\\\",\\n      \\\"status\\\": 200,\\n      \\\"responseBody\\\": {\\n        \\\"session\\\": {\\n          \\\"expiresAt\\\": \\\"2026-03-03T15:18:12.007Z\\\",\\n          \\\"token\\\": \\\"SS4m81qCqG0QaUAZyPauLiP2KEKzKFV3\\\",\\n          \\\"createdAt\\\": \\\"2026-02-24T15:18:12.007Z\\\",\\n          \\\"updatedAt\\\": \\\"2026-02-24T15:18:12.007Z\\\",\\n          \\\"ipAddress\\\": \\\"\\\",\\n          \\\"userAgent\\\": \\\"node\\\",\\n          \\\"userId\\\": \\\"oyW8W0pRDtevOgoRt5deIrAzaxDwdow4\\\",\\n          \\\"activeOrganizationId\\\": null,\\n          \\\"impersonatedBy\\\": null,\\n          \\\"id\\\": \\\"xXCnfeya2CUBUUSCesBMfqSTHQ5OhvTg\\\"\\n        },\\n        \\\"user\\\": {\\n          \\\"name\\\": \\\"adversary-uc-118-the-solo-entrepreneur-sarah\\\",\\n          \\\"email\\\": \\\"adversary-uc-118-the-solo-entrepreneur-sarah-1771946291896-gvpty3@example.com\\\",\\n          \\\"emailVerified\\\": false,\\n          \\\"image\\\": null,\\n          \\\"createdAt\\\": \\\"2026-02-24T15:18:11.999Z\\\",\\n          \\\"updatedAt\\\": \\\"2026-02-24T15:18:11.999Z\\\",\\n          \\\"role\\\": \\\"user\\\",\\n          \\\"banned\\\": false,\\n          \\\"banReason\\\": null,\\n          \\\"banExpires\\\": null,\\n          \\\"id\\\": \\\"oyW8W0pRDtevOgoRt5deIrAzaxDwdow4\\\"\\n        }\\n      },\\n      \\\"at\\\": \\\"2026-02-24T15:18:12.040Z\\\"\\n    },\\n    {\\n      \\\"method\\\": \\\"POST\\\",\\n      \\\"path\\\": \\\"/api/v1/sagas/runs/saga_run_3A7aug3AZgErFCr8P1TRW9I5VOC/steps/adversary-cross-biz-read/result\\\",\\n      \\\"status\\\": 200,\\n      \\\"requestBody\\\": {\\n        \\\"status\\\": \\\"passed\\\",\\n        \\\"startedAt\\\": \\\"2026-02-24T15:18:11.875Z\\\",\\n        \\\"endedAt\\\": \\\"2026-02-24T15:18:11.875Z\\\",\\n        \\\"failureMessage\\\": null,\\n        \\\"resultPayload\\\": {\\n          \\\"note\\\": \\\"Cross-biz read blocked for non-member account.\\\",\\n          \\\"evidence\\\": {\\n            \\\"adversaryUserId\\\": \\\"HdyEHZj4NLMD8eww0KHRiYmRWrrnOMAT\\\"\\n          }\\n        },\\n        \\\"assertionSummary\\\": {\\n          \\\"status\\\": \\\"passed\\\",\\n          \\\"hasFailure\\\": false,\\n          \\\"assertionsPassed\\\": 1\\n        }\\n      },\\n      \\\"responseBody\\\": {\\n        \\\"success\\\": true,\\n        \\\"data\\\": {\\n          \\\"id\\\": \\\"saga_run_step_3A7auh6NnNzRfDxuesMhlrUm21B\\\",\\n          \\\"sagaRunId\\\": \\\"saga_run_3A7aug3AZgErFCr8P1TRW9I5VOC\\\",\\n          \\\"phaseKey\\\": \\\"security-and-abuse\\\",\\n          \\\"phaseOrder\\\": 6,\\n          \\\"phaseTitle\\\": \\\"Security And Abuse Checks\\\",\\n          \\\"stepKey\\\": \\\"adversary-cross-biz-read\\\",\\n          \\\"stepOrder\\\": 14,\\n          \\\"actorKey\\\": \\\"adversary\\\",\\n          \\\"instruction\\\": \\\"Using credentials from another context, attempt to read or mutate booking/order resources for this biz.\\\",\\n          \\\"expectedResult\\\": \\\"Request is rejected with forbidden/unauthorized error and no data leakage.\\\",\\n          \\\"status\\\": \\\"passed\\\",\\n          \\\"attemptCount\\\": 1,\\n          \\\"startedAt\\\": \\\"2026-02-24T15:18:11.875Z\\\",\\n          \\\"endedAt\\\": \\\"2026-02-24T15:18:11.875Z\\\",\\n          \\\"failureCode\\\": null,\\n          \\\"failureMessage\\\": null,\\n          \\\"resultPayload\\\": {\\n            \\\"note\\\": \\\"Cross-biz read blocked for non-member account.\\\",\\n            \\\"evidence\\\": {\\n              \\\"adversaryUserId\\\": \\\"HdyEHZj4NLMD8eww0KHRiYmRWrrnOMAT\\\"\\n            }\\n          },\\n          \\\"assertionSummary\\\": {\\n            \\\"status\\\": \\\"passed\\\",\\n            \\\"hasFailure\\\": false,\\n            \\\"assertionsPassed\\\": 1\\n          },\\n          \\\"metadata\\\": {},\\n          \\\"createdAt\\\": \\\"2026-02-24T15:18:06.730Z\\\",\\n          \\\"updatedAt\\\": \\\"2026-02-24T15:18:06.730Z\\\",\\n          \\\"deletedAt\\\": null,\\n          \\\"createdBy\\\": null,\\n          \\\"updatedBy\\\": null,\\n          \\\"deletedBy\\\": null\\n        },\\n        \\\"meta\\\": {\\n          \\\"requestId\\\": \\\"82248c03-9ec1-46c2-ac27-821f8ef75c64\\\",\\n          \\\"timestamp\\\": \\\"2026-02-24T15:18:12.033Z\\\"\\n        }\\n      },\\n      \\\"at\\\": \\\"2026-02-24T15:18:12.042Z\\\"\\n    },\\n    {\\n      \\\"method\\\": \\\"POST\\\",\\n      \\\"path\\\": \\\"/api/v1/sagas/runs/saga_run_3A7aur92BlWqm6QFPjcTNLoemN1/snapshots\\\",\\n      \\\"status\\\": 201,\\n      \\\"requestBody\\\": {\\n        \\\"stepKey\\\": \\\"customer-book-primary\\\",\\n        \\\"screenKey\\\": \\\"customer-book-primary-1771946291897\\\",\\n        \\\"title\\\": \\\"Customer one books primary offer Snapshot\\\",\\n        \\\"status\\\": \\\"passed\\\",\\n        \\\"route\\\": \\\"/sagas/saga_run_3A7aur92BlWqm6QFPjcTNLoemN1/customer-book-primary\\\",\\n        \\\"format\\\": \\\"json\\\",\\n        \\\"view\\\": {\\n          \\\"title\\\": \\\"Customer one books primary offer\\\",\\n          \\\"subtitle\\\": \\\"Primary booking created.\\\",\\n          \\\"blocks\\\": [\\n            {\\n              \\\"type\\\": \\\"alert\\\",\\n              \\\"title\\\": \\\"Customer Book Primary completed\\\",\\n              \\\"message\\\": \\\"Primary booking created.\\\",\\n              \\\"tone\\\": \\\"success\\\"\\n            },\\n            {\\n              \\\"type\\\": \\\"key_value\\\",\\n              \\\"title\\\": \\\"Booking confirmation\\\",\\n              \\\"items\\\": [\\n                {\\n                  \\\"label\\\": \\\"Booking id\\\",\\n                  \\\"value\\\": \\\"booking_order_3A7avJKwAToEzKGvSbEWjWySoc0\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"Status\\\",\\n                  \\\"value\\\": \\\"confirmed\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"Starts at\\\",\\n                  \\\"value\\\": \\\"2026-02-25T15:18:11.497Z\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"Total\\\",\\n                  \\\"value\\\": \\\"15000\\\"\\n                }\\n              ]\\n            },\\n            {\\n              \\\"type\\\": \\\"actions\\\",\\n              \\\"title\\\": \\\"Visible actions\\\",\\n              \\\"items\\\": [\\n                {\\n                  \\\"label\\\": \\\"Download receipt\\\",\\n                  \\\"kind\\\": \\\"secondary\\\",\\n                  \\\"enabled\\\": true\\n                },\\n                {\\n                  \\\"label\\\": \\\"Reschedule\\\",\\n                  \\\"kind\\\": \\\"secondary\\\",\\n                  \\\"enabled\\\": true\\n                },\\n                {\\n                  \\\"label\\\": \\\"Cancel booking\\\",\\n                  \\\"kind\\\": \\\"danger\\\",\\n                  \\\"enabled\\\": true\\n                }\\n              ]\\n            },\\n            {\\n              \\\"type\\\": \\\"stats\\\",\\n              \\\"title\\\": \\\"What user sees at a glance\\\",\\n              \\\"items\\\": [\\n                {\\n                  \\\"label\\\": \\\"SubtotalMinor\\\",\\n                  \\\"value\\\": \\\"15000\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"TaxMinor\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"FeeMinor\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"DiscountMinor\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"TotalMinor\\\",\\n                  \\\"value\\\": \\\"15000\\\"\\n                }\\n              ]\\n            },\\n            {\\n              \\\"type\\\": \\\"key_value\\\",\\n              \\\"title\\\": \\\"Screen details\\\",\\n              \\\"items\\\": [\\n                {\\n                  \\\"label\\\": \\\"Id\\\",\\n                  \\\"value\\\": \\\"booking_order_3A7avJKwAToEzKGvSbEWjWySoc0\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"BizId\\\",\\n                  \\\"value\\\": \\\"3A7aukZMMVlomY5GFjxZwrCVwWI\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"OfferId\\\",\\n                  \\\"value\\\": \\\"offer_3A7av2C8tgD2zkp4lUPeXjtSYSl\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"OfferVersionId\\\",\\n                  \\\"value\\\": \\\"offer_version_3A7av2JVqebS3HUZ4mc1iA8RvdN\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"CustomerUserId\\\",\\n                  \\\"value\\\": \\\"jCpZtsumbFyzGMm58RLvZC0ABQ4sxZxs\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"CustomerGroupAccountId\\\",\\n                  \\\"value\\\": \\\"null\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"Status\\\",\\n                  \\\"value\\\": \\\"confirmed\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"StatusConfigValueId\\\",\\n                  \\\"value\\\": \\\"null\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"Currency\\\",\\n                  \\\"value\\\": \\\"USD\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"SubtotalMinor\\\",\\n                  \\\"value\\\": \\\"15000\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"TaxMinor\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"FeeMinor\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"DiscountMinor\\\",\\n                  \\\"value\\\": \\\"0\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"TotalMinor\\\",\\n                  \\\"value\\\": \\\"15000\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"RequestedStartAt\\\",\\n                  \\\"value\\\": \\\"2026-02-25T15:18:11.497Z\\\"\\n                },\\n                {\\n                  \\\"label\\\": \\\"RequestedEndAt\\\",\\n                  \\\"value\\\": \\\"2026-02-25T16:08:11.497Z\\\"\\n                }\\n              ]\\n            }\\n          ]\\n        },\\n        \\\"rawData\\\": {\\n          \\\"stepKey\\\": \\\"customer-book-primary\\\",\\n          \\\"resultPayload\\\": {\\n            \\\"note\\\": \\\"Primary booking created.\\\",\\n            \\\"evidence\\\": {\\n              \\\"id\\\": \\\"booking_order_3A7avJKwAToEzKGvSbEWjWySoc0\\\",\\n              \\\"bizId\\\": \\\"3A7aukZMMVlomY5GFjxZwrCVwWI\\\",\\n              \\\"offerId\\\": \\\"offer_3A7av2C8tgD2zkp4lUPeXjtSYSl\\\",\\n              \\\"offerVersionId\\\": \\\"offer_version_3A7av2JVqebS3HUZ4mc1iA8RvdN\\\",\\n              \\\"customerUserId\\\": \\\"jCpZtsumbFyzGMm58RLvZC0ABQ4sxZxs\\\",\\n              \\\"customerGroupAccountId\\\": null,\\n              \\\"status\\\": \\\"confirmed\\\",\\n              \\\"statusConfigValueId\\\": null,\\n              \\\"currency\\\": \\\"USD\\\",\\n              \\\"subtotalMinor\\\": 15000,\\n              \\\"taxMinor\\\": 0,\\n              \\\"feeMinor\\\": 0,\\n              \\\"discountMinor\\\": 0,\\n              \\\"totalMinor\\\": 15000,\\n              \\\"requestedStartAt\\\": \\\"2026-02-25T15:18:11.497Z\\\",\\n              \\\"requestedEndAt\\\": \\\"2026-02-25T16:08:11.497Z\\\",\\n              \\\"confirmedStartAt\\\": \\\"2026-02-25T15:18:11.497Z\\\",\\n              \\\"confirmedEndAt\\\": \\\"2026-02-25T16:08:11.497Z\\\",\\n              \\\"pricingSnapshot\\\": {},\\n              \\\"policySnapshot\\\": {},\\n              \\\"metadata\\\": {},\\n              \\\"createdAt\\\": \\\"2026-02-24T15:18:11.511Z\\\",\\n              \\\"updatedAt\\\": \\\"2026-02-24T15:18:11.511Z\\\",\\n              \\\"deletedAt\\\": null,\\n              \\\"createdBy\\\": null,\\n              \\\"updatedBy\\\": null,\\n              \\\"deletedBy\\\": null\\n            }\\n          },\\n          \\\"apiCalls\\\": [\\n            {\\n              \\\"method\\\": \\\"POST\\\",\\n              \\\"path\\\": \\\"/api/v1/public/bizes/3A7aunfyDzxzCkNzitummfD1tsd/booking-orders\\\",\\n              \\\"status\\\": 201,\\n              \\\"requestBody\\\": {\\n                \\\"offerId\\\": \\\"offer_3A7av0f2hMmCpMCdyaZeZMK32wf\\\",\\n                \\\"offerVersionId\\\": \\\"offer_version_3A7av0Tbf3G25QAKG636Ehz9UmN\\\",\\n                \\\"customerUserId\\\": \\\"9pw2C7sIO5u1X5vcZDgdYAApqD45PGcb\\\",\\n                \\\"status\\\": \\\"confirmed\\\",\\n       ",
          "_size": 26034
        },
        "at": "2026-02-24T15:18:12.396Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7aujsGleEHMrcThEdJ8aWDi2M/steps/adversary-cross-biz-read/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:18:12.371Z",
          "resultPayload": {
            "note": "Started adversary-cross-biz-read"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7augvxio32rJKkI1sjsbW4t48",
            "sagaRunId": "saga_run_3A7aujsGleEHMrcThEdJ8aWDi2M",
            "phaseKey": "security-and-abuse",
            "phaseOrder": 6,
            "phaseTitle": "Security And Abuse Checks",
            "stepKey": "adversary-cross-biz-read",
            "stepOrder": 14,
            "actorKey": "adversary",
            "instruction": "Using credentials from another context, attempt to read or mutate booking/order resources for this biz.",
            "expectedResult": "Request is rejected with forbidden/unauthorized error and no data leakage.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:18:12.371Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started adversary-cross-biz-read"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:18:06.836Z",
            "updatedAt": "2026-02-24T15:18:06.836Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "8839a010-10c2-4e9a-b45a-bbe7efebc488",
            "timestamp": "2026-02-24T15:18:12.394Z"
          }
        },
        "at": "2026-02-24T15:18:12.397Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7aur92BlWqm6QFPjcTNLoemN1/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "customer-two-concurrent",
          "title": "Customer two performs concurrent booking attempt API Trace",
          "trace": {
            "stepKey": "customer-two-concurrent",
            "callCount": 1,
            "calls": [
              {
                "method": "POST",
                "path": "/api/v1/sagas/runs/saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE/snapshots",
                "status": 201,
                "requestBody": {
                  "stepKey": "customer-advanced-payment-flow",
                  "screenKey": "customer-advanced-payment-flow-1771946291894",
                  "title": "Customer uses advanced payment instruments Snapshot",
                  "status": "failed",
                  "route": "/sagas/saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE/customer-advanced-payment-flow",
                  "format": "json",
                  "view": {
                    "title": "Customer uses advanced payment instruments",
                    "subtitle": "Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.",
                    "blocks": [
                      {
                        "type": "alert",
                        "title": "Customer Advanced Payment Flow failed",
                        "message": "Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.",
                        "tone": "error"
                      },
                      {
                        "type": "key_value",
                        "title": "Screen details",
                        "items": [
                          {
                            "label": "Error",
                            "value": "No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun."
                          },
                          {
                            "label": "Failed",
                            "value": "true"
                          }
                        ]
                      }
                    ]
                  },
                  "rawData": {
                    "stepKey": "customer-advanced-payment-flow",
                    "error": "No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.",
                    "resultPayload": {
                      "note": "Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.",
                      "evidence": {
                        "error": "No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.",
                        "failed": true
                      }
                    },
                    "apiCalls": []
                  }
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "saga_artifact_3A7avSeUGo0oiC7mMbKpQAMD419",
                    "sagaRunId": "saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE",
                    "sagaRunStepId": "saga_run_step_3A7aueYMESkbcLZrMBGb63CsEap",
                    "artifactType": "snapshot",
                    "title": "Customer uses advanced payment instruments Snapshot",
                    "storagePath": "testing/sagas/runs/saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE/snapshots/2026-02-24T15-18-12-008Z-customer-advanced-payment-flow-1771946291894.json",
                    "contentType": "application/json",
                    "bodyText": "{\n  \"schemaVersion\": \"snapshot.v1\",\n  \"screenKey\": \"customer-advanced-payment-flow-1771946291894\",\n  \"title\": \"Customer uses advanced payment instruments Snapshot\",\n  \"generatedAt\": \"2026-02-24T15:18:12.002Z\",\n  \"stepKey\": \"customer-advanced-payment-flow\",\n  \"status\": \"failed\",\n  \"view\": {\n    \"title\": \"Customer uses advanced payment instruments\",\n    \"subtitle\": \"Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n    \"blocks\": [\n      {\n        \"type\": \"alert\",\n        \"title\": \"Customer Advanced Payment Flow failed\",\n        \"message\": \"Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n        \"tone\": \"error\"\n      },\n      {\n        \"type\": \"key_value\",\n        \"title\": \"Screen details\",\n        \"items\": [\n          {\n            \"label\": \"Error\",\n            \"value\": \"No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\"\n          },\n          {\n            \"label\": \"Failed\",\n            \"value\": \"true\"\n          }\n        ]\n      }\n    ]\n  },\n  \"rawData\": {\n    \"stepKey\": \"customer-advanced-payment-flow\",\n    \"error\": \"No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n    \"resultPayload\": {\n      \"note\": \"Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n      \"evidence\": {\n        \"error\": \"No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n        \"failed\": true\n      }\n    },\n    \"apiCalls\": []\n  },\n  \"metadata\": {}\n}\n",
                    "byteSize": 1776,
                    "checksum": "4b1b2ece5f98e4247f6a65038c5b24358703000d9d7318d9a1c5bf7f6cbe2e6c",
                    "capturedAt": "2026-02-24T15:18:12.019Z",
                    "metadata": {
                      "format": "json",
                      "stepKey": "customer-advanced-payment-flow",
                      "screenKey": "customer-advanced-payment-flow-1771946291894",
                      "sourceFormat": "v1",
                      "schemaVersion": "snapshot.v1"
                    },
                    "createdAt": "2026-02-24T15:18:12.019Z",
                    "updatedAt": "2026-02-24T15:18:12.019Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "d8c5b2cf-68b4-4590-9768-003c7be48e67",
                    "timestamp": "2026-02-24T15:18:12.037Z"
                  }
                },
                "at": "2026-02-24T15:18:12.046Z"
              }
            ]
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7avQXk3WXhNq6o59Ae7xkF0Mq",
            "sagaRunId": "saga_run_3A7aur92BlWqm6QFPjcTNLoemN1",
            "sagaRunStepId": "saga_run_step_3A7auo4JN0rk5YcO8c2Nh7p8lEt",
            "artifactType": "api_trace",
            "title": "Customer two performs concurrent booking attempt API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3A7aur92BlWqm6QFPjcTNLoemN1/artifacts/1771946292366-Customer_two_performs_concurrent_booking_attempt_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"customer-two-concurrent\",\n  \"callCount\": 1,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE/snapshots\",\n      \"status\": 201,\n      \"requestBody\": {\n        \"stepKey\": \"customer-advanced-payment-flow\",\n        \"screenKey\": \"customer-advanced-payment-flow-1771946291894\",\n        \"title\": \"Customer uses advanced payment instruments Snapshot\",\n        \"status\": \"failed\",\n        \"route\": \"/sagas/saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE/customer-advanced-payment-flow\",\n        \"format\": \"json\",\n        \"view\": {\n          \"title\": \"Customer uses advanced payment instruments\",\n          \"subtitle\": \"Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n          \"blocks\": [\n            {\n              \"type\": \"alert\",\n              \"title\": \"Customer Advanced Payment Flow failed\",\n              \"message\": \"Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n              \"tone\": \"error\"\n            },\n            {\n              \"type\": \"key_value\",\n              \"title\": \"Screen details\",\n              \"items\": [\n                {\n                  \"label\": \"Error\",\n                  \"value\": \"No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\"\n                },\n                {\n                  \"label\": \"Failed\",\n                  \"value\": \"true\"\n                }\n              ]\n            }\n          ]\n        },\n        \"rawData\": {\n          \"stepKey\": \"customer-advanced-payment-flow\",\n          \"error\": \"No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n          \"resultPayload\": {\n            \"note\": \"Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n            \"evidence\": {\n              \"error\": \"No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\",\n              \"failed\": true\n            }\n          },\n          \"apiCalls\": []\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_artifact_3A7avSeUGo0oiC7mMbKpQAMD419\",\n          \"sagaRunId\": \"saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE\",\n          \"sagaRunStepId\": \"saga_run_step_3A7aueYMESkbcLZrMBGb63CsEap\",\n          \"artifactType\": \"snapshot\",\n          \"title\": \"Customer uses advanced payment instruments Snapshot\",\n          \"storagePath\": \"testing/sagas/runs/saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE/snapshots/2026-02-24T15-18-12-008Z-customer-advanced-payment-flow-1771946291894.json\",\n          \"contentType\": \"application/json\",\n          \"bodyText\": \"{\\n  \\\"schemaVersion\\\": \\\"snapshot.v1\\\",\\n  \\\"screenKey\\\": \\\"customer-advanced-payment-flow-1771946291894\\\",\\n  \\\"title\\\": \\\"Customer uses advanced payment instruments Snapshot\\\",\\n  \\\"generatedAt\\\": \\\"2026-02-24T15:18:12.002Z\\\",\\n  \\\"stepKey\\\": \\\"customer-advanced-payment-flow\\\",\\n  \\\"status\\\": \\\"failed\\\",\\n  \\\"view\\\": {\\n    \\\"title\\\": \\\"Customer uses advanced payment instruments\\\",\\n    \\\"subtitle\\\": \\\"Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\\\",\\n    \\\"blocks\\\": [\\n      {\\n        \\\"type\\\": \\\"alert\\\",\\n        \\\"title\\\": \\\"Customer Advanced Payment Flow failed\\\",\\n        \\\"message\\\": \\\"Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\\\",\\n        \\\"tone\\\": \\\"error\\\"\\n      },\\n      {\\n        \\\"type\\\": \\\"key_value\\\",\\n        \\\"title\\\": \\\"Screen details\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"label\\\": \\\"Error\\\",\\n            \\\"value\\\": \\\"No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"Failed\\\",\\n            \\\"value\\\": \\\"true\\\"\\n          }\\n        ]\\n      }\\n    ]\\n  },\\n  \\\"rawData\\\": {\\n    \\\"stepKey\\\": \\\"customer-advanced-payment-flow\\\",\\n    \\\"error\\\": \\\"No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\\\",\\n    \\\"resultPayload\\\": {\\n      \\\"note\\\": \\\"Step failed: No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\\\",\\n      \\\"evidence\\\": {\\n        \\\"error\\\": \\\"No executor mapping for stepKey=customer-advanced-payment-flow. Add explicit runStep implementation before rerun.\\\",\\n        \\\"failed\\\": true\\n      }\\n    },\\n    \\\"apiCalls\\\": []\\n  },\\n  \\\"metadata\\\": {}\\n}\\n\",\n          \"byteSize\": 1776,\n          \"checksum\": \"4b1b2ece5f98e4247f6a65038c5b24358703000d9d7318d9a1c5bf7f6cbe2e6c\",\n          \"capturedAt\": \"2026-02-24T15:18:12.019Z\",\n          \"metadata\": {\n            \"format\": \"json\",\n            \"stepKey\": \"customer-advanced-payment-flow\",\n            \"screenKey\": \"customer-advanced-payment-flow-1771946291894\",\n            \"sourceFormat\": \"v1\",\n            \"schemaVersion\": \"snapshot.v1\"\n          },\n          \"createdAt\": \"2026-02-24T15:18:12.019Z\",\n          \"updatedAt\": \"2026-02-24T15:18:12.019Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"d8c5b2cf-68b4-4590-9768-003c7be48e67\",\n          \"timestamp\": \"2026-02-24T15:18:12.037Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:18:12.046Z\"\n    }\n  ]\n}\n",
            "byteSize": 5704,
            "checksum": "d207fbe2959a695e58ca99716c444f599c676c70e6eb5d26548a5c10f3d90916",
            "capturedAt": "2026-02-24T15:18:12.376Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-24T15:18:12.376Z",
            "updatedAt": "2026-02-24T15:18:12.376Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "4f9fe7fa-7029-4c36-93d0-79723649b49b",
            "timestamp": "2026-02-24T15:18:12.394Z"
          }
        },
        "at": "2026-02-24T15:18:12.402Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "adversary-cross-biz-read",
          "title": "Adversary attempts unauthorized cross-biz read API Trace",
          "trace": {
            "stepKey": "adversary-cross-biz-read",
            "callCount": 2,
            "calls": [
              {
                "method": "POST",
                "path": "/api/v1/sagas/runs/saga_run_3A7aujwWkMigPmCYpxZvOE7Fw6V/steps/adversary-cross-biz-read/result",
                "status": 200,
                "requestBody": {
                  "status": "passed",
                  "startedAt": "2026-02-24T15:18:11.877Z",
                  "endedAt": "2026-02-24T15:18:11.877Z",
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Cross-biz read blocked for non-member account.",
                    "evidence": {
                      "adversaryUserId": "AQr9hKDbRY3KwSAS6r91SExr8h4HzFfY"
                    }
                  },
                  "assertionSummary": {
                    "status": "passed",
                    "hasFailure": false,
                    "assertionsPassed": 1
                  }
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "saga_run_step_3A7augZHPdic8y1QpAjCYrGC02e",
                    "sagaRunId": "saga_run_3A7aujwWkMigPmCYpxZvOE7Fw6V",
                    "phaseKey": "security-and-abuse",
                    "phaseOrder": 6,
                    "phaseTitle": "Security And Abuse Checks",
                    "stepKey": "adversary-cross-biz-read",
                    "stepOrder": 14,
                    "actorKey": "adversary",
                    "instruction": "Using credentials from another context, attempt to read or mutate booking/order resources for this biz.",
                    "expectedResult": "Request is rejected with forbidden/unauthorized error and no data leakage.",
                    "status": "passed",
                    "attemptCount": 1,
                    "startedAt": "2026-02-24T15:18:11.877Z",
                    "endedAt": "2026-02-24T15:18:11.877Z",
                    "failureCode": null,
                    "failureMessage": null,
                    "resultPayload": {
                      "note": "Cross-biz read blocked for non-member account.",
                      "evidence": {
                        "adversaryUserId": "AQr9hKDbRY3KwSAS6r91SExr8h4HzFfY"
                      }
                    },
                    "assertionSummary": {
                      "status": "passed",
                      "hasFailure": false,
                      "assertionsPassed": 1
                    },
                    "metadata": {},
                    "createdAt": "2026-02-24T15:18:06.630Z",
                    "updatedAt": "2026-02-24T15:18:06.630Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "a069cc83-dc31-441d-be64-f8e276e71ef5",
                    "timestamp": "2026-02-24T15:18:12.328Z"
                  }
                },
                "at": "2026-02-24T15:18:12.329Z"
              },
              {
                "method": "GET",
                "path": "/api/v1/bizes/3A7auqljlAAux06ezx77KIxaBEu/booking-orders",
                "status": 403,
                "responseBody": {
                  "success": false,
                  "error": {
                    "code": "FORBIDDEN",
                    "message": "You are not a member of this biz."
                  },
                  "meta": {
                    "requestId": "ffe59b00-12e0-4ff6-a54b-3c607d8dbb09",
                    "timestamp": "2026-02-24T15:18:12.330Z"
                  }
                },
                "at": "2026-02-24T15:18:12.332Z"
              }
            ]
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7avT9lM9Rc1000FjJgHLIOMga",
            "sagaRunId": "saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE",
            "sagaRunStepId": "saga_run_step_3A7aueGVcnTvVDHTIj4hf7VENaC",
            "artifactType": "api_trace",
            "title": "Adversary attempts unauthorized cross-biz read API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3A7aufkXQeg5xDZQG7Qy9QReKZE/artifacts/1771946292371-Adversary_attempts_unauthorized_cross-biz_read_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"adversary-cross-biz-read\",\n  \"callCount\": 2,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A7aujwWkMigPmCYpxZvOE7Fw6V/steps/adversary-cross-biz-read/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"passed\",\n        \"startedAt\": \"2026-02-24T15:18:11.877Z\",\n        \"endedAt\": \"2026-02-24T15:18:11.877Z\",\n        \"failureMessage\": null,\n        \"resultPayload\": {\n          \"note\": \"Cross-biz read blocked for non-member account.\",\n          \"evidence\": {\n            \"adversaryUserId\": \"AQr9hKDbRY3KwSAS6r91SExr8h4HzFfY\"\n          }\n        },\n        \"assertionSummary\": {\n          \"status\": \"passed\",\n          \"hasFailure\": false,\n          \"assertionsPassed\": 1\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3A7augZHPdic8y1QpAjCYrGC02e\",\n          \"sagaRunId\": \"saga_run_3A7aujwWkMigPmCYpxZvOE7Fw6V\",\n          \"phaseKey\": \"security-and-abuse\",\n          \"phaseOrder\": 6,\n          \"phaseTitle\": \"Security And Abuse Checks\",\n          \"stepKey\": \"adversary-cross-biz-read\",\n          \"stepOrder\": 14,\n          \"actorKey\": \"adversary\",\n          \"instruction\": \"Using credentials from another context, attempt to read or mutate booking/order resources for this biz.\",\n          \"expectedResult\": \"Request is rejected with forbidden/unauthorized error and no data leakage.\",\n          \"status\": \"passed\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-24T15:18:11.877Z\",\n          \"endedAt\": \"2026-02-24T15:18:11.877Z\",\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Cross-biz read blocked for non-member account.\",\n            \"evidence\": {\n              \"adversaryUserId\": \"AQr9hKDbRY3KwSAS6r91SExr8h4HzFfY\"\n            }\n          },\n          \"assertionSummary\": {\n            \"status\": \"passed\",\n            \"hasFailure\": false,\n            \"assertionsPassed\": 1\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T15:18:06.630Z\",\n          \"updatedAt\": \"2026-02-24T15:18:06.630Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"a069cc83-dc31-441d-be64-f8e276e71ef5\",\n          \"timestamp\": \"2026-02-24T15:18:12.328Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:18:12.329Z\"\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/v1/bizes/3A7auqljlAAux06ezx77KIxaBEu/booking-orders\",\n      \"status\": 403,\n      \"responseBody\": {\n        \"success\": false,\n        \"error\": {\n          \"code\": \"FORBIDDEN\",\n          \"message\": \"You are not a member of this biz.\"\n        },\n        \"meta\": {\n          \"requestId\": \"ffe59b00-12e0-4ff6-a54b-3c607d8dbb09\",\n          \"timestamp\": \"2026-02-24T15:18:12.330Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:18:12.332Z\"\n    }\n  ]\n}\n",
            "byteSize": 2960,
            "checksum": "ddf4a8b1566473f1d20a21fd231289ac798917503ac9bcfdd476cdbc33f720ee",
            "capturedAt": "2026-02-24T15:18:12.377Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-24T15:18:12.377Z",
            "updatedAt": "2026-02-24T15:18:12.377Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "beb7f103-cc03-4354-acaf-fc8f93def53e",
            "timestamp": "2026-02-24T15:18:12.395Z"
          }
        },
        "at": "2026-02-24T15:18:12.404Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3A7auqNMt4mbjl5EX49GOhZrWiA/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3A7ausSDODJrkFpBHcL8QejsQBy",
          "offerVersionId": "offer_version_3A7av5rnp2QgRpSPXEjUytdBQO7",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "68f3e8fa-4eb0-471f-98af-35334ad9d9e4",
            "timestamp": "2026-02-24T15:18:12.396Z"
          }
        },
        "at": "2026-02-24T15:18:12.404Z"
      }
    ]
  },
  "metadata": {}
}
