{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-publish-catalog-1771948199417",
  "title": "Publish catalog visibility Snapshot",
  "generatedAt": "2026-02-24T15:49:59.423Z",
  "stepKey": "owner-publish-catalog",
  "status": "passed",
  "view": {
    "title": "Publish catalog visibility",
    "subtitle": "Offer published and activated.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Publish Catalog completed",
        "message": "Offer published and activated.",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-publish-catalog",
    "resultPayload": {
      "note": "Offer published and activated."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7embCw32jJUxb6NrNVNpEoLmG/steps/customer-two-concurrent/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:49:59.000Z",
          "resultPayload": {
            "note": "Started customer-two-concurrent"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7emXBdu7GLihHV6hbbYuIJYc6",
            "sagaRunId": "saga_run_3A7embCw32jJUxb6NrNVNpEoLmG",
            "phaseKey": "customer-lifecycle",
            "phaseOrder": 5,
            "phaseTitle": "Customer Lifecycle",
            "stepKey": "customer-two-concurrent",
            "stepOrder": 13,
            "actorKey": "customer_2",
            "instruction": "Customer two attempts booking overlapping demand for the same offer/resource window.",
            "expectedResult": "System either books correctly under capacity rules or rejects with deterministic conflict response.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:49:59.000Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started customer-two-concurrent"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:49:55.022Z",
            "updatedAt": "2026-02-24T15:49:55.022Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "045dfa6e-3478-4ba2-987b-4a4a7b421e64",
            "timestamp": "2026-02-24T15:49:59.020Z"
          }
        },
        "at": "2026-02-24T15:49:59.022Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7embXxrs7XomWKEkFyoiEv6EC/steps/customer-two-concurrent/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:49:59.001Z",
          "resultPayload": {
            "note": "Started customer-two-concurrent"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7embq679xhwrAfZ0LZDRWV6g4",
            "sagaRunId": "saga_run_3A7embXxrs7XomWKEkFyoiEv6EC",
            "phaseKey": "customer-lifecycle",
            "phaseOrder": 5,
            "phaseTitle": "Customer Lifecycle",
            "stepKey": "customer-two-concurrent",
            "stepOrder": 13,
            "actorKey": "customer_2",
            "instruction": "Customer two attempts booking overlapping demand for the same offer/resource window.",
            "expectedResult": "System either books correctly under capacity rules or rejects with deterministic conflict response.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:49:59.001Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started customer-two-concurrent"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:49:55.045Z",
            "updatedAt": "2026-02-24T15:49:55.045Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "1aac942f-7697-478e-8ad0-a6135fb2215f",
            "timestamp": "2026-02-24T15:49:59.022Z"
          }
        },
        "at": "2026-02-24T15:49:59.023Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7emUtGVsya84SrUfVHFgKJbH1/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "adversary-cross-biz-read",
          "title": "Adversary attempts unauthorized cross-biz read API Trace",
          "trace": {
            "stepKey": "adversary-cross-biz-read",
            "callCount": 1,
            "calls": [
              {
                "method": "POST",
                "path": "/api/v1/public/bizes/3A7emWwNbakmm0BsV2KTibDrduI/booking-orders",
                "status": 201,
                "requestBody": {
                  "offerId": "offer_3A7emfqopSWqoQQeVENgXm2yEj9",
                  "offerVersionId": "offer_version_3A7emn82uMsXJN3hmel8j9sFbAc",
                  "customerUserId": "bbXFsXmFkMttL9gdHbSyEd6DCwot3rAs",
                  "status": "confirmed",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "currency": "USD",
                  "requestedStartAt": "2026-02-25T15:49:58.745Z",
                  "requestedEndAt": "2026-02-25T16:39:58.745Z",
                  "confirmedStartAt": "2026-02-25T15:49:58.745Z",
                  "confirmedEndAt": "2026-02-25T16:39:58.745Z"
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "booking_order_3A7emuYOZz7D1jpRKfzGLDfQmrj",
                    "bizId": "3A7emWwNbakmm0BsV2KTibDrduI",
                    "offerId": "offer_3A7emfqopSWqoQQeVENgXm2yEj9",
                    "offerVersionId": "offer_version_3A7emn82uMsXJN3hmel8j9sFbAc",
                    "customerUserId": "bbXFsXmFkMttL9gdHbSyEd6DCwot3rAs",
                    "customerGroupAccountId": null,
                    "status": "confirmed",
                    "statusConfigValueId": null,
                    "currency": "USD",
                    "subtotalMinor": 15000,
                    "taxMinor": 0,
                    "feeMinor": 0,
                    "discountMinor": 0,
                    "totalMinor": 15000,
                    "requestedStartAt": "2026-02-25T15:49:58.745Z",
                    "requestedEndAt": "2026-02-25T16:39:58.745Z",
                    "confirmedStartAt": "2026-02-25T15:49:58.745Z",
                    "confirmedEndAt": "2026-02-25T16:39:58.745Z",
                    "pricingSnapshot": {},
                    "policySnapshot": {},
                    "metadata": {},
                    "createdAt": "2026-02-24T15:49:58.755Z",
                    "updatedAt": "2026-02-24T15:49:58.755Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "35dc1cac-ea06-4063-8eaa-691823a9d9ff",
                    "timestamp": "2026-02-24T15:49:58.759Z"
                  }
                },
                "at": "2026-02-24T15:49:58.759Z"
              }
            ]
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7en4TgIx7qCCBuRwfsZA7w7Zc",
            "sagaRunId": "saga_run_3A7emUtGVsya84SrUfVHFgKJbH1",
            "sagaRunStepId": "saga_run_step_3A7emRwjdr4wWT5KGiNLaeHermq",
            "artifactType": "api_trace",
            "title": "Adversary attempts unauthorized cross-biz read API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3A7emUtGVsya84SrUfVHFgKJbH1/artifacts/1771948199001-Adversary_attempts_unauthorized_cross-biz_read_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"adversary-cross-biz-read\",\n  \"callCount\": 1,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/public/bizes/3A7emWwNbakmm0BsV2KTibDrduI/booking-orders\",\n      \"status\": 201,\n      \"requestBody\": {\n        \"offerId\": \"offer_3A7emfqopSWqoQQeVENgXm2yEj9\",\n        \"offerVersionId\": \"offer_version_3A7emn82uMsXJN3hmel8j9sFbAc\",\n        \"customerUserId\": \"bbXFsXmFkMttL9gdHbSyEd6DCwot3rAs\",\n        \"status\": \"confirmed\",\n        \"subtotalMinor\": 15000,\n        \"taxMinor\": 0,\n        \"feeMinor\": 0,\n        \"discountMinor\": 0,\n        \"totalMinor\": 15000,\n        \"currency\": \"USD\",\n        \"requestedStartAt\": \"2026-02-25T15:49:58.745Z\",\n        \"requestedEndAt\": \"2026-02-25T16:39:58.745Z\",\n        \"confirmedStartAt\": \"2026-02-25T15:49:58.745Z\",\n        \"confirmedEndAt\": \"2026-02-25T16:39:58.745Z\"\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"booking_order_3A7emuYOZz7D1jpRKfzGLDfQmrj\",\n          \"bizId\": \"3A7emWwNbakmm0BsV2KTibDrduI\",\n          \"offerId\": \"offer_3A7emfqopSWqoQQeVENgXm2yEj9\",\n          \"offerVersionId\": \"offer_version_3A7emn82uMsXJN3hmel8j9sFbAc\",\n          \"customerUserId\": \"bbXFsXmFkMttL9gdHbSyEd6DCwot3rAs\",\n          \"customerGroupAccountId\": null,\n          \"status\": \"confirmed\",\n          \"statusConfigValueId\": null,\n          \"currency\": \"USD\",\n          \"subtotalMinor\": 15000,\n          \"taxMinor\": 0,\n          \"feeMinor\": 0,\n          \"discountMinor\": 0,\n          \"totalMinor\": 15000,\n          \"requestedStartAt\": \"2026-02-25T15:49:58.745Z\",\n          \"requestedEndAt\": \"2026-02-25T16:39:58.745Z\",\n          \"confirmedStartAt\": \"2026-02-25T15:49:58.745Z\",\n          \"confirmedEndAt\": \"2026-02-25T16:39:58.745Z\",\n          \"pricingSnapshot\": {},\n          \"policySnapshot\": {},\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T15:49:58.755Z\",\n          \"updatedAt\": \"2026-02-24T15:49:58.755Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"35dc1cac-ea06-4063-8eaa-691823a9d9ff\",\n          \"timestamp\": \"2026-02-24T15:49:58.759Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:49:58.759Z\"\n    }\n  ]\n}\n",
            "byteSize": 2248,
            "checksum": "ede7b38edea19abe3ed5601a2206c564dd17addc33e9a3f8fcec5730836ddcad",
            "capturedAt": "2026-02-24T15:49:59.010Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-24T15:49:59.010Z",
            "updatedAt": "2026-02-24T15:49:59.010Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "ceb8d575-4981-4bef-9f7c-72d2fe4e3da2",
            "timestamp": "2026-02-24T15:49:59.029Z"
          }
        },
        "at": "2026-02-24T15:49:59.030Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7emWvxvLcRnRtCtGjj836wj76/steps/customer-sign-up/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T15:49:58.984Z",
          "endedAt": "2026-02-24T15:49:58.984Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Primary customer account created.",
            "evidence": {
              "customerUserId": "6FbahS4y6bT6RDpO4Q6VQurhqrymiPyL",
              "email": "customer1-uc-168-the-front-desk-manager-lisa-1771948198450-gkqttr@example.com"
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7emalQbAuzrH2kEOQirqnV1WW",
            "sagaRunId": "saga_run_3A7emWvxvLcRnRtCtGjj836wj76",
            "phaseKey": "customer-lifecycle",
            "phaseOrder": 5,
            "phaseTitle": "Customer Lifecycle",
            "stepKey": "customer-sign-up",
            "stepOrder": 12,
            "actorKey": "customer_1",
            "instruction": "Create customer account/session and verify customer can browse published offers.",
            "expectedResult": "Customer session established and offer discovery succeeds.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:49:58.984Z",
            "endedAt": "2026-02-24T15:49:58.984Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Primary customer account created.",
              "evidence": {
                "email": "customer1-uc-168-the-front-desk-manager-lisa-1771948198450-gkqttr@example.com",
                "customerUserId": "6FbahS4y6bT6RDpO4Q6VQurhqrymiPyL"
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:49:55.175Z",
            "updatedAt": "2026-02-24T15:49:55.175Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "8345d495-ec00-4b88-b5e4-6b73e2a52ef7",
            "timestamp": "2026-02-24T15:49:59.030Z"
          }
        },
        "at": "2026-02-24T15:49:59.031Z"
      },
      {
        "method": "PATCH",
        "path": "/api/v1/bizes/3A7emWssyZ7sRTwUA9VolQGDzdA/offers/offer_3A7emvJG2uQ2SGUAUpH8Zy9oUF2",
        "status": 200,
        "requestBody": {
          "status": "active",
          "isPublished": true
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "offer_3A7emvJG2uQ2SGUAUpH8Zy9oUF2",
            "bizId": "3A7emWssyZ7sRTwUA9VolQGDzdA",
            "name": "Primary Service Offer",
            "slug": "offer-i2ip33k2",
            "description": null,
            "executionMode": "slot",
            "executionModeConfigValueId": null,
            "status": "active",
            "statusConfigValueId": null,
            "isPublished": true,
            "timezone": "UTC",
            "metadata": {},
            "createdAt": "2026-02-24T15:49:58.170Z",
            "updatedAt": "2026-02-24T15:49:58.170Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "ef6f7203-cb7d-413e-8ca6-13850be86b73",
            "timestamp": "2026-02-24T15:49:59.031Z"
          }
        },
        "at": "2026-02-24T15:49:59.034Z"
      }
    ]
  },
  "metadata": {}
}
