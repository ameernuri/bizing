{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-create-offer-version-1771945235473",
  "title": "Create and publish offer version Snapshot",
  "generatedAt": "2026-02-24T15:00:35.744Z",
  "stepKey": "owner-create-offer-version",
  "status": "passed",
  "view": {
    "title": "Create and publish offer version",
    "subtitle": "Offer version created.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Create Offer Version completed",
        "message": "Offer version created.",
        "tone": "success"
      },
      {
        "type": "key_value",
        "title": "Screen details",
        "items": [
          {
            "label": "OfferVersionId",
            "value": "offer_version_3A7YmJf3KDL2gso1vxX6ZelrKRE"
          }
        ]
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-create-offer-version",
    "resultPayload": {
      "note": "Offer version created.",
      "evidence": {
        "offerVersionId": "offer_version_3A7YmJf3KDL2gso1vxX6ZelrKRE"
      }
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7Yi6wcFgyrs8e06PEzO0sJmXH/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "customer-two-concurrent",
          "title": "Customer two performs concurrent booking attempt API Trace",
          "trace": {
            "stepKey": "customer-two-concurrent",
            "callCount": 2,
            "calls": [
              {
                "method": "GET",
                "path": "/api/auth/get-session",
                "status": 200,
                "responseBody": {
                  "session": {
                    "expiresAt": "2026-03-03T15:00:32.597Z",
                    "token": "NQhH8OmeDK3erxwhRiDIiuSHmrdt98Nx",
                    "createdAt": "2026-02-24T15:00:32.597Z",
                    "updatedAt": "2026-02-24T15:00:32.597Z",
                    "ipAddress": "",
                    "userAgent": "node",
                    "userId": "pvM7z1gWjZBhBGIsYtVTy1j0v8mBIb4f",
                    "activeOrganizationId": null,
                    "impersonatedBy": null,
                    "id": "liONfGlR9FFfwOYfcXmTyYXYSKGgofcK"
                  },
                  "user": {
                    "name": "customer1-uc-36-the-solo-entrepreneur-sarah",
                    "email": "customer1-uc-36-the-solo-entrepreneur-sarah-1771945232372-86vfsg@example.com",
                    "emailVerified": false,
                    "image": null,
                    "createdAt": "2026-02-24T15:00:32.526Z",
                    "updatedAt": "2026-02-24T15:00:32.526Z",
                    "role": "user",
                    "banned": false,
                    "banReason": null,
                    "banExpires": null,
                    "id": "pvM7z1gWjZBhBGIsYtVTy1j0v8mBIb4f"
                  }
                },
                "at": "2026-02-24T15:00:32.719Z"
              },
              {
                "method": "GET",
                "path": "/api/v1/public/bizes/3A7YjaNyjNSzpZ0owLlhkdkH9cG/offers",
                "status": 200,
                "responseBody": {
                  "success": true,
                  "data": [
                    {
                      "id": "offer_3A7YlIoF00DXZ2KptGwnPndkphm",
                      "bizId": "3A7YjaNyjNSzpZ0owLlhkdkH9cG",
                      "name": "Primary Service Offer",
                      "slug": "offer-a3rk5s9c",
                      "description": null,
                      "executionMode": "slot",
                      "executionModeConfigValueId": null,
                      "status": "active",
                      "statusConfigValueId": null,
                      "isPublished": true,
                      "timezone": "UTC",
                      "metadata": {},
                      "createdAt": "2026-02-24T15:00:25.400Z",
                      "updatedAt": "2026-02-24T15:00:25.400Z",
                      "deletedAt": null,
                      "createdBy": null,
                      "updatedBy": null,
                      "deletedBy": null
                    }
                  ],
                  "meta": {
                    "requestId": "7f176b0f-e5cb-4514-9f62-b0386d4c6947",
                    "timestamp": "2026-02-24T15:00:32.752Z"
                  }
                },
                "at": "2026-02-24T15:00:32.752Z"
              }
            ]
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7YmLv8d16ztxhCdVOCEo2Jvpn",
            "sagaRunId": "saga_run_3A7Yi6wcFgyrs8e06PEzO0sJmXH",
            "sagaRunStepId": "saga_run_step_3A7Yi1j2LyMaYvmLdTiRZkKKo1X",
            "artifactType": "api_trace",
            "title": "Customer two performs concurrent booking attempt API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3A7Yi6wcFgyrs8e06PEzO0sJmXH/artifacts/1771945233325-Customer_two_performs_concurrent_booking_attempt_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"customer-two-concurrent\",\n  \"callCount\": 2,\n  \"calls\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/auth/get-session\",\n      \"status\": 200,\n      \"responseBody\": {\n        \"session\": {\n          \"expiresAt\": \"2026-03-03T15:00:32.597Z\",\n          \"token\": \"NQhH8OmeDK3erxwhRiDIiuSHmrdt98Nx\",\n          \"createdAt\": \"2026-02-24T15:00:32.597Z\",\n          \"updatedAt\": \"2026-02-24T15:00:32.597Z\",\n          \"ipAddress\": \"\",\n          \"userAgent\": \"node\",\n          \"userId\": \"pvM7z1gWjZBhBGIsYtVTy1j0v8mBIb4f\",\n          \"activeOrganizationId\": null,\n          \"impersonatedBy\": null,\n          \"id\": \"liONfGlR9FFfwOYfcXmTyYXYSKGgofcK\"\n        },\n        \"user\": {\n          \"name\": \"customer1-uc-36-the-solo-entrepreneur-sarah\",\n          \"email\": \"customer1-uc-36-the-solo-entrepreneur-sarah-1771945232372-86vfsg@example.com\",\n          \"emailVerified\": false,\n          \"image\": null,\n          \"createdAt\": \"2026-02-24T15:00:32.526Z\",\n          \"updatedAt\": \"2026-02-24T15:00:32.526Z\",\n          \"role\": \"user\",\n          \"banned\": false,\n          \"banReason\": null,\n          \"banExpires\": null,\n          \"id\": \"pvM7z1gWjZBhBGIsYtVTy1j0v8mBIb4f\"\n        }\n      },\n      \"at\": \"2026-02-24T15:00:32.719Z\"\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/v1/public/bizes/3A7YjaNyjNSzpZ0owLlhkdkH9cG/offers\",\n      \"status\": 200,\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": [\n          {\n            \"id\": \"offer_3A7YlIoF00DXZ2KptGwnPndkphm\",\n            \"bizId\": \"3A7YjaNyjNSzpZ0owLlhkdkH9cG\",\n            \"name\": \"Primary Service Offer\",\n            \"slug\": \"offer-a3rk5s9c\",\n            \"description\": null,\n            \"executionMode\": \"slot\",\n            \"executionModeConfigValueId\": null,\n            \"status\": \"active\",\n            \"statusConfigValueId\": null,\n            \"isPublished\": true,\n            \"timezone\": \"UTC\",\n            \"metadata\": {},\n            \"createdAt\": \"2026-02-24T15:00:25.400Z\",\n            \"updatedAt\": \"2026-02-24T15:00:25.400Z\",\n            \"deletedAt\": null,\n            \"createdBy\": null,\n            \"updatedBy\": null,\n            \"deletedBy\": null\n          }\n        ],\n        \"meta\": {\n          \"requestId\": \"7f176b0f-e5cb-4514-9f62-b0386d4c6947\",\n          \"timestamp\": \"2026-02-24T15:00:32.752Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:00:32.752Z\"\n    }\n  ]\n}\n",
            "byteSize": 2364,
            "checksum": "b4e5d0ea65e24eee59eaf17ff1e33dd04b815cbc96972196c845e48d0c8692d4",
            "capturedAt": "2026-02-24T15:00:33.415Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-24T15:00:33.415Z",
            "updatedAt": "2026-02-24T15:00:33.415Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "0b97bd9b-d316-444d-85f9-ba17af9a5de4",
            "timestamp": "2026-02-24T15:00:33.649Z"
          }
        },
        "at": "2026-02-24T15:00:33.649Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7YiYRlfofhArEQkMboV548YJz/steps/customer-sign-up/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:00:33.269Z",
          "resultPayload": {
            "note": "Started customer-sign-up"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7YieIyk3R4BEnPY8JLwDk9o8M",
            "sagaRunId": "saga_run_3A7YiYRlfofhArEQkMboV548YJz",
            "phaseKey": "customer-lifecycle",
            "phaseOrder": 5,
            "phaseTitle": "Customer Lifecycle",
            "stepKey": "customer-sign-up",
            "stepOrder": 11,
            "actorKey": "customer_1",
            "instruction": "Create customer account/session and verify customer can browse published offers.",
            "expectedResult": "Customer session established and offer discovery succeeds.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:00:33.269Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started customer-sign-up"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:00:03.348Z",
            "updatedAt": "2026-02-24T15:00:03.348Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "69b32b20-43e8-4601-816c-f76efa66feb0",
            "timestamp": "2026-02-24T15:00:33.653Z"
          }
        },
        "at": "2026-02-24T15:00:33.653Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7YhQx2DWu5XHKmPUNt1PwRj4i/steps/adversary-hold-abuse/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:00:33.302Z",
          "resultPayload": {
            "note": "Started adversary-hold-abuse"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7YhSirqbuGXaDysSv7Z7fMeGO",
            "sagaRunId": "saga_run_3A7YhQx2DWu5XHKmPUNt1PwRj4i",
            "phaseKey": "security-and-abuse",
            "phaseOrder": 6,
            "phaseTitle": "Security And Abuse Checks",
            "stepKey": "adversary-hold-abuse",
            "stepOrder": 15,
            "actorKey": "adversary",
            "instruction": "Trigger repeated booking/hold-like attempts to validate throttling, expiry, or non-blocking demand visibility behavior.",
            "expectedResult": "Abusive attempts are rate-limited or isolated without blocking legitimate customer flow.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:00:33.302Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started adversary-hold-abuse"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T14:59:54.499Z",
            "updatedAt": "2026-02-24T14:59:54.499Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "976d3e9e-4eb8-40c1-9927-b106f4b24ece",
            "timestamp": "2026-02-24T15:00:33.718Z"
          }
        },
        "at": "2026-02-24T15:00:33.722Z"
      },
      {
        "method": "PATCH",
        "path": "/api/v1/bizes/3A7YjwYdt48LR6OsXGZpczn0MjH/offers/offer_3A7YlssaP0owCHXN6OnAKpefFqJ",
        "status": 200,
        "requestBody": {
          "status": "active",
          "isPublished": true
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "offer_3A7YlssaP0owCHXN6OnAKpefFqJ",
            "bizId": "3A7YjwYdt48LR6OsXGZpczn0MjH",
            "name": "Primary Service Offer",
            "slug": "offer-093cqocd",
            "description": null,
            "executionMode": "slot",
            "executionModeConfigValueId": null,
            "status": "active",
            "statusConfigValueId": null,
            "isPublished": true,
            "timezone": "UTC",
            "metadata": {},
            "createdAt": "2026-02-24T15:00:29.071Z",
            "updatedAt": "2026-02-24T15:00:29.071Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "0d27fdb7-e4ca-401a-aad3-adc83873f8d7",
            "timestamp": "2026-02-24T15:00:33.728Z"
          }
        },
        "at": "2026-02-24T15:00:33.729Z"
      }
    ]
  },
  "metadata": {}
}
