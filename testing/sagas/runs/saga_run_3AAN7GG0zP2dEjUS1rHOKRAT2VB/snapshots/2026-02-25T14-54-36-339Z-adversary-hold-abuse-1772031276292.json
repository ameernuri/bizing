{
  "schemaVersion": "snapshot.v1",
  "screenKey": "adversary-hold-abuse-1772031276292",
  "title": "Adversary attempts demand/hold abuse Snapshot",
  "generatedAt": "2026-02-25T14:54:36.323Z",
  "stepKey": "adversary-hold-abuse",
  "status": "passed",
  "view": {
    "title": "Adversary attempts demand/hold abuse",
    "subtitle": "Repeated unauthorized hold attempts were blocked (403).",
    "blocks": [
      {
        "type": "alert",
        "title": "Adversary Hold Abuse completed",
        "message": "Repeated unauthorized hold attempts were blocked (403).",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "adversary-hold-abuse",
    "resultPayload": {
      "note": "Repeated unauthorized hold attempts were blocked (403)."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAN50bEXZQIUFemvCHqMAhCUsA/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "persona-scenario-validate-2",
          "title": "Validate persona scenario #2 API Trace",
          "trace": {
            "stepKey": "persona-scenario-validate-2",
            "callCount": 0,
            "calls": []
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3AANB56yL0JLgsFNaZO8TZzVpWx",
            "sagaRunId": "saga_run_3AAN50bEXZQIUFemvCHqMAhCUsA",
            "sagaRunStepId": "saga_run_step_3AAN4z0eiXCeiROlbuwOpIFUs1M",
            "artifactType": "api_trace",
            "title": "Validate persona scenario #2 API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3AAN50bEXZQIUFemvCHqMAhCUsA/artifacts/1772031275316-Validate_persona_scenario__2_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"persona-scenario-validate-2\",\n  \"callCount\": 0,\n  \"calls\": []\n}\n",
            "byteSize": 80,
            "checksum": "0a4cd582a28e3cb2fea84ef0674a493d95fa15ca19e7dfb26d765465f026c97f",
            "capturedAt": "2026-02-25T14:54:35.341Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-25T14:54:35.341Z",
            "updatedAt": "2026-02-25T14:54:35.341Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "d527ab77-3db4-4a15-b950-5b28aef26198",
            "timestamp": "2026-02-25T14:54:35.505Z"
          }
        },
        "at": "2026-02-25T14:54:35.506Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/agents/execute",
        "status": 200,
        "requestBody": {
          "tool": "bizing.pricing.demandPolicies.list",
          "params": {
            "bizId": "3AANAOmYzVZ5cN3e8q4CUWyV7w4",
            "perPage": 20
          },
          "runId": "saga_run_3AAN9piApaTvAoxdKybMJOqEAzX",
          "stepKey": "owner-configure-demand-pricing"
        },
        "responseBody": {
          "success": true,
          "data": {
            "tool": "bizing.pricing.demandPolicies.list",
            "method": "GET",
            "path": "/api/v1/bizes/{bizId}/demand-pricing/policies",
            "requestUrl": "http://localhost:6129/api/v1/bizes/3AANAOmYzVZ5cN3e8q4CUWyV7w4/demand-pricing/policies?perPage=20",
            "status": 200,
            "success": true,
            "response": {
              "success": true,
              "data": {
                "items": [
                  {
                    "id": "demand_policy_3AANB4i3VCp3u0cZcXENN0KqIme",
                    "bizId": "3AANAOmYzVZ5cN3e8q4CUWyV7w4",
                    "name": "Peak demand policy bvc2",
                    "slug": "demand-uc-169-the-waitlist-warrior-waiting-walt-f40sdd",
                    "description": null,
                    "status": "active",
                    "targetType": "global",
                    "resourceId": null,
                    "serviceId": null,
                    "serviceProductId": null,
                    "offerId": null,
                    "offerVersionId": null,
                    "locationId": null,
                    "scoringMode": "manual_only",
                    "scoreFloor": 0,
                    "scoreCeiling": 10000,
                    "defaultAdjustmentType": "percentage",
                    "defaultApplyAs": "surcharge",
                    "defaultAdjustmentValue": 2000,
                    "minAdjustmentMinor": null,
                    "maxAdjustmentMinor": null,
                    "minFinalUnitPriceMinor": null,
                    "maxFinalUnitPriceMinor": null,
                    "cooldownMin": 0,
                    "effectiveStartAt": null,
                    "effectiveEndAt": null,
                    "priority": 40,
                    "isEnabled": true,
                    "policy": {
                      "mode": "manual",
                      "source": "saga_runner"
                    },
                    "metadata": {
                      "runId": "saga_run_3AAN9piApaTvAoxdKybMJOqEAzX",
                      "sagaKey": "uc-169-the-waitlist-warrior-waiting-walter"
                    }
                  }
                ],
                "page": 1,
                "perPage": 20,
                "total": 1,
                "totalPages": 1
              },
              "meta": {
                "requestId": "f2c79a8b-6c83-4f0f-aaab-8878ca14c6ab",
                "timestamp": "2026-02-25T14:54:35.466Z"
              }
            }
          },
          "meta": {
            "requestId": "f6262929-200e-4628-b767-a84b241cd3ae",
            "timestamp": "2026-02-25T14:54:35.523Z"
          }
        },
        "at": "2026-02-25T14:54:35.524Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAN5sVFiHPb6UmNIRFfHR2m15h/steps/uc-need-validate-3/result",
        "status": 200,
        "requestBody": {
          "status": "skipped",
          "startedAt": "2026-02-25T14:54:35.210Z",
          "endedAt": "2026-02-25T14:54:35.210Z",
          "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "resultPayload": {
            "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "evidence": {
              "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "failed": false,
              "blocked": false,
              "skipped": true,
              "stepFamily": "uc-need-validation",
              "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP"
            }
          },
          "assertionSummary": {
            "status": "skipped",
            "hasFailure": true,
            "assertionsPassed": 0
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3AAN5v2NX3RheWNDzJN5MBv6gat",
            "sagaRunId": "saga_run_3AAN5sVFiHPb6UmNIRFfHR2m15h",
            "phaseKey": "reporting-and-closeout",
            "phaseOrder": 8,
            "phaseTitle": "Reporting And Closeout",
            "stepKey": "uc-need-validate-3",
            "stepOrder": 24,
            "actorKey": "biz_owner",
            "instruction": "Using concrete API reads and persisted state checks, validate this requirement is satisfied: \"Digital display screen showing: current number being served, next numbers up, estimated wait time\". If not satisfied, record exact gap and failing entities/endpoints.",
            "expectedResult": "Evidence either confirms requirement coverage or captures a precise, reproducible gap.",
            "delayMode": "none",
            "delayMs": null,
            "delayConditionKey": null,
            "delayTimeoutMs": null,
            "delayPollMs": null,
            "delayJitterMs": 0,
            "status": "skipped",
            "attemptCount": 1,
            "startedAt": "2026-02-25T14:54:35.210Z",
            "endedAt": "2026-02-25T14:54:35.210Z",
            "failureCode": null,
            "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "resultPayload": {
              "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "evidence": {
                "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
                "failed": false,
                "blocked": false,
                "skipped": true,
                "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP",
                "stepFamily": "uc-need-validation"
              }
            },
            "assertionSummary": {
              "status": "skipped",
              "hasFailure": true,
              "assertionsPassed": 0
            },
            "metadata": {},
            "createdAt": "2026-02-25T14:53:54.561Z",
            "updatedAt": "2026-02-25T14:53:54.561Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "d640bf0c-7868-48ad-9229-700d5f6eaf0b",
            "timestamp": "2026-02-25T14:54:35.525Z"
          }
        },
        "at": "2026-02-25T14:54:35.525Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3AAN7qOJRKkryTICycLyPpLaKPQ/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3AAN9OCT8UIIv9xLW2DTkCtnvDe",
          "offerVersionId": "offer_version_3AAN9g72tcZng9fEE7PfiGhydst",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "388d75fb-56bc-4ac5-99cc-4d2c72e6ed87",
            "timestamp": "2026-02-25T14:54:35.528Z"
          }
        },
        "at": "2026-02-25T14:54:35.528Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAN6rYwvSj1fUEstXGxlP6ubT5/steps/owner-calendar-review/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-25T14:54:35.163Z",
          "endedAt": "2026-02-25T14:54:35.163Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Operational timeline inputs fetched (bookings/resources/offers).",
            "evidence": {
              "bookingCount": 2,
              "resourceCount": 2,
              "offerCount": 1,
              "timezone": "UTC",
              "rangeLabel": "Upcoming schedule window",
              "bookingPreview": [
                {
                  "id": "booking_order_3AANA5FpRuMzEDe0EtmFbscKmET",
                  "bizId": "3AAN7Qrg50PTEmWqMPaQfbowYYL",
                  "offerId": "offer_3AAN95nHEO6UkRjTAANDTc2oPaJ",
                  "offerVersionId": "offer_version_3AAN9H8ZJHnWAEsRylQsZsmlAgX",
                  "customerUserId": "mTCSuSZXq5XmAX1vYGmuMYblKjfL0n8e",
                  "customerGroupAccountId": null,
                  "status": "in_progress",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-26T14:54:28.299Z",
                  "requestedEndAt": "2026-02-26T15:44:28.299Z",
                  "confirmedStartAt": "2026-02-26T14:54:28.299Z",
                  "confirmedEndAt": "2026-02-26T15:44:28.299Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-25T14:54:28.327Z",
                  "updatedAt": "2026-02-25T14:54:28.327Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                {
                  "id": "booking_order_3AAN9vVdmiVGXSM4KAGvgSOzTFr",
                  "bizId": "3AAN7Qrg50PTEmWqMPaQfbowYYL",
                  "offerId": "offer_3AAN95nHEO6UkRjTAANDTc2oPaJ",
                  "offerVersionId": "offer_version_3AAN9H8ZJHnWAEsRylQsZsmlAgX",
                  "customerUserId": "Pu94UJBZMgH36De1QuMlyWhD18lCKOg4",
                  "customerGroupAccountId": null,
                  "status": "confirmed",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-26T14:54:26.235Z",
                  "requestedEndAt": "2026-02-26T15:44:26.235Z",
                  "confirmedStartAt": "2026-02-26T14:54:26.235Z",
                  "confirmedEndAt": "2026-02-26T15:44:26.235Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-25T14:54:26.301Z",
                  "updatedAt": "2026-02-25T14:54:26.301Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                }
              ]
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3AAN6u6s5bt6WxaN56hOQr9nRp5",
            "sagaRunId": "saga_run_3AAN6rYwvSj1fUEstXGxlP6ubT5",
            "phaseKey": "operations-and-follow-up",
            "phaseOrder": 7,
            "phaseTitle": "Operations And Follow-up",
            "stepKey": "owner-calendar-review",
            "stepOrder": 19,
            "actorKey": "biz_owner",
            "instruction": "Query and compare availability + bookings timeline for the entities involved in this scenario.",
            "expectedResult": "Calendar state reflects booked slots, blocks, and any conflict outcomes from previous steps.",
            "delayMode": "none",
            "delayMs": null,
            "delayConditionKey": null,
            "delayTimeoutMs": null,
            "delayPollMs": null,
            "delayJitterMs": 0,
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-25T14:54:35.163Z",
            "endedAt": "2026-02-25T14:54:35.163Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Operational timeline inputs fetched (bookings/resources/offers).",
              "evidence": {
                "timezone": "UTC",
                "offerCount": 1,
                "rangeLabel": "Upcoming schedule window",
                "bookingCount": 2,
                "resourceCount": 2,
                "bookingPreview": [
                  {
                    "id": "booking_order_3AANA5FpRuMzEDe0EtmFbscKmET",
                    "bizId": "3AAN7Qrg50PTEmWqMPaQfbowYYL",
                    "status": "in_progress",
                    "offerId": "offer_3AAN95nHEO6UkRjTAANDTc2oPaJ",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-25T14:54:28.327Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-25T14:54:28.327Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-26T15:44:28.299Z",
                    "customerUserId": "mTCSuSZXq5XmAX1vYGmuMYblKjfL0n8e",
                    "offerVersionId": "offer_version_3AAN9H8ZJHnWAEsRylQsZsmlAgX",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-26T15:44:28.299Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-26T14:54:28.299Z",
                    "requestedStartAt": "2026-02-26T14:54:28.299Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  },
                  {
                    "id": "booking_order_3AAN9vVdmiVGXSM4KAGvgSOzTFr",
                    "bizId": "3AAN7Qrg50PTEmWqMPaQfbowYYL",
                    "status": "confirmed",
                    "offerId": "offer_3AAN95nHEO6UkRjTAANDTc2oPaJ",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-25T14:54:26.301Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-25T14:54:26.301Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-26T15:44:26.235Z",
                    "customerUserId": "Pu94UJBZMgH36De1QuMlyWhD18lCKOg4",
                    "offerVersionId": "offer_version_3AAN9H8ZJHnWAEsRylQsZsmlAgX",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-26T15:44:26.235Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-26T14:54:26.235Z",
                    "requestedStartAt": "2026-02-26T14:54:26.235Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  }
                ]
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-25T14:54:02.799Z",
            "updatedAt": "2026-02-25T14:54:02.799Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "5fb0fca7-1344-4ecc-a09c-399481c43097",
            "timestamp": "2026-02-25T14:54:35.528Z"
          }
        },
        "at": "2026-02-25T14:54:35.529Z"
      },
      {
        "method": "GET",
        "path": "/api/v1/bizes/3AAN774wKaC4xp9hHlQW7RsbaU9/booking-orders?perPage=20",
        "status": 200,
        "responseBody": {
          "success": true,
          "data": [
            {
              "id": "booking_order_3AANAIt4qmpTp0e6jqRfLi4wOoT",
              "bizId": "3AAN774wKaC4xp9hHlQW7RsbaU9",
              "offerId": "offer_3AAN9A3wpG5poiLgHXBEn8QUoAa",
              "offerVersionId": "offer_version_3AAN9L21tda1XbHsrlii8DZv3dQ",
              "customerUserId": "68dP35pFLhSjMff7FCcw9641gMwj9qmY",
              "customerGroupAccountId": null,
              "status": "confirmed",
              "statusConfigValueId": null,
              "currency": "USD",
              "subtotalMinor": 15000,
              "taxMinor": 0,
              "feeMinor": 0,
              "discountMinor": 0,
              "totalMinor": 15000,
              "requestedStartAt": "2026-02-26T14:54:29.585Z",
              "requestedEndAt": "2026-02-26T15:44:29.585Z",
              "confirmedStartAt": "2026-02-26T14:54:29.585Z",
              "confirmedEndAt": "2026-02-26T15:44:29.585Z",
              "pricingSnapshot": {},
              "policySnapshot": {},
              "metadata": {},
              "createdAt": "2026-02-25T14:54:29.612Z",
              "updatedAt": "2026-02-25T14:54:29.612Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            },
            {
              "id": "booking_order_3AANA1HJzrehk2ZNhkUnq411GYh",
              "bizId": "3AAN774wKaC4xp9hHlQW7RsbaU9",
              "offerId": "offer_3AAN9A3wpG5poiLgHXBEn8QUoAa",
              "offerVersionId": "offer_version_3AAN9L21tda1XbHsrlii8DZv3dQ",
              "customerUserId": "z8UIeMiiDKff5xqrDIxd28ISMmTE7G6g",
              "customerGroupAccountId": null,
              "status": "confirmed",
              "statusConfigValueId": null,
              "currency": "USD",
              "subtotalMinor": 15000,
              "taxMinor": 0,
              "feeMinor": 0,
              "discountMinor": 0,
              "totalMinor": 15000,
              "requestedStartAt": "2026-02-26T14:54:27.891Z",
              "requestedEndAt": "2026-02-26T15:44:27.891Z",
              "confirmedStartAt": "2026-02-26T14:54:27.891Z",
              "confirmedEndAt": "2026-02-26T15:44:27.891Z",
              "pricingSnapshot": {},
              "policySnapshot": {},
              "metadata": {},
              "createdAt": "2026-02-25T14:54:27.923Z",
              "updatedAt": "2026-02-25T14:54:27.923Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            }
          ],
          "meta": {
            "requestId": "5bcdc3b4-5642-4ee8-a7f3-be0c7cd4f70e",
            "timestamp": "2026-02-25T14:54:35.536Z"
          },
          "pagination": {
            "page": 1,
            "perPage": 20,
            "total": 2,
            "hasMore": false
          }
        },
        "at": "2026-02-25T14:54:35.537Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3AAN7qOJRKkryTICycLyPpLaKPQ/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3AAN9OCT8UIIv9xLW2DTkCtnvDe",
          "offerVersionId": "offer_version_3AAN9g72tcZng9fEE7PfiGhydst",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "0c961254-5bb2-4db3-88e4-0a7994c765ea",
            "timestamp": "2026-02-25T14:54:35.565Z"
          }
        },
        "at": "2026-02-25T14:54:35.565Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3AAN7qOJRKkryTICycLyPpLaKPQ/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3AAN9OCT8UIIv9xLW2DTkCtnvDe",
          "offerVersionId": "offer_version_3AAN9g72tcZng9fEE7PfiGhydst",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "a92d5cfd-f82a-42e2-a27a-07c5ba0c6413",
            "timestamp": "2026-02-25T14:54:35.588Z"
          }
        },
        "at": "2026-02-25T14:54:35.589Z"
      }
    ]
  },
  "metadata": {}
}
