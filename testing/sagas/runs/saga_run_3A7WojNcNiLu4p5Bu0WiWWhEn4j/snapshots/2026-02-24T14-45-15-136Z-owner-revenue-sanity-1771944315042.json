{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-revenue-sanity-1771944315042",
  "title": "Owner validates financial/reporting outputs Snapshot",
  "generatedAt": "2026-02-24T14:45:15.136Z",
  "stepKey": "owner-revenue-sanity",
  "status": "passed",
  "view": {
    "title": "Owner validates financial/reporting outputs",
    "subtitle": "Revenue sanity computed from booking orders.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Revenue Sanity completed",
        "message": "Revenue sanity computed from booking orders.",
        "tone": "success"
      },
      {
        "type": "stats",
        "title": "What user sees at a glance",
        "items": [
          {
            "label": "BookingCount",
            "value": "2"
          },
          {
            "label": "TotalMinor",
            "value": "30000"
          }
        ]
      },
      {
        "type": "key_value",
        "title": "Screen details",
        "items": [
          {
            "label": "BookingCount",
            "value": "2"
          },
          {
            "label": "TotalMinor",
            "value": "30000"
          },
          {
            "label": "Currency",
            "value": "USD"
          }
        ]
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-revenue-sanity",
    "resultPayload": {
      "note": "Revenue sanity computed from booking orders.",
      "evidence": {
        "bookingCount": 2,
        "totalMinor": 30000,
        "currency": "USD"
      }
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7WoqvTY34qChbLDjjyVVEhyPX/steps/owner-calendar-review/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T14:45:12.342Z",
          "endedAt": "2026-02-24T14:45:12.342Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Operational timeline inputs fetched (bookings/resources/offers).",
            "evidence": {
              "bookingCount": 2,
              "resourceCount": 2,
              "offerCount": 1,
              "timezone": "UTC",
              "rangeLabel": "Upcoming schedule window",
              "bookingPreview": [
                {
                  "id": "booking_order_3A7WtBgHqeNtoBaVYQP8njhlDyt",
                  "bizId": "3A7Wpyg641zPcvyrrOMhnlYBM2H",
                  "offerId": "offer_3A7WriDBlqY5cVPVcxYFlUJy1xb",
                  "offerVersionId": "offer_version_3A7WrxsyyoWItGjUSrDdXPbOrlI",
                  "customerUserId": "WCYTD01jIvHR7YDJRJXerdXUU3byBVPd",
                  "customerGroupAccountId": null,
                  "status": "in_progress",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-25T14:45:01.827Z",
                  "requestedEndAt": "2026-02-25T15:35:01.827Z",
                  "confirmedStartAt": "2026-02-25T14:45:01.827Z",
                  "confirmedEndAt": "2026-02-25T15:35:01.827Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-24T14:45:02.028Z",
                  "updatedAt": "2026-02-24T14:45:02.028Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                {
                  "id": "booking_order_3A7WsxLP576cui1aRRiIpyuUSKE",
                  "bizId": "3A7Wpyg641zPcvyrrOMhnlYBM2H",
                  "offerId": "offer_3A7WriDBlqY5cVPVcxYFlUJy1xb",
                  "offerVersionId": "offer_version_3A7WrxsyyoWItGjUSrDdXPbOrlI",
                  "customerUserId": "hRKiSShha90nOAZ7N3O3MHtYGJtHrJpo",
                  "customerGroupAccountId": null,
                  "status": "confirmed",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-25T14:44:58.968Z",
                  "requestedEndAt": "2026-02-25T15:34:58.968Z",
                  "confirmedStartAt": "2026-02-25T14:44:58.968Z",
                  "confirmedEndAt": "2026-02-25T15:34:58.968Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-24T14:44:59.156Z",
                  "updatedAt": "2026-02-24T14:44:59.156Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                }
              ]
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7WoqI0tIOgQtCfLO9ppdSoWei",
            "sagaRunId": "saga_run_3A7WoqvTY34qChbLDjjyVVEhyPX",
            "phaseKey": "operations-and-follow-up",
            "phaseOrder": 7,
            "phaseTitle": "Operations And Follow-up",
            "stepKey": "owner-calendar-review",
            "stepOrder": 17,
            "actorKey": "biz_owner",
            "instruction": "Query and compare availability + bookings timeline for the entities involved in this scenario.",
            "expectedResult": "Calendar state reflects booked slots, blocks, and any conflict outcomes from previous steps.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T14:45:12.342Z",
            "endedAt": "2026-02-24T14:45:12.342Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Operational timeline inputs fetched (bookings/resources/offers).",
              "evidence": {
                "timezone": "UTC",
                "offerCount": 1,
                "rangeLabel": "Upcoming schedule window",
                "bookingCount": 2,
                "resourceCount": 2,
                "bookingPreview": [
                  {
                    "id": "booking_order_3A7WtBgHqeNtoBaVYQP8njhlDyt",
                    "bizId": "3A7Wpyg641zPcvyrrOMhnlYBM2H",
                    "status": "in_progress",
                    "offerId": "offer_3A7WriDBlqY5cVPVcxYFlUJy1xb",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-24T14:45:02.028Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-24T14:45:02.028Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-25T15:35:01.827Z",
                    "customerUserId": "WCYTD01jIvHR7YDJRJXerdXUU3byBVPd",
                    "offerVersionId": "offer_version_3A7WrxsyyoWItGjUSrDdXPbOrlI",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-25T15:35:01.827Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-25T14:45:01.827Z",
                    "requestedStartAt": "2026-02-25T14:45:01.827Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  },
                  {
                    "id": "booking_order_3A7WsxLP576cui1aRRiIpyuUSKE",
                    "bizId": "3A7Wpyg641zPcvyrrOMhnlYBM2H",
                    "status": "confirmed",
                    "offerId": "offer_3A7WriDBlqY5cVPVcxYFlUJy1xb",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-24T14:44:59.156Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-24T14:44:59.156Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-25T15:34:58.968Z",
                    "customerUserId": "hRKiSShha90nOAZ7N3O3MHtYGJtHrJpo",
                    "offerVersionId": "offer_version_3A7WrxsyyoWItGjUSrDdXPbOrlI",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-25T15:34:58.968Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-25T14:44:58.968Z",
                    "requestedStartAt": "2026-02-25T14:44:58.968Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  }
                ]
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T14:44:26.822Z",
            "updatedAt": "2026-02-24T14:44:26.822Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "554ea76f-93b7-4a48-91ce-bfbc428faa22",
            "timestamp": "2026-02-24T14:45:13.269Z"
          }
        },
        "at": "2026-02-24T14:45:13.270Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7WocLfFYU5flcectqIV3lo4Wh/report",
        "status": 201,
        "requestBody": {
          "markdown": "# Auto Saga Report\n\n- sagaKey: `uc-142-the-solo-entrepreneur-sarah`\n- runId: `saga_run_3A7WocLfFYU5flcectqIV3lo4Wh`\n- generatedAt: `2026-02-24T14:45:12.833Z`\n\nAll lifecycle steps were executed by the API-only auto runner.",
          "summary": {
            "source": "rerun-sagas.ts",
            "auto": true
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7WuYdb1g8SxLAgjdwCR0ilzB8",
            "sagaRunId": "saga_run_3A7WocLfFYU5flcectqIV3lo4Wh",
            "sagaRunStepId": null,
            "artifactType": "report",
            "title": "Saga Run Report",
            "storagePath": "testing/sagas/runs/saga_run_3A7WocLfFYU5flcectqIV3lo4Wh/report-saga_run_3A7WocLfFYU5flcectqIV3lo4Wh.md",
            "contentType": "text/markdown",
            "bodyText": "# Auto Saga Report\n\n- sagaKey: `uc-142-the-solo-entrepreneur-sarah`\n- runId: `saga_run_3A7WocLfFYU5flcectqIV3lo4Wh`\n- generatedAt: `2026-02-24T14:45:12.833Z`\n\nAll lifecycle steps were executed by the API-only auto runner.",
            "byteSize": 221,
            "checksum": "6a1b43eb12d9916a23ca29a1618ad9f24ab4b4a29191757089de1205bd265ff3",
            "capturedAt": "2026-02-24T14:45:13.022Z",
            "metadata": {},
            "createdAt": "2026-02-24T14:45:13.022Z",
            "updatedAt": "2026-02-24T14:45:13.022Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "0a2bcc70-74c4-4805-843f-d756e02014f4",
            "timestamp": "2026-02-24T14:45:13.276Z"
          }
        },
        "at": "2026-02-24T14:45:13.277Z"
      }
    ]
  },
  "metadata": {}
}
