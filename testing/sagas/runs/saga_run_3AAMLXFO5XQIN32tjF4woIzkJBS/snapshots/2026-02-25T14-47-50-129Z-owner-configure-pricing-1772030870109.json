{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-configure-pricing-1772030870109",
  "title": "Configure default pricing rules Snapshot",
  "generatedAt": "2026-02-25T14:47:50.125Z",
  "stepKey": "owner-configure-pricing",
  "status": "passed",
  "view": {
    "title": "Configure default pricing rules",
    "subtitle": "Pricing baseline configured on biz metadata.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Configure Pricing completed",
        "message": "Pricing baseline configured on biz metadata.",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-configure-pricing",
    "resultPayload": {
      "note": "Pricing baseline configured on biz metadata."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAMLszhzhYGyDzn9SqW8Lcf3iU/steps/owner-sign-up/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-25T14:47:49.382Z",
          "endedAt": "2026-02-25T14:47:49.382Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Owner session is active.",
            "evidence": {
              "ownerUserId": "n1sZmxkoRU3I056ePPa62zeC77c08bew",
              "ownerEmail": "owner-runner-1772030352798-9or6cl@example.com"
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3AAMLvK1shxs54mIN5kA40IMpa4",
            "sagaRunId": "saga_run_3AAMLszhzhYGyDzn9SqW8Lcf3iU",
            "phaseKey": "owner-onboarding",
            "phaseOrder": 1,
            "phaseTitle": "Owner Onboarding",
            "stepKey": "owner-sign-up",
            "stepOrder": 1,
            "actorKey": "biz_owner",
            "instruction": "Create or login the owner account through Better Auth endpoints, then verify session context can call authenticated API routes.",
            "expectedResult": "Owner session exists and authenticated routes return success for this user.",
            "delayMode": "none",
            "delayMs": null,
            "delayConditionKey": null,
            "delayTimeoutMs": null,
            "delayPollMs": null,
            "delayJitterMs": 0,
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-25T14:47:49.382Z",
            "endedAt": "2026-02-25T14:47:49.382Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Owner session is active.",
              "evidence": {
                "ownerEmail": "owner-runner-1772030352798-9or6cl@example.com",
                "ownerUserId": "n1sZmxkoRU3I056ePPa62zeC77c08bew"
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-25T14:47:48.204Z",
            "updatedAt": "2026-02-25T14:47:48.204Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "30ccc1a7-07a2-49b0-88b4-ab65407d4004",
            "timestamp": "2026-02-25T14:47:49.746Z"
          }
        },
        "at": "2026-02-25T14:47:49.749Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAMIgpi7Flq7jcxiKu6cjmKKpi/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "uc-need-validate-7",
          "title": "Validate explicit UC need #7 API Trace",
          "trace": {
            "stepKey": "uc-need-validate-7",
            "callCount": 0,
            "calls": []
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3AAMLz2In9nJMqJDh4COtlV4xdd",
            "sagaRunId": "saga_run_3AAMIgpi7Flq7jcxiKu6cjmKKpi",
            "sagaRunStepId": "saga_run_step_3AAMImomIR0Mf9ONpsRL6j40mjL",
            "artifactType": "api_trace",
            "title": "Validate explicit UC need #7 API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3AAMIgpi7Flq7jcxiKu6cjmKKpi/artifacts/1772030869613-Validate_explicit_UC_need__7_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"uc-need-validate-7\",\n  \"callCount\": 0,\n  \"calls\": []\n}\n",
            "byteSize": 71,
            "checksum": "79cd4d9873c474d5a5b7030556fcb09a526d49749d0e95924bc21716a838ea3c",
            "capturedAt": "2026-02-25T14:47:49.630Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-25T14:47:49.630Z",
            "updatedAt": "2026-02-25T14:47:49.630Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "a344684e-2832-4ce4-b4bd-febdda2688ca",
            "timestamp": "2026-02-25T14:47:49.748Z"
          }
        },
        "at": "2026-02-25T14:47:49.750Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAMIA0TSDFDtJYG1Ve6oWWsRhj/steps/persona-scenario-validate-2/result",
        "status": 200,
        "requestBody": {
          "status": "skipped",
          "startedAt": "2026-02-25T14:47:49.410Z",
          "endedAt": "2026-02-25T14:47:49.410Z",
          "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "resultPayload": {
            "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "evidence": {
              "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "failed": false,
              "blocked": false,
              "skipped": true,
              "stepFamily": "persona-scenario-validation",
              "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP"
            }
          },
          "assertionSummary": {
            "status": "skipped",
            "hasFailure": true,
            "assertionsPassed": 0
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3AAMI81hEOMzdEvGm72jVoOM36d",
            "sagaRunId": "saga_run_3AAMIA0TSDFDtJYG1Ve6oWWsRhj",
            "phaseKey": "reporting-and-closeout",
            "phaseOrder": 8,
            "phaseTitle": "Reporting And Closeout",
            "stepKey": "persona-scenario-validate-2",
            "stepOrder": 33,
            "actorKey": "customer_1",
            "instruction": "Simulate this persona scenario and validate outcome deterministically: \"Auto-offer when cancellation occurs\". Capture traces and snapshots so coverage can be audited later.",
            "expectedResult": "Scenario behavior is either confirmed as supported or produces a clear, actionable failure report.",
            "delayMode": "none",
            "delayMs": null,
            "delayConditionKey": null,
            "delayTimeoutMs": null,
            "delayPollMs": null,
            "delayJitterMs": 0,
            "status": "skipped",
            "attemptCount": 1,
            "startedAt": "2026-02-25T14:47:49.410Z",
            "endedAt": "2026-02-25T14:47:49.410Z",
            "failureCode": null,
            "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "resultPayload": {
              "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "evidence": {
                "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
                "failed": false,
                "blocked": false,
                "skipped": true,
                "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP",
                "stepFamily": "persona-scenario-validation"
              }
            },
            "assertionSummary": {
              "status": "skipped",
              "hasFailure": true,
              "assertionsPassed": 0
            },
            "metadata": {},
            "createdAt": "2026-02-25T14:47:18.699Z",
            "updatedAt": "2026-02-25T14:47:18.699Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "9aa41afe-f1ae-46a3-b89f-d06881603d37",
            "timestamp": "2026-02-25T14:47:49.757Z"
          }
        },
        "at": "2026-02-25T14:47:49.757Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAMJ58NTb2dX8icCg6R0f9YWbQ/steps/uc-need-validate-6/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-25T14:47:49.650Z",
          "resultPayload": {
            "note": "Started uc-need-validate-6"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3AAMJ81zh3OQQzfnfGYxJsJdho3",
            "sagaRunId": "saga_run_3AAMJ58NTb2dX8icCg6R0f9YWbQ",
            "phaseKey": "reporting-and-closeout",
            "phaseOrder": 8,
            "phaseTitle": "Reporting And Closeout",
            "stepKey": "uc-need-validate-6",
            "stepOrder": 24,
            "actorKey": "biz_owner",
            "instruction": "Using concrete API reads and persisted state checks, validate this requirement is satisfied: \"Minimum purchase requirements\". If not satisfied, record exact gap and failing entities/endpoints.",
            "expectedResult": "Evidence either confirms requirement coverage or captures a precise, reproducible gap.",
            "delayMode": "none",
            "delayMs": null,
            "delayConditionKey": null,
            "delayTimeoutMs": null,
            "delayPollMs": null,
            "delayJitterMs": 0,
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-25T14:47:49.650Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started uc-need-validate-6"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-25T14:47:26.148Z",
            "updatedAt": "2026-02-25T14:47:26.148Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "5af6a236-6447-4c34-8f15-db57f913cb3c",
            "timestamp": "2026-02-25T14:47:49.761Z"
          }
        },
        "at": "2026-02-25T14:47:49.762Z"
      },
      {
        "method": "PATCH",
        "path": "/api/v1/bizes/3AAMLj3GgJjxMDWqY77AGvBAzYh",
        "status": 200,
        "requestBody": {
          "metadata": {
            "availability": {
              "timezone": "UTC",
              "weekly": {
                "mon": [
                  "09:00-17:00"
                ],
                "tue": [
                  "09:00-17:00"
                ],
                "wed": [
                  "09:00-17:00"
                ],
                "thu": [
                  "09:00-17:00"
                ],
                "fri": [
                  "09:00-17:00"
                ]
              },
              "leadTimeHours": 24,
              "maxAdvanceDays": 60
            },
            "pricing": {
              "baseCurrency": "USD",
              "callFeeMinor": 5000,
              "surgeManualEnabled": true
            }
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "3AAMLj3GgJjxMDWqY77AGvBAzYh",
            "name": "Saga uc-139-the-third-party-partner-partner-pete",
            "slug": "uc-139-the-third-party-partner-partner-pete-vmwnd2hm",
            "type": "small_business",
            "logoUrl": null,
            "timezone": "UTC",
            "currency": "USD",
            "status": "active",
            "metadata": {
              "pricing": {
                "baseCurrency": "USD",
                "callFeeMinor": 5000,
                "surgeManualEnabled": true
              },
              "availability": {
                "weekly": {
                  "fri": [
                    "09:00-17:00"
                  ],
                  "mon": [
                    "09:00-17:00"
                  ],
                  "thu": [
                    "09:00-17:00"
                  ],
                  "tue": [
                    "09:00-17:00"
                  ],
                  "wed": [
                    "09:00-17:00"
                  ]
                },
                "timezone": "UTC",
                "leadTimeHours": 24,
                "maxAdvanceDays": 60
              }
            },
            "createdAt": "2026-02-25T14:47:47.750Z",
            "updatedAt": "2026-02-25T14:47:47.750Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "966f3765-666a-4c0c-a4a4-b81d3d270198",
            "timestamp": "2026-02-25T14:47:49.766Z"
          }
        },
        "at": "2026-02-25T14:47:49.766Z"
      }
    ]
  },
  "metadata": {}
}
