{
  "schemaVersion": "snapshot.v1",
  "screenKey": "adversary-hold-abuse-1771948043317",
  "title": "Adversary attempts demand/hold abuse Snapshot",
  "generatedAt": "2026-02-24T15:47:23.335Z",
  "stepKey": "adversary-hold-abuse",
  "status": "passed",
  "view": {
    "title": "Adversary attempts demand/hold abuse",
    "subtitle": "Repeated unauthorized hold attempts were blocked (403).",
    "blocks": [
      {
        "type": "alert",
        "title": "Adversary Hold Abuse completed",
        "message": "Repeated unauthorized hold attempts were blocked (403).",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "adversary-hold-abuse",
    "resultPayload": {
      "note": "Repeated unauthorized hold attempts were blocked (403)."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7eTO1TI31NcDfOLFfn218BIKd/steps/owner-sign-up/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T15:47:23.031Z",
          "endedAt": "2026-02-24T15:47:23.031Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Owner session is active.",
            "evidence": {
              "ownerUserId": "4HsyT5uSUhPNb5qRge6JDqL33oXCb2Io",
              "ownerEmail": "owner-runner-1771947845480-xwnaqi@example.com"
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7eTNLPQb6kHglSHld27UTusTf",
            "sagaRunId": "saga_run_3A7eTO1TI31NcDfOLFfn218BIKd",
            "phaseKey": "owner-onboarding",
            "phaseOrder": 1,
            "phaseTitle": "Owner Onboarding",
            "stepKey": "owner-sign-up",
            "stepOrder": 1,
            "actorKey": "biz_owner",
            "instruction": "Create or login the owner account through Better Auth endpoints, then verify session context can call authenticated API routes.",
            "expectedResult": "Owner session exists and authenticated routes return success for this user.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:47:23.031Z",
            "endedAt": "2026-02-24T15:47:23.031Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Owner session is active.",
              "evidence": {
                "ownerEmail": "owner-runner-1771947845480-xwnaqi@example.com",
                "ownerUserId": "4HsyT5uSUhPNb5qRge6JDqL33oXCb2Io"
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:47:22.621Z",
            "updatedAt": "2026-02-24T15:47:22.621Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "02fe0062-7ffe-4a75-ac60-1cbf4394a4fc",
            "timestamp": "2026-02-24T15:47:23.079Z"
          }
        },
        "at": "2026-02-24T15:47:23.080Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7eSiK2fOYYr3slRKRMccIlBfe/steps/owner-calendar-review/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T15:47:23.037Z",
          "endedAt": "2026-02-24T15:47:23.037Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Operational timeline inputs fetched (bookings/resources/offers).",
            "evidence": {
              "bookingCount": 2,
              "resourceCount": 2,
              "offerCount": 1,
              "timezone": "UTC",
              "rangeLabel": "Upcoming schedule window",
              "bookingPreview": [
                {
                  "id": "booking_order_3A7eTG6TvSHyJJ9d1Vd7yzBBRuP",
                  "bizId": "3A7eSmFjubIj7CH3TI6U380HZth",
                  "offerId": "offer_3A7eT0Fz7HJEhBYmQbrDNkRfgw8",
                  "offerVersionId": "offer_version_3A7eSySrIBPYJR5UQr87VzmqIRg",
                  "customerUserId": "55LPJ5NqjXy87bOBW8MhNQVVXsEgiIDM",
                  "customerGroupAccountId": null,
                  "status": "in_progress",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-25T15:47:21.619Z",
                  "requestedEndAt": "2026-02-25T16:37:21.619Z",
                  "confirmedStartAt": "2026-02-25T15:47:21.619Z",
                  "confirmedEndAt": "2026-02-25T16:37:21.619Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-24T15:47:21.623Z",
                  "updatedAt": "2026-02-24T15:47:21.623Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                {
                  "id": "booking_order_3A7eTI7jIekdLADyKXT76NOVkHL",
                  "bizId": "3A7eSmFjubIj7CH3TI6U380HZth",
                  "offerId": "offer_3A7eT0Fz7HJEhBYmQbrDNkRfgw8",
                  "offerVersionId": "offer_version_3A7eSySrIBPYJR5UQr87VzmqIRg",
                  "customerUserId": "036TWldQQWEJzbQ8FMfvOGGhSiK6FPHj",
                  "customerGroupAccountId": null,
                  "status": "confirmed",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-25T15:47:21.072Z",
                  "requestedEndAt": "2026-02-25T16:37:21.072Z",
                  "confirmedStartAt": "2026-02-25T15:47:21.072Z",
                  "confirmedEndAt": "2026-02-25T16:37:21.072Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-24T15:47:21.082Z",
                  "updatedAt": "2026-02-24T15:47:21.082Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                }
              ]
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7eSjPMaQynQrI7WkBSGrDTAOJ",
            "sagaRunId": "saga_run_3A7eSiK2fOYYr3slRKRMccIlBfe",
            "phaseKey": "operations-and-follow-up",
            "phaseOrder": 7,
            "phaseTitle": "Operations And Follow-up",
            "stepKey": "owner-calendar-review",
            "stepOrder": 17,
            "actorKey": "biz_owner",
            "instruction": "Query and compare availability + bookings timeline for the entities involved in this scenario.",
            "expectedResult": "Calendar state reflects booked slots, blocks, and any conflict outcomes from previous steps.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:47:23.037Z",
            "endedAt": "2026-02-24T15:47:23.037Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Operational timeline inputs fetched (bookings/resources/offers).",
              "evidence": {
                "timezone": "UTC",
                "offerCount": 1,
                "rangeLabel": "Upcoming schedule window",
                "bookingCount": 2,
                "resourceCount": 2,
                "bookingPreview": [
                  {
                    "id": "booking_order_3A7eTG6TvSHyJJ9d1Vd7yzBBRuP",
                    "bizId": "3A7eSmFjubIj7CH3TI6U380HZth",
                    "status": "in_progress",
                    "offerId": "offer_3A7eT0Fz7HJEhBYmQbrDNkRfgw8",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-24T15:47:21.623Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-24T15:47:21.623Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-25T16:37:21.619Z",
                    "customerUserId": "55LPJ5NqjXy87bOBW8MhNQVVXsEgiIDM",
                    "offerVersionId": "offer_version_3A7eSySrIBPYJR5UQr87VzmqIRg",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-25T16:37:21.619Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-25T15:47:21.619Z",
                    "requestedStartAt": "2026-02-25T15:47:21.619Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  },
                  {
                    "id": "booking_order_3A7eTI7jIekdLADyKXT76NOVkHL",
                    "bizId": "3A7eSmFjubIj7CH3TI6U380HZth",
                    "status": "confirmed",
                    "offerId": "offer_3A7eT0Fz7HJEhBYmQbrDNkRfgw8",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-24T15:47:21.082Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-24T15:47:21.082Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-25T16:37:21.072Z",
                    "customerUserId": "036TWldQQWEJzbQ8FMfvOGGhSiK6FPHj",
                    "offerVersionId": "offer_version_3A7eSySrIBPYJR5UQr87VzmqIRg",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-25T16:37:21.072Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-25T15:47:21.072Z",
                    "requestedStartAt": "2026-02-25T15:47:21.072Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  }
                ]
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:47:17.145Z",
            "updatedAt": "2026-02-24T15:47:17.145Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "26cfac4f-d85f-473d-af7b-bf649fb88851",
            "timestamp": "2026-02-24T15:47:23.082Z"
          }
        },
        "at": "2026-02-24T15:47:23.083Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3A7eSnMWVMJG4USdqXqkmUcnxFZ/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3A7eT8G8XXnencJMkONfZBkGsMa",
          "offerVersionId": "offer_version_3A7eTHJwrxPle8VwWnMGkaoNXpW",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "25a3f94c-b46f-4af9-a049-50cd1536e4bf",
            "timestamp": "2026-02-24T15:47:23.086Z"
          }
        },
        "at": "2026-02-24T15:47:23.087Z"
      },
      {
        "method": "GET",
        "path": "/api/v1/bizes/3A7eSiv5PrmfebF04KMjcxrbazQ/booking-orders?perPage=20",
        "status": 200,
        "responseBody": {
          "success": true,
          "data": [
            {
              "id": "booking_order_3A7eTMOeA70f41CpbRe8CS0YYNj",
              "bizId": "3A7eSiv5PrmfebF04KMjcxrbazQ",
              "offerId": "offer_3A7eT6VXoktbIwzCUCQmCnRu5tw",
              "offerVersionId": "offer_version_3A7eT3D7cdiK3WMsNqbMF7ofm3z",
              "customerUserId": "5GrWYQkSTvyhlaVmfzL8yLynR7AEBozZ",
              "customerGroupAccountId": null,
              "status": "confirmed",
              "statusConfigValueId": null,
              "currency": "USD",
              "subtotalMinor": 15000,
              "taxMinor": 0,
              "feeMinor": 0,
              "discountMinor": 0,
              "totalMinor": 15000,
              "requestedStartAt": "2026-02-25T15:47:22.169Z",
              "requestedEndAt": "2026-02-25T16:37:22.169Z",
              "confirmedStartAt": "2026-02-25T15:47:22.169Z",
              "confirmedEndAt": "2026-02-25T16:37:22.169Z",
              "pricingSnapshot": {},
              "policySnapshot": {},
              "metadata": {},
              "createdAt": "2026-02-24T15:47:22.178Z",
              "updatedAt": "2026-02-24T15:47:22.178Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            },
            {
              "id": "booking_order_3A7eTBhlKdzVGMbx7mk8saYv0O8",
              "bizId": "3A7eSiv5PrmfebF04KMjcxrbazQ",
              "offerId": "offer_3A7eT6VXoktbIwzCUCQmCnRu5tw",
              "offerVersionId": "offer_version_3A7eT3D7cdiK3WMsNqbMF7ofm3z",
              "customerUserId": "iiyk3iUnA1ifLOKTQg4kbU5AmU9hoShN",
              "customerGroupAccountId": null,
              "status": "confirmed",
              "statusConfigValueId": null,
              "currency": "USD",
              "subtotalMinor": 15000,
              "taxMinor": 0,
              "feeMinor": 0,
              "discountMinor": 0,
              "totalMinor": 15000,
              "requestedStartAt": "2026-02-25T15:47:21.688Z",
              "requestedEndAt": "2026-02-25T16:37:21.688Z",
              "confirmedStartAt": "2026-02-25T15:47:21.688Z",
              "confirmedEndAt": "2026-02-25T16:37:21.688Z",
              "pricingSnapshot": {},
              "policySnapshot": {},
              "metadata": {},
              "createdAt": "2026-02-24T15:47:21.696Z",
              "updatedAt": "2026-02-24T15:47:21.696Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            }
          ],
          "meta": {
            "requestId": "5f6c249f-33c7-4172-b75e-29ceda330a91",
            "timestamp": "2026-02-24T15:47:23.088Z"
          },
          "pagination": {
            "page": 1,
            "perPage": 20,
            "total": 2,
            "hasMore": false
          }
        },
        "at": "2026-02-24T15:47:23.089Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7eSXeBmrwzLEwMHGovBQ3gu6F/report",
        "status": 201,
        "requestBody": {
          "markdown": "# Auto Saga Report\n\n- sagaKey: `uc-58-the-solo-entrepreneur-sarah`\n- runId: `saga_run_3A7eSXeBmrwzLEwMHGovBQ3gu6F`\n- generatedAt: `2026-02-24T15:47:23.062Z`\n\nAll lifecycle steps were executed by the API-only auto runner.",
          "summary": {
            "source": "rerun-sagas.ts",
            "auto": true
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7eTQBtswcDPhkNklWqSMDU24z",
            "sagaRunId": "saga_run_3A7eSXeBmrwzLEwMHGovBQ3gu6F",
            "sagaRunStepId": null,
            "artifactType": "report",
            "title": "Saga Run Report",
            "storagePath": "testing/sagas/runs/saga_run_3A7eSXeBmrwzLEwMHGovBQ3gu6F/report-saga_run_3A7eSXeBmrwzLEwMHGovBQ3gu6F.md",
            "contentType": "text/markdown",
            "bodyText": "# Auto Saga Report\n\n- sagaKey: `uc-58-the-solo-entrepreneur-sarah`\n- runId: `saga_run_3A7eSXeBmrwzLEwMHGovBQ3gu6F`\n- generatedAt: `2026-02-24T15:47:23.062Z`\n\nAll lifecycle steps were executed by the API-only auto runner.",
            "byteSize": 220,
            "checksum": "08b433ec6422415efe6dc05e1931ad6c10ac18aad1dd03ae48878f82c0dcc4c3",
            "capturedAt": "2026-02-24T15:47:23.078Z",
            "metadata": {},
            "createdAt": "2026-02-24T15:47:23.078Z",
            "updatedAt": "2026-02-24T15:47:23.078Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "21ea31c6-5a2f-4c05-adf0-4d6e79210528",
            "timestamp": "2026-02-24T15:47:23.095Z"
          }
        },
        "at": "2026-02-24T15:47:23.095Z"
      }
    ]
  },
  "metadata": {}
}
