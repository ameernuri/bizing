{
  "stepKey": "customer-book-primary",
  "callCount": 5,
  "calls": [
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A7eAJc6iHrxJhaelvSWT7rddxR/traces",
      "status": 201,
      "requestBody": {
        "stepKey": "customer-sign-up",
        "title": "Customer one signs up and logs in API Trace",
        "trace": {
          "stepKey": "customer-sign-up",
          "callCount": 2,
          "calls": [
            {
              "method": "POST",
              "path": "/api/v1/sagas/runs/saga_run_3A7eAHMlvqROER9qHjPlsuI1WKn/steps/customer-sign-up/result",
              "status": 200,
              "requestBody": {
                "status": "in_progress",
                "startedAt": "2026-02-24T15:44:53.629Z",
                "resultPayload": {
                  "note": "Started customer-sign-up"
                },
                "assertionSummary": {
                  "status": "in_progress"
                }
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "saga_run_step_3A7eAGMcXjO6givxVVc6xTyjMpI",
                  "sagaRunId": "saga_run_3A7eAHMlvqROER9qHjPlsuI1WKn",
                  "phaseKey": "customer-lifecycle",
                  "phaseOrder": 5,
                  "phaseTitle": "Customer Lifecycle",
                  "stepKey": "customer-sign-up",
                  "stepOrder": 11,
                  "actorKey": "customer_1",
                  "instruction": "Create customer account/session and verify customer can browse published offers.",
                  "expectedResult": "Customer session established and offer discovery succeeds.",
                  "status": "in_progress",
                  "attemptCount": 1,
                  "startedAt": "2026-02-24T15:44:53.629Z",
                  "endedAt": null,
                  "failureCode": null,
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Started customer-sign-up"
                  },
                  "assertionSummary": {
                    "status": "in_progress"
                  },
                  "metadata": {},
                  "createdAt": "2026-02-24T15:44:50.572Z",
                  "updatedAt": "2026-02-24T15:44:50.572Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "931d0bdc-5182-479d-8fdb-107a1564d103",
                  "timestamp": "2026-02-24T15:44:53.658Z"
                }
              },
              "at": "2026-02-24T15:44:53.659Z"
            },
            {
              "method": "POST",
              "path": "/api/auth/organization/accept-invitation",
              "status": 200,
              "requestBody": {
                "invitationId": "WHOafNdltoX0TzI4lDYkq6fvZrxl6iOf"
              },
              "responseBody": {
                "invitation": {
                  "organizationId": "3A7eAPTj74K4tTZRUdF9m4F50Mj",
                  "email": "member-uc-148-the-solo-entrepreneur-sarah-1771947893486-40xmbh@example.com",
                  "role": "admin",
                  "status": "accepted",
                  "expiresAt": "2026-02-26T15:44:53.640Z",
                  "createdAt": "2026-02-24T15:44:53.640Z",
                  "inviterId": "4HsyT5uSUhPNb5qRge6JDqL33oXCb2Io",
                  "id": "WHOafNdltoX0TzI4lDYkq6fvZrxl6iOf"
                },
                "member": {
                  "organizationId": "3A7eAPTj74K4tTZRUdF9m4F50Mj",
                  "userId": "Dkuqd8xPeijuqHF1VQ0iiXnkqAK7kTdk",
                  "role": "admin",
                  "createdAt": "2026-02-24T15:44:53.658Z",
                  "id": "NkEGE7TzOOjQrBnTg51ahz5tPjTGi39t"
                }
              },
              "at": "2026-02-24T15:44:53.752Z"
            }
          ]
        },
        "metadata": {
          "source": "rerun-sagas.ts"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3A7eAgVQ14GvWc7MMaUShrkQQje",
          "sagaRunId": "saga_run_3A7eAJc6iHrxJhaelvSWT7rddxR",
          "sagaRunStepId": "saga_run_step_3A7eAJ3qtswAJrjHLRG9TlXdsyY",
          "artifactType": "api_trace",
          "title": "Customer one signs up and logs in API Trace",
          "storagePath": "testing/sagas/runs/saga_run_3A7eAJc6iHrxJhaelvSWT7rddxR/artifacts/1771947893795-Customer_one_signs_up_and_logs_in_API_Trace.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"stepKey\": \"customer-sign-up\",\n  \"callCount\": 2,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A7eAHMlvqROER9qHjPlsuI1WKn/steps/customer-sign-up/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"in_progress\",\n        \"startedAt\": \"2026-02-24T15:44:53.629Z\",\n        \"resultPayload\": {\n          \"note\": \"Started customer-sign-up\"\n        },\n        \"assertionSummary\": {\n          \"status\": \"in_progress\"\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3A7eAGMcXjO6givxVVc6xTyjMpI\",\n          \"sagaRunId\": \"saga_run_3A7eAHMlvqROER9qHjPlsuI1WKn\",\n          \"phaseKey\": \"customer-lifecycle\",\n          \"phaseOrder\": 5,\n          \"phaseTitle\": \"Customer Lifecycle\",\n          \"stepKey\": \"customer-sign-up\",\n          \"stepOrder\": 11,\n          \"actorKey\": \"customer_1\",\n          \"instruction\": \"Create customer account/session and verify customer can browse published offers.\",\n          \"expectedResult\": \"Customer session established and offer discovery succeeds.\",\n          \"status\": \"in_progress\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-24T15:44:53.629Z\",\n          \"endedAt\": null,\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Started customer-sign-up\"\n          },\n          \"assertionSummary\": {\n            \"status\": \"in_progress\"\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T15:44:50.572Z\",\n          \"updatedAt\": \"2026-02-24T15:44:50.572Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"931d0bdc-5182-479d-8fdb-107a1564d103\",\n          \"timestamp\": \"2026-02-24T15:44:53.658Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:44:53.659Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/auth/organization/accept-invitation\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"invitationId\": \"WHOafNdltoX0TzI4lDYkq6fvZrxl6iOf\"\n      },\n      \"responseBody\": {\n        \"invitation\": {\n          \"organizationId\": \"3A7eAPTj74K4tTZRUdF9m4F50Mj\",\n          \"email\": \"member-uc-148-the-solo-entrepreneur-sarah-1771947893486-40xmbh@example.com\",\n          \"role\": \"admin\",\n          \"status\": \"accepted\",\n          \"expiresAt\": \"2026-02-26T15:44:53.640Z\",\n          \"createdAt\": \"2026-02-24T15:44:53.640Z\",\n          \"inviterId\": \"4HsyT5uSUhPNb5qRge6JDqL33oXCb2Io\",\n          \"id\": \"WHOafNdltoX0TzI4lDYkq6fvZrxl6iOf\"\n        },\n        \"member\": {\n          \"organizationId\": \"3A7eAPTj74K4tTZRUdF9m4F50Mj\",\n          \"userId\": \"Dkuqd8xPeijuqHF1VQ0iiXnkqAK7kTdk\",\n          \"role\": \"admin\",\n          \"createdAt\": \"2026-02-24T15:44:53.658Z\",\n          \"id\": \"NkEGE7TzOOjQrBnTg51ahz5tPjTGi39t\"\n        }\n      },\n      \"at\": \"2026-02-24T15:44:53.752Z\"\n    }\n  ]\n}\n",
          "byteSize": 2949,
          "checksum": "e5f7556c55fd33beb2543f3c0659be937a8972c127c4b83f136ff01128aaf62c",
          "capturedAt": "2026-02-24T15:44:53.904Z",
          "metadata": {
            "source": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-24T15:44:53.904Z",
          "updatedAt": "2026-02-24T15:44:53.904Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "423c5cf9-a51f-4012-92b1-4d2028205077",
          "timestamp": "2026-02-24T15:44:54.015Z"
        }
      },
      "at": "2026-02-24T15:44:54.030Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A7eAM9TGbNqPkuRgEV42rxG4oZ/steps/owner-invite-member/result",
      "status": 200,
      "requestBody": {
        "status": "passed",
        "startedAt": "2026-02-24T15:44:53.771Z",
        "endedAt": "2026-02-24T15:44:53.771Z",
        "failureMessage": null,
        "resultPayload": {
          "note": "Member invited and accepted invitation.",
          "evidence": {
            "memberEmail": "member-uc-149-the-solo-entrepreneur-sarah-1771947893186-w37owz@example.com",
            "invitationId": "Ab6KGNLXroJEueRW49MENor6SWtwUOms"
          }
        },
        "assertionSummary": {
          "status": "passed",
          "hasFailure": false,
          "assertionsPassed": 1
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A7eALgvgq967hPhfWOr5fcxjIr",
          "sagaRunId": "saga_run_3A7eAM9TGbNqPkuRgEV42rxG4oZ",
          "phaseKey": "supply-and-team-setup",
          "phaseOrder": 3,
          "phaseTitle": "Supply And Team Setup",
          "stepKey": "owner-invite-member",
          "stepOrder": 7,
          "actorKey": "biz_owner",
          "instruction": "Invite a biz member, assign an operational role, and verify that member can authenticate into the same biz.",
          "expectedResult": "Biz member account/session exists with scoped role permissions.",
          "status": "passed",
          "attemptCount": 1,
          "startedAt": "2026-02-24T15:44:53.771Z",
          "endedAt": "2026-02-24T15:44:53.771Z",
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Member invited and accepted invitation.",
            "evidence": {
              "memberEmail": "member-uc-149-the-solo-entrepreneur-sarah-1771947893186-w37owz@example.com",
              "invitationId": "Ab6KGNLXroJEueRW49MENor6SWtwUOms"
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          },
          "metadata": {},
          "createdAt": "2026-02-24T15:44:51.246Z",
          "updatedAt": "2026-02-24T15:44:51.246Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "2deea4d6-b42b-4c4b-95e3-4204b3d0300b",
          "timestamp": "2026-02-24T15:44:54.016Z"
        }
      },
      "at": "2026-02-24T15:44:54.030Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A7eAIAzAlckf1MfMIEWhK4JkHJ/steps/owner-publish-catalog/result",
      "status": 200,
      "requestBody": {
        "status": "passed",
        "startedAt": "2026-02-24T15:44:53.763Z",
        "endedAt": "2026-02-24T15:44:53.763Z",
        "failureMessage": null,
        "resultPayload": {
          "note": "Offer published and activated."
        },
        "assertionSummary": {
          "status": "passed",
          "hasFailure": false,
          "assertionsPassed": 1
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A7eAHEOxsjmEG8WMsYcCgv56ZA",
          "sagaRunId": "saga_run_3A7eAIAzAlckf1MfMIEWhK4JkHJ",
          "phaseKey": "catalog-publish",
          "phaseOrder": 4,
          "phaseTitle": "Catalog And Publish",
          "stepKey": "owner-publish-catalog",
          "stepOrder": 10,
          "actorKey": "biz_owner",
          "instruction": "Update offer publish/lifecycle flags so customer actors can discover it.",
          "expectedResult": "Offer appears as published/active and can be returned in customer-facing list queries.",
          "status": "passed",
          "attemptCount": 1,
          "startedAt": "2026-02-24T15:44:53.763Z",
          "endedAt": "2026-02-24T15:44:53.763Z",
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Offer published and activated."
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          },
          "metadata": {},
          "createdAt": "2026-02-24T15:44:50.712Z",
          "updatedAt": "2026-02-24T15:44:50.712Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "76fb2fd2-9c0f-4260-a743-e82c196512b5",
          "timestamp": "2026-02-24T15:44:54.016Z"
        }
      },
      "at": "2026-02-24T15:44:54.031Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A7eAPS1zBvms7nmUFZhReGkR93/steps/owner-invite-member/result",
      "status": 200,
      "requestBody": {
        "status": "passed",
        "startedAt": "2026-02-24T15:44:53.782Z",
        "endedAt": "2026-02-24T15:44:53.782Z",
        "failureMessage": null,
        "resultPayload": {
          "note": "Member invited and accepted invitation.",
          "evidence": {
            "memberEmail": "member-uc-148-the-solo-entrepreneur-sarah-1771947893486-40xmbh@example.com",
            "invitationId": "WHOafNdltoX0TzI4lDYkq6fvZrxl6iOf"
          }
        },
        "assertionSummary": {
          "status": "passed",
          "hasFailure": false,
          "assertionsPassed": 1
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A7eANUTtDcm4jIVoqQ8ko3SKZ5",
          "sagaRunId": "saga_run_3A7eAPS1zBvms7nmUFZhReGkR93",
          "phaseKey": "supply-and-team-setup",
          "phaseOrder": 3,
          "phaseTitle": "Supply And Team Setup",
          "stepKey": "owner-invite-member",
          "stepOrder": 7,
          "actorKey": "biz_owner",
          "instruction": "Invite a biz member, assign an operational role, and verify that member can authenticate into the same biz.",
          "expectedResult": "Biz member account/session exists with scoped role permissions.",
          "status": "passed",
          "attemptCount": 1,
          "startedAt": "2026-02-24T15:44:53.782Z",
          "endedAt": "2026-02-24T15:44:53.782Z",
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Member invited and accepted invitation.",
            "evidence": {
              "memberEmail": "member-uc-148-the-solo-entrepreneur-sarah-1771947893486-40xmbh@example.com",
              "invitationId": "WHOafNdltoX0TzI4lDYkq6fvZrxl6iOf"
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          },
          "metadata": {},
          "createdAt": "2026-02-24T15:44:51.219Z",
          "updatedAt": "2026-02-24T15:44:51.219Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "f9241897-7ca2-49d1-bcb3-269147396eef",
          "timestamp": "2026-02-24T15:44:54.025Z"
        }
      },
      "at": "2026-02-24T15:44:54.036Z"
    },
    {
      "method": "GET",
      "path": "/api/v1/public/bizes/3A7eAPCrPCEmc8Oajc3cfWr55nK/offers",
      "status": 200,
      "responseBody": {
        "success": true,
        "data": [
          {
            "id": "offer_3A7eAS8nBmK3QAqEaRvyltymRGX",
            "bizId": "3A7eAPCrPCEmc8Oajc3cfWr55nK",
            "name": "Primary Service Offer",
            "slug": "offer-60ewecld",
            "description": null,
            "executionMode": "slot",
            "executionModeConfigValueId": null,
            "status": "active",
            "statusConfigValueId": null,
            "isPublished": true,
            "timezone": "UTC",
            "metadata": {},
            "createdAt": "2026-02-24T15:44:52.726Z",
            "updatedAt": "2026-02-24T15:44:52.726Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          }
        ],
        "meta": {
          "requestId": "a916f237-9a75-4121-9c84-c89b75a04682",
          "timestamp": "2026-02-24T15:44:54.027Z"
        }
      },
      "at": "2026-02-24T15:44:54.036Z"
    }
  ]
}
