{
  "stepKey": "customer-join-waitlist-flow",
  "callCount": 10,
  "calls": [
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP0s51O17RPe23wLgdH8lqJYo/steps/uc-need-validate-1/result",
      "status": 200,
      "requestBody": {
        "status": "skipped",
        "startedAt": "2026-02-25T15:09:57.853Z",
        "endedAt": "2026-02-25T15:09:57.853Z",
        "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
        "resultPayload": {
          "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "evidence": {
            "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "failed": false,
            "blocked": false,
            "skipped": true,
            "stepFamily": "uc-need-validation",
            "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP"
          }
        },
        "assertionSummary": {
          "status": "skipped",
          "hasFailure": true,
          "assertionsPassed": 0
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAP0qP0bcKmkQvHTgwEGr3Kr3q",
          "sagaRunId": "saga_run_3AAP0s51O17RPe23wLgdH8lqJYo",
          "phaseKey": "reporting-and-closeout",
          "phaseOrder": 8,
          "phaseTitle": "Reporting And Closeout",
          "stepKey": "uc-need-validate-1",
          "stepOrder": 19,
          "actorKey": "biz_owner",
          "instruction": "Using concrete API reads and persisted state checks, validate this requirement is satisfied: \"Canonical person/account identity with tenant-safe relationships\". If not satisfied, record exact gap and failing entities/endpoints.",
          "expectedResult": "Evidence either confirms requirement coverage or captures a precise, reproducible gap.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "skipped",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:09:57.853Z",
          "endedAt": "2026-02-25T15:09:57.853Z",
          "failureCode": null,
          "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "resultPayload": {
            "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "evidence": {
              "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "failed": false,
              "blocked": false,
              "skipped": true,
              "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP",
              "stepFamily": "uc-need-validation"
            }
          },
          "assertionSummary": {
            "status": "skipped",
            "hasFailure": true,
            "assertionsPassed": 0
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:09:41.450Z",
          "updatedAt": "2026-02-25T15:09:41.450Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "66d4c99d-5212-4d26-8b31-4e53d9f523fa",
          "timestamp": "2026-02-25T15:09:58.143Z"
        }
      },
      "at": "2026-02-25T15:09:58.143Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP0vyBLfDaNVzBMVUW2DfwFCm/steps/uc-need-validate-1/result",
      "status": 200,
      "requestBody": {
        "status": "skipped",
        "startedAt": "2026-02-25T15:09:57.869Z",
        "endedAt": "2026-02-25T15:09:57.869Z",
        "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
        "resultPayload": {
          "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "evidence": {
            "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "failed": false,
            "blocked": false,
            "skipped": true,
            "stepFamily": "uc-need-validation",
            "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP"
          }
        },
        "assertionSummary": {
          "status": "skipped",
          "hasFailure": true,
          "assertionsPassed": 0
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAP0qRw0Or5TybiFA1kOoGaI6h",
          "sagaRunId": "saga_run_3AAP0vyBLfDaNVzBMVUW2DfwFCm",
          "phaseKey": "reporting-and-closeout",
          "phaseOrder": 8,
          "phaseTitle": "Reporting And Closeout",
          "stepKey": "uc-need-validate-1",
          "stepOrder": 19,
          "actorKey": "biz_owner",
          "instruction": "Using concrete API reads and persisted state checks, validate this requirement is satisfied: \"Canonical person/account identity with tenant-safe relationships\". If not satisfied, record exact gap and failing entities/endpoints.",
          "expectedResult": "Evidence either confirms requirement coverage or captures a precise, reproducible gap.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "skipped",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:09:57.869Z",
          "endedAt": "2026-02-25T15:09:57.869Z",
          "failureCode": null,
          "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "resultPayload": {
            "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "evidence": {
              "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "failed": false,
              "blocked": false,
              "skipped": true,
              "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP",
              "stepFamily": "uc-need-validation"
            }
          },
          "assertionSummary": {
            "status": "skipped",
            "hasFailure": true,
            "assertionsPassed": 0
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:09:41.199Z",
          "updatedAt": "2026-02-25T15:09:41.199Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "f6665140-0936-4b3e-86f4-436070a71cf8",
          "timestamp": "2026-02-25T15:09:58.146Z"
        }
      },
      "at": "2026-02-25T15:09:58.148Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP0CA8UbuM7DzUMkbMnANP0Z6/steps/uc-need-validate-5/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-25T15:09:57.951Z",
        "resultPayload": {
          "note": "Started uc-need-validate-5"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAP0C2dm1IoFBVBMmLarqlmCfV",
          "sagaRunId": "saga_run_3AAP0CA8UbuM7DzUMkbMnANP0Z6",
          "phaseKey": "reporting-and-closeout",
          "phaseOrder": 8,
          "phaseTitle": "Reporting And Closeout",
          "stepKey": "uc-need-validate-5",
          "stepOrder": 23,
          "actorKey": "biz_owner",
          "instruction": "Using concrete API reads and persisted state checks, validate this requirement is satisfied: \"Reconciliation/versioning for spend corrections\". If not satisfied, record exact gap and failing entities/endpoints.",
          "expectedResult": "Evidence either confirms requirement coverage or captures a precise, reproducible gap.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:09:57.951Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started uc-need-validate-5"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:09:36.512Z",
          "updatedAt": "2026-02-25T15:09:36.512Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "067a8766-d164-4779-bd92-ba3cc369f9bf",
          "timestamp": "2026-02-25T15:09:58.148Z"
        }
      },
      "at": "2026-02-25T15:09:58.149Z"
    },
    {
      "method": "POST",
      "path": "/api/auth/organization/invite-member",
      "status": 200,
      "requestBody": {
        "email": "member-uc-25-the-payment-method-tester-payment-patty-1772032197991-92upki@example.com",
        "role": "admin",
        "organizationId": "3AAP2UWvOwPOBMCHqHCpkB1H3ax"
      },
      "responseBody": {
        "organizationId": "3AAP2UWvOwPOBMCHqHCpkB1H3ax",
        "email": "member-uc-25-the-payment-method-tester-payment-patty-1772032197991-92upki@example.com",
        "role": "admin",
        "status": "pending",
        "expiresAt": "2026-02-27T15:09:58.148Z",
        "createdAt": "2026-02-25T15:09:58.148Z",
        "inviterId": "n1sZmxkoRU3I056ePPa62zeC77c08bew",
        "id": "2SjV4jrUCBskz47hAW22a5TiNL2YjDbb"
      },
      "at": "2026-02-25T15:09:58.150Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/bizes/3AAP1atmQmYRjmb8H9iVRNquKFm/queues",
      "status": 201,
      "requestBody": {
        "locationId": "3AAP1kq6nk4WkzkG702iYp1O7oL",
        "name": "Primary Waitlist",
        "slug": "waitlist-jt65xltc",
        "description": "Auto-generated waitlist used by deterministic saga reruns.",
        "strategy": "fifo",
        "status": "active",
        "isSelfJoinEnabled": true,
        "metadata": {
          "createdBy": "rerun-sagas.ts",
          "sagaKey": "uc-249-the-payment-method-tester-payment-patty"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "queue_3AAP31PbneDprr2mFtGKwgan3Tv",
          "bizId": "3AAP1atmQmYRjmb8H9iVRNquKFm",
          "locationId": "3AAP1kq6nk4WkzkG702iYp1O7oL",
          "name": "Primary Waitlist",
          "slug": "waitlist-jt65xltc",
          "description": "Auto-generated waitlist used by deterministic saga reruns.",
          "strategy": "fifo",
          "strategyConfigValueId": null,
          "status": "active",
          "statusConfigValueId": null,
          "calendarBindingId": null,
          "isSelfJoinEnabled": true,
          "policy": {},
          "metadata": {
            "sagaKey": "uc-249-the-payment-method-tester-payment-patty",
            "createdBy": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-25T15:09:58.152Z",
          "updatedAt": "2026-02-25T15:09:58.152Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "19b26e6f-07f3-4509-99f5-8175ae76438f",
          "timestamp": "2026-02-25T15:09:58.156Z"
        }
      },
      "at": "2026-02-25T15:09:58.156Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP0MHLM4d6hFgEwPi5jxysb9H/steps/persona-scenario-validate-2/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-25T15:09:57.979Z",
        "resultPayload": {
          "note": "Started persona-scenario-validate-2"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAP0OtEMoRnph8LsZqabpJUicY",
          "sagaRunId": "saga_run_3AAP0MHLM4d6hFgEwPi5jxysb9H",
          "phaseKey": "reporting-and-closeout",
          "phaseOrder": 8,
          "phaseTitle": "Reporting And Closeout",
          "stepKey": "persona-scenario-validate-2",
          "stepOrder": 27,
          "actorKey": "customer_1",
          "instruction": "Simulate this persona scenario and validate outcome deterministically: \"Deposit collection vs full payment\". Capture traces and snapshots so coverage can be audited later.",
          "expectedResult": "Scenario behavior is either confirmed as supported or produces a clear, actionable failure report.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:09:57.979Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started persona-scenario-validate-2"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:09:37.350Z",
          "updatedAt": "2026-02-25T15:09:37.350Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "bbdb5ee8-6a34-4fae-ad78-9df9dc14cfac",
          "timestamp": "2026-02-25T15:09:58.167Z"
        }
      },
      "at": "2026-02-25T15:09:58.167Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP18kNpF8jzfzxBPn7cscRHxE/steps/customer-book-primary/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-25T15:09:57.954Z",
        "resultPayload": {
          "note": "Started customer-book-primary"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAP17id8xIpZTyYgYPEa6s2Mdn",
          "sagaRunId": "saga_run_3AAP18kNpF8jzfzxBPn7cscRHxE",
          "phaseKey": "customer-lifecycle",
          "phaseOrder": 5,
          "phaseTitle": "Customer Lifecycle",
          "stepKey": "customer-book-primary",
          "stepOrder": 12,
          "actorKey": "customer_1",
          "instruction": "Create a booking order using the published offer version with realistic times and monetary totals.",
          "expectedResult": "Booking order is created and linked to offer/offer version with coherent totals.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:09:57.954Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started customer-book-primary"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:09:43.903Z",
          "updatedAt": "2026-02-25T15:09:43.903Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "8194e836-1483-4706-a758-b6c7d6fe50bd",
          "timestamp": "2026-02-25T15:09:58.167Z"
        }
      },
      "at": "2026-02-25T15:09:58.168Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/public/bizes/3AAP1atmQmYRjmb8H9iVRNquKFm/queues/queue_3AAP31PbneDprr2mFtGKwgan3Tv/entries",
      "status": 201,
      "requestBody": {
        "requestedOfferVersionId": "offer_version_3AAP2ScX9qnyX6bw03XTXfaXuNc",
        "priorityScore": 0,
        "metadata": {
          "source": "rerun-sagas",
          "actor": "customer1-uc-249-the-payment-method-tester-payment-patty-1772032196060-2monew@example.com"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "queue_entry_3AAP2yIEobCFa7HzBnYNYiXxnHb",
          "bizId": "3AAP1atmQmYRjmb8H9iVRNquKFm",
          "queueId": "queue_3AAP31PbneDprr2mFtGKwgan3Tv",
          "customerUserId": "05UBtP1gZ8S5bPK3jtye3wiPAY63TxwO",
          "customerGroupAccountId": null,
          "requestedOfferVersionId": "offer_version_3AAP2ScX9qnyX6bw03XTXfaXuNc",
          "bookingOrderId": null,
          "fulfillmentUnitId": null,
          "status": "waiting",
          "statusConfigValueId": null,
          "priorityScore": 0,
          "displayCode": null,
          "joinedAt": "2026-02-25T15:09:58.166Z",
          "estimatedStartAt": null,
          "estimatedWaitMin": null,
          "offeredAt": null,
          "offerExpiresAt": null,
          "servedAt": null,
          "decisionState": {},
          "metadata": {
            "actor": "customer1-uc-249-the-payment-method-tester-payment-patty-1772032196060-2monew@example.com",
            "source": "rerun-sagas"
          },
          "createdAt": "2026-02-25T15:09:58.166Z",
          "updatedAt": "2026-02-25T15:09:58.166Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "be6a45f5-187a-4e4c-b1f1-319abca62540",
          "timestamp": "2026-02-25T15:09:58.168Z"
        }
      },
      "at": "2026-02-25T15:09:58.169Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP0L7hwHDGLEs4RRBJBFgRbaL/steps/persona-scenario-validate-2/result",
      "status": 200,
      "requestBody": {
        "status": "skipped",
        "startedAt": "2026-02-25T15:09:57.900Z",
        "endedAt": "2026-02-25T15:09:57.900Z",
        "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
        "resultPayload": {
          "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "evidence": {
            "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "failed": false,
            "blocked": false,
            "skipped": true,
            "stepFamily": "persona-scenario-validation",
            "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP"
          }
        },
        "assertionSummary": {
          "status": "skipped",
          "hasFailure": true,
          "assertionsPassed": 0
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAP0MLwtgaAzkT36IvG0uOBrKk",
          "sagaRunId": "saga_run_3AAP0L7hwHDGLEs4RRBJBFgRbaL",
          "phaseKey": "reporting-and-closeout",
          "phaseOrder": 8,
          "phaseTitle": "Reporting And Closeout",
          "stepKey": "persona-scenario-validate-2",
          "stepOrder": 27,
          "actorKey": "customer_1",
          "instruction": "Simulate this persona scenario and validate outcome deterministically: \"Double-booking prevention\". Capture traces and snapshots so coverage can be audited later.",
          "expectedResult": "Scenario behavior is either confirmed as supported or produces a clear, actionable failure report.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "skipped",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:09:57.900Z",
          "endedAt": "2026-02-25T15:09:57.900Z",
          "failureCode": null,
          "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "resultPayload": {
            "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "evidence": {
              "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "failed": false,
              "blocked": false,
              "skipped": true,
              "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP",
              "stepFamily": "persona-scenario-validation"
            }
          },
          "assertionSummary": {
            "status": "skipped",
            "hasFailure": true,
            "assertionsPassed": 0
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:09:37.288Z",
          "updatedAt": "2026-02-25T15:09:37.288Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "cdee8651-8018-43a4-99f3-e55d1c6077c2",
          "timestamp": "2026-02-25T15:09:58.172Z"
        }
      },
      "at": "2026-02-25T15:09:58.173Z"
    },
    {
      "method": "POST",
      "path": "/api/auth/organization/accept-invitation",
      "status": 200,
      "requestBody": {
        "invitationId": "2SjV4jrUCBskz47hAW22a5TiNL2YjDbb"
      },
      "responseBody": {
        "invitation": {
          "organizationId": "3AAP2UWvOwPOBMCHqHCpkB1H3ax",
          "email": "member-uc-25-the-payment-method-tester-payment-patty-1772032197991-92upki@example.com",
          "role": "admin",
          "status": "accepted",
          "expiresAt": "2026-02-27T15:09:58.148Z",
          "createdAt": "2026-02-25T15:09:58.148Z",
          "inviterId": "n1sZmxkoRU3I056ePPa62zeC77c08bew",
          "id": "2SjV4jrUCBskz47hAW22a5TiNL2YjDbb"
        },
        "member": {
          "organizationId": "3AAP2UWvOwPOBMCHqHCpkB1H3ax",
          "userId": "pYoqSOJcnpXuxPjVlF2OjlHaImQBath0",
          "role": "admin",
          "createdAt": "2026-02-25T15:09:58.170Z",
          "id": "vR8SDIF6iYqsvdOw6kcAQ1nCnkLfNG9B"
        }
      },
      "at": "2026-02-25T15:09:58.183Z"
    }
  ]
}
