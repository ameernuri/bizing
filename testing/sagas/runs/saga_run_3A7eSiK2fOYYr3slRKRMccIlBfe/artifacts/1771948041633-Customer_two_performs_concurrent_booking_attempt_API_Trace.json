{
  "stepKey": "customer-two-concurrent",
  "callCount": 2,
  "calls": [
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A7eSZDwBlq0IG2AwTCxh9lpb0Y/steps/member-review-bookings/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-24T15:47:21.378Z",
        "resultPayload": {
          "note": "Started member-review-bookings"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A7eSayxKsdPBwhVQhA7o9kVqMP",
          "sagaRunId": "saga_run_3A7eSZDwBlq0IG2AwTCxh9lpb0Y",
          "phaseKey": "operations-and-follow-up",
          "phaseOrder": 7,
          "phaseTitle": "Operations And Follow-up",
          "stepKey": "member-review-bookings",
          "stepOrder": 16,
          "actorKey": "biz_member",
          "instruction": "As biz member, list bookings and progress one booking through operational status updates.",
          "expectedResult": "Authorized role can update status while preserving auditability and lifecycle consistency.",
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-24T15:47:21.378Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started member-review-bookings"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-24T15:47:16.457Z",
          "updatedAt": "2026-02-24T15:47:16.457Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "be12c26d-4030-4d38-ab6b-1a9ab4bc9fb7",
          "timestamp": "2026-02-24T15:47:21.401Z"
        }
      },
      "at": "2026-02-24T15:47:21.403Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A7eSYLhU2CnF3DmAes011LmRMM/snapshots",
      "status": 201,
      "requestBody": {
        "_truncated": true,
        "_preview": "{\"stepKey\":\"customer-advanced-payment-flow\",\"screenKey\":\"customer-advanced-payment-flow-1771948041374\",\"title\":\"Customer uses advanced payment instruments Snapshot\",\"status\":\"blocked\",\"route\":\"/sagas/saga_run_3A7eSYLhU2CnF3DmAes011LmRMM/customer-advanced-payment-flow\",\"format\":\"json\",\"view\":{\"title\":\"Customer uses advanced payment instruments\",\"subtitle\":\"Step blocked: customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\",\"blocks\":[{\"type\":\"alert\",\"title\":\"Customer Advanced Payment Flow blocked\",\"message\":\"Step blocked: customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\",\"tone\":\"error\"},{\"type\":\"stats\",\"title\":\"What user sees at a glance\",\"items\":[{\"label\":\"FoundToolCount\",\"value\":\"43\"}]},{\"type\":\"key_value\",\"title\":\"Screen details\",\"items\":[{\"label\":\"Error\",\"value\":\"customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\"},{\"label\":\"Failed\",\"value\":\"false\"},{\"label\":\"Blocked\",\"value\":\"true\"},{\"label\":\"Expected\",\"value\":\"Split tender + gift/credit/payment allocation tools\"},{\"label\":\"FoundToolCount\",\"value\":\"43\"}]}]},\"rawData\":{\"stepKey\":\"customer-advanced-payment-flow\",\"error\":\"customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\",\"resultPayload\":{\"note\":\"Step blocked: customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\",\"evidence\":{\"error\":\"customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\",\"failed\":false,\"blocked\":true,\"expected\":\"Split tender + gift/credit/payment allocation tools\",\"foundToolCount\":43}},\"apiCalls\":[{\"method\":\"POST\",\"path\":\"/api/v1/sagas/runs/saga_run_3A7eSZDwBlq0IG2AwTCxh9lpb0Y/steps/adversary-hold-abuse/result\",\"status\":200,\"requestBody\":{\"status\":\"passed\",\"startedAt\":\"2026-02-24T15:47:21.037Z\",\"endedAt\":\"2026-02-24T15:47:21.037Z\",\"failureMessage\":null,\"resultPayload\":{\"note\":\"Repeated unauthorized hold attempts were blocked (403).\"},\"assertionSummary\":{\"status\":\"passed\",\"hasFailure\":false,\"assertionsPassed\":1}},\"responseBody\":{\"success\":true,\"data\":{\"id\":\"saga_run_step_3A7eSd6nF599TMtLVdKF9n7mSEp\",\"sagaRunId\":\"saga_run_3A7eSZDwBlq0IG2AwTCxh9lpb0Y\",\"phaseKey\":\"security-and-abuse\",\"phaseOrder\":6,\"phaseTitle\":\"Security And Abuse Checks\",\"stepKey\":\"adversary-hold-abuse\",\"stepOrder\":15,\"actorKey\":\"adversary\",\"instruction\":\"Trigger repeated booking/hold-like attempts to validate throttling, expiry, or non-blocking demand visibility behavior.\",\"expectedResult\":\"Abusive attempts are rate-limited or isolated without blocking legitimate customer flow.\",\"status\":\"passed\",\"attemptCount\":1,\"startedAt\":\"2026-02-24T15:47:21.037Z\",\"endedAt\":\"2026-02-24T15:47:21.037Z\",\"failureCode\":null,\"failureMessage\":null,\"resultPayload\":{\"note\":\"Repeated unauthorized hold attempts were blocked (403).\"},\"assertionSummary\":{\"status\":\"passed\",\"hasFailure\":false,\"assertionsPassed\":1},\"metadata\":{},\"createdAt\":\"2026-02-24T15:47:16.457Z\",\"updatedAt\":\"2026-02-24T15:47:16.457Z\",\"deletedAt\":null,\"createdBy\":null,\"updatedBy\":null,\"deletedBy\":null},\"meta\":{\"requestId\":\"e40d42db-5c73-4bfd-8fbb-e7975aaf5c30\",\"timestamp\":\"2026-02-24T15:47:21.088Z\"}},\"at\":\"2026-02-24T15:47:21.089Z\"},{\"method\":\"GET\",\"path\":\"/api/v1/agents/tools\",\"status\":200,\"responseBody\":{\"_truncated\":true,\"_preview\":\"{\\\"success\\\":true,\\\"data\\\":[{\\\"name\\\":\\\"bizing.bizes.list\\\",\\\"description\\\":\\\"List bizes available to the authenticated user.\\\",\\\"method\\\":\\\"GET\\\",\\\"path\\\":\\\"/api/v1/bizes\\\",\\\"tags\\\":[\\\"bizes\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"page\\\":{\\\"type\\\":\\\"number\\\",\\\"default\\\":1},\\\"perPage\\\":{\\\"type\\\":\\\"number\\\",\\\"default\\\":20},\\\"status\\\":{\\\"type\\\":\\\"string\\\"},\\\"type\\\":{\\\"type\\\":\\\"string\\\"}}}},{\\\"name\\\":\\\"bizing.bizes.create\\\",\\\"description\\\":\\\"Create a biz and make current user owner.\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/bizes\\\",\\\"tags\\\":[\\\"bizes\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"name\\\":{\\\"type\\\":\\\"string\\\"},\\\"slug\\\":{\\\"type\\\":\\\"string\\\"},\\\"type\\\":{\\\"type\\\":\\\"string\\\"},\\\"timezone\\\":{\\\"type\\\":\\\"string\\\"},\\\"currency\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"name\\\",\\\"slug\\\"]}},{\\\"name\\\":\\\"bizing.auth.me\\\",\\\"description\\\":\\\"Get authenticated user context, memberships, active biz, and effective permissions.\\\",\\\"method\\\":\\\"GET\\\",\\\"path\\\":\\\"/api/v1/auth/me\\\",\\\"tags\\\":[\\\"auth\\\",\\\"acl\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{}}},{\\\"name\\\":\\\"bizing.auth.switchActiveBiz\\\",\\\"description\\\":\\\"Switch active biz context for the current session.\\\",\\\"method\\\":\\\"PATCH\\\",\\\"path\\\":\\\"/api/v1/auth/active-biz\\\",\\\"tags\\\":[\\\"auth\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"bizId\\\"]}},{\\\"name\\\":\\\"bizing.auth.apiKeys.list\\\",\\\"description\\\":\\\"List machine API keys owned by current user.\\\",\\\"method\\\":\\\"GET\\\",\\\"path\\\":\\\"/api/v1/auth/api-keys\\\",\\\"tags\\\":[\\\"auth\\\",\\\"machine\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"includeRevoked\\\":{\\\"type\\\":\\\"boolean\\\",\\\"default\\\":false},\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"limit\\\":{\\\"type\\\":\\\"number\\\",\\\"default\\\":100}}}},{\\\"name\\\":\\\"bizing.auth.apiKeys.create\\\",\\\"description\\\":\\\"Create one machine API key (raw secret returned once).\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/auth/api-keys\\\",\\\"tags\\\":[\\\"auth\\\",\\\"machine\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"label\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":{\\\"type\\\":\\\"string\\\"},\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"scopes\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"string\\\"}},\\\"expiresAt\\\":{\\\"type\\\":\\\"string\\\",\\\"description\\\":\\\"ISO datetime\\\"},\\\"allowDirectApiKeyAuth\\\":{\\\"type\\\":\\\"boolean\\\",\\\"default\\\":false},\\\"metadata\\\":{\\\"type\\\":\\\"object\\\"}},\\\"required\\\":[\\\"label\\\"]}},{\\\"name\\\":\\\"bizing.auth.apiKeys.revoke\\\",\\\"description\\\":\\\"Revoke one API key and all child short-lived tokens.\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/auth/api-keys/{apiCredentialId}/revoke\\\",\\\"tags\\\":[\\\"auth\\\",\\\"machine\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"apiCredentialId\\\":{\\\"type\\\":\\\"string\\\"},\\\"reason\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"apiCredentialId\\\"]}},{\\\"name\\\":\\\"bizing.auth.tokens.exchange\\\",\\\"description\\\":\\\"Exchange an API key for a short-lived bearer token. Supports session + apiCredentialId or direct x-api-key auth.\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/auth/tokens/exchange\\\",\\\"tags\\\":[\\\"auth\\\",\\\"machine\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"apiCredentialId\\\":{\\\"type\\\":\\\"string\\\"},\\\"apiKey\\\":{\\\"type\\\":\\\"string\\\"},\\\"scopes\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"string\\\"}},\\\"ttlSeconds\\\":{\\\"type\\\":\\\"number\\\",\\\"default\\\":900},\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"reason\\\":{\\\"type\\\":\\\"string\\\"}}}},{\\\"name\\\":\\\"bizing.auth.tokens.revoke\\\",\\\"description\\\":\\\"Revoke one short-lived machine access token.\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/auth/tokens/{tokenId}/revoke\\\",\\\"tags\\\":[\\\"auth\\\",\\\"machine\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"tokenId\\\":{\\\"type\\\":\\\"string\\\"},\\\"reason\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"tokenId\\\"]}},{\\\"name\\\":\\\"bizing.acl.biz.roles.list\\\",\\\"description\\\":\\\"List ACL role definitions available to one biz.\\\",\\\"method\\\":\\\"GET\\\",\\\"path\\\":\\\"/api/v1/bizes/{bizId}/acl/roles\\\",\\\"tags\\\":[\\\"acl\\\",\\\"biz\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"bizId\\\"]}},{\\\"name\\\":\\\"bizing.acl.biz.roles.create\\\",\\\"description\\\":\\\"Create biz/location/resource/subject scoped ACL role definition.\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/bizes/{bizId}/acl/roles\\\",\\\"tags\\\":[\\\"acl\\\",\\\"biz\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"roleKey\\\":{\\\"type\\\":\\\"string\\\"},\\\"name\\\":{\\\"type\\\":\\\"string\\\"},\\\"scopeType\\\":{\\\"type\\\":\\\"string\\\",\\\"enum\\\":[\\\"biz\\\",\\\"location\\\",\\\"resource\\\",\\\"subject\\\"]},\\\"locationId\\\":{\\\"type\\\":\\\"string\\\"},\\\"resourceId\\\":{\\\"type\\\":\\\"string\\\"},\\\"scopeSubjectType\\\":{\\\"type\\\":\\\"string\\\"},\\\"scopeSubjectId\\\":{\\\"type\\\":\\\"string\\\"},\\\"description\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"bizId\\\",\\\"roleKey\\\",\\\"name\\\"]}},{\\\"name\\\":\\\"bizing.acl.biz.rolePermissions.replace\\\",\\\"description\\\":\\\"Replace/update one biz role permission set.\\\",\\\"method\\\":\\\"PUT\\\",\\\"path\\\":\\\"/api/v1/bizes/{bizId}/acl/roles/{roleId}/permissions\\\",\\\"tags\\\":[\\\"acl\\\",\\\"biz\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"roleId\\\":{\\\"type\\\":\\\"string\\\"},\\\"permissions\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"object\\\"}}},\\\"required\\\":[\\\"bizId\\\",\\\"roleId\\\",\\\"permissions\\\"]}},{\\\"name\\\":\\\"bizing.acl.biz.assignments.create\\\",\\\"description\\\":\\\"Assign ACL role to a user at biz/location/resource/subject scope.\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/bizes/{bizId}/acl/assignments\\\",\\\"tags\\\":[\\\"acl\\\",\\\"biz\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"userId\\\":{\\\"type\\\":\\\"string\\\"},\\\"roleDefinitionId\\\":{\\\"type\\\":\\\"string\\\"},\\\"scopeType\\\":{\\\"type\\\":\\\"string\\\",\\\"enum\\\":[\\\"biz\\\",\\\"location\\\",\\\"resource\\\",\\\"subject\\\"]},\\\"locationId\\\":{\\\"type\\\":\\\"string\\\"},\\\"resourceId\\\":{\\\"type\\\":\\\"string\\\"},\\\"scopeSubjectType\\\":{\\\"type\\\":\\\"string\\\"},\\\"scopeSubjectId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"bizId\\\",\\\"userId\\\",\\\"roleDefinitionId\\\"]}},{\\\"name\\\":\\\"bizing.acl.biz.mappings.replace\\\",\\\"description\\\":\\\"Replace membership role -> ACL role mappings for one biz.\\\",\\\"method\\\":\\\"PUT\\\",\\\"path\\\":\\\"/api/v1/bizes/{bizId}/acl/membership-mappings\\\",\\\"tags\\\":[\\\"acl\\\",\\\"biz\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"mappings\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"object\\\"}}},\\\"required\\\":[\\\"bizId\\\",\\\"mappings\\\"]}},{\\\"name\\\":\\\"bizing.acl.platform.roles.list\\\",\\\"description\\\":\\\"List platform-level ACL role templates.\\\",\\\"method\\\":\\\"GET\\\",\\\"path\\\":\\\"/api/v1/platform/acl/roles\\\",\\\"tags\\\":[\\\"acl\\\",\\\"platform\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{}}},{\\\"name\\\":\\\"bizing.acl.platform.permissions.list\\\",\\\"description\\\":\\\"List global ACL permission definitions.\\\",\\\"method\\\":\\\"GET\\\",\\\"path\\\":\\\"/api/v1/platform/acl/permissions\\\",\\\"tags\\\":[\\\"acl\\\",\\\"platform\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{}}},{\\\"name\\\":\\\"bizing.acl.platform.assignments.create\\\",\\\"description\\\":\\\"Assign a platform ACL role to a user.\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/platform/acl/assignments\\\",\\\"tags\\\":[\\\"acl\\\",\\\"platform\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"userId\\\":{\\\"type\\\":\\\"string\\\"},\\\"roleDefinitionId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"userId\\\",\\\"roleDefinitionId\\\"]}},{\\\"name\\\":\\\"bizing.locations.list\\\",\\\"description\\\":\\\"List locations for one biz.\\\",\\\"method\\\":\\\"GET\\\",\\\"path\\\":\\\"/api/v1/bizes/{bizId}/locations\\\",\\\"tags\\\":[\\\"locations\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"page\\\":{\\\"type\\\":\\\"number\\\",\\\"default\\\":1},\\\"perPage\\\":{\\\"type\\\":\\\"number\\\",\\\"default\\\":20}},\\\"required\\\":[\\\"bizId\\\"]}},{\\\"name\\\":\\\"bizing.locations.create\\\",\\\"description\\\":\\\"Create location in one biz.\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/bizes/{bizId}/locations\\\",\\\"tags\\\":[\\\"locations\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"name\\\":{\\\"type\\\":\\\"string\\\"},\\\"slug\\\":{\\\"type\\\":\\\"string\\\"},\\\"type\\\":{\\\"type\\\":\\\"string\\\"},\\\"timezone\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"bizId\\\",\\\"name\\\",\\\"slug\\\"]}},{\\\"name\\\":\\\"bizing.resources.list\\\",\\\"description\\\":\\\"List resources for one biz.\\\",\\\"method\\\":\\\"GET\\\",\\\"path\\\":\\\"/api/v1/bizes/{bizId}/resources\\\",\\\"tags\\\":[\\\"resources\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type\\\":\\\"string\\\"},\\\"type\\\":{\\\"type\\\":\\\"string\\\"},\\\"locationId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"bizId\\\"]}},{\\\"name\\\":\\\"bizing.resources.create\\\",\\\"description\\\":\\\"Create resource in one biz.\\\",\\\"method\\\":\\\"POST\\\",\\\"path\\\":\\\"/api/v1/bizes/{bizId}/resources\\\",\\\"tags\\\":[\\\"resources\\\"],\\\"parameters\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"bizId\\\":{\\\"type",
        "_size": 17273
      },
      "responseBody": {
        "_truncated": true,
        "_preview": "{\"success\":true,\"data\":{\"id\":\"saga_artifact_3A7eTAXcC85ItxzQf1ENuA9f5b4\",\"sagaRunId\":\"saga_run_3A7eSYLhU2CnF3DmAes011LmRMM\",\"sagaRunStepId\":\"saga_run_step_3A7eSZz8WW6eYnFtydfh4ygzm81\",\"artifactType\":\"snapshot\",\"title\":\"Customer uses advanced payment instruments Snapshot\",\"storagePath\":\"testing/sagas/runs/saga_run_3A7eSYLhU2CnF3DmAes011LmRMM/snapshots/2026-02-24T15-47-21-382Z-customer-advanced-payment-flow-1771948041374.json\",\"contentType\":\"application/json\",\"bodyText\":\"{\\n  \\\"schemaVersion\\\": \\\"snapshot.v1\\\",\\n  \\\"screenKey\\\": \\\"customer-advanced-payment-flow-1771948041374\\\",\\n  \\\"title\\\": \\\"Customer uses advanced payment instruments Snapshot\\\",\\n  \\\"generatedAt\\\": \\\"2026-02-24T15:47:21.379Z\\\",\\n  \\\"stepKey\\\": \\\"customer-advanced-payment-flow\\\",\\n  \\\"status\\\": \\\"blocked\\\",\\n  \\\"view\\\": {\\n    \\\"title\\\": \\\"Customer uses advanced payment instruments\\\",\\n    \\\"subtitle\\\": \\\"Step blocked: customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\\\",\\n    \\\"blocks\\\": [\\n      {\\n        \\\"type\\\": \\\"alert\\\",\\n        \\\"title\\\": \\\"Customer Advanced Payment Flow blocked\\\",\\n        \\\"message\\\": \\\"Step blocked: customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\\\",\\n        \\\"tone\\\": \\\"error\\\"\\n      },\\n      {\\n        \\\"type\\\": \\\"stats\\\",\\n        \\\"title\\\": \\\"What user sees at a glance\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"label\\\": \\\"FoundToolCount\\\",\\n            \\\"value\\\": \\\"43\\\"\\n          }\\n        ]\\n      },\\n      {\\n        \\\"type\\\": \\\"key_value\\\",\\n        \\\"title\\\": \\\"Screen details\\\",\\n        \\\"items\\\": [\\n          {\\n            \\\"label\\\": \\\"Error\\\",\\n            \\\"value\\\": \\\"customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"Failed\\\",\\n            \\\"value\\\": \\\"false\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"Blocked\\\",\\n            \\\"value\\\": \\\"true\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"Expected\\\",\\n            \\\"value\\\": \\\"Split tender + gift/credit/payment allocation tools\\\"\\n          },\\n          {\\n            \\\"label\\\": \\\"FoundToolCount\\\",\\n            \\\"value\\\": \\\"43\\\"\\n          }\\n        ]\\n      }\\n    ]\\n  },\\n  \\\"rawData\\\": {\\n    \\\"stepKey\\\": \\\"customer-advanced-payment-flow\\\",\\n    \\\"error\\\": \\\"customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\\\",\\n    \\\"resultPayload\\\": {\\n      \\\"note\\\": \\\"Step blocked: customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\\\",\\n      \\\"evidence\\\": {\\n        \\\"error\\\": \\\"customer-advanced-payment-flow: Advanced payment/tender allocation API is not exposed yet.\\\",\\n        \\\"failed\\\": false,\\n        \\\"blocked\\\": true,\\n        \\\"expected\\\": \\\"Split tender + gift/credit/payment allocation tools\\\",\\n        \\\"foundToolCount\\\": 43\\n      }\\n    },\\n    \\\"apiCalls\\\": [\\n      {\\n        \\\"method\\\": \\\"POST\\\",\\n        \\\"path\\\": \\\"/api/v1/sagas/runs/saga_run_3A7eSZDwBlq0IG2AwTCxh9lpb0Y/steps/adversary-hold-abuse/result\\\",\\n        \\\"status\\\": 200,\\n        \\\"requestBody\\\": {\\n          \\\"status\\\": \\\"passed\\\",\\n          \\\"startedAt\\\": \\\"2026-02-24T15:47:21.037Z\\\",\\n          \\\"endedAt\\\": \\\"2026-02-24T15:47:21.037Z\\\",\\n          \\\"failureMessage\\\": null,\\n          \\\"resultPayload\\\": {\\n            \\\"note\\\": \\\"Repeated unauthorized hold attempts were blocked (403).\\\"\\n          },\\n          \\\"assertionSummary\\\": {\\n            \\\"status\\\": \\\"passed\\\",\\n            \\\"hasFailure\\\": false,\\n            \\\"assertionsPassed\\\": 1\\n          }\\n        },\\n        \\\"responseBody\\\": {\\n          \\\"success\\\": true,\\n          \\\"data\\\": {\\n            \\\"id\\\": \\\"saga_run_step_3A7eSd6nF599TMtLVdKF9n7mSEp\\\",\\n            \\\"sagaRunId\\\": \\\"saga_run_3A7eSZDwBlq0IG2AwTCxh9lpb0Y\\\",\\n            \\\"phaseKey\\\": \\\"security-and-abuse\\\",\\n            \\\"phaseOrder\\\": 6,\\n            \\\"phaseTitle\\\": \\\"Security And Abuse Checks\\\",\\n            \\\"stepKey\\\": \\\"adversary-hold-abuse\\\",\\n            \\\"stepOrder\\\": 15,\\n            \\\"actorKey\\\": \\\"adversary\\\",\\n            \\\"instruction\\\": \\\"Trigger repeated booking/hold-like attempts to validate throttling, expiry, or non-blocking demand visibility behavior.\\\",\\n            \\\"expectedResult\\\": \\\"Abusive attempts are rate-limited or isolated without blocking legitimate customer flow.\\\",\\n            \\\"status\\\": \\\"passed\\\",\\n            \\\"attemptCount\\\": 1,\\n            \\\"startedAt\\\": \\\"2026-02-24T15:47:21.037Z\\\",\\n            \\\"endedAt\\\": \\\"2026-02-24T15:47:21.037Z\\\",\\n            \\\"failureCode\\\": null,\\n            \\\"failureMessage\\\": null,\\n            \\\"resultPayload\\\": {\\n              \\\"note\\\": \\\"Repeated unauthorized hold attempts were blocked (403).\\\"\\n            },\\n            \\\"assertionSummary\\\": {\\n              \\\"status\\\": \\\"passed\\\",\\n              \\\"hasFailure\\\": false,\\n              \\\"assertionsPassed\\\": 1\\n            },\\n            \\\"metadata\\\": {},\\n            \\\"createdAt\\\": \\\"2026-02-24T15:47:16.457Z\\\",\\n            \\\"updatedAt\\\": \\\"2026-02-24T15:47:16.457Z\\\",\\n            \\\"deletedAt\\\": null,\\n            \\\"createdBy\\\": null,\\n            \\\"updatedBy\\\": null,\\n            \\\"deletedBy\\\": null\\n          },\\n          \\\"meta\\\": {\\n            \\\"requestId\\\": \\\"e40d42db-5c73-4bfd-8fbb-e7975aaf5c30\\\",\\n            \\\"timestamp\\\": \\\"2026-02-24T15:47:21.088Z\\\"\\n          }\\n        },\\n        \\\"at\\\": \\\"2026-02-24T15:47:21.089Z\\\"\\n      },\\n      {\\n        \\\"method\\\": \\\"GET\\\",\\n        \\\"path\\\": \\\"/api/v1/agents/tools\\\",\\n        \\\"status\\\": 200,\\n        \\\"responseBody\\\": {\\n          \\\"_truncated\\\": true,\\n          \\\"_preview\\\": \\\"{\\\\\\\"success\\\\\\\":true,\\\\\\\"data\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.bizes.list\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"List bizes available to the authenticated user.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"GET\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/bizes\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"bizes\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"page\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"number\\\\\\\",\\\\\\\"default\\\\\\\":1},\\\\\\\"perPage\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"number\\\\\\\",\\\\\\\"default\\\\\\\":20},\\\\\\\"status\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"type\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}}}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.bizes.create\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"Create a biz and make current user owner.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"POST\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/bizes\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"bizes\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"name\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"slug\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"type\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"timezone\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"currency\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}},\\\\\\\"required\\\\\\\":[\\\\\\\"name\\\\\\\",\\\\\\\"slug\\\\\\\"]}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.auth.me\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"Get authenticated user context, memberships, active biz, and effective permissions.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"GET\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/auth/me\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"auth\\\\\\\",\\\\\\\"acl\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{}}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.auth.switchActiveBiz\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"Switch active biz context for the current session.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"PATCH\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/auth/active-biz\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"auth\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"bizId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}},\\\\\\\"required\\\\\\\":[\\\\\\\"bizId\\\\\\\"]}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.auth.apiKeys.list\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"List machine API keys owned by current user.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"GET\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/auth/api-keys\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"auth\\\\\\\",\\\\\\\"machine\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"includeRevoked\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"boolean\\\\\\\",\\\\\\\"default\\\\\\\":false},\\\\\\\"bizId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"limit\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"number\\\\\\\",\\\\\\\"default\\\\\\\":100}}}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.auth.apiKeys.create\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"Create one machine API key (raw secret returned once).\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"POST\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/auth/api-keys\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"auth\\\\\\\",\\\\\\\"machine\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"label\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"description\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"bizId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"scopes\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"array\\\\\\\",\\\\\\\"items\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}},\\\\\\\"expiresAt\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"ISO datetime\\\\\\\"},\\\\\\\"allowDirectApiKeyAuth\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"boolean\\\\\\\",\\\\\\\"default\\\\\\\":false},\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\"}},\\\\\\\"required\\\\\\\":[\\\\\\\"label\\\\\\\"]}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.auth.apiKeys.revoke\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"Revoke one API key and all child short-lived tokens.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"POST\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/auth/api-keys/{apiCredentialId}/revoke\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"auth\\\\\\\",\\\\\\\"machine\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"apiCredentialId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"reason\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}},\\\\\\\"required\\\\\\\":[\\\\\\\"apiCredentialId\\\\\\\"]}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.auth.tokens.exchange\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"Exchange an API key for a short-lived bearer token. Supports session + apiCredentialId or direct x-api-key auth.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"POST\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/auth/tokens/exchange\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"auth\\\\\\\",\\\\\\\"machine\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"apiCredentialId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"apiKey\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"scopes\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"array\\\\\\\",\\\\\\\"items\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}},\\\\\\\"ttlSeconds\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"number\\\\\\\",\\\\\\\"default\\\\\\\":900},\\\\\\\"bizId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"reason\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}}}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.auth.tokens.revoke\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"Revoke one short-lived machine access token.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"POST\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/auth/tokens/{tokenId}/revoke\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"auth\\\\\\\",\\\\\\\"machine\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"tokenId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"reason\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}},\\\\\\\"required\\\\\\\":[\\\\\\\"tokenId\\\\\\\"]}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.acl.biz.roles.list\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"List ACL role definitions available to one biz.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"GET\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/bizes/{bizId}/acl/roles\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"acl\\\\\\\",\\\\\\\"biz\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"bizId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}},\\\\\\\"required\\\\\\\":[\\\\\\\"bizId\\\\\\\"]}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.acl.biz.roles.create\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"Create biz/location/resource/subject scoped ACL role definition.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"POST\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/bizes/{bizId}/acl/roles\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"acl\\\\\\\",\\\\\\\"biz\\\\\\\"],\\\\\\\"parameters\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"object\\\\\\\",\\\\\\\"properties\\\\\\\":{\\\\\\\"bizId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"roleKey\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"name\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"scopeType\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\",\\\\\\\"enum\\\\\\\":[\\\\\\\"biz\\\\\\\",\\\\\\\"location\\\\\\\",\\\\\\\"resource\\\\\\\",\\\\\\\"subject\\\\\\\"]},\\\\\\\"locationId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"resourceId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"scopeSubjectType\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"scopeSubjectId\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"},\\\\\\\"description\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"string\\\\\\\"}},\\\\\\\"required\\\\\\\":[\\\\\\\"bizId\\\\\\\",\\\\\\\"roleKey\\\\\\\",\\\\\\\"name\\\\\\\"]}},{\\\\\\\"name\\\\\\\":\\\\\\\"bizing.acl.biz.rolePermissions.replace\\\\\\\",\\\\\\\"description\\\\\\\":\\\\\\\"Replace/update one biz role permission set.\\\\\\\",\\\\\\\"method\\\\\\\":\\\\\\\"PUT\\\\\\\",\\\\\\\"path\\\\\\\":\\\\\\\"/api/v1/bizes/{bizId}/acl/roles/{roleId}/permissions\\\\\\\",\\\\\\\"tags\\\\\\\":[\\\\\\\"acl\\\\\\\",\\\\\\\"biz\\",
        "_size": 24018
      },
      "at": "2026-02-24T15:47:21.509Z"
    }
  ]
}
