{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-publish-catalog-1771964445572",
  "title": "Publish catalog visibility Snapshot",
  "generatedAt": "2026-02-24T20:20:45.582Z",
  "stepKey": "owner-publish-catalog",
  "status": "passed",
  "view": {
    "title": "Publish catalog visibility",
    "subtitle": "Offer published and activated.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Publish Catalog completed",
        "message": "Offer published and activated.",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-publish-catalog",
    "resultPayload": {
      "note": "Offer published and activated."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A8BhAtQZEDWBkqpKhZW17J2IM2/steps/owner-calendar-review/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T20:20:45.028Z",
          "endedAt": "2026-02-24T20:20:45.028Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Operational timeline inputs fetched (bookings/resources/offers).",
            "evidence": {
              "bookingCount": 2,
              "resourceCount": 2,
              "offerCount": 1,
              "timezone": "UTC",
              "rangeLabel": "Upcoming schedule window",
              "bookingPreview": [
                {
                  "id": "booking_order_3A8BiQgMhhREuGcumf12D6A4IUm",
                  "bizId": "3A8BhI0r4HpKxNzKnrp1BLLSTFn",
                  "offerId": "offer_3A8Bi4SPNB4mQhHRZCYTlMtWhx2",
                  "offerVersionId": "offer_version_3A8BiAI4dnAE6Q3Kwj6l9TD4nhL",
                  "customerUserId": "EE6QqliZ7Ao8Av5gr0i7utjIISn6WZQ4",
                  "customerGroupAccountId": null,
                  "status": "in_progress",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-25T20:20:43.270Z",
                  "requestedEndAt": "2026-02-25T21:10:43.270Z",
                  "confirmedStartAt": "2026-02-25T20:20:43.270Z",
                  "confirmedEndAt": "2026-02-25T21:10:43.270Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-24T20:20:43.280Z",
                  "updatedAt": "2026-02-24T20:20:43.280Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                {
                  "id": "booking_order_3A8BiFq8qL0tzjDcQO2QL4r3RUi",
                  "bizId": "3A8BhI0r4HpKxNzKnrp1BLLSTFn",
                  "offerId": "offer_3A8Bi4SPNB4mQhHRZCYTlMtWhx2",
                  "offerVersionId": "offer_version_3A8BiAI4dnAE6Q3Kwj6l9TD4nhL",
                  "customerUserId": "KtH7TzibdMr2B5uZ1FCcpSDFx2pwxi2x",
                  "customerGroupAccountId": null,
                  "status": "confirmed",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-25T20:20:42.726Z",
                  "requestedEndAt": "2026-02-25T21:10:42.726Z",
                  "confirmedStartAt": "2026-02-25T20:20:42.726Z",
                  "confirmedEndAt": "2026-02-25T21:10:42.726Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-24T20:20:42.737Z",
                  "updatedAt": "2026-02-24T20:20:42.737Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                }
              ]
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A8Bh9KLZLQ2EVxK7YAp4HKmDbP",
            "sagaRunId": "saga_run_3A8BhAtQZEDWBkqpKhZW17J2IM2",
            "phaseKey": "operations-and-follow-up",
            "phaseOrder": 7,
            "phaseTitle": "Operations And Follow-up",
            "stepKey": "owner-calendar-review",
            "stepOrder": 17,
            "actorKey": "biz_owner",
            "instruction": "Query and compare availability + bookings timeline for the entities involved in this scenario.",
            "expectedResult": "Calendar state reflects booked slots, blocks, and any conflict outcomes from previous steps.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T20:20:45.028Z",
            "endedAt": "2026-02-24T20:20:45.028Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Operational timeline inputs fetched (bookings/resources/offers).",
              "evidence": {
                "timezone": "UTC",
                "offerCount": 1,
                "rangeLabel": "Upcoming schedule window",
                "bookingCount": 2,
                "resourceCount": 2,
                "bookingPreview": [
                  {
                    "id": "booking_order_3A8BiQgMhhREuGcumf12D6A4IUm",
                    "bizId": "3A8BhI0r4HpKxNzKnrp1BLLSTFn",
                    "status": "in_progress",
                    "offerId": "offer_3A8Bi4SPNB4mQhHRZCYTlMtWhx2",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-24T20:20:43.280Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-24T20:20:43.280Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-25T21:10:43.270Z",
                    "customerUserId": "EE6QqliZ7Ao8Av5gr0i7utjIISn6WZQ4",
                    "offerVersionId": "offer_version_3A8BiAI4dnAE6Q3Kwj6l9TD4nhL",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-25T21:10:43.270Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-25T20:20:43.270Z",
                    "requestedStartAt": "2026-02-25T20:20:43.270Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  },
                  {
                    "id": "booking_order_3A8BiFq8qL0tzjDcQO2QL4r3RUi",
                    "bizId": "3A8BhI0r4HpKxNzKnrp1BLLSTFn",
                    "status": "confirmed",
                    "offerId": "offer_3A8Bi4SPNB4mQhHRZCYTlMtWhx2",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-24T20:20:42.737Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-24T20:20:42.737Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-25T21:10:42.726Z",
                    "customerUserId": "KtH7TzibdMr2B5uZ1FCcpSDFx2pwxi2x",
                    "offerVersionId": "offer_version_3A8BiAI4dnAE6Q3Kwj6l9TD4nhL",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-25T21:10:42.726Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-25T20:20:42.726Z",
                    "requestedStartAt": "2026-02-25T20:20:42.726Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  }
                ]
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T20:20:33.176Z",
            "updatedAt": "2026-02-24T20:20:33.176Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "dcdebe42-51ec-4b13-9bc5-e0d065f4e3d9",
            "timestamp": "2026-02-24T20:20:45.116Z"
          }
        },
        "at": "2026-02-24T20:20:45.118Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A8BhFR1iL7EBd9DNOqIhDNjNNj/steps/customer-advanced-payment-flow/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T20:20:45.070Z",
          "resultPayload": {
            "note": "Started customer-advanced-payment-flow"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A8BhIfty5R9RI8tmyFdPpZPAwl",
            "sagaRunId": "saga_run_3A8BhFR1iL7EBd9DNOqIhDNjNNj",
            "phaseKey": "customer-lifecycle",
            "phaseOrder": 5,
            "phaseTitle": "Customer Lifecycle",
            "stepKey": "customer-advanced-payment-flow",
            "stepOrder": 14,
            "actorKey": "customer_1",
            "instruction": "Execute advanced payment path (split tender and/or tip/gift/credit entitlement usage) and persist allocation evidence.",
            "expectedResult": "Payment trace clearly links payer, tender mix, and booking/order amounts with no ambiguity.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T20:20:45.070Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started customer-advanced-payment-flow"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T20:20:34.910Z",
            "updatedAt": "2026-02-24T20:20:34.910Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "cdac3480-1d7f-4ff8-88ee-743b51d6b756",
            "timestamp": "2026-02-24T20:20:45.117Z"
          }
        },
        "at": "2026-02-24T20:20:45.131Z"
      },
      {
        "method": "GET",
        "path": "/api/auth/get-session",
        "status": 200,
        "responseBody": {
          "session": {
            "expiresAt": "2026-03-03T20:20:45.230Z",
            "token": "nFy0GiWYGaJKsac2nEfQHdCIKWoOkZJ4",
            "createdAt": "2026-02-24T20:20:45.230Z",
            "updatedAt": "2026-02-24T20:20:45.230Z",
            "ipAddress": "",
            "userAgent": "node",
            "userId": "ZsgTyObqziLnRdmfgePdhy3hwnbEiRvx",
            "activeOrganizationId": null,
            "impersonatedBy": null,
            "id": "CRQLzakNaZ2isF018RxOu2FvQ5LPXklN"
          },
          "user": {
            "name": "customer2-uc-63-the-solo-entrepreneur-sarah",
            "email": "customer2-uc-63-the-solo-entrepreneur-sarah-1771964445112-iw5gay@example.com",
            "emailVerified": false,
            "image": null,
            "createdAt": "2026-02-24T20:20:45.221Z",
            "updatedAt": "2026-02-24T20:20:45.221Z",
            "role": "user",
            "banned": false,
            "banReason": null,
            "banExpires": null,
            "id": "ZsgTyObqziLnRdmfgePdhy3hwnbEiRvx"
          }
        },
        "at": "2026-02-24T20:20:45.251Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A8BiThlLsUacn7XEHHDJRI5S8j/steps/owner-create-biz/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T20:20:45.036Z",
          "endedAt": "2026-02-24T20:20:45.036Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Biz created.",
            "evidence": {
              "id": "3A8BiWRYNQjTxjyBUJ0SZkLdvEQ",
              "name": "Saga uc-66-the-front-desk-manager-lisa",
              "slug": "uc-66-the-front-desk-manager-lisa-021sfzvq",
              "type": "small_business",
              "logoUrl": null,
              "timezone": "UTC",
              "currency": "USD",
              "status": "active",
              "metadata": {},
              "createdAt": "2026-02-24T20:20:44.971Z",
              "updatedAt": "2026-02-24T20:20:44.971Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A8BiNJUkCvxwddtd3MT869srqO",
            "sagaRunId": "saga_run_3A8BiThlLsUacn7XEHHDJRI5S8j",
            "phaseKey": "owner-onboarding",
            "phaseOrder": 1,
            "phaseTitle": "Owner Onboarding",
            "stepKey": "owner-create-biz",
            "stepOrder": 2,
            "actorKey": "biz_owner",
            "instruction": "Using agents tools, create a biz representing The Offline Front Desk Mode. Use name/slug derived from saga context.",
            "expectedResult": "Biz is created, owner is auto-added as member with owner role, and biz id is captured.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T20:20:45.036Z",
            "endedAt": "2026-02-24T20:20:45.036Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Biz created.",
              "evidence": {
                "id": "3A8BiWRYNQjTxjyBUJ0SZkLdvEQ",
                "name": "Saga uc-66-the-front-desk-manager-lisa",
                "slug": "uc-66-the-front-desk-manager-lisa-021sfzvq",
                "type": "small_business",
                "status": "active",
                "logoUrl": null,
                "currency": "USD",
                "metadata": {},
                "timezone": "UTC",
                "createdAt": "2026-02-24T20:20:44.971Z",
                "createdBy": null,
                "deletedAt": null,
                "deletedBy": null,
                "updatedAt": "2026-02-24T20:20:44.971Z",
                "updatedBy": null
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T20:20:43.965Z",
            "updatedAt": "2026-02-24T20:20:43.965Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "e2852c48-7c1f-4545-a7fe-bef7e30bcc6c",
            "timestamp": "2026-02-24T20:20:45.251Z"
          }
        },
        "at": "2026-02-24T20:20:45.251Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A8BiO8V1qKhC3UMMZOLsJfPJQh/steps/owner-create-biz/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T20:20:45.043Z",
          "endedAt": "2026-02-24T20:20:45.043Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Biz created.",
            "evidence": {
              "id": "3A8BialtYwPJbHspx2XerTbui5n",
              "name": "Saga uc-67-the-solo-entrepreneur-sarah",
              "slug": "uc-67-the-solo-entrepreneur-sarah-27z2rm98",
              "type": "small_business",
              "logoUrl": null,
              "timezone": "UTC",
              "currency": "USD",
              "status": "active",
              "metadata": {},
              "createdAt": "2026-02-24T20:20:44.973Z",
              "updatedAt": "2026-02-24T20:20:44.973Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A8BiRA6Cjgs8a7cJHgF4PBbEps",
            "sagaRunId": "saga_run_3A8BiO8V1qKhC3UMMZOLsJfPJQh",
            "phaseKey": "owner-onboarding",
            "phaseOrder": 1,
            "phaseTitle": "Owner Onboarding",
            "stepKey": "owner-create-biz",
            "stepOrder": 2,
            "actorKey": "biz_owner",
            "instruction": "Using agents tools, create a biz representing The External Channel Sync. Use name/slug derived from saga context.",
            "expectedResult": "Biz is created, owner is auto-added as member with owner role, and biz id is captured.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T20:20:45.043Z",
            "endedAt": "2026-02-24T20:20:45.043Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Biz created.",
              "evidence": {
                "id": "3A8BialtYwPJbHspx2XerTbui5n",
                "name": "Saga uc-67-the-solo-entrepreneur-sarah",
                "slug": "uc-67-the-solo-entrepreneur-sarah-27z2rm98",
                "type": "small_business",
                "status": "active",
                "logoUrl": null,
                "currency": "USD",
                "metadata": {},
                "timezone": "UTC",
                "createdAt": "2026-02-24T20:20:44.973Z",
                "createdBy": null,
                "deletedAt": null,
                "deletedBy": null,
                "updatedAt": "2026-02-24T20:20:44.973Z",
                "updatedBy": null
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T20:20:43.989Z",
            "updatedAt": "2026-02-24T20:20:43.989Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "9bf63f91-9ab4-4f18-bd10-6c9ed6e5acb4",
            "timestamp": "2026-02-24T20:20:45.251Z"
          }
        },
        "at": "2026-02-24T20:20:45.252Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A8BiRJTbV07LhlBzpBE8s4M6ew/steps/owner-configure-hours/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T20:20:45.056Z",
          "endedAt": "2026-02-24T20:20:45.056Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Hours/lead-time baseline configured on biz metadata."
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A8BiRO7rb015mLVmieWiiKsSQm",
            "sagaRunId": "saga_run_3A8BiRJTbV07LhlBzpBE8s4M6ew",
            "phaseKey": "business-configuration",
            "phaseOrder": 2,
            "phaseTitle": "Business Configuration",
            "stepKey": "owner-configure-hours",
            "stepOrder": 4,
            "actorKey": "biz_owner",
            "instruction": "Create baseline availability and lead-time rules representing the UC default business hours and booking window behavior.",
            "expectedResult": "Availability defaults and rules are stored and can be referenced by calendars.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T20:20:45.056Z",
            "endedAt": "2026-02-24T20:20:45.056Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Hours/lead-time baseline configured on biz metadata."
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T20:20:43.255Z",
            "updatedAt": "2026-02-24T20:20:43.255Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "33336ff7-c1a7-4ffa-b29c-5088a5ca266f",
            "timestamp": "2026-02-24T20:20:45.251Z"
          }
        },
        "at": "2026-02-24T20:20:45.253Z"
      },
      {
        "method": "PATCH",
        "path": "/api/v1/bizes/3A8BiFdcK3uekfgtCUCI3kyfwT7/offers/offer_3A8BiW8QjDkBueNs63z6aqTOdZI",
        "status": 200,
        "requestBody": {
          "status": "active",
          "isPublished": true
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "offer_3A8BiW8QjDkBueNs63z6aqTOdZI",
            "bizId": "3A8BiFdcK3uekfgtCUCI3kyfwT7",
            "name": "Primary Service Offer",
            "slug": "offer-6apnvnt4",
            "description": null,
            "executionMode": "slot",
            "executionModeConfigValueId": null,
            "status": "active",
            "statusConfigValueId": null,
            "isPublished": true,
            "timezone": "UTC",
            "metadata": {},
            "createdAt": "2026-02-24T20:20:44.686Z",
            "updatedAt": "2026-02-24T20:20:44.686Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "3e3f4ff2-4f59-4dd7-af8d-2ded400d5718",
            "timestamp": "2026-02-24T20:20:45.251Z"
          }
        },
        "at": "2026-02-24T20:20:45.253Z"
      }
    ]
  },
  "metadata": {}
}
