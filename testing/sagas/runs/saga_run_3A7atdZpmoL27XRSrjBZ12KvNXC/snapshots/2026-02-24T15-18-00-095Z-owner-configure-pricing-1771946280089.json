{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-configure-pricing-1771946280089",
  "title": "Configure default pricing rules Snapshot",
  "generatedAt": "2026-02-24T15:18:00.093Z",
  "stepKey": "owner-configure-pricing",
  "status": "passed",
  "view": {
    "title": "Configure default pricing rules",
    "subtitle": "Pricing baseline configured on biz metadata.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Configure Pricing completed",
        "message": "Pricing baseline configured on biz metadata.",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-configure-pricing",
    "resultPayload": {
      "note": "Pricing baseline configured on biz metadata."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7athGp6gIhzWttsBY4UQBzJu0/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "owner-configure-hours",
          "title": "Configure default hours and availability mode API Trace",
          "trace": {
            "stepKey": "owner-configure-hours",
            "callCount": 1,
            "calls": [
              {
                "method": "PATCH",
                "path": "/api/v1/bizes/3A7atpAwWvry7RPNsHA6zSNw0MF",
                "status": 200,
                "requestBody": {
                  "metadata": {
                    "availability": {
                      "timezone": "UTC",
                      "weekly": {
                        "mon": [
                          "09:00-17:00"
                        ],
                        "tue": [
                          "09:00-17:00"
                        ],
                        "wed": [
                          "09:00-17:00"
                        ],
                        "thu": [
                          "09:00-17:00"
                        ],
                        "fri": [
                          "09:00-17:00"
                        ]
                      },
                      "leadTimeHours": 24,
                      "maxAdvanceDays": 60
                    },
                    "pricing": {
                      "baseCurrency": "USD",
                      "callFeeMinor": 5000,
                      "surgeManualEnabled": true
                    }
                  }
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "3A7atpAwWvry7RPNsHA6zSNw0MF",
                    "name": "Saga uc-107-the-solo-entrepreneur-sarah",
                    "slug": "uc-107-the-solo-entrepreneur-sarah-uwvhrf14",
                    "type": "small_business",
                    "logoUrl": null,
                    "timezone": "UTC",
                    "currency": "USD",
                    "status": "active",
                    "metadata": {
                      "pricing": {
                        "baseCurrency": "USD",
                        "callFeeMinor": 5000,
                        "surgeManualEnabled": true
                      },
                      "availability": {
                        "weekly": {
                          "fri": [
                            "09:00-17:00"
                          ],
                          "mon": [
                            "09:00-17:00"
                          ],
                          "thu": [
                            "09:00-17:00"
                          ],
                          "tue": [
                            "09:00-17:00"
                          ],
                          "wed": [
                            "09:00-17:00"
                          ]
                        },
                        "timezone": "UTC",
                        "leadTimeHours": 24,
                        "maxAdvanceDays": 60
                      }
                    },
                    "createdAt": "2026-02-24T15:17:59.139Z",
                    "updatedAt": "2026-02-24T15:17:59.139Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "113893d0-a9a4-4036-a1b3-78280812a55e",
                    "timestamp": "2026-02-24T15:17:59.784Z"
                  }
                },
                "at": "2026-02-24T15:17:59.795Z"
              }
            ]
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7atm1m9CSEwRCG9u9E4hrluB3",
            "sagaRunId": "saga_run_3A7athGp6gIhzWttsBY4UQBzJu0",
            "sagaRunStepId": "saga_run_step_3A7ath6hSnxsry9VFjmHHboLNAJ",
            "artifactType": "api_trace",
            "title": "Configure default hours and availability mode API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3A7athGp6gIhzWttsBY4UQBzJu0/artifacts/1771946279843-Configure_default_hours_and_availability_mode_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"owner-configure-hours\",\n  \"callCount\": 1,\n  \"calls\": [\n    {\n      \"method\": \"PATCH\",\n      \"path\": \"/api/v1/bizes/3A7atpAwWvry7RPNsHA6zSNw0MF\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"metadata\": {\n          \"availability\": {\n            \"timezone\": \"UTC\",\n            \"weekly\": {\n              \"mon\": [\n                \"09:00-17:00\"\n              ],\n              \"tue\": [\n                \"09:00-17:00\"\n              ],\n              \"wed\": [\n                \"09:00-17:00\"\n              ],\n              \"thu\": [\n                \"09:00-17:00\"\n              ],\n              \"fri\": [\n                \"09:00-17:00\"\n              ]\n            },\n            \"leadTimeHours\": 24,\n            \"maxAdvanceDays\": 60\n          },\n          \"pricing\": {\n            \"baseCurrency\": \"USD\",\n            \"callFeeMinor\": 5000,\n            \"surgeManualEnabled\": true\n          }\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"3A7atpAwWvry7RPNsHA6zSNw0MF\",\n          \"name\": \"Saga uc-107-the-solo-entrepreneur-sarah\",\n          \"slug\": \"uc-107-the-solo-entrepreneur-sarah-uwvhrf14\",\n          \"type\": \"small_business\",\n          \"logoUrl\": null,\n          \"timezone\": \"UTC\",\n          \"currency\": \"USD\",\n          \"status\": \"active\",\n          \"metadata\": {\n            \"pricing\": {\n              \"baseCurrency\": \"USD\",\n              \"callFeeMinor\": 5000,\n              \"surgeManualEnabled\": true\n            },\n            \"availability\": {\n              \"weekly\": {\n                \"fri\": [\n                  \"09:00-17:00\"\n                ],\n                \"mon\": [\n                  \"09:00-17:00\"\n                ],\n                \"thu\": [\n                  \"09:00-17:00\"\n                ],\n                \"tue\": [\n                  \"09:00-17:00\"\n                ],\n                \"wed\": [\n                  \"09:00-17:00\"\n                ]\n              },\n              \"timezone\": \"UTC\",\n              \"leadTimeHours\": 24,\n              \"maxAdvanceDays\": 60\n            }\n          },\n          \"createdAt\": \"2026-02-24T15:17:59.139Z\",\n          \"updatedAt\": \"2026-02-24T15:17:59.139Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"113893d0-a9a4-4036-a1b3-78280812a55e\",\n          \"timestamp\": \"2026-02-24T15:17:59.784Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:17:59.795Z\"\n    }\n  ]\n}\n",
            "byteSize": 2495,
            "checksum": "b84f47d27ffe1cc6ed02ae3c5732168c1b302b37cee6e2b01eebbbb2a3c850d1",
            "capturedAt": "2026-02-24T15:17:59.859Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-24T15:17:59.859Z",
            "updatedAt": "2026-02-24T15:17:59.859Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "6ba0ebd8-975b-467d-b251-d2702cbcaf1a",
            "timestamp": "2026-02-24T15:17:59.882Z"
          }
        },
        "at": "2026-02-24T15:17:59.885Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7atgmZUqNQLU3r20Yg7aQEnT1/steps/owner-configure-hours/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T15:17:59.789Z",
          "endedAt": "2026-02-24T15:17:59.790Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Hours/lead-time baseline configured on biz metadata."
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7atjHZ1Y67yfiuzuEv3c1mCUO",
            "sagaRunId": "saga_run_3A7atgmZUqNQLU3r20Yg7aQEnT1",
            "phaseKey": "business-configuration",
            "phaseOrder": 2,
            "phaseTitle": "Business Configuration",
            "stepKey": "owner-configure-hours",
            "stepOrder": 4,
            "actorKey": "biz_owner",
            "instruction": "Create baseline availability and lead-time rules representing the UC default business hours and booking window behavior.",
            "expectedResult": "Availability defaults and rules are stored and can be referenced by calendars.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:17:59.789Z",
            "endedAt": "2026-02-24T15:17:59.790Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Hours/lead-time baseline configured on biz metadata."
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:17:58.724Z",
            "updatedAt": "2026-02-24T15:17:58.724Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "155b1882-25bc-4c20-8a70-cb218733a177",
            "timestamp": "2026-02-24T15:17:59.883Z"
          }
        },
        "at": "2026-02-24T15:17:59.895Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7athRh37YBFHOp7myo73ALnHC/steps/owner-configure-hours/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T15:17:59.800Z",
          "endedAt": "2026-02-24T15:17:59.800Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Hours/lead-time baseline configured on biz metadata."
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7atdaePsnUc1Lukuqbyof41qO",
            "sagaRunId": "saga_run_3A7athRh37YBFHOp7myo73ALnHC",
            "phaseKey": "business-configuration",
            "phaseOrder": 2,
            "phaseTitle": "Business Configuration",
            "stepKey": "owner-configure-hours",
            "stepOrder": 4,
            "actorKey": "biz_owner",
            "instruction": "Create baseline availability and lead-time rules representing the UC default business hours and booking window behavior.",
            "expectedResult": "Availability defaults and rules are stored and can be referenced by calendars.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:17:59.800Z",
            "endedAt": "2026-02-24T15:17:59.800Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Hours/lead-time baseline configured on biz metadata."
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:17:58.707Z",
            "updatedAt": "2026-02-24T15:17:58.707Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "9a4b5305-33ad-4898-a69b-448a99d8769d",
            "timestamp": "2026-02-24T15:17:59.883Z"
          }
        },
        "at": "2026-02-24T15:17:59.899Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7atht81lEdDwYsVnfUSqxTLQw/steps/owner-configure-pricing/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T15:17:59.803Z",
          "endedAt": "2026-02-24T15:17:59.803Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Pricing baseline configured on biz metadata."
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7atjLfW6UK8RwHUaEgjzpqcfu",
            "sagaRunId": "saga_run_3A7atht81lEdDwYsVnfUSqxTLQw",
            "phaseKey": "business-configuration",
            "phaseOrder": 2,
            "phaseTitle": "Business Configuration",
            "stepKey": "owner-configure-pricing",
            "stepOrder": 5,
            "actorKey": "biz_owner",
            "instruction": "Configure pricing defaults for the offer lifecycle including call fees/manual surge if UC needs imply it.",
            "expectedResult": "Pricing model persists and future bookings can calculate totals deterministically.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:17:59.803Z",
            "endedAt": "2026-02-24T15:17:59.803Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Pricing baseline configured on biz metadata."
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:17:58.426Z",
            "updatedAt": "2026-02-24T15:17:58.426Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "4b50056a-5495-439e-8fb3-8b5c500a80af",
            "timestamp": "2026-02-24T15:17:59.883Z"
          }
        },
        "at": "2026-02-24T15:17:59.902Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7atfr1Fmy5Lh31VOfVwgLlGxI/steps/owner-create-location/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T15:17:59.803Z",
          "endedAt": "2026-02-24T15:17:59.803Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Location created.",
            "evidence": {
              "id": "3A7atlJ6D6jvGzz5zxJPL62vKyc",
              "bizId": "3A7atplYeLGqxulVcIhgGsFNMcT",
              "name": "Primary Location",
              "slug": "loc-yymw6yc4",
              "type": "physical",
              "timezone": "UTC",
              "address": {},
              "operatingHours": {},
              "configOverride": {},
              "serviceArea": {},
              "status": "active",
              "isDefault": false,
              "metadata": {},
              "createdAt": "2026-02-24T15:17:59.755Z",
              "updatedAt": "2026-02-24T15:17:59.755Z",
              "deletedAt": null
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7atjkziASTm1tio6cmGEoB3Mz",
            "sagaRunId": "saga_run_3A7atfr1Fmy5Lh31VOfVwgLlGxI",
            "phaseKey": "owner-onboarding",
            "phaseOrder": 1,
            "phaseTitle": "Owner Onboarding",
            "stepKey": "owner-create-location",
            "stepOrder": 3,
            "actorKey": "biz_owner",
            "instruction": "Create a primary location for the biz and set timezone aligned with scenario context.",
            "expectedResult": "Location exists and is associated with the new biz.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:17:59.803Z",
            "endedAt": "2026-02-24T15:17:59.803Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Location created.",
              "evidence": {
                "id": "3A7atlJ6D6jvGzz5zxJPL62vKyc",
                "name": "Primary Location",
                "slug": "loc-yymw6yc4",
                "type": "physical",
                "bizId": "3A7atplYeLGqxulVcIhgGsFNMcT",
                "status": "active",
                "address": {},
                "metadata": {},
                "timezone": "UTC",
                "createdAt": "2026-02-24T15:17:59.755Z",
                "deletedAt": null,
                "isDefault": false,
                "updatedAt": "2026-02-24T15:17:59.755Z",
                "serviceArea": {},
                "configOverride": {},
                "operatingHours": {}
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:17:58.973Z",
            "updatedAt": "2026-02-24T15:17:58.973Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "ac1a04e6-66c0-4120-88f3-52bc33446758",
            "timestamp": "2026-02-24T15:17:59.884Z"
          }
        },
        "at": "2026-02-24T15:17:59.906Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7atgc7WW64vQZv6McdEeIAIHv/steps/owner-configure-hours/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-24T15:17:59.798Z",
          "endedAt": "2026-02-24T15:17:59.798Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Hours/lead-time baseline configured on biz metadata."
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7atd0fLmNnwR3LepmcnlzfzEd",
            "sagaRunId": "saga_run_3A7atgc7WW64vQZv6McdEeIAIHv",
            "phaseKey": "business-configuration",
            "phaseOrder": 2,
            "phaseTitle": "Business Configuration",
            "stepKey": "owner-configure-hours",
            "stepOrder": 4,
            "actorKey": "biz_owner",
            "instruction": "Create baseline availability and lead-time rules representing the UC default business hours and booking window behavior.",
            "expectedResult": "Availability defaults and rules are stored and can be referenced by calendars.",
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:17:59.798Z",
            "endedAt": "2026-02-24T15:17:59.798Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Hours/lead-time baseline configured on biz metadata."
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:17:58.637Z",
            "updatedAt": "2026-02-24T15:17:58.637Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "6f1b99d5-2887-440c-8bbe-df0bd1217a5f",
            "timestamp": "2026-02-24T15:17:59.884Z"
          }
        },
        "at": "2026-02-24T15:17:59.907Z"
      },
      {
        "method": "PATCH",
        "path": "/api/v1/bizes/3A7atriUKBs8mumCcDPDbl6Kj0E",
        "status": 200,
        "requestBody": {
          "metadata": {
            "availability": {
              "timezone": "UTC",
              "weekly": {
                "mon": [
                  "09:00-17:00"
                ],
                "tue": [
                  "09:00-17:00"
                ],
                "wed": [
                  "09:00-17:00"
                ],
                "thu": [
                  "09:00-17:00"
                ],
                "fri": [
                  "09:00-17:00"
                ]
              },
              "leadTimeHours": 24,
              "maxAdvanceDays": 60
            },
            "pricing": {
              "baseCurrency": "USD",
              "callFeeMinor": 5000,
              "surgeManualEnabled": true
            }
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "3A7atriUKBs8mumCcDPDbl6Kj0E",
            "name": "Saga uc-108-the-solo-entrepreneur-sarah",
            "slug": "uc-108-the-solo-entrepreneur-sarah-s67sgv3i",
            "type": "small_business",
            "logoUrl": null,
            "timezone": "UTC",
            "currency": "USD",
            "status": "active",
            "metadata": {
              "pricing": {
                "baseCurrency": "USD",
                "callFeeMinor": 5000,
                "surgeManualEnabled": true
              },
              "availability": {
                "weekly": {
                  "fri": [
                    "09:00-17:00"
                  ],
                  "mon": [
                    "09:00-17:00"
                  ],
                  "thu": [
                    "09:00-17:00"
                  ],
                  "tue": [
                    "09:00-17:00"
                  ],
                  "wed": [
                    "09:00-17:00"
                  ]
                },
                "timezone": "UTC",
                "leadTimeHours": 24,
                "maxAdvanceDays": 60
              }
            },
            "createdAt": "2026-02-24T15:17:59.204Z",
            "updatedAt": "2026-02-24T15:17:59.204Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "ad69b8f7-8c5f-485c-a953-a9630f27cb0a",
            "timestamp": "2026-02-24T15:17:59.887Z"
          }
        },
        "at": "2026-02-24T15:17:59.908Z"
      }
    ]
  },
  "metadata": {}
}
