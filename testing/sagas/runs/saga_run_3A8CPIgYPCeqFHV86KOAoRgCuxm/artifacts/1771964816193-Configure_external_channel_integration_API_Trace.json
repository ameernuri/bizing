{
  "stepKey": "owner-configure-external-integration",
  "callCount": 6,
  "calls": [
    {
      "method": "GET",
      "path": "/api/v1/bizes/3A8CPv8kFXc1OtDOrCsVeqvONc6/booking-orders?perPage=20",
      "status": 200,
      "responseBody": {
        "success": true,
        "data": [
          {
            "id": "booking_order_3A8CSRyjffWOpk7D2lQoE06fxbU",
            "bizId": "3A8CPv8kFXc1OtDOrCsVeqvONc6",
            "offerId": "offer_3A8CQgkBMkmwn5nFiFQ7C979He5",
            "offerVersionId": "offer_version_3A8CQvoXwIP36KpqPRmvpm8UgaI",
            "customerUserId": "K7PGEUPGL1CT2SlKK78hyUb8YnQg3YXT",
            "customerGroupAccountId": null,
            "status": "confirmed",
            "statusConfigValueId": null,
            "currency": "USD",
            "subtotalMinor": 15000,
            "taxMinor": 0,
            "feeMinor": 0,
            "discountMinor": 0,
            "totalMinor": 15000,
            "requestedStartAt": "2026-02-25T20:26:48.969Z",
            "requestedEndAt": "2026-02-25T21:16:48.969Z",
            "confirmedStartAt": "2026-02-25T20:26:48.969Z",
            "confirmedEndAt": "2026-02-25T21:16:48.969Z",
            "pricingSnapshot": {},
            "policySnapshot": {},
            "metadata": {},
            "createdAt": "2026-02-24T20:26:49.012Z",
            "updatedAt": "2026-02-24T20:26:49.012Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          {
            "id": "booking_order_3A8CS4RbvPSM2vAD26p4Pu2iZG7",
            "bizId": "3A8CPv8kFXc1OtDOrCsVeqvONc6",
            "offerId": "offer_3A8CQgkBMkmwn5nFiFQ7C979He5",
            "offerVersionId": "offer_version_3A8CQvoXwIP36KpqPRmvpm8UgaI",
            "customerUserId": "vEtTiwYzYK7GVraMQc2vh1gEGcWXvtuJ",
            "customerGroupAccountId": null,
            "status": "confirmed",
            "statusConfigValueId": null,
            "currency": "USD",
            "subtotalMinor": 15000,
            "taxMinor": 0,
            "feeMinor": 0,
            "discountMinor": 0,
            "totalMinor": 15000,
            "requestedStartAt": "2026-02-25T20:26:45.711Z",
            "requestedEndAt": "2026-02-25T21:16:45.711Z",
            "confirmedStartAt": "2026-02-25T20:26:45.711Z",
            "confirmedEndAt": "2026-02-25T21:16:45.711Z",
            "pricingSnapshot": {},
            "policySnapshot": {},
            "metadata": {},
            "createdAt": "2026-02-24T20:26:46.119Z",
            "updatedAt": "2026-02-24T20:26:46.119Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          }
        ],
        "meta": {
          "requestId": "9ee31cc0-61c4-449a-9be3-34210d0a310b",
          "timestamp": "2026-02-24T20:26:55.549Z"
        },
        "pagination": {
          "page": 1,
          "perPage": 20,
          "total": 2,
          "hasMore": false
        }
      },
      "at": "2026-02-24T20:26:55.626Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A8CPtDws02KohSrDDxq7WdTLkW/steps/customer-two-concurrent/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-24T20:26:55.488Z",
        "resultPayload": {
          "note": "Started customer-two-concurrent"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A8CPtCfTBmoBfDIsxnVQ5zVvhT",
          "sagaRunId": "saga_run_3A8CPtDws02KohSrDDxq7WdTLkW",
          "phaseKey": "customer-lifecycle",
          "phaseOrder": 5,
          "phaseTitle": "Customer Lifecycle",
          "stepKey": "customer-two-concurrent",
          "stepOrder": 13,
          "actorKey": "customer_2",
          "instruction": "Customer two attempts booking overlapping demand for the same offer/resource window.",
          "expectedResult": "System either books correctly under capacity rules or rejects with deterministic conflict response.",
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-24T20:26:55.488Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started customer-two-concurrent"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-24T20:26:29.244Z",
          "updatedAt": "2026-02-24T20:26:29.244Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "5a04ba26-e88b-4cce-921c-6cbba4715739",
          "timestamp": "2026-02-24T20:26:55.556Z"
        }
      },
      "at": "2026-02-24T20:26:55.630Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A8CP2UGrDJQkaSbDzfHTyraX2H/steps/owner-configure-external-integration/result",
      "status": 200,
      "requestBody": {
        "status": "passed",
        "startedAt": "2026-02-24T20:26:55.356Z",
        "endedAt": "2026-02-24T20:26:55.356Z",
        "failureMessage": null,
        "resultPayload": {
          "note": "External channel integration configured and persisted through API.",
          "evidence": {
            "channelAccountId": "channel_account_3A8CT3fOjNUgV6hFGKJBNQNsL9g",
            "syncStateId": "channel_sync_state_3A8CT0mXskmHP1mnimkrpD2pFTG",
            "entityLinkId": "channel_link_3A8CT2eAYKiQz6PchL1DnGFVc1y",
            "listedStateCount": 1,
            "listedLinkCount": 1
          }
        },
        "assertionSummary": {
          "status": "passed",
          "hasFailure": false,
          "assertionsPassed": 1
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A8CP0WDPjOjP8ybcdMy6fK2MFe",
          "sagaRunId": "saga_run_3A8CP2UGrDJQkaSbDzfHTyraX2H",
          "phaseKey": "operations-and-follow-up",
          "phaseOrder": 7,
          "phaseTitle": "Operations And Follow-up",
          "stepKey": "owner-configure-external-integration",
          "stepOrder": 18,
          "actorKey": "biz_owner",
          "instruction": "Configure one external integration/channel and verify sync state + external id linkage is persisted.",
          "expectedResult": "Connector installation/configuration and sync status are queryable for operational debugging.",
          "status": "passed",
          "attemptCount": 1,
          "startedAt": "2026-02-24T20:26:55.356Z",
          "endedAt": "2026-02-24T20:26:55.356Z",
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "External channel integration configured and persisted through API.",
            "evidence": {
              "syncStateId": "channel_sync_state_3A8CT0mXskmHP1mnimkrpD2pFTG",
              "entityLinkId": "channel_link_3A8CT2eAYKiQz6PchL1DnGFVc1y",
              "listedLinkCount": 1,
              "channelAccountId": "channel_account_3A8CT3fOjNUgV6hFGKJBNQNsL9g",
              "listedStateCount": 1
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          },
          "metadata": {},
          "createdAt": "2026-02-24T20:26:22.629Z",
          "updatedAt": "2026-02-24T20:26:22.629Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "a4c97db0-c502-474d-bb22-524c0f41440a",
          "timestamp": "2026-02-24T20:26:55.557Z"
        }
      },
      "at": "2026-02-24T20:26:55.640Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A8CPfqhzAJMHLUlq5nBBFrh6sR/steps/customer-advanced-payment-flow/result",
      "status": 200,
      "requestBody": {
        "status": "passed",
        "startedAt": "2026-02-24T20:26:55.343Z",
        "endedAt": "2026-02-24T20:26:55.343Z",
        "failureMessage": null,
        "resultPayload": {
          "note": "Advanced split-tender flow executed and traceable through intent/tender/line allocations.",
          "evidence": {
            "paymentIntentId": "payment_intent_3A8CT3DmGUHAgaJsIrQvrsrjB3l",
            "amountTargetMinor": 15500,
            "amountCapturedMinor": 15500,
            "intentStatus": "succeeded",
            "tenderCount": 2,
            "lineAllocationCount": 3,
            "transactionCount": 2,
            "transactionLineAllocationCount": 3,
            "hasIntentInList": true
          }
        },
        "assertionSummary": {
          "status": "passed",
          "hasFailure": false,
          "assertionsPassed": 1
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A8CPdsiD7b14HXXsjjCGs5pTft",
          "sagaRunId": "saga_run_3A8CPfqhzAJMHLUlq5nBBFrh6sR",
          "phaseKey": "customer-lifecycle",
          "phaseOrder": 5,
          "phaseTitle": "Customer Lifecycle",
          "stepKey": "customer-advanced-payment-flow",
          "stepOrder": 14,
          "actorKey": "customer_1",
          "instruction": "Execute advanced payment path (split tender and/or tip/gift/credit entitlement usage) and persist allocation evidence.",
          "expectedResult": "Payment trace clearly links payer, tender mix, and booking/order amounts with no ambiguity.",
          "status": "passed",
          "attemptCount": 1,
          "startedAt": "2026-02-24T20:26:55.343Z",
          "endedAt": "2026-02-24T20:26:55.343Z",
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Advanced split-tender flow executed and traceable through intent/tender/line allocations.",
            "evidence": {
              "tenderCount": 2,
              "intentStatus": "succeeded",
              "hasIntentInList": true,
              "paymentIntentId": "payment_intent_3A8CT3DmGUHAgaJsIrQvrsrjB3l",
              "transactionCount": 2,
              "amountTargetMinor": 15500,
              "amountCapturedMinor": 15500,
              "lineAllocationCount": 3,
              "transactionLineAllocationCount": 3
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          },
          "metadata": {},
          "createdAt": "2026-02-24T20:26:27.801Z",
          "updatedAt": "2026-02-24T20:26:27.801Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "71bf8cab-a4c7-4025-ba18-7fa6c31858fe",
          "timestamp": "2026-02-24T20:26:55.557Z"
        }
      },
      "at": "2026-02-24T20:26:55.659Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A8CPH7FFkSb5VOtECN4YUxAd0T/steps/member-review-bookings/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-24T20:26:55.499Z",
        "resultPayload": {
          "note": "Started member-review-bookings"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A8CPDqHGQ6sRR0oAZDxa2mMSFY",
          "sagaRunId": "saga_run_3A8CPH7FFkSb5VOtECN4YUxAd0T",
          "phaseKey": "operations-and-follow-up",
          "phaseOrder": 7,
          "phaseTitle": "Operations And Follow-up",
          "stepKey": "member-review-bookings",
          "stepOrder": 17,
          "actorKey": "biz_member",
          "instruction": "As biz member, list bookings and progress one booking through operational status updates.",
          "expectedResult": "Authorized role can update status while preserving auditability and lifecycle consistency.",
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-24T20:26:55.499Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started member-review-bookings"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-24T20:26:24.070Z",
          "updatedAt": "2026-02-24T20:26:24.070Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "02ad0a49-77c7-4839-b22b-0387cad5e715",
          "timestamp": "2026-02-24T20:26:55.565Z"
        }
      },
      "at": "2026-02-24T20:26:55.672Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/bizes/3A8CPwru6GNrt7tdQUYIcGSz7Va/booking-orders",
      "status": 403,
      "requestBody": {
        "offerId": "offer_3A8CQjaXWGWG61ehWIuFaKTQtGR",
        "offerVersionId": "offer_version_3A8CR11AW1pFkEEsIitHcJx9T5I",
        "status": "draft",
        "subtotalMinor": 1000,
        "taxMinor": 0,
        "feeMinor": 0,
        "discountMinor": 0,
        "totalMinor": 1000,
        "currency": "USD"
      },
      "responseBody": {
        "success": false,
        "error": {
          "code": "FORBIDDEN",
          "message": "You are not a member of this biz."
        },
        "meta": {
          "requestId": "1e5a8806-347e-4c29-8044-8f754b755bc2",
          "timestamp": "2026-02-24T20:26:55.624Z"
        }
      },
      "at": "2026-02-24T20:26:55.701Z"
    }
  ]
}
