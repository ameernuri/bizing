{
  "stepKey": "owner-calendar-review",
  "callCount": 7,
  "calls": [
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs",
      "status": 201,
      "requestBody": {
        "sagaKey": "uc-216-the-solo-entrepreneur-sarah",
        "mode": "dry_run",
        "runnerLabel": "codex-rerun-all",
        "runContext": {
          "createdBy": "apps/api/src/scripts/rerun-sagas.ts"
        }
      },
      "responseBody": {
        "_truncated": true,
        "_preview": "{\"success\":true,\"data\":{\"run\":{\"id\":\"saga_run_3A8BL7O6GxJu6f9TAVIzt0hCbWl\",\"sagaDefinitionId\":\"saga_definition_3A7asUKtktmtpkeLCFm2zh9fNZS\",\"sagaKey\":\"uc-216-the-solo-entrepreneur-sarah\",\"bizId\":null,\"status\":\"pending\",\"mode\":\"dry_run\",\"requestedByUserId\":\"5AuNRNOppdGiLM0XbqF5a3TD5aqoINDZ\",\"runnerLabel\":\"codex-rerun-all\",\"definitionChecksum\":\"a8ecae77277f12285fb8d796efa5bad73bf25b4b37f1ecc28267745d961b4f9b\",\"startedAt\":null,\"endedAt\":null,\"lastHeartbeatAt\":null,\"totalSteps\":20,\"passedSteps\":0,\"failedSteps\":0,\"skippedSteps\":0,\"runContext\":{\"createdBy\":\"apps/api/src/scripts/rerun-sagas.ts\"},\"runSummary\":{},\"metadata\":{\"tags\":[\"uc-derived\",\"persona-derived\",\"lifecycle\",\"api-first\",\"agents\"],\"title\":\"UC-216 • The Notification Cadence and Noise-Control Policy • The Solo Entrepreneur (Sarah)\"},\"createdAt\":\"2026-02-24T20:17:38.034Z\",\"updatedAt\":\"2026-02-24T20:17:38.034Z\",\"deletedAt\":null,\"createdBy\":null,\"updatedBy\":null,\"deletedBy\":null},\"definition\":{\"id\":\"saga_definition_3A7asUKtktmtpkeLCFm2zh9fNZS\",\"bizId\":null,\"sagaKey\":\"uc-216-the-solo-entrepreneur-sarah\",\"title\":\"UC-216 • The Notification Cadence and Noise-Control Policy • The Solo Entrepreneur (Sarah)\",\"description\":\"Comprehensive lifecycle saga derived from UC-216 and persona P-1. Needs summary: Delivery cadence fields on subscription; Next-eligible-delivery timestamp to enforce cool-down; Preferred channel override at subscription level; Support for immediate vs digest modes; Extensible metadata for future ranking/prioritization\",\"status\":\"active\",\"sourceUseCaseRef\":\"UC-216\",\"sourcePersonaRef\":\"P-1\",\"sourceUseCaseFile\":\"/Users/ameer/bizing/mind/workspace/documentation/use-cases-comprehensive.md\",\"sourcePersonaFile\":\"/Users/ameer/bizing/mind/workspace/documentation/tester-personas.md\",\"specVersion\":\"saga.v0\",\"specFilePath\":\"testing/sagas/specs/uc-216-the-solo-entrepreneur-sarah.json\",\"specChecksum\":\"a8ecae77277f12285fb8d796efa5bad73bf25b4b37f1ecc28267745d961b4f9b\",\"metadata\":{\"tags\":[\"uc-derived\",\"persona-derived\",\"lifecycle\",\"api-first\",\"agents\"],\"generatedAt\":\"2026-02-24T20:12:26.512Z\"},\"createdAt\":\"2026-02-24T15:17:49.144Z\",\"updatedAt\":\"2026-02-24T15:17:49.144Z\",\"deletedAt\":null,\"createdBy\":null,\"updatedBy\":null,\"deletedBy\":null},\"spec\":{\"schemaVersion\":\"saga.v0\",\"sagaKey\":\"uc-216-the-solo-entrepreneur-sarah\",\"title\":\"UC-216 • The Notification Cadence and Noise-Control Policy • The Solo Entrepreneur (Sarah)\",\"description\":\"Comprehensive lifecycle saga derived from UC-216 and persona P-1. Needs summary: Delivery cadence fields on subscription; Next-eligible-delivery timestamp to enforce cool-down; Preferred channel override at subscription level; Support for immediate vs digest modes; Extensible metadata for future ranking/prioritization\",\"tags\":[\"uc-derived\",\"persona-derived\",\"lifecycle\",\"api-first\",\"agents\"],\"defaults\":{\"runMode\":\"dry_run\",\"continueOnFailure\":false},\"source\":{\"useCaseRef\":\"UC-216\",\"personaRef\":\"P-1\",\"useCaseFile\":\"/Users/ameer/bizing/mind/workspace/documentation/use-cases-comprehensive.md\",\"personaFile\":\"/Users/ameer/bizing/mind/workspace/documentation/tester-personas.md\",\"generatedAt\":\"2026-02-24T20:12:26.512Z\"},\"objectives\":[\"Validate UC-216 lifecycle end-to-end using persona The Solo Entrepreneur (Sarah).\",\"Exercise owner setup, team setup, catalog publishing, and customer journeys.\",\"Stress ACL/security edge cases and verify expected denials are enforced.\",\"Collect snapshots and report artifacts for every critical milestone.\"],\"actors\":[{\"actorKey\":\"biz_owner\",\"name\":\"The Solo Entrepreneur (Sarah)\",\"role\":\"owner\",\"description\":\"Just starting out, wearing all hats\",\"personaRef\":\"P-1\"},{\"actorKey\":\"biz_member\",\"name\":\"Operations Team Member\",\"role\":\"manager\",\"description\":\"Business member invited by owner to assist with operations and booking flow.\"},{\"actorKey\":\"customer_1\",\"name\":\"Customer One\",\"role\":\"customer\",\"description\":\"Primary customer exploring catalog, booking services, and purchasing products.\"},{\"actorKey\":\"customer_2\",\"name\":\"Customer Two\",\"role\":\"customer\",\"description\":\"Concurrent customer used to simulate realistic demand and race conditions.\"},{\"actorKey\":\"adversary\",\"name\":\"Adversarial User\",\"role\":\"malicious_actor\",\"description\":\"Actor intentionally attempting unauthorized or abusive actions.\"}],\"phases\":[{\"phaseKey\":\"owner-onboarding\",\"order\":1,\"title\":\"Owner Onboarding\",\"description\":\"Business owner signs up, authenticates, and establishes tenant root.\",\"steps\":[{\"stepKey\":\"owner-sign-up\",\"order\":1,\"title\":\"Owner signs up and authenticates\",\"actorKey\":\"biz_owner\",\"intent\":\"Establish authenticated owner identity for the lifecycle.\",\"instruction\":\"Create or login the owner account through Better Auth endpoints, then verify session context can call authenticated API routes.\",\"expectedResult\":\"Owner session exists and authenticated routes return success for this user.\",\"toolHints\":[],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"auth\",\"setup\"]},{\"stepKey\":\"owner-create-biz\",\"order\":2,\"title\":\"Owner creates business tenant\",\"actorKey\":\"biz_owner\",\"intent\":\"Create the biz root for all subsequent configuration.\",\"instruction\":\"Using agents tools, create a biz representing The Notification Cadence and Noise-Control Policy. Use name/slug derived from saga context.\",\"expectedResult\":\"Biz is created, owner is auto-added as member with owner role, and biz id is captured.\",\"toolHints\":[\"bizing.bizes.create\"],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"biz\",\"setup\"]},{\"stepKey\":\"owner-create-location\",\"order\":3,\"title\":\"Owner creates primary location\",\"actorKey\":\"biz_owner\",\"intent\":\"Establish operational location for services/resources.\",\"instruction\":\"Create a primary location for the biz and set timezone aligned with scenario context.\",\"expectedResult\":\"Location exists and is associated with the new biz.\",\"toolHints\":[\"bizing.locations.create\"],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"location\",\"setup\"]}]},{\"phaseKey\":\"business-configuration\",\"order\":2,\"title\":\"Business Configuration\",\"description\":\"Owner configures scheduling, pricing baseline, and operational defaults.\",\"steps\":[{\"stepKey\":\"owner-configure-hours\",\"order\":4,\"title\":\"Configure default hours and availability mode\",\"actorKey\":\"biz_owner\",\"intent\":\"Set baseline availability without forcing advanced complexity.\",\"instruction\":\"Create baseline availability and lead-time rules representing the UC default business hours and booking window behavior.\",\"expectedResult\":\"Availability defaults and rules are stored and can be referenced by calendars.\",\"toolHints\":[],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"availability\",\"policy\"]},{\"stepKey\":\"owner-configure-pricing\",\"order\":5,\"title\":\"Configure default pricing rules\",\"actorKey\":\"biz_owner\",\"intent\":\"Set base pricing and optional manual demand overrides.\",\"instruction\":\"Configure pricing defaults for the offer lifecycle including call fees/manual surge if UC needs imply it.\",\"expectedResult\":\"Pricing model persists and future bookings can calculate totals deterministically.\",\"toolHints\":[],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"pricing\"]}]},{\"phaseKey\":\"supply-and-team-setup\",\"order\":3,\"title\":\"Supply And Team Setup\",\"description\":\"Business owner sets up hosts/assets/venues/resources and invites members.\",\"steps\":[{\"stepKey\":\"owner-create-resources\",\"order\":6,\"title\":\"Create resources representing hosts/assets/venues\",\"actorKey\":\"biz_owner\",\"intent\":\"Model real-world supply that bookings will consume.\",\"instruction\":\"Create at least one host resource and one non-host resource (asset or venue) suitable for the UC.\",\"expectedResult\":\"Resources are created with expected type, location, and buffers.\",\"toolHints\":[\"bizing.resources.create\"],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"resources\"]},{\"stepKey\":\"owner-invite-member\",\"order\":7,\"title\":\"Invite and provision business member\",\"actorKey\":\"biz_owner\",\"intent\":\"Validate collaboration and role assignment.\",\"instruction\":\"Invite a biz member, assign an operational role, and verify that member can authenticate into the same biz.\",\"expectedResult\":\"Biz member account/session exists with scoped role permissions.\",\"toolHints\":[],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"team\",\"acl\"]}]},{\"phaseKey\":\"catalog-publish\",\"order\":4,\"title\":\"Catalog And Publish\",\"description\":\"Owner creates services/offers/products and publishes sellable catalog entries.\",\"steps\":[{\"stepKey\":\"owner-create-offer\",\"order\":8,\"title\":\"Create offer shell\",\"actorKey\":\"biz_owner\",\"intent\":\"Define sellable service/catalog entry.\",\"instruction\":\"Create an offer representing the UC primary service; choose execution mode matching the scenario.\",\"expectedResult\":\"Offer is created in draft state with captured id.\",\"toolHints\":[\"bizing.offers.create\"],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"offer\",\"catalog\"]},{\"stepKey\":\"owner-create-offer-version\",\"order\":9,\"",
        "_size": 46790
      },
      "at": "2026-02-24T20:17:38.076Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A8BKvlA6DrHUkFchTuT4mocSby/traces",
      "status": 201,
      "requestBody": {
        "stepKey": "owner-create-location",
        "title": "Owner creates primary location API Trace",
        "trace": {
          "stepKey": "owner-create-location",
          "callCount": 2,
          "calls": [
            {
              "method": "POST",
              "path": "/api/v1/sagas/runs/saga_run_3A8BK6S3ZlXcLfJt35cUXMMbEiZ/traces",
              "status": 201,
              "requestBody": {
                "stepKey": "customer-two-concurrent",
                "title": "Customer two performs concurrent booking attempt API Trace",
                "trace": {
                  "stepKey": "customer-two-concurrent",
                  "callCount": 1,
                  "calls": [
                    {
                      "method": "PATCH",
                      "path": "/api/v1/bizes/3A8BK0Ha7FUfrxCJZqeZ3h5jy7T/booking-orders/booking_order_3A8BKiPy9NX00MINzqz3a3Fzt5R/status",
                      "status": 200,
                      "requestBody": {
                        "status": "in_progress"
                      },
                      "responseBody": {
                        "success": true,
                        "data": {
                          "id": "booking_order_3A8BKiPy9NX00MINzqz3a3Fzt5R",
                          "bizId": "3A8BK0Ha7FUfrxCJZqeZ3h5jy7T",
                          "offerId": "offer_3A8BKJ85j3tQHvby73SiX9nJ3Og",
                          "offerVersionId": "offer_version_3A8BKRO3Q3pb7T6E3fGM9HPJxlI",
                          "customerUserId": "AD5wvSMNq5RWtg692Tvz28m6yhHfD6Rv",
                          "customerGroupAccountId": null,
                          "status": "in_progress",
                          "statusConfigValueId": null,
                          "currency": "USD",
                          "subtotalMinor": 15000,
                          "taxMinor": 0,
                          "feeMinor": 0,
                          "discountMinor": 0,
                          "totalMinor": 15000,
                          "requestedStartAt": "2026-02-25T20:17:34.869Z",
                          "requestedEndAt": "2026-02-25T21:07:34.869Z",
                          "confirmedStartAt": "2026-02-25T20:17:34.869Z",
                          "confirmedEndAt": "2026-02-25T21:07:34.869Z",
                          "pricingSnapshot": {},
                          "policySnapshot": {},
                          "metadata": {},
                          "createdAt": "2026-02-24T20:17:34.885Z",
                          "updatedAt": "2026-02-24T20:17:34.885Z",
                          "deletedAt": null,
                          "createdBy": null,
                          "updatedBy": null,
                          "deletedBy": null
                        },
                        "meta": {
                          "requestId": "5f377876-3d76-4cf5-bde2-cf5e7fa42f05",
                          "timestamp": "2026-02-24T20:17:37.571Z"
                        }
                      },
                      "at": "2026-02-24T20:17:37.572Z"
                    }
                  ]
                },
                "metadata": {
                  "source": "rerun-sagas.ts"
                }
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "saga_artifact_3A8BL3fhhMGB4EPlkjBHc1v4lf7",
                  "sagaRunId": "saga_run_3A8BK6S3ZlXcLfJt35cUXMMbEiZ",
                  "sagaRunStepId": "saga_run_step_3A8BK50cr3YbXnz9YOhvQSiBCcv",
                  "artifactType": "api_trace",
                  "title": "Customer two performs concurrent booking attempt API Trace",
                  "storagePath": "testing/sagas/runs/saga_run_3A8BK6S3ZlXcLfJt35cUXMMbEiZ/artifacts/1771964257880-Customer_two_performs_concurrent_booking_attempt_API_Trace.json",
                  "contentType": "application/json",
                  "bodyText": "{\n  \"stepKey\": \"customer-two-concurrent\",\n  \"callCount\": 1,\n  \"calls\": [\n    {\n      \"method\": \"PATCH\",\n      \"path\": \"/api/v1/bizes/3A8BK0Ha7FUfrxCJZqeZ3h5jy7T/booking-orders/booking_order_3A8BKiPy9NX00MINzqz3a3Fzt5R/status\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"in_progress\"\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"booking_order_3A8BKiPy9NX00MINzqz3a3Fzt5R\",\n          \"bizId\": \"3A8BK0Ha7FUfrxCJZqeZ3h5jy7T\",\n          \"offerId\": \"offer_3A8BKJ85j3tQHvby73SiX9nJ3Og\",\n          \"offerVersionId\": \"offer_version_3A8BKRO3Q3pb7T6E3fGM9HPJxlI\",\n          \"customerUserId\": \"AD5wvSMNq5RWtg692Tvz28m6yhHfD6Rv\",\n          \"customerGroupAccountId\": null,\n          \"status\": \"in_progress\",\n          \"statusConfigValueId\": null,\n          \"currency\": \"USD\",\n          \"subtotalMinor\": 15000,\n          \"taxMinor\": 0,\n          \"feeMinor\": 0,\n          \"discountMinor\": 0,\n          \"totalMinor\": 15000,\n          \"requestedStartAt\": \"2026-02-25T20:17:34.869Z\",\n          \"requestedEndAt\": \"2026-02-25T21:07:34.869Z\",\n          \"confirmedStartAt\": \"2026-02-25T20:17:34.869Z\",\n          \"confirmedEndAt\": \"2026-02-25T21:07:34.869Z\",\n          \"pricingSnapshot\": {},\n          \"policySnapshot\": {},\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T20:17:34.885Z\",\n          \"updatedAt\": \"2026-02-24T20:17:34.885Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"5f377876-3d76-4cf5-bde2-cf5e7fa42f05\",\n          \"timestamp\": \"2026-02-24T20:17:37.571Z\"\n        }\n      },\n      \"at\": \"2026-02-24T20:17:37.572Z\"\n    }\n  ]\n}\n",
                  "byteSize": 1723,
                  "checksum": "ca2f5e3c9c44e1192cb572eab1ab233ffe87ff507fc535e897b456995fb55050",
                  "capturedAt": "2026-02-24T20:17:37.887Z",
                  "metadata": {
                    "source": "rerun-sagas.ts"
                  },
                  "createdAt": "2026-02-24T20:17:37.887Z",
                  "updatedAt": "2026-02-24T20:17:37.887Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "0c450cb2-f9cf-460d-a2df-a774dfe07171",
                  "timestamp": "2026-02-24T20:17:37.906Z"
                }
              },
              "at": "2026-02-24T20:17:37.963Z"
            },
            {
              "method": "GET",
              "path": "/api/v1/public/bizes/3A8BKGvPIfkAmfzStJGpPeCKKMN/offers",
              "status": 200,
              "responseBody": {
                "success": true,
                "data": [
                  {
                    "id": "offer_3A8BKl9JmtLM1cnOiTjstNovqNs",
                    "bizId": "3A8BKGvPIfkAmfzStJGpPeCKKMN",
                    "name": "Primary Service Offer",
                    "slug": "offer-g3ayursp",
                    "description": null,
                    "executionMode": "slot",
                    "executionModeConfigValueId": null,
                    "status": "active",
                    "statusConfigValueId": null,
                    "isPublished": true,
                    "timezone": "UTC",
                    "metadata": {},
                    "createdAt": "2026-02-24T20:17:35.596Z",
                    "updatedAt": "2026-02-24T20:17:35.596Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  }
                ],
                "meta": {
                  "requestId": "197073a6-c101-4a07-a1c2-bf41b58c3f6f",
                  "timestamp": "2026-02-24T20:17:37.923Z"
                }
              },
              "at": "2026-02-24T20:17:37.964Z"
            }
          ]
        },
        "metadata": {
          "source": "rerun-sagas.ts"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3A8BL9q7FmEVSUA1S1xnPKz40Wx",
          "sagaRunId": "saga_run_3A8BKvlA6DrHUkFchTuT4mocSby",
          "sagaRunStepId": "saga_run_step_3A8BKyDloO7IIHVaUmorpEdclHT",
          "artifactType": "api_trace",
          "title": "Owner creates primary location API Trace",
          "storagePath": "testing/sagas/runs/saga_run_3A8BKvlA6DrHUkFchTuT4mocSby/artifacts/1771964258028-Owner_creates_primary_location_API_Trace.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"stepKey\": \"owner-create-location\",\n  \"callCount\": 2,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A8BK6S3ZlXcLfJt35cUXMMbEiZ/traces\",\n      \"status\": 201,\n      \"requestBody\": {\n        \"stepKey\": \"customer-two-concurrent\",\n        \"title\": \"Customer two performs concurrent booking attempt API Trace\",\n        \"trace\": {\n          \"stepKey\": \"customer-two-concurrent\",\n          \"callCount\": 1,\n          \"calls\": [\n            {\n              \"method\": \"PATCH\",\n              \"path\": \"/api/v1/bizes/3A8BK0Ha7FUfrxCJZqeZ3h5jy7T/booking-orders/booking_order_3A8BKiPy9NX00MINzqz3a3Fzt5R/status\",\n              \"status\": 200,\n              \"requestBody\": {\n                \"status\": \"in_progress\"\n              },\n              \"responseBody\": {\n                \"success\": true,\n                \"data\": {\n                  \"id\": \"booking_order_3A8BKiPy9NX00MINzqz3a3Fzt5R\",\n                  \"bizId\": \"3A8BK0Ha7FUfrxCJZqeZ3h5jy7T\",\n                  \"offerId\": \"offer_3A8BKJ85j3tQHvby73SiX9nJ3Og\",\n                  \"offerVersionId\": \"offer_version_3A8BKRO3Q3pb7T6E3fGM9HPJxlI\",\n                  \"customerUserId\": \"AD5wvSMNq5RWtg692Tvz28m6yhHfD6Rv\",\n                  \"customerGroupAccountId\": null,\n                  \"status\": \"in_progress\",\n                  \"statusConfigValueId\": null,\n                  \"currency\": \"USD\",\n                  \"subtotalMinor\": 15000,\n                  \"taxMinor\": 0,\n                  \"feeMinor\": 0,\n                  \"discountMinor\": 0,\n                  \"totalMinor\": 15000,\n                  \"requestedStartAt\": \"2026-02-25T20:17:34.869Z\",\n                  \"requestedEndAt\": \"2026-02-25T21:07:34.869Z\",\n                  \"confirmedStartAt\": \"2026-02-25T20:17:34.869Z\",\n                  \"confirmedEndAt\": \"2026-02-25T21:07:34.869Z\",\n                  \"pricingSnapshot\": {},\n                  \"policySnapshot\": {},\n                  \"metadata\": {},\n                  \"createdAt\": \"2026-02-24T20:17:34.885Z\",\n                  \"updatedAt\": \"2026-02-24T20:17:34.885Z\",\n                  \"deletedAt\": null,\n                  \"createdBy\": null,\n                  \"updatedBy\": null,\n                  \"deletedBy\": null\n                },\n                \"meta\": {\n                  \"requestId\": \"5f377876-3d76-4cf5-bde2-cf5e7fa42f05\",\n                  \"timestamp\": \"2026-02-24T20:17:37.571Z\"\n                }\n              },\n              \"at\": \"2026-02-24T20:17:37.572Z\"\n            }\n          ]\n        },\n        \"metadata\": {\n          \"source\": \"rerun-sagas.ts\"\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_artifact_3A8BL3fhhMGB4EPlkjBHc1v4lf7\",\n          \"sagaRunId\": \"saga_run_3A8BK6S3ZlXcLfJt35cUXMMbEiZ\",\n          \"sagaRunStepId\": \"saga_run_step_3A8BK50cr3YbXnz9YOhvQSiBCcv\",\n          \"artifactType\": \"api_trace\",\n          \"title\": \"Customer two performs concurrent booking attempt API Trace\",\n          \"storagePath\": \"testing/sagas/runs/saga_run_3A8BK6S3ZlXcLfJt35cUXMMbEiZ/artifacts/1771964257880-Customer_two_performs_concurrent_booking_attempt_API_Trace.json\",\n          \"contentType\": \"application/json\",\n          \"bodyText\": \"{\\n  \\\"stepKey\\\": \\\"customer-two-concurrent\\\",\\n  \\\"callCount\\\": 1,\\n  \\\"calls\\\": [\\n    {\\n      \\\"method\\\": \\\"PATCH\\\",\\n      \\\"path\\\": \\\"/api/v1/bizes/3A8BK0Ha7FUfrxCJZqeZ3h5jy7T/booking-orders/booking_order_3A8BKiPy9NX00MINzqz3a3Fzt5R/status\\\",\\n      \\\"status\\\": 200,\\n      \\\"requestBody\\\": {\\n        \\\"status\\\": \\\"in_progress\\\"\\n      },\\n      \\\"responseBody\\\": {\\n        \\\"success\\\": true,\\n        \\\"data\\\": {\\n          \\\"id\\\": \\\"booking_order_3A8BKiPy9NX00MINzqz3a3Fzt5R\\\",\\n          \\\"bizId\\\": \\\"3A8BK0Ha7FUfrxCJZqeZ3h5jy7T\\\",\\n          \\\"offerId\\\": \\\"offer_3A8BKJ85j3tQHvby73SiX9nJ3Og\\\",\\n          \\\"offerVersionId\\\": \\\"offer_version_3A8BKRO3Q3pb7T6E3fGM9HPJxlI\\\",\\n          \\\"customerUserId\\\": \\\"AD5wvSMNq5RWtg692Tvz28m6yhHfD6Rv\\\",\\n          \\\"customerGroupAccountId\\\": null,\\n          \\\"status\\\": \\\"in_progress\\\",\\n          \\\"statusConfigValueId\\\": null,\\n          \\\"currency\\\": \\\"USD\\\",\\n          \\\"subtotalMinor\\\": 15000,\\n          \\\"taxMinor\\\": 0,\\n          \\\"feeMinor\\\": 0,\\n          \\\"discountMinor\\\": 0,\\n          \\\"totalMinor\\\": 15000,\\n          \\\"requestedStartAt\\\": \\\"2026-02-25T20:17:34.869Z\\\",\\n          \\\"requestedEndAt\\\": \\\"2026-02-25T21:07:34.869Z\\\",\\n          \\\"confirmedStartAt\\\": \\\"2026-02-25T20:17:34.869Z\\\",\\n          \\\"confirmedEndAt\\\": \\\"2026-02-25T21:07:34.869Z\\\",\\n          \\\"pricingSnapshot\\\": {},\\n          \\\"policySnapshot\\\": {},\\n          \\\"metadata\\\": {},\\n          \\\"createdAt\\\": \\\"2026-02-24T20:17:34.885Z\\\",\\n          \\\"updatedAt\\\": \\\"2026-02-24T20:17:34.885Z\\\",\\n          \\\"deletedAt\\\": null,\\n          \\\"createdBy\\\": null,\\n          \\\"updatedBy\\\": null,\\n          \\\"deletedBy\\\": null\\n        },\\n        \\\"meta\\\": {\\n          \\\"requestId\\\": \\\"5f377876-3d76-4cf5-bde2-cf5e7fa42f05\\\",\\n          \\\"timestamp\\\": \\\"2026-02-24T20:17:37.571Z\\\"\\n        }\\n      },\\n      \\\"at\\\": \\\"2026-02-24T20:17:37.572Z\\\"\\n    }\\n  ]\\n}\\n\",\n          \"byteSize\": 1723,\n          \"checksum\": \"ca2f5e3c9c44e1192cb572eab1ab233ffe87ff507fc535e897b456995fb55050\",\n          \"capturedAt\": \"2026-02-24T20:17:37.887Z\",\n          \"metadata\": {\n            \"source\": \"rerun-sagas.ts\"\n          },\n          \"createdAt\": \"2026-02-24T20:17:37.887Z\",\n          \"updatedAt\": \"2026-02-24T20:17:37.887Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"0c450cb2-f9cf-460d-a2df-a774dfe07171\",\n          \"timestamp\": \"2026-02-24T20:17:37.906Z\"\n        }\n      },\n      \"at\": \"2026-02-24T20:17:37.963Z\"\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/v1/public/bizes/3A8BKGvPIfkAmfzStJGpPeCKKMN/offers\",\n      \"status\": 200,\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": [\n          {\n            \"id\": \"offer_3A8BKl9JmtLM1cnOiTjstNovqNs\",\n            \"bizId\": \"3A8BKGvPIfkAmfzStJGpPeCKKMN\",\n            \"name\": \"Primary Service Offer\",\n            \"slug\": \"offer-g3ayursp\",\n            \"description\": null,\n            \"executionMode\": \"slot\",\n            \"executionModeConfigValueId\": null,\n            \"status\": \"active\",\n            \"statusConfigValueId\": null,\n            \"isPublished\": true,\n            \"timezone\": \"UTC\",\n            \"metadata\": {},\n            \"createdAt\": \"2026-02-24T20:17:35.596Z\",\n            \"updatedAt\": \"2026-02-24T20:17:35.596Z\",\n            \"deletedAt\": null,\n            \"createdBy\": null,\n            \"updatedBy\": null,\n            \"deletedBy\": null\n          }\n        ],\n        \"meta\": {\n          \"requestId\": \"197073a6-c101-4a07-a1c2-bf41b58c3f6f\",\n          \"timestamp\": \"2026-02-24T20:17:37.923Z\"\n        }\n      },\n      \"at\": \"2026-02-24T20:17:37.964Z\"\n    }\n  ]\n}\n",
          "byteSize": 6891,
          "checksum": "2dfde171575e0e93b5be485bdd031ae37404b1668e7248af5e2202ac64ab7348",
          "capturedAt": "2026-02-24T20:17:38.041Z",
          "metadata": {
            "source": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-24T20:17:38.041Z",
          "updatedAt": "2026-02-24T20:17:38.041Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "42d68326-a6e9-49da-8314-ea7c41418a00",
          "timestamp": "2026-02-24T20:17:38.054Z"
        }
      },
      "at": "2026-02-24T20:17:38.081Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/bizes/3A8BK005cF5VjoVI5Ntgyym8o2S/channel-entity-links",
      "status": 201,
      "requestBody": {
        "channelAccountId": "channel_account_3A8BKzdmWrUfyDlWkD6kgJhJgBO",
        "objectType": "custom",
        "localReferenceKey": "uc-uc-210-the-black-hat-hacker-spectre-ejwxvn",
        "externalObjectId": "ext-ttmj7oyiea",
        "metadata": {
          "source": "saga-rerun"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "channel_link_3A8BLC1Hu33Qq6Y5BoHYNq6qOZh",
          "bizId": "3A8BK005cF5VjoVI5Ntgyym8o2S",
          "channelAccountId": "channel_account_3A8BKzdmWrUfyDlWkD6kgJhJgBO",
          "objectType": "custom",
          "offerVersionId": null,
          "bookingOrderId": null,
          "resourceId": null,
          "customerUserId": null,
          "localReferenceKey": "uc-uc-210-the-black-hat-hacker-spectre-ejwxvn",
          "externalObjectId": "ext-ttmj7oyiea",
          "externalParentId": null,
          "syncHash": null,
          "isActive": true,
          "lastSyncedAt": null,
          "metadata": {
            "source": "saga-rerun"
          },
          "createdAt": "2026-02-24T20:17:38.084Z",
          "updatedAt": "2026-02-24T20:17:38.084Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "219d02f7-f60d-4167-8003-3a2f42815693",
          "timestamp": "2026-02-24T20:17:38.087Z"
        }
      },
      "at": "2026-02-24T20:17:38.091Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A8BK6S3ZlXcLfJt35cUXMMbEiZ/steps/customer-two-concurrent/result",
      "status": 200,
      "requestBody": {
        "status": "passed",
        "startedAt": "2026-02-24T20:17:37.963Z",
        "endedAt": "2026-02-24T20:17:37.963Z",
        "failureMessage": null,
        "resultPayload": {
          "note": "Second concurrent booking created.",
          "evidence": {
            "id": "booking_order_3A8BL3OrOhqGEQeFq1hCQmI61W5",
            "bizId": "3A8BKBAjZlx4vneCVvmSJkvGON9",
            "offerId": "offer_3A8BKVJfT27IcD75MBjQirhPzpD",
            "offerVersionId": "offer_version_3A8BKdDlhuqs68zwc4gFmDDm6Zl",
            "customerUserId": "wchERb8inqV1IuMfBhT5cmvM6vILCh6F",
            "customerGroupAccountId": null,
            "status": "confirmed",
            "statusConfigValueId": null,
            "currency": "USD",
            "subtotalMinor": 15000,
            "taxMinor": 0,
            "feeMinor": 0,
            "discountMinor": 0,
            "totalMinor": 15000,
            "requestedStartAt": "2026-02-25T20:17:37.754Z",
            "requestedEndAt": "2026-02-25T21:07:37.754Z",
            "confirmedStartAt": "2026-02-25T20:17:37.754Z",
            "confirmedEndAt": "2026-02-25T21:07:37.754Z",
            "pricingSnapshot": {},
            "policySnapshot": {},
            "metadata": {},
            "createdAt": "2026-02-24T20:17:37.860Z",
            "updatedAt": "2026-02-24T20:17:37.860Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          }
        },
        "assertionSummary": {
          "status": "passed",
          "hasFailure": false,
          "assertionsPassed": 1
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A8BK50cr3YbXnz9YOhvQSiBCcv",
          "sagaRunId": "saga_run_3A8BK6S3ZlXcLfJt35cUXMMbEiZ",
          "phaseKey": "customer-lifecycle",
          "phaseOrder": 5,
          "phaseTitle": "Customer Lifecycle",
          "stepKey": "customer-two-concurrent",
          "stepOrder": 13,
          "actorKey": "customer_2",
          "instruction": "Customer two attempts booking overlapping demand for the same offer/resource window.",
          "expectedResult": "System either books correctly under capacity rules or rejects with deterministic conflict response.",
          "status": "passed",
          "attemptCount": 1,
          "startedAt": "2026-02-24T20:17:37.963Z",
          "endedAt": "2026-02-24T20:17:37.963Z",
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Second concurrent booking created.",
            "evidence": {
              "id": "booking_order_3A8BL3OrOhqGEQeFq1hCQmI61W5",
              "bizId": "3A8BKBAjZlx4vneCVvmSJkvGON9",
              "status": "confirmed",
              "offerId": "offer_3A8BKVJfT27IcD75MBjQirhPzpD",
              "currency": "USD",
              "feeMinor": 0,
              "metadata": {},
              "taxMinor": 0,
              "createdAt": "2026-02-24T20:17:37.860Z",
              "createdBy": null,
              "deletedAt": null,
              "deletedBy": null,
              "updatedAt": "2026-02-24T20:17:37.860Z",
              "updatedBy": null,
              "totalMinor": 15000,
              "discountMinor": 0,
              "subtotalMinor": 15000,
              "confirmedEndAt": "2026-02-25T21:07:37.754Z",
              "customerUserId": "wchERb8inqV1IuMfBhT5cmvM6vILCh6F",
              "offerVersionId": "offer_version_3A8BKdDlhuqs68zwc4gFmDDm6Zl",
              "policySnapshot": {},
              "requestedEndAt": "2026-02-25T21:07:37.754Z",
              "pricingSnapshot": {},
              "confirmedStartAt": "2026-02-25T20:17:37.754Z",
              "requestedStartAt": "2026-02-25T20:17:37.754Z",
              "statusConfigValueId": null,
              "customerGroupAccountId": null
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          },
          "metadata": {},
          "createdAt": "2026-02-24T20:17:29.800Z",
          "updatedAt": "2026-02-24T20:17:29.800Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "015cfc5b-cf1e-427e-bda8-3bb1598371c1",
          "timestamp": "2026-02-24T20:17:38.095Z"
        }
      },
      "at": "2026-02-24T20:17:38.097Z"
    },
    {
      "method": "GET",
      "path": "/api/v1/bizes/3A8BK0Ha7FUfrxCJZqeZ3h5jy7T/resources",
      "status": 200,
      "responseBody": {
        "success": true,
        "data": [
          {
            "id": "3A8BK8pNWZsudkjUxuvQpFojbIc",
            "bizId": "3A8BK0Ha7FUfrxCJZqeZ3h5jy7T",
            "locationId": "3A8BK2bfOPaOErvJWadCqa5X3nz",
            "type": "host",
            "name": "Primary Host",
            "slug": "host-jv06thr6",
            "description": null,
            "timezone": "UTC",
            "statusDefinitionId": null,
            "hostUserId": null,
            "groupAccountId": null,
            "assetId": null,
            "venueId": null,
            "capacity": 1,
            "allowSimultaneousBookings": false,
            "maxSimultaneousBookings": null,
            "bufferBeforeMinutes": 10,
            "bufferAfterMinutes": 10,
            "metadata": {},
            "createdAt": "2026-02-24T20:17:30.841Z",
            "updatedAt": "2026-02-24T20:17:30.841Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          {
            "id": "3A8BK9025cVk1czWKQj68dDqdoJ",
            "bizId": "3A8BK0Ha7FUfrxCJZqeZ3h5jy7T",
            "locationId": "3A8BK2bfOPaOErvJWadCqa5X3nz",
            "type": "asset",
            "name": "Primary Asset",
            "slug": "asset-3frq9urq",
            "description": null,
            "timezone": "UTC",
            "statusDefinitionId": null,
            "hostUserId": null,
            "groupAccountId": null,
            "assetId": null,
            "venueId": null,
            "capacity": 1,
            "allowSimultaneousBookings": false,
            "maxSimultaneousBookings": null,
            "bufferBeforeMinutes": 5,
            "bufferAfterMinutes": 5,
            "metadata": {},
            "createdAt": "2026-02-24T20:17:30.863Z",
            "updatedAt": "2026-02-24T20:17:30.863Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          }
        ],
        "meta": {
          "requestId": "73bc6ddc-c8c7-4973-97ef-295b79d40369",
          "timestamp": "2026-02-24T20:17:38.096Z"
        },
        "pagination": {
          "page": 1,
          "perPage": 20,
          "total": 2,
          "hasMore": false
        }
      },
      "at": "2026-02-24T20:17:38.101Z"
    },
    {
      "method": "GET",
      "path": "/api/v1/bizes/3A8BK0Ha7FUfrxCJZqeZ3h5jy7T/offers",
      "status": 200,
      "responseBody": {
        "success": true,
        "data": [
          {
            "id": "offer_3A8BKJ85j3tQHvby73SiX9nJ3Og",
            "bizId": "3A8BK0Ha7FUfrxCJZqeZ3h5jy7T",
            "name": "Primary Service Offer",
            "slug": "offer-iz8gbp02",
            "description": null,
            "executionMode": "slot",
            "executionModeConfigValueId": null,
            "status": "active",
            "statusConfigValueId": null,
            "isPublished": true,
            "timezone": "UTC",
            "metadata": {},
            "createdAt": "2026-02-24T20:17:31.903Z",
            "updatedAt": "2026-02-24T20:17:31.903Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          }
        ],
        "meta": {
          "requestId": "713f9bf3-0771-4687-85fa-75c48373e476",
          "timestamp": "2026-02-24T20:17:38.098Z"
        },
        "pagination": {
          "page": 1,
          "perPage": 20,
          "total": 1,
          "hasMore": false
        }
      },
      "at": "2026-02-24T20:17:38.101Z"
    },
    {
      "method": "GET",
      "path": "/api/v1/bizes/3A8BK0Ha7FUfrxCJZqeZ3h5jy7T/booking-orders?perPage=50",
      "status": 200,
      "responseBody": {
        "success": true,
        "data": [
          {
            "id": "booking_order_3A8BKiPy9NX00MINzqz3a3Fzt5R",
            "bizId": "3A8BK0Ha7FUfrxCJZqeZ3h5jy7T",
            "offerId": "offer_3A8BKJ85j3tQHvby73SiX9nJ3Og",
            "offerVersionId": "offer_version_3A8BKRO3Q3pb7T6E3fGM9HPJxlI",
            "customerUserId": "AD5wvSMNq5RWtg692Tvz28m6yhHfD6Rv",
            "customerGroupAccountId": null,
            "status": "in_progress",
            "statusConfigValueId": null,
            "currency": "USD",
            "subtotalMinor": 15000,
            "taxMinor": 0,
            "feeMinor": 0,
            "discountMinor": 0,
            "totalMinor": 15000,
            "requestedStartAt": "2026-02-25T20:17:34.869Z",
            "requestedEndAt": "2026-02-25T21:07:34.869Z",
            "confirmedStartAt": "2026-02-25T20:17:34.869Z",
            "confirmedEndAt": "2026-02-25T21:07:34.869Z",
            "pricingSnapshot": {},
            "policySnapshot": {},
            "metadata": {},
            "createdAt": "2026-02-24T20:17:34.885Z",
            "updatedAt": "2026-02-24T20:17:34.885Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          {
            "id": "booking_order_3A8BKY221qhYacsvloTf5StneEV",
            "bizId": "3A8BK0Ha7FUfrxCJZqeZ3h5jy7T",
            "offerId": "offer_3A8BKJ85j3tQHvby73SiX9nJ3Og",
            "offerVersionId": "offer_version_3A8BKRO3Q3pb7T6E3fGM9HPJxlI",
            "customerUserId": "MGKvPK1KXCuzu99J2BqzajJECWkWpTRD",
            "customerGroupAccountId": null,
            "status": "confirmed",
            "statusConfigValueId": null,
            "currency": "USD",
            "subtotalMinor": 15000,
            "taxMinor": 0,
            "feeMinor": 0,
            "discountMinor": 0,
            "totalMinor": 15000,
            "requestedStartAt": "2026-02-25T20:17:33.782Z",
            "requestedEndAt": "2026-02-25T21:07:33.782Z",
            "confirmedStartAt": "2026-02-25T20:17:33.782Z",
            "confirmedEndAt": "2026-02-25T21:07:33.782Z",
            "pricingSnapshot": {},
            "policySnapshot": {},
            "metadata": {},
            "createdAt": "2026-02-24T20:17:33.798Z",
            "updatedAt": "2026-02-24T20:17:33.798Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          }
        ],
        "meta": {
          "requestId": "56aedfef-357c-4a3d-a636-95c7dd346a1f",
          "timestamp": "2026-02-24T20:17:38.099Z"
        },
        "pagination": {
          "page": 1,
          "perPage": 50,
          "total": 2,
          "hasMore": false
        }
      },
      "at": "2026-02-24T20:17:38.102Z"
    }
  ]
}
