{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-create-offer-1771948040506",
  "title": "Create offer shell Snapshot",
  "generatedAt": "2026-02-24T15:47:20.513Z",
  "stepKey": "owner-create-offer",
  "status": "passed",
  "view": {
    "title": "Create offer shell",
    "subtitle": "Offer created.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Create Offer completed",
        "message": "Offer created.",
        "tone": "success"
      },
      {
        "type": "key_value",
        "title": "Screen details",
        "items": [
          {
            "label": "OfferId",
            "value": "offer_3A7eT6VXoktbIwzCUCQmCnRu5tw"
          }
        ]
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-create-offer",
    "resultPayload": {
      "note": "Offer created.",
      "evidence": {
        "offerId": "offer_3A7eT6VXoktbIwzCUCQmCnRu5tw"
      }
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7eSYJRbQCqczr1Ru2BV7WPDTn/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "adversary-cross-biz-read",
          "title": "Adversary attempts unauthorized cross-biz read API Trace",
          "trace": {
            "stepKey": "adversary-cross-biz-read",
            "callCount": 5,
            "calls": [
              {
                "method": "POST",
                "path": "/api/v1/sagas/runs/saga_run_3A7eSLIQtNBt92QlnrAjkpyqGt3/steps/owner-revenue-sanity/result",
                "status": 200,
                "requestBody": {
                  "status": "passed",
                  "startedAt": "2026-02-24T15:47:19.828Z",
                  "endedAt": "2026-02-24T15:47:19.828Z",
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Revenue sanity computed from booking orders.",
                    "evidence": {
                      "bookingCount": 2,
                      "totalMinor": 30000,
                      "currency": "USD"
                    }
                  },
                  "assertionSummary": {
                    "status": "passed",
                    "hasFailure": false,
                    "assertionsPassed": 1
                  }
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "saga_run_step_3A7eSK6CQhX3BgH3xKUWfHyCxdc",
                    "sagaRunId": "saga_run_3A7eSLIQtNBt92QlnrAjkpyqGt3",
                    "phaseKey": "reporting-and-closeout",
                    "phaseOrder": 8,
                    "phaseTitle": "Reporting And Closeout",
                    "stepKey": "owner-revenue-sanity",
                    "stepOrder": 18,
                    "actorKey": "biz_owner",
                    "instruction": "Read reporting endpoints and verify booking totals, counts, and statuses align with saga actions.",
                    "expectedResult": "Reported metrics match booking actions and highlight any discrepancies for schema/API iteration.",
                    "status": "passed",
                    "attemptCount": 1,
                    "startedAt": "2026-02-24T15:47:19.828Z",
                    "endedAt": "2026-02-24T15:47:19.828Z",
                    "failureCode": null,
                    "failureMessage": null,
                    "resultPayload": {
                      "note": "Revenue sanity computed from booking orders.",
                      "evidence": {
                        "currency": "USD",
                        "totalMinor": 30000,
                        "bookingCount": 2
                      }
                    },
                    "assertionSummary": {
                      "status": "passed",
                      "hasFailure": false,
                      "assertionsPassed": 1
                    },
                    "metadata": {},
                    "createdAt": "2026-02-24T15:47:14.580Z",
                    "updatedAt": "2026-02-24T15:47:14.580Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "28821fe7-7c6a-4047-bb62-36ab65be1ee6",
                    "timestamp": "2026-02-24T15:47:20.075Z"
                  }
                },
                "at": "2026-02-24T15:47:20.077Z"
              },
              {
                "method": "POST",
                "path": "/api/v1/sagas/runs/saga_run_3A7eSfmJZeCbtugnIvkVJYk2irq/steps/owner-invite-member/result",
                "status": 200,
                "requestBody": {
                  "status": "in_progress",
                  "startedAt": "2026-02-24T15:47:19.857Z",
                  "resultPayload": {
                    "note": "Started owner-invite-member"
                  },
                  "assertionSummary": {
                    "status": "in_progress"
                  }
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "saga_run_step_3A7eSjkQBZ5xMFRL5rvBVyKWdBv",
                    "sagaRunId": "saga_run_3A7eSfmJZeCbtugnIvkVJYk2irq",
                    "phaseKey": "supply-and-team-setup",
                    "phaseOrder": 3,
                    "phaseTitle": "Supply And Team Setup",
                    "stepKey": "owner-invite-member",
                    "stepOrder": 8,
                    "actorKey": "biz_owner",
                    "instruction": "Invite a biz member, assign an operational role, and verify that member can authenticate into the same biz.",
                    "expectedResult": "Biz member account/session exists with scoped role permissions.",
                    "status": "in_progress",
                    "attemptCount": 1,
                    "startedAt": "2026-02-24T15:47:19.857Z",
                    "endedAt": null,
                    "failureCode": null,
                    "failureMessage": null,
                    "resultPayload": {
                      "note": "Started owner-invite-member"
                    },
                    "assertionSummary": {
                      "status": "in_progress"
                    },
                    "metadata": {},
                    "createdAt": "2026-02-24T15:47:17.278Z",
                    "updatedAt": "2026-02-24T15:47:17.278Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "f10c7d90-13c6-4aaf-be4d-17dd3418a1ff",
                    "timestamp": "2026-02-24T15:47:20.075Z"
                  }
                },
                "at": "2026-02-24T15:47:20.079Z"
              },
              {
                "method": "GET",
                "path": "/api/auth/get-session",
                "status": 200,
                "responseBody": {
                  "session": {
                    "expiresAt": "2026-03-03T15:47:20.055Z",
                    "token": "Y8L0VUVxlICMDPWKhbj0Tdpc9tJe0SEj",
                    "createdAt": "2026-02-24T15:47:20.055Z",
                    "updatedAt": "2026-02-24T15:47:20.055Z",
                    "ipAddress": "",
                    "userAgent": "node",
                    "userId": "Zen99WiAiLNZ34h8AJUmczFRsfiA2N72",
                    "activeOrganizationId": null,
                    "impersonatedBy": null,
                    "id": "9WNNIN13hg4uh5FNrCm2MhJxm38da519"
                  },
                  "user": {
                    "name": "customer2-uc-57-the-solo-entrepreneur-sarah",
                    "email": "customer2-uc-57-the-solo-entrepreneur-sarah-1771948039863-9o1kwg@example.com",
                    "emailVerified": false,
                    "image": null,
                    "createdAt": "2026-02-24T15:47:19.961Z",
                    "updatedAt": "2026-02-24T15:47:19.961Z",
                    "role": "user",
                    "banned": false,
                    "banReason": null,
                    "banExpires": null,
                    "id": "Zen99WiAiLNZ34h8AJUmczFRsfiA2N72"
                  }
                },
                "at": "2026-02-24T15:47:20.080Z"
              },
              {
                "method": "GET",
                "path": "/api/auth/get-session",
                "status": 200,
                "responseBody": {
                  "session": {
                    "expiresAt": "2026-03-03T15:47:20.055Z",
                    "token": "F0HK3kBavgy3p36a6iTH11aDhtVgnbRR",
                    "createdAt": "2026-02-24T15:47:20.055Z",
                    "updatedAt": "2026-02-24T15:47:20.055Z",
                    "ipAddress": "",
                    "userAgent": "node",
                    "userId": "Cq3t4xGJH3VaiqaqEGnww3R5ilNgjN2W",
                    "activeOrganizationId": null,
                    "impersonatedBy": null,
                    "id": "bU9Ucc21SeGzrCledb2QS7iCtyulde0A"
                  },
                  "user": {
                    "name": "customer1-uc-59-the-multi-location-owner-marcus",
                    "email": "customer1-uc-59-the-multi-location-owner-marcus-1771948039864-08ib2u@example.com",
                    "emailVerified": false,
                    "image": null,
                    "createdAt": "2026-02-24T15:47:20.051Z",
                    "updatedAt": "2026-02-24T15:47:20.051Z",
                    "role": "user",
                    "banned": false,
                    "banReason": null,
                    "banExpires": null,
                    "id": "Cq3t4xGJH3VaiqaqEGnww3R5ilNgjN2W"
                  }
                },
                "at": "2026-02-24T15:47:20.080Z"
              },
              {
                "method": "GET",
                "path": "/api/v1/public/bizes/3A7eSkpGXRMFJiboMqWZiOZjz3u/offers",
                "status": 200,
                "responseBody": {
                  "success": true,
                  "data": [
                    {
                      "id": "offer_3A7eSr45Wo4637YuuFjB6XlpV4w",
                      "bizId": "3A7eSkpGXRMFJiboMqWZiOZjz3u",
                      "name": "Primary Service Offer",
                      "slug": "offer-b9rfpsn4",
                      "description": null,
                      "executionMode": "slot",
                      "executionModeConfigValueId": null,
                      "status": "active",
                      "statusConfigValueId": null,
                      "isPublished": true,
                      "timezone": "UTC",
                      "metadata": {},
                      "createdAt": "2026-02-24T15:47:18.963Z",
                      "updatedAt": "2026-02-24T15:47:18.963Z",
                      "deletedAt": null,
                      "createdBy": null,
                      "updatedBy": null,
                      "deletedBy": null
                    }
                  ],
                  "meta": {
                    "requestId": "9db413c2-b186-4cb5-bd28-8ff659cb80fd",
                    "timestamp": "2026-02-24T15:47:20.175Z"
                  }
                },
                "at": "2026-02-24T15:47:20.176Z"
              }
            ]
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7eT7jqm8j9CuBRlpJPiA6YJFP",
            "sagaRunId": "saga_run_3A7eSYJRbQCqczr1Ru2BV7WPDTn",
            "sagaRunStepId": "saga_run_step_3A7eSd0QPg8EcRd3iBF4HzKdfSm",
            "artifactType": "api_trace",
            "title": "Adversary attempts unauthorized cross-biz read API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3A7eSYJRbQCqczr1Ru2BV7WPDTn/artifacts/1771948040215-Adversary_attempts_unauthorized_cross-biz_read_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"adversary-cross-biz-read\",\n  \"callCount\": 5,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A7eSLIQtNBt92QlnrAjkpyqGt3/steps/owner-revenue-sanity/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"passed\",\n        \"startedAt\": \"2026-02-24T15:47:19.828Z\",\n        \"endedAt\": \"2026-02-24T15:47:19.828Z\",\n        \"failureMessage\": null,\n        \"resultPayload\": {\n          \"note\": \"Revenue sanity computed from booking orders.\",\n          \"evidence\": {\n            \"bookingCount\": 2,\n            \"totalMinor\": 30000,\n            \"currency\": \"USD\"\n          }\n        },\n        \"assertionSummary\": {\n          \"status\": \"passed\",\n          \"hasFailure\": false,\n          \"assertionsPassed\": 1\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3A7eSK6CQhX3BgH3xKUWfHyCxdc\",\n          \"sagaRunId\": \"saga_run_3A7eSLIQtNBt92QlnrAjkpyqGt3\",\n          \"phaseKey\": \"reporting-and-closeout\",\n          \"phaseOrder\": 8,\n          \"phaseTitle\": \"Reporting And Closeout\",\n          \"stepKey\": \"owner-revenue-sanity\",\n          \"stepOrder\": 18,\n          \"actorKey\": \"biz_owner\",\n          \"instruction\": \"Read reporting endpoints and verify booking totals, counts, and statuses align with saga actions.\",\n          \"expectedResult\": \"Reported metrics match booking actions and highlight any discrepancies for schema/API iteration.\",\n          \"status\": \"passed\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-24T15:47:19.828Z\",\n          \"endedAt\": \"2026-02-24T15:47:19.828Z\",\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Revenue sanity computed from booking orders.\",\n            \"evidence\": {\n              \"currency\": \"USD\",\n              \"totalMinor\": 30000,\n              \"bookingCount\": 2\n            }\n          },\n          \"assertionSummary\": {\n            \"status\": \"passed\",\n            \"hasFailure\": false,\n            \"assertionsPassed\": 1\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T15:47:14.580Z\",\n          \"updatedAt\": \"2026-02-24T15:47:14.580Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"28821fe7-7c6a-4047-bb62-36ab65be1ee6\",\n          \"timestamp\": \"2026-02-24T15:47:20.075Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:47:20.077Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A7eSfmJZeCbtugnIvkVJYk2irq/steps/owner-invite-member/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"in_progress\",\n        \"startedAt\": \"2026-02-24T15:47:19.857Z\",\n        \"resultPayload\": {\n          \"note\": \"Started owner-invite-member\"\n        },\n        \"assertionSummary\": {\n          \"status\": \"in_progress\"\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3A7eSjkQBZ5xMFRL5rvBVyKWdBv\",\n          \"sagaRunId\": \"saga_run_3A7eSfmJZeCbtugnIvkVJYk2irq\",\n          \"phaseKey\": \"supply-and-team-setup\",\n          \"phaseOrder\": 3,\n          \"phaseTitle\": \"Supply And Team Setup\",\n          \"stepKey\": \"owner-invite-member\",\n          \"stepOrder\": 8,\n          \"actorKey\": \"biz_owner\",\n          \"instruction\": \"Invite a biz member, assign an operational role, and verify that member can authenticate into the same biz.\",\n          \"expectedResult\": \"Biz member account/session exists with scoped role permissions.\",\n          \"status\": \"in_progress\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-24T15:47:19.857Z\",\n          \"endedAt\": null,\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Started owner-invite-member\"\n          },\n          \"assertionSummary\": {\n            \"status\": \"in_progress\"\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T15:47:17.278Z\",\n          \"updatedAt\": \"2026-02-24T15:47:17.278Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"f10c7d90-13c6-4aaf-be4d-17dd3418a1ff\",\n          \"timestamp\": \"2026-02-24T15:47:20.075Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:47:20.079Z\"\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/auth/get-session\",\n      \"status\": 200,\n      \"responseBody\": {\n        \"session\": {\n          \"expiresAt\": \"2026-03-03T15:47:20.055Z\",\n          \"token\": \"Y8L0VUVxlICMDPWKhbj0Tdpc9tJe0SEj\",\n          \"createdAt\": \"2026-02-24T15:47:20.055Z\",\n          \"updatedAt\": \"2026-02-24T15:47:20.055Z\",\n          \"ipAddress\": \"\",\n          \"userAgent\": \"node\",\n          \"userId\": \"Zen99WiAiLNZ34h8AJUmczFRsfiA2N72\",\n          \"activeOrganizationId\": null,\n          \"impersonatedBy\": null,\n          \"id\": \"9WNNIN13hg4uh5FNrCm2MhJxm38da519\"\n        },\n        \"user\": {\n          \"name\": \"customer2-uc-57-the-solo-entrepreneur-sarah\",\n          \"email\": \"customer2-uc-57-the-solo-entrepreneur-sarah-1771948039863-9o1kwg@example.com\",\n          \"emailVerified\": false,\n          \"image\": null,\n          \"createdAt\": \"2026-02-24T15:47:19.961Z\",\n          \"updatedAt\": \"2026-02-24T15:47:19.961Z\",\n          \"role\": \"user\",\n          \"banned\": false,\n          \"banReason\": null,\n          \"banExpires\": null,\n          \"id\": \"Zen99WiAiLNZ34h8AJUmczFRsfiA2N72\"\n        }\n      },\n      \"at\": \"2026-02-24T15:47:20.080Z\"\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/auth/get-session\",\n      \"status\": 200,\n      \"responseBody\": {\n        \"session\": {\n          \"expiresAt\": \"2026-03-03T15:47:20.055Z\",\n          \"token\": \"F0HK3kBavgy3p36a6iTH11aDhtVgnbRR\",\n          \"createdAt\": \"2026-02-24T15:47:20.055Z\",\n          \"updatedAt\": \"2026-02-24T15:47:20.055Z\",\n          \"ipAddress\": \"\",\n          \"userAgent\": \"node\",\n          \"userId\": \"Cq3t4xGJH3VaiqaqEGnww3R5ilNgjN2W\",\n          \"activeOrganizationId\": null,\n          \"impersonatedBy\": null,\n          \"id\": \"bU9Ucc21SeGzrCledb2QS7iCtyulde0A\"\n        },\n        \"user\": {\n          \"name\": \"customer1-uc-59-the-multi-location-owner-marcus\",\n          \"email\": \"customer1-uc-59-the-multi-location-owner-marcus-1771948039864-08ib2u@example.com\",\n          \"emailVerified\": false,\n          \"image\": null,\n          \"createdAt\": \"2026-02-24T15:47:20.051Z\",\n          \"updatedAt\": \"2026-02-24T15:47:20.051Z\",\n          \"role\": \"user\",\n          \"banned\": false,\n          \"banReason\": null,\n          \"banExpires\": null,\n          \"id\": \"Cq3t4xGJH3VaiqaqEGnww3R5ilNgjN2W\"\n        }\n      },\n      \"at\": \"2026-02-24T15:47:20.080Z\"\n    },\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/v1/public/bizes/3A7eSkpGXRMFJiboMqWZiOZjz3u/offers\",\n      \"status\": 200,\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": [\n          {\n            \"id\": \"offer_3A7eSr45Wo4637YuuFjB6XlpV4w\",\n            \"bizId\": \"3A7eSkpGXRMFJiboMqWZiOZjz3u\",\n            \"name\": \"Primary Service Offer\",\n            \"slug\": \"offer-b9rfpsn4\",\n            \"description\": null,\n            \"executionMode\": \"slot\",\n            \"executionModeConfigValueId\": null,\n            \"status\": \"active\",\n            \"statusConfigValueId\": null,\n            \"isPublished\": true,\n            \"timezone\": \"UTC\",\n            \"metadata\": {},\n            \"createdAt\": \"2026-02-24T15:47:18.963Z\",\n            \"updatedAt\": \"2026-02-24T15:47:18.963Z\",\n            \"deletedAt\": null,\n            \"createdBy\": null,\n            \"updatedBy\": null,\n            \"deletedBy\": null\n          }\n        ],\n        \"meta\": {\n          \"requestId\": \"9db413c2-b186-4cb5-bd28-8ff659cb80fd\",\n          \"timestamp\": \"2026-02-24T15:47:20.175Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:47:20.176Z\"\n    }\n  ]\n}\n",
            "byteSize": 7905,
            "checksum": "64840f0b113b3186065777e1d65ace140938a5ed31166ef094e0f4dccd01b133",
            "capturedAt": "2026-02-24T15:47:20.217Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-24T15:47:20.217Z",
            "updatedAt": "2026-02-24T15:47:20.217Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "7702bb5f-4e96-4b5f-a02b-b4e21adfc10e",
            "timestamp": "2026-02-24T15:47:20.315Z"
          }
        },
        "at": "2026-02-24T15:47:20.316Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3A7eSiv5PrmfebF04KMjcxrbazQ/offers",
        "status": 201,
        "requestBody": {
          "name": "Primary Service Offer",
          "slug": "offer-l1ydv6tw",
          "executionMode": "slot",
          "status": "draft",
          "isPublished": false,
          "timezone": "UTC"
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "offer_3A7eT6VXoktbIwzCUCQmCnRu5tw",
            "bizId": "3A7eSiv5PrmfebF04KMjcxrbazQ",
            "name": "Primary Service Offer",
            "slug": "offer-l1ydv6tw",
            "description": null,
            "executionMode": "slot",
            "executionModeConfigValueId": null,
            "status": "draft",
            "statusConfigValueId": null,
            "isPublished": false,
            "timezone": "UTC",
            "metadata": {},
            "createdAt": "2026-02-24T15:47:20.323Z",
            "updatedAt": "2026-02-24T15:47:20.323Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "efa3a4f3-9a22-4c19-a2bd-dd4ccde1179f",
            "timestamp": "2026-02-24T15:47:20.326Z"
          }
        },
        "at": "2026-02-24T15:47:20.326Z"
      }
    ]
  },
  "metadata": {}
}
