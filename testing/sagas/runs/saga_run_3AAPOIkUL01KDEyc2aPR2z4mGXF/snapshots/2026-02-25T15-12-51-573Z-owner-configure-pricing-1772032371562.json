{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-configure-pricing-1772032371562",
  "title": "Configure default pricing rules Snapshot",
  "generatedAt": "2026-02-25T15:12:51.568Z",
  "stepKey": "owner-configure-pricing",
  "status": "passed",
  "view": {
    "title": "Configure default pricing rules",
    "subtitle": "Pricing baseline configured on biz metadata.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Configure Pricing completed",
        "message": "Pricing baseline configured on biz metadata.",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-configure-pricing",
    "resultPayload": {
      "note": "Pricing baseline configured on biz metadata."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAPLzbB9ZUrMmAudf5peX9fpOZ/snapshots",
        "status": 201,
        "requestBody": {
          "stepKey": "runner-submit-artifacts",
          "screenKey": "runner-submit-artifacts-1772032370949",
          "title": "Runner submits snapshots and final report Snapshot",
          "status": "passed",
          "route": "/sagas/saga_run_3AAPLzbB9ZUrMmAudf5peX9fpOZ/runner-submit-artifacts",
          "format": "json",
          "view": {
            "title": "Runner submits snapshots and final report",
            "subtitle": "Final report artifact submitted.",
            "blocks": [
              {
                "type": "alert",
                "title": "Runner Submit Artifacts completed",
                "message": "Final report artifact submitted.",
                "tone": "success"
              }
            ]
          },
          "rawData": {
            "stepKey": "runner-submit-artifacts",
            "resultPayload": {
              "note": "Final report artifact submitted."
            },
            "apiCalls": [
              {
                "method": "POST",
                "path": "/api/v1/bizes/3AAPNPjBFdLH5CRLccWKXPNoPU4/booking-orders",
                "status": 403,
                "requestBody": {
                  "offerId": "offer_3AAPO3aHH7ifBcwjPFwlnvcEz9P",
                  "offerVersionId": "offer_version_3AAPO5dhC3V9PS4ADG5mxuEj717",
                  "status": "draft",
                  "subtotalMinor": 1000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 1000,
                  "currency": "USD"
                },
                "responseBody": {
                  "success": false,
                  "error": {
                    "code": "FORBIDDEN",
                    "message": "You are not a member of this biz."
                  },
                  "meta": {
                    "requestId": "00af375c-44be-4e55-a00f-530de0c6ae9d",
                    "timestamp": "2026-02-25T15:12:50.354Z"
                  }
                },
                "at": "2026-02-25T15:12:50.355Z"
              },
              {
                "method": "POST",
                "path": "/api/v1/bizes/3AAPNPjBFdLH5CRLccWKXPNoPU4/booking-orders",
                "status": 403,
                "requestBody": {
                  "offerId": "offer_3AAPO3aHH7ifBcwjPFwlnvcEz9P",
                  "offerVersionId": "offer_version_3AAPO5dhC3V9PS4ADG5mxuEj717",
                  "status": "draft",
                  "subtotalMinor": 1000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 1000,
                  "currency": "USD"
                },
                "responseBody": {
                  "success": false,
                  "error": {
                    "code": "FORBIDDEN",
                    "message": "You are not a member of this biz."
                  },
                  "meta": {
                    "requestId": "a1190bf6-4b61-4dab-b4ef-89708f5167e3",
                    "timestamp": "2026-02-25T15:12:50.365Z"
                  }
                },
                "at": "2026-02-25T15:12:50.365Z"
              }
            ]
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3AAPOewVn2RYsSBFdyFYvo9GiFO",
            "sagaRunId": "saga_run_3AAPLzbB9ZUrMmAudf5peX9fpOZ",
            "sagaRunStepId": "saga_run_step_3AAPM1V2jIveC8fhODhdS2sqGtS",
            "artifactType": "snapshot",
            "title": "Runner submits snapshots and final report Snapshot",
            "storagePath": "testing/sagas/runs/saga_run_3AAPLzbB9ZUrMmAudf5peX9fpOZ/snapshots/2026-02-25T15-12-50-967Z-runner-submit-artifacts-1772032370949.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"schemaVersion\": \"snapshot.v1\",\n  \"screenKey\": \"runner-submit-artifacts-1772032370949\",\n  \"title\": \"Runner submits snapshots and final report Snapshot\",\n  \"generatedAt\": \"2026-02-25T15:12:50.961Z\",\n  \"stepKey\": \"runner-submit-artifacts\",\n  \"status\": \"passed\",\n  \"view\": {\n    \"title\": \"Runner submits snapshots and final report\",\n    \"subtitle\": \"Final report artifact submitted.\",\n    \"blocks\": [\n      {\n        \"type\": \"alert\",\n        \"title\": \"Runner Submit Artifacts completed\",\n        \"message\": \"Final report artifact submitted.\",\n        \"tone\": \"success\"\n      }\n    ]\n  },\n  \"rawData\": {\n    \"stepKey\": \"runner-submit-artifacts\",\n    \"resultPayload\": {\n      \"note\": \"Final report artifact submitted.\"\n    },\n    \"apiCalls\": [\n      {\n        \"method\": \"POST\",\n        \"path\": \"/api/v1/bizes/3AAPNPjBFdLH5CRLccWKXPNoPU4/booking-orders\",\n        \"status\": 403,\n        \"requestBody\": {\n          \"offerId\": \"offer_3AAPO3aHH7ifBcwjPFwlnvcEz9P\",\n          \"offerVersionId\": \"offer_version_3AAPO5dhC3V9PS4ADG5mxuEj717\",\n          \"status\": \"draft\",\n          \"subtotalMinor\": 1000,\n          \"taxMinor\": 0,\n          \"feeMinor\": 0,\n          \"discountMinor\": 0,\n          \"totalMinor\": 1000,\n          \"currency\": \"USD\"\n        },\n        \"responseBody\": {\n          \"success\": false,\n          \"error\": {\n            \"code\": \"FORBIDDEN\",\n            \"message\": \"You are not a member of this biz.\"\n          },\n          \"meta\": {\n            \"requestId\": \"00af375c-44be-4e55-a00f-530de0c6ae9d\",\n            \"timestamp\": \"2026-02-25T15:12:50.354Z\"\n          }\n        },\n        \"at\": \"2026-02-25T15:12:50.355Z\"\n      },\n      {\n        \"method\": \"POST\",\n        \"path\": \"/api/v1/bizes/3AAPNPjBFdLH5CRLccWKXPNoPU4/booking-orders\",\n        \"status\": 403,\n        \"requestBody\": {\n          \"offerId\": \"offer_3AAPO3aHH7ifBcwjPFwlnvcEz9P\",\n          \"offerVersionId\": \"offer_version_3AAPO5dhC3V9PS4ADG5mxuEj717\",\n          \"status\": \"draft\",\n          \"subtotalMinor\": 1000,\n          \"taxMinor\": 0,\n          \"feeMinor\": 0,\n          \"discountMinor\": 0,\n          \"totalMinor\": 1000,\n          \"currency\": \"USD\"\n        },\n        \"responseBody\": {\n          \"success\": false,\n          \"error\": {\n            \"code\": \"FORBIDDEN\",\n            \"message\": \"You are not a member of this biz.\"\n          },\n          \"meta\": {\n            \"requestId\": \"a1190bf6-4b61-4dab-b4ef-89708f5167e3\",\n            \"timestamp\": \"2026-02-25T15:12:50.365Z\"\n          }\n        },\n        \"at\": \"2026-02-25T15:12:50.365Z\"\n      }\n    ]\n  },\n  \"metadata\": {}\n}\n",
            "byteSize": 2552,
            "checksum": "d4a67e5f5c8b72e50bea5eeb6933ad9a2b00ee15b1a4a0ad159f7454e39cd7bb",
            "capturedAt": "2026-02-25T15:12:50.977Z",
            "metadata": {
              "format": "json",
              "stepKey": "runner-submit-artifacts",
              "screenKey": "runner-submit-artifacts-1772032370949",
              "sourceFormat": "v1",
              "schemaVersion": "snapshot.v1"
            },
            "createdAt": "2026-02-25T15:12:50.977Z",
            "updatedAt": "2026-02-25T15:12:50.977Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "fd0c76a6-7d2e-41d3-aeb9-53416a879b28",
            "timestamp": "2026-02-25T15:12:51.062Z"
          }
        },
        "at": "2026-02-25T15:12:51.064Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAPMhiQDo0R5Rkft1ZiL6jAUap/steps/uc-need-validate-6/result",
        "status": 200,
        "requestBody": {
          "status": "skipped",
          "startedAt": "2026-02-25T15:12:50.836Z",
          "endedAt": "2026-02-25T15:12:50.836Z",
          "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "resultPayload": {
            "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "evidence": {
              "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "failed": false,
              "blocked": false,
              "skipped": true,
              "stepFamily": "uc-need-validation",
              "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP"
            }
          },
          "assertionSummary": {
            "status": "skipped",
            "hasFailure": true,
            "assertionsPassed": 0
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3AAPMjrZ2ExyxcW694hwMyeUC9p",
            "sagaRunId": "saga_run_3AAPMhiQDo0R5Rkft1ZiL6jAUap",
            "phaseKey": "reporting-and-closeout",
            "phaseOrder": 8,
            "phaseTitle": "Reporting And Closeout",
            "stepKey": "uc-need-validate-6",
            "stepOrder": 24,
            "actorKey": "biz_owner",
            "instruction": "Using concrete API reads and persisted state checks, validate this requirement is satisfied: \"Bulk availability setting\". If not satisfied, record exact gap and failing entities/endpoints.",
            "expectedResult": "Evidence either confirms requirement coverage or captures a precise, reproducible gap.",
            "delayMode": "none",
            "delayMs": null,
            "delayConditionKey": null,
            "delayTimeoutMs": null,
            "delayPollMs": null,
            "delayJitterMs": 0,
            "status": "skipped",
            "attemptCount": 1,
            "startedAt": "2026-02-25T15:12:50.836Z",
            "endedAt": "2026-02-25T15:12:50.836Z",
            "failureCode": null,
            "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "resultPayload": {
              "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "evidence": {
                "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
                "failed": false,
                "blocked": false,
                "skipped": true,
                "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP",
                "stepFamily": "uc-need-validation"
              }
            },
            "assertionSummary": {
              "status": "skipped",
              "hasFailure": true,
              "assertionsPassed": 0
            },
            "metadata": {},
            "createdAt": "2026-02-25T15:12:35.821Z",
            "updatedAt": "2026-02-25T15:12:35.821Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "3cad28fa-3099-47f5-b382-ad58a6b69070",
            "timestamp": "2026-02-25T15:12:51.066Z"
          }
        },
        "at": "2026-02-25T15:12:51.066Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAPMIMQ9NrThbRaQMlDW1p7XE7/steps/persona-scenario-validate-2/result",
        "status": 200,
        "requestBody": {
          "status": "skipped",
          "startedAt": "2026-02-25T15:12:50.822Z",
          "endedAt": "2026-02-25T15:12:50.822Z",
          "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
          "resultPayload": {
            "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "evidence": {
              "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "failed": false,
              "blocked": false,
              "skipped": true,
              "stepFamily": "persona-scenario-validation",
              "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP"
            }
          },
          "assertionSummary": {
            "status": "skipped",
            "hasFailure": true,
            "assertionsPassed": 0
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3AAPMC9Obe29bfyyYtY87t9SZ3o",
            "sagaRunId": "saga_run_3AAPMIMQ9NrThbRaQMlDW1p7XE7",
            "phaseKey": "reporting-and-closeout",
            "phaseOrder": 8,
            "phaseTitle": "Reporting And Closeout",
            "stepKey": "persona-scenario-validate-2",
            "stepOrder": 27,
            "actorKey": "customer_1",
            "instruction": "Simulate this persona scenario and validate outcome deterministically: \"Accidentally deletes availability rule, panics\". Capture traces and snapshots so coverage can be audited later.",
            "expectedResult": "Scenario behavior is either confirmed as supported or produces a clear, actionable failure report.",
            "delayMode": "none",
            "delayMs": null,
            "delayConditionKey": null,
            "delayTimeoutMs": null,
            "delayPollMs": null,
            "delayJitterMs": 0,
            "status": "skipped",
            "attemptCount": 1,
            "startedAt": "2026-02-25T15:12:50.822Z",
            "endedAt": "2026-02-25T15:12:50.822Z",
            "failureCode": null,
            "failureMessage": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
            "resultPayload": {
              "note": "Step skipped: Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
              "evidence": {
                "error": "Exploratory validation step skipped by deterministic runner (semantic/manual review step).",
                "failed": false,
                "blocked": false,
                "skipped": true,
                "reasonCode": "DETERMINISTIC_RUNNER_SKIPS_EXPLORATORY_STEP",
                "stepFamily": "persona-scenario-validation"
              }
            },
            "assertionSummary": {
              "status": "skipped",
              "hasFailure": true,
              "assertionsPassed": 0
            },
            "metadata": {},
            "createdAt": "2026-02-25T15:12:31.871Z",
            "updatedAt": "2026-02-25T15:12:31.871Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "5ae0ecf3-0bc5-4586-b9d4-a0c437d0a975",
            "timestamp": "2026-02-25T15:12:51.094Z"
          }
        },
        "at": "2026-02-25T15:12:51.096Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AAPMkdZA3yh6AmS2iznnLSDm4j/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "uc-need-validate-2",
          "title": "Validate explicit UC need #2 API Trace",
          "trace": {
            "stepKey": "uc-need-validate-2",
            "callCount": 0,
            "calls": []
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3AAPOlKatQwqv7TYNUUAZSTcyZ4",
            "sagaRunId": "saga_run_3AAPMkdZA3yh6AmS2iznnLSDm4j",
            "sagaRunStepId": "saga_run_step_3AAPMhMdSkqi66Wge52BXqGL6Gd",
            "artifactType": "api_trace",
            "title": "Validate explicit UC need #2 API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3AAPMkdZA3yh6AmS2iznnLSDm4j/artifacts/1772032370985-Validate_explicit_UC_need__2_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"uc-need-validate-2\",\n  \"callCount\": 0,\n  \"calls\": []\n}\n",
            "byteSize": 71,
            "checksum": "389cc86642957c18d2ef526bbd97bc525b2c58b0ff9e27fb978105fb991bb584",
            "capturedAt": "2026-02-25T15:12:51.016Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-25T15:12:51.016Z",
            "updatedAt": "2026-02-25T15:12:51.016Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "6f6632e3-673a-4028-9d82-0785df94c31b",
            "timestamp": "2026-02-25T15:12:51.095Z"
          }
        },
        "at": "2026-02-25T15:12:51.097Z"
      },
      {
        "method": "PATCH",
        "path": "/api/v1/bizes/3AAPOSH9th1nY5bk1GvnpeBKVON",
        "status": 200,
        "requestBody": {
          "metadata": {
            "availability": {
              "timezone": "UTC",
              "weekly": {
                "mon": [
                  "09:00-17:00"
                ],
                "tue": [
                  "09:00-17:00"
                ],
                "wed": [
                  "09:00-17:00"
                ],
                "thu": [
                  "09:00-17:00"
                ],
                "fri": [
                  "09:00-17:00"
                ]
              },
              "leadTimeHours": 24,
              "maxAdvanceDays": 60
            },
            "pricing": {
              "baseCurrency": "USD",
              "callFeeMinor": 5000,
              "surgeManualEnabled": true
            }
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "3AAPOSH9th1nY5bk1GvnpeBKVON",
            "name": "Saga uc-47-the-subscription-manager-recurring-rita",
            "slug": "uc-47-the-subscription-manager-recurring-rita-jjxqxfsy",
            "type": "small_business",
            "logoUrl": null,
            "timezone": "UTC",
            "currency": "USD",
            "status": "active",
            "metadata": {
              "pricing": {
                "baseCurrency": "USD",
                "callFeeMinor": 5000,
                "surgeManualEnabled": true
              },
              "availability": {
                "weekly": {
                  "fri": [
                    "09:00-17:00"
                  ],
                  "mon": [
                    "09:00-17:00"
                  ],
                  "thu": [
                    "09:00-17:00"
                  ],
                  "tue": [
                    "09:00-17:00"
                  ],
                  "wed": [
                    "09:00-17:00"
                  ]
                },
                "timezone": "UTC",
                "leadTimeHours": 24,
                "maxAdvanceDays": 60
              }
            },
            "createdAt": "2026-02-25T15:12:49.257Z",
            "updatedAt": "2026-02-25T15:12:49.257Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "a0afa88a-3225-4d08-bca8-8fbe3f51c8be",
            "timestamp": "2026-02-25T15:12:51.096Z"
          }
        },
        "at": "2026-02-25T15:12:51.098Z"
      }
    ]
  },
  "metadata": {}
}
