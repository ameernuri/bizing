{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-configure-hours-1772001943560",
  "title": "Configure default hours and availability mode Snapshot",
  "generatedAt": "2026-02-25T06:45:43.569Z",
  "stepKey": "owner-configure-hours",
  "status": "passed",
  "view": {
    "title": "Configure default hours and availability mode",
    "subtitle": "Hours/lead-time baseline configured on biz metadata.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Configure Hours completed",
        "message": "Hours/lead-time baseline configured on biz metadata.",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-configure-hours",
    "resultPayload": {
      "note": "Hours/lead-time baseline configured on biz metadata."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A9PgicLup0dXmFZPK7yTU2VNaG/steps/owner-calendar-review/result",
        "status": 200,
        "requestBody": {
          "status": "passed",
          "startedAt": "2026-02-25T06:45:43.089Z",
          "endedAt": "2026-02-25T06:45:43.089Z",
          "failureMessage": null,
          "resultPayload": {
            "note": "Operational timeline inputs fetched (bookings/resources/offers).",
            "evidence": {
              "bookingCount": 2,
              "resourceCount": 2,
              "offerCount": 1,
              "timezone": "UTC",
              "rangeLabel": "Upcoming schedule window",
              "bookingPreview": [
                {
                  "id": "booking_order_3A9PiOIrblF0QMZk5unTpBHlZuD",
                  "bizId": "3A9Ph7blizbEw7UZF371t7dJcGx",
                  "offerId": "offer_3A9PhvIpc799VQQT2j9spNYYzvb",
                  "offerVersionId": "offer_version_3A9PhyoDPVuTyBd3jQlVqFRwPBf",
                  "customerUserId": "vjGcYTyxLQqusQcUrYG9zwMV0HsJ2c1j",
                  "customerGroupAccountId": null,
                  "status": "in_progress",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-26T06:45:39.556Z",
                  "requestedEndAt": "2026-02-26T07:35:39.556Z",
                  "confirmedStartAt": "2026-02-26T06:45:39.556Z",
                  "confirmedEndAt": "2026-02-26T07:35:39.556Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-25T06:45:39.570Z",
                  "updatedAt": "2026-02-25T06:45:39.570Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                {
                  "id": "booking_order_3A9PiN6KNNqSqzsQ54kMnZJ0ltq",
                  "bizId": "3A9Ph7blizbEw7UZF371t7dJcGx",
                  "offerId": "offer_3A9PhvIpc799VQQT2j9spNYYzvb",
                  "offerVersionId": "offer_version_3A9PhyoDPVuTyBd3jQlVqFRwPBf",
                  "customerUserId": "KjQ63BUrQjDexZqlJxfy9SY18wvr25ia",
                  "customerGroupAccountId": null,
                  "status": "confirmed",
                  "statusConfigValueId": null,
                  "currency": "USD",
                  "subtotalMinor": 15000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 15000,
                  "requestedStartAt": "2026-02-26T06:45:38.536Z",
                  "requestedEndAt": "2026-02-26T07:35:38.536Z",
                  "confirmedStartAt": "2026-02-26T06:45:38.536Z",
                  "confirmedEndAt": "2026-02-26T07:35:38.536Z",
                  "pricingSnapshot": {},
                  "policySnapshot": {},
                  "metadata": {},
                  "createdAt": "2026-02-25T06:45:38.598Z",
                  "updatedAt": "2026-02-25T06:45:38.598Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                }
              ]
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A9Pgh6ahJ96Zil54DIfTePo8YK",
            "sagaRunId": "saga_run_3A9PgicLup0dXmFZPK7yTU2VNaG",
            "phaseKey": "operations-and-follow-up",
            "phaseOrder": 7,
            "phaseTitle": "Operations And Follow-up",
            "stepKey": "owner-calendar-review",
            "stepOrder": 17,
            "actorKey": "biz_owner",
            "instruction": "Query and compare availability + bookings timeline for the entities involved in this scenario.",
            "expectedResult": "Calendar state reflects booked slots, blocks, and any conflict outcomes from previous steps.",
            "delayMode": "none",
            "delayMs": null,
            "delayConditionKey": null,
            "delayTimeoutMs": null,
            "delayPollMs": null,
            "delayJitterMs": 0,
            "status": "passed",
            "attemptCount": 1,
            "startedAt": "2026-02-25T06:45:43.089Z",
            "endedAt": "2026-02-25T06:45:43.089Z",
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Operational timeline inputs fetched (bookings/resources/offers).",
              "evidence": {
                "timezone": "UTC",
                "offerCount": 1,
                "rangeLabel": "Upcoming schedule window",
                "bookingCount": 2,
                "resourceCount": 2,
                "bookingPreview": [
                  {
                    "id": "booking_order_3A9PiOIrblF0QMZk5unTpBHlZuD",
                    "bizId": "3A9Ph7blizbEw7UZF371t7dJcGx",
                    "status": "in_progress",
                    "offerId": "offer_3A9PhvIpc799VQQT2j9spNYYzvb",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-25T06:45:39.570Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-25T06:45:39.570Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-26T07:35:39.556Z",
                    "customerUserId": "vjGcYTyxLQqusQcUrYG9zwMV0HsJ2c1j",
                    "offerVersionId": "offer_version_3A9PhyoDPVuTyBd3jQlVqFRwPBf",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-26T07:35:39.556Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-26T06:45:39.556Z",
                    "requestedStartAt": "2026-02-26T06:45:39.556Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  },
                  {
                    "id": "booking_order_3A9PiN6KNNqSqzsQ54kMnZJ0ltq",
                    "bizId": "3A9Ph7blizbEw7UZF371t7dJcGx",
                    "status": "confirmed",
                    "offerId": "offer_3A9PhvIpc799VQQT2j9spNYYzvb",
                    "currency": "USD",
                    "feeMinor": 0,
                    "metadata": {},
                    "taxMinor": 0,
                    "createdAt": "2026-02-25T06:45:38.598Z",
                    "createdBy": null,
                    "deletedAt": null,
                    "deletedBy": null,
                    "updatedAt": "2026-02-25T06:45:38.598Z",
                    "updatedBy": null,
                    "totalMinor": 15000,
                    "discountMinor": 0,
                    "subtotalMinor": 15000,
                    "confirmedEndAt": "2026-02-26T07:35:38.536Z",
                    "customerUserId": "KjQ63BUrQjDexZqlJxfy9SY18wvr25ia",
                    "offerVersionId": "offer_version_3A9PhyoDPVuTyBd3jQlVqFRwPBf",
                    "policySnapshot": {},
                    "requestedEndAt": "2026-02-26T07:35:38.536Z",
                    "pricingSnapshot": {},
                    "confirmedStartAt": "2026-02-26T06:45:38.536Z",
                    "requestedStartAt": "2026-02-26T06:45:38.536Z",
                    "statusConfigValueId": null,
                    "customerGroupAccountId": null
                  }
                ]
              }
            },
            "assertionSummary": {
              "status": "passed",
              "hasFailure": false,
              "assertionsPassed": 1
            },
            "metadata": {},
            "createdAt": "2026-02-25T06:45:25.423Z",
            "updatedAt": "2026-02-25T06:45:25.423Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "bdd7a12a-20e1-4dbe-b00b-2849d214a09c",
            "timestamp": "2026-02-25T06:45:43.319Z"
          }
        },
        "at": "2026-02-25T06:45:43.319Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A9PeNxItoYwqK58N8VDi9HjN78/steps/persona-scenario-validate-1/result",
        "status": 200,
        "requestBody": {
          "status": "blocked",
          "startedAt": "2026-02-25T06:45:42.780Z",
          "endedAt": "2026-02-25T06:45:42.780Z",
          "failureMessage": "persona-scenario-validate-1: Runner executor is not implemented for this step yet (runner gap).",
          "resultPayload": {
            "note": "Step blocked: persona-scenario-validate-1: Runner executor is not implemented for this step yet (runner gap).",
            "evidence": {
              "error": "persona-scenario-validate-1: Runner executor is not implemented for this step yet (runner gap).",
              "failed": false,
              "blocked": true,
              "expected": "Add runStep case in apps/api/src/scripts/rerun-sagas.ts"
            }
          },
          "assertionSummary": {
            "status": "blocked",
            "hasFailure": true,
            "assertionsPassed": 0
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A9PeQECP1YljO6R6Au0B7nVfip",
            "sagaRunId": "saga_run_3A9PeNxItoYwqK58N8VDi9HjN78",
            "phaseKey": "reporting-and-closeout",
            "phaseOrder": 8,
            "phaseTitle": "Reporting And Closeout",
            "stepKey": "persona-scenario-validate-1",
            "stepOrder": 27,
            "actorKey": "customer_1",
            "instruction": "Simulate this persona scenario and validate outcome deterministically: \"First-time setup flow completion time\". Capture traces and snapshots so coverage can be audited later.",
            "expectedResult": "Scenario behavior is either confirmed as supported or produces a clear, actionable failure report.",
            "delayMode": "none",
            "delayMs": null,
            "delayConditionKey": null,
            "delayTimeoutMs": null,
            "delayPollMs": null,
            "delayJitterMs": 0,
            "status": "blocked",
            "attemptCount": 1,
            "startedAt": "2026-02-25T06:45:42.780Z",
            "endedAt": "2026-02-25T06:45:42.780Z",
            "failureCode": null,
            "failureMessage": "persona-scenario-validate-1: Runner executor is not implemented for this step yet (runner gap).",
            "resultPayload": {
              "note": "Step blocked: persona-scenario-validate-1: Runner executor is not implemented for this step yet (runner gap).",
              "evidence": {
                "error": "persona-scenario-validate-1: Runner executor is not implemented for this step yet (runner gap).",
                "failed": false,
                "blocked": true,
                "expected": "Add runStep case in apps/api/src/scripts/rerun-sagas.ts"
              }
            },
            "assertionSummary": {
              "status": "blocked",
              "hasFailure": true,
              "assertionsPassed": 0
            },
            "metadata": {},
            "createdAt": "2026-02-25T06:45:07.609Z",
            "updatedAt": "2026-02-25T06:45:07.609Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "2979a19c-6808-45a9-b3d1-6e1f895d2bd8",
            "timestamp": "2026-02-25T06:45:43.320Z"
          }
        },
        "at": "2026-02-25T06:45:43.321Z"
      },
      {
        "method": "PATCH",
        "path": "/api/v1/bizes/3A9PioB8UJY72Y6WTGA9cz9mswI",
        "status": 200,
        "requestBody": {
          "metadata": {
            "availability": {
              "timezone": "UTC",
              "weekly": {
                "mon": [
                  "09:00-17:00"
                ],
                "tue": [
                  "09:00-17:00"
                ],
                "wed": [
                  "09:00-17:00"
                ],
                "thu": [
                  "09:00-17:00"
                ],
                "fri": [
                  "09:00-17:00"
                ]
              },
              "leadTimeHours": 24,
              "maxAdvanceDays": 60
            }
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "3A9PioB8UJY72Y6WTGA9cz9mswI",
            "name": "Saga uc-11-the-confused-multi-biz-user-sam",
            "slug": "uc-11-the-confused-multi-biz-user-sam-4b51oz0d",
            "type": "small_business",
            "logoUrl": null,
            "timezone": "UTC",
            "currency": "USD",
            "status": "active",
            "metadata": {
              "availability": {
                "weekly": {
                  "fri": [
                    "09:00-17:00"
                  ],
                  "mon": [
                    "09:00-17:00"
                  ],
                  "thu": [
                    "09:00-17:00"
                  ],
                  "tue": [
                    "09:00-17:00"
                  ],
                  "wed": [
                    "09:00-17:00"
                  ]
                },
                "timezone": "UTC",
                "leadTimeHours": 24,
                "maxAdvanceDays": 60
              }
            },
            "createdAt": "2026-02-25T06:45:42.269Z",
            "updatedAt": "2026-02-25T06:45:42.269Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "cfb741ce-17d0-48d8-8644-ebf0268d8c8b",
            "timestamp": "2026-02-25T06:45:43.340Z"
          }
        },
        "at": "2026-02-25T06:45:43.340Z"
      }
    ]
  },
  "metadata": {}
}
