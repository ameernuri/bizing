{
  "stepKey": "customer-book-primary",
  "callCount": 4,
  "calls": [
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAPN8CeJSYXfWM2LJkVsBYmy3J/traces",
      "status": 201,
      "requestBody": {
        "stepKey": "owner-configure-pricing",
        "title": "Configure default pricing rules API Trace",
        "trace": {
          "stepKey": "owner-configure-pricing",
          "callCount": 2,
          "calls": [
            {
              "method": "POST",
              "path": "/api/v1/sagas/runs/saga_run_3AAPMErtNSVLtmj8YOzzwcyXOQo/steps/uc-need-validate-1/result",
              "status": 200,
              "requestBody": {
                "status": "in_progress",
                "startedAt": "2026-02-25T15:12:42.968Z",
                "resultPayload": {
                  "note": "Started uc-need-validate-1"
                },
                "assertionSummary": {
                  "status": "in_progress"
                }
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "saga_run_step_3AAPMBRpYHjpShmUU0TmFh3KmWB",
                  "sagaRunId": "saga_run_3AAPMErtNSVLtmj8YOzzwcyXOQo",
                  "phaseKey": "reporting-and-closeout",
                  "phaseOrder": 8,
                  "phaseTitle": "Reporting And Closeout",
                  "stepKey": "uc-need-validate-1",
                  "stepOrder": 20,
                  "actorKey": "biz_owner",
                  "instruction": "Using concrete API reads and persisted state checks, validate this requirement is satisfied: \"Track scheduled hours per employee\". If not satisfied, record exact gap and failing entities/endpoints.",
                  "expectedResult": "Evidence either confirms requirement coverage or captures a precise, reproducible gap.",
                  "delayMode": "none",
                  "delayMs": null,
                  "delayConditionKey": null,
                  "delayTimeoutMs": null,
                  "delayPollMs": null,
                  "delayJitterMs": 0,
                  "status": "in_progress",
                  "attemptCount": 1,
                  "startedAt": "2026-02-25T15:12:42.968Z",
                  "endedAt": null,
                  "failureCode": null,
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Started uc-need-validate-1"
                  },
                  "assertionSummary": {
                    "status": "in_progress"
                  },
                  "metadata": {},
                  "createdAt": "2026-02-25T15:12:31.148Z",
                  "updatedAt": "2026-02-25T15:12:31.148Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "71717735-71ed-4814-9f7e-63daab61a0bf",
                  "timestamp": "2026-02-25T15:12:43.060Z"
                }
              },
              "at": "2026-02-25T15:12:43.061Z"
            },
            {
              "method": "POST",
              "path": "/api/v1/bizes/3AAPNaZe02I8tJYY9ppixRkhbBC/locations",
              "status": 201,
              "requestBody": {
                "name": "Primary Location",
                "slug": "loc-2tkpos3p",
                "type": "physical",
                "timezone": "UTC"
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "3AAPNmYj4xQomELjMA0IUuODRsv",
                  "bizId": "3AAPNaZe02I8tJYY9ppixRkhbBC",
                  "name": "Primary Location",
                  "slug": "loc-2tkpos3p",
                  "type": "physical",
                  "timezone": "UTC",
                  "address": {},
                  "operatingHours": {},
                  "configOverride": {},
                  "serviceArea": {},
                  "status": "active",
                  "isDefault": false,
                  "metadata": {},
                  "createdAt": "2026-02-25T15:12:43.057Z",
                  "updatedAt": "2026-02-25T15:12:43.057Z",
                  "deletedAt": null
                },
                "meta": {
                  "requestId": "11c3f6f6-da46-493a-a3f7-426c94960dfa",
                  "timestamp": "2026-02-25T15:12:43.060Z"
                }
              },
              "at": "2026-02-25T15:12:43.061Z"
            }
          ]
        },
        "metadata": {
          "source": "rerun-sagas.ts"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3AAPNn3eK7Z2ZUgwxC13WaWgd8j",
          "sagaRunId": "saga_run_3AAPN8CeJSYXfWM2LJkVsBYmy3J",
          "sagaRunStepId": "saga_run_step_3AAPNAceXu1rNFpV6lZ5akOA6pL",
          "artifactType": "api_trace",
          "title": "Configure default pricing rules API Trace",
          "storagePath": "testing/sagas/runs/saga_run_3AAPN8CeJSYXfWM2LJkVsBYmy3J/artifacts/1772032363105-Configure_default_pricing_rules_API_Trace.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"stepKey\": \"owner-configure-pricing\",\n  \"callCount\": 2,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3AAPMErtNSVLtmj8YOzzwcyXOQo/steps/uc-need-validate-1/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"in_progress\",\n        \"startedAt\": \"2026-02-25T15:12:42.968Z\",\n        \"resultPayload\": {\n          \"note\": \"Started uc-need-validate-1\"\n        },\n        \"assertionSummary\": {\n          \"status\": \"in_progress\"\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3AAPMBRpYHjpShmUU0TmFh3KmWB\",\n          \"sagaRunId\": \"saga_run_3AAPMErtNSVLtmj8YOzzwcyXOQo\",\n          \"phaseKey\": \"reporting-and-closeout\",\n          \"phaseOrder\": 8,\n          \"phaseTitle\": \"Reporting And Closeout\",\n          \"stepKey\": \"uc-need-validate-1\",\n          \"stepOrder\": 20,\n          \"actorKey\": \"biz_owner\",\n          \"instruction\": \"Using concrete API reads and persisted state checks, validate this requirement is satisfied: \\\"Track scheduled hours per employee\\\". If not satisfied, record exact gap and failing entities/endpoints.\",\n          \"expectedResult\": \"Evidence either confirms requirement coverage or captures a precise, reproducible gap.\",\n          \"delayMode\": \"none\",\n          \"delayMs\": null,\n          \"delayConditionKey\": null,\n          \"delayTimeoutMs\": null,\n          \"delayPollMs\": null,\n          \"delayJitterMs\": 0,\n          \"status\": \"in_progress\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-25T15:12:42.968Z\",\n          \"endedAt\": null,\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Started uc-need-validate-1\"\n          },\n          \"assertionSummary\": {\n            \"status\": \"in_progress\"\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-25T15:12:31.148Z\",\n          \"updatedAt\": \"2026-02-25T15:12:31.148Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"71717735-71ed-4814-9f7e-63daab61a0bf\",\n          \"timestamp\": \"2026-02-25T15:12:43.060Z\"\n        }\n      },\n      \"at\": \"2026-02-25T15:12:43.061Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/bizes/3AAPNaZe02I8tJYY9ppixRkhbBC/locations\",\n      \"status\": 201,\n      \"requestBody\": {\n        \"name\": \"Primary Location\",\n        \"slug\": \"loc-2tkpos3p\",\n        \"type\": \"physical\",\n        \"timezone\": \"UTC\"\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"3AAPNmYj4xQomELjMA0IUuODRsv\",\n          \"bizId\": \"3AAPNaZe02I8tJYY9ppixRkhbBC\",\n          \"name\": \"Primary Location\",\n          \"slug\": \"loc-2tkpos3p\",\n          \"type\": \"physical\",\n          \"timezone\": \"UTC\",\n          \"address\": {},\n          \"operatingHours\": {},\n          \"configOverride\": {},\n          \"serviceArea\": {},\n          \"status\": \"active\",\n          \"isDefault\": false,\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-25T15:12:43.057Z\",\n          \"updatedAt\": \"2026-02-25T15:12:43.057Z\",\n          \"deletedAt\": null\n        },\n        \"meta\": {\n          \"requestId\": \"11c3f6f6-da46-493a-a3f7-426c94960dfa\",\n          \"timestamp\": \"2026-02-25T15:12:43.060Z\"\n        }\n      },\n      \"at\": \"2026-02-25T15:12:43.061Z\"\n    }\n  ]\n}\n",
          "byteSize": 3403,
          "checksum": "169969bf67d0b1950e1e9484b2bf0bed1513c21a6b39656f0c0664ed331c1a52",
          "capturedAt": "2026-02-25T15:12:43.116Z",
          "metadata": {
            "source": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-25T15:12:43.116Z",
          "updatedAt": "2026-02-25T15:12:43.116Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "6b899fa6-badf-4f96-8b4a-f4519b15125a",
          "timestamp": "2026-02-25T15:12:43.298Z"
        }
      },
      "at": "2026-02-25T15:12:43.300Z"
    },
    {
      "method": "GET",
      "path": "/api/auth/get-session",
      "status": 200,
      "responseBody": {
        "session": {
          "expiresAt": "2026-03-04T15:12:43.279Z",
          "token": "XaxHw6lb3b0wFKxDXyI3l4daRyJpQbPi",
          "createdAt": "2026-02-25T15:12:43.279Z",
          "updatedAt": "2026-02-25T15:12:43.279Z",
          "ipAddress": "",
          "userAgent": "node",
          "userId": "knDxCCPOCfU27qLhTTaujWdDl5iWg96i",
          "activeOrganizationId": null,
          "impersonatedBy": null,
          "id": "0R1gsli437OpepIgpOqmSo9h9ljr2kGP"
        },
        "user": {
          "name": "customer1-uc-46-the-ai-agent-builder-agent-avery",
          "email": "customer1-uc-46-the-ai-agent-builder-agent-avery-1772032363166-1jtqs7@example.com",
          "emailVerified": false,
          "image": null,
          "createdAt": "2026-02-25T15:12:43.273Z",
          "updatedAt": "2026-02-25T15:12:43.273Z",
          "role": "user",
          "banned": false,
          "banReason": null,
          "banExpires": null,
          "id": "knDxCCPOCfU27qLhTTaujWdDl5iWg96i"
        }
      },
      "at": "2026-02-25T15:12:43.300Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAPMkdZA3yh6AmS2iznnLSDm4j/steps/owner-create-offer-version/result",
      "status": 200,
      "requestBody": {
        "status": "passed",
        "startedAt": "2026-02-25T15:12:43.007Z",
        "endedAt": "2026-02-25T15:12:43.007Z",
        "failureMessage": null,
        "resultPayload": {
          "note": "Offer version created.",
          "evidence": {
            "offerVersionId": "offer_version_3AAPNdzD6YuKk6xfGlja7tN2BeF"
          }
        },
        "assertionSummary": {
          "status": "passed",
          "hasFailure": false,
          "assertionsPassed": 1
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAPMkgpC18LPEmgsRhtZFvpkHS",
          "sagaRunId": "saga_run_3AAPMkdZA3yh6AmS2iznnLSDm4j",
          "phaseKey": "catalog-publish",
          "phaseOrder": 4,
          "phaseTitle": "Catalog And Publish",
          "stepKey": "owner-create-offer-version",
          "stepOrder": 9,
          "actorKey": "biz_owner",
          "instruction": "Create a published offer version with realistic duration and base price for this UC.",
          "expectedResult": "Offer version exists and is ready for booking order references.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "passed",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:12:43.007Z",
          "endedAt": "2026-02-25T15:12:43.007Z",
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Offer version created.",
            "evidence": {
              "offerVersionId": "offer_version_3AAPNdzD6YuKk6xfGlja7tN2BeF"
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:12:35.589Z",
          "updatedAt": "2026-02-25T15:12:35.589Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "76002ea7-ba78-454d-89e1-f1388e40e859",
          "timestamp": "2026-02-25T15:12:43.301Z"
        }
      },
      "at": "2026-02-25T15:12:43.301Z"
    },
    {
      "method": "GET",
      "path": "/api/v1/public/bizes/3AAPMwSThV6qjQ3kjqdAma5UgqP/offers",
      "status": 200,
      "responseBody": {
        "success": true,
        "data": [
          {
            "id": "offer_3AAPNUBGKu40UDh7bVQRdqsmYva",
            "bizId": "3AAPMwSThV6qjQ3kjqdAma5UgqP",
            "name": "Primary Service Offer",
            "slug": "offer-8rjwdl6k",
            "description": null,
            "executionMode": "slot",
            "executionModeConfigValueId": null,
            "status": "active",
            "statusConfigValueId": null,
            "isPublished": true,
            "timezone": "UTC",
            "metadata": {},
            "createdAt": "2026-02-25T15:12:41.597Z",
            "updatedAt": "2026-02-25T15:12:41.597Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          }
        ],
        "meta": {
          "requestId": "ee5fb4d5-cd37-4079-8b5c-567100ce8488",
          "timestamp": "2026-02-25T15:12:43.306Z"
        }
      },
      "at": "2026-02-25T15:12:43.307Z"
    }
  ]
}
