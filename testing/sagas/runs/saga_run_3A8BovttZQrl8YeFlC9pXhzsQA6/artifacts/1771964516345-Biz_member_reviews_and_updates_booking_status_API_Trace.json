{
  "stepKey": "member-review-bookings",
  "callCount": 5,
  "calls": [
    {
      "method": "GET",
      "path": "/api/v1/sagas/runs/saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA",
      "status": 200,
      "responseBody": {
        "_truncated": true,
        "_preview": "{\"success\":true,\"data\":{\"run\":{\"id\":\"saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA\",\"sagaDefinitionId\":\"saga_definition_3A7asUefGeOu89QOTKpezJsyV4J\",\"sagaKey\":\"uc-79-the-front-desk-manager-lisa\",\"bizId\":null,\"status\":\"failed\",\"mode\":\"dry_run\",\"requestedByUserId\":\"5AuNRNOppdGiLM0XbqF5a3TD5aqoINDZ\",\"runnerLabel\":\"codex-rerun-all\",\"definitionChecksum\":\"06315b6dcc57881ba071d5cec193100b9b76672d4d5760c6e250f369bf4a762a\",\"startedAt\":\"2026-02-24T20:21:22.747Z\",\"endedAt\":\"2026-02-24T20:21:55.880Z\",\"lastHeartbeatAt\":\"2026-02-24T20:21:55.880Z\",\"totalSteps\":21,\"passedSteps\":19,\"failedSteps\":2,\"skippedSteps\":0,\"runContext\":{\"createdBy\":\"apps/api/src/scripts/rerun-sagas.ts\"},\"runSummary\":{\"auto\":true,\"source\":\"rerun-sagas.ts\",\"coverage\":{\"totalSteps\":21,\"failedSteps\":2,\"passedSteps\":19,\"pendingSteps\":0,\"skippedSteps\":0,\"completionPct\":90,\"classification\":\"partial\",\"inProgressSteps\":0,\"apiFailureStepCount\":0,\"notImplementedStepCount\":0,\"missingEvidenceStepCount\":0},\"failures\":[{\"reason\":\"customer-join-waitlist-flow: Waitlist/queue API is not exposed yet.\",\"stepKey\":\"customer-join-waitlist-flow\"},{\"reason\":\"owner-validate-compliance-controls: Compliance/credential verification API is not exposed yet.\",\"stepKey\":\"owner-validate-compliance-controls\"}],\"missingEvidence\":[]},\"metadata\":{\"tags\":[\"uc-derived\",\"persona-derived\",\"lifecycle\",\"api-first\",\"agents\"],\"title\":\"UC-79 • The Government Service Queue (DMV/Office) • The Front Desk Manager (Lisa)\"},\"createdAt\":\"2026-02-24T20:21:21.359Z\",\"updatedAt\":\"2026-02-24T20:21:21.359Z\",\"deletedAt\":null,\"createdBy\":null,\"updatedBy\":null,\"deletedBy\":null},\"definition\":{\"id\":\"saga_definition_3A7asUefGeOu89QOTKpezJsyV4J\",\"bizId\":null,\"sagaKey\":\"uc-79-the-front-desk-manager-lisa\",\"title\":\"UC-79 • The Government Service Queue (DMV/Office) • The Front Desk Manager (Lisa)\",\"description\":\"Comprehensive lifecycle saga derived from UC-79 and persona P-3. Needs summary: Ticket-based queue system (take a number); Service categories with different estimated times; Fixed fees set by regulation (no dynamic pricing); Wait time estimates by service type; Multi-counter support (Window 1, Window 2, etc.); Appointment option for complex cases (separate from walk-in queue); Priority handling (elderly, disabled, urgent cases); Service complexity detection (simple renewal vs complex case); Overflow handling (come back tomorrow if closing soon)\",\"status\":\"active\",\"sourceUseCaseRef\":\"UC-79\",\"sourcePersonaRef\":\"P-3\",\"sourceUseCaseFile\":\"/Users/ameer/bizing/mind/workspace/documentation/use-cases-comprehensive.md\",\"sourcePersonaFile\":\"/Users/ameer/bizing/mind/workspace/documentation/tester-personas.md\",\"specVersion\":\"saga.v0\",\"specFilePath\":\"testing/sagas/specs/uc-79-the-front-desk-manager-lisa.json\",\"specChecksum\":\"06315b6dcc57881ba071d5cec193100b9b76672d4d5760c6e250f369bf4a762a\",\"metadata\":{\"tags\":[\"uc-derived\",\"persona-derived\",\"lifecycle\",\"api-first\",\"agents\"],\"generatedAt\":\"2026-02-24T20:12:26.391Z\"},\"createdAt\":\"2026-02-24T15:17:49.385Z\",\"updatedAt\":\"2026-02-24T15:17:49.385Z\",\"deletedAt\":null,\"createdBy\":null,\"updatedBy\":null,\"deletedBy\":null},\"spec\":{\"schemaVersion\":\"saga.v0\",\"sagaKey\":\"uc-79-the-front-desk-manager-lisa\",\"title\":\"UC-79 • The Government Service Queue (DMV/Office) • The Front Desk Manager (Lisa)\",\"description\":\"Comprehensive lifecycle saga derived from UC-79 and persona P-3. Needs summary: Ticket-based queue system (take a number); Service categories with different estimated times; Fixed fees set by regulation (no dynamic pricing); Wait time estimates by service type; Multi-counter support (Window 1, Window 2, etc.); Appointment option for complex cases (separate from walk-in queue); Priority handling (elderly, disabled, urgent cases); Service complexity detection (simple renewal vs complex case); Overflow handling (come back tomorrow if closing soon)\",\"tags\":[\"uc-derived\",\"persona-derived\",\"lifecycle\",\"api-first\",\"agents\"],\"defaults\":{\"runMode\":\"dry_run\",\"continueOnFailure\":false},\"source\":{\"useCaseRef\":\"UC-79\",\"personaRef\":\"P-3\",\"useCaseFile\":\"/Users/ameer/bizing/mind/workspace/documentation/use-cases-comprehensive.md\",\"personaFile\":\"/Users/ameer/bizing/mind/workspace/documentation/tester-personas.md\",\"generatedAt\":\"2026-02-24T20:12:26.391Z\"},\"objectives\":[\"Validate UC-79 lifecycle end-to-end using persona The Front Desk Manager (Lisa).\",\"Exercise owner setup, team setup, catalog publishing, and customer journeys.\",\"Stress ACL/security edge cases and verify expected denials are enforced.\",\"Collect snapshots and report artifacts for every critical milestone.\"],\"actors\":[{\"actorKey\":\"biz_owner\",\"name\":\"The Front Desk Manager (Lisa)\",\"role\":\"owner\",\"description\":\"Handles walk-ins, phones, bookings all day\",\"personaRef\":\"P-3\"},{\"actorKey\":\"biz_member\",\"name\":\"Operations Team Member\",\"role\":\"manager\",\"description\":\"Business member invited by owner to assist with operations and booking flow.\"},{\"actorKey\":\"customer_1\",\"name\":\"Customer One\",\"role\":\"customer\",\"description\":\"Primary customer exploring catalog, booking services, and purchasing products.\"},{\"actorKey\":\"customer_2\",\"name\":\"Customer Two\",\"role\":\"customer\",\"description\":\"Concurrent customer used to simulate realistic demand and race conditions.\"},{\"actorKey\":\"adversary\",\"name\":\"Adversarial User\",\"role\":\"malicious_actor\",\"description\":\"Actor intentionally attempting unauthorized or abusive actions.\"}],\"phases\":[{\"phaseKey\":\"owner-onboarding\",\"order\":1,\"title\":\"Owner Onboarding\",\"description\":\"Business owner signs up, authenticates, and establishes tenant root.\",\"steps\":[{\"stepKey\":\"owner-sign-up\",\"order\":1,\"title\":\"Owner signs up and authenticates\",\"actorKey\":\"biz_owner\",\"intent\":\"Establish authenticated owner identity for the lifecycle.\",\"instruction\":\"Create or login the owner account through Better Auth endpoints, then verify session context can call authenticated API routes.\",\"expectedResult\":\"Owner session exists and authenticated routes return success for this user.\",\"toolHints\":[],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"auth\",\"setup\"]},{\"stepKey\":\"owner-create-biz\",\"order\":2,\"title\":\"Owner creates business tenant\",\"actorKey\":\"biz_owner\",\"intent\":\"Create the biz root for all subsequent configuration.\",\"instruction\":\"Using agents tools, create a biz representing The Government Service Queue (DMV/Office). Use name/slug derived from saga context.\",\"expectedResult\":\"Biz is created, owner is auto-added as member with owner role, and biz id is captured.\",\"toolHints\":[\"bizing.bizes.create\"],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"biz\",\"setup\"]},{\"stepKey\":\"owner-create-location\",\"order\":3,\"title\":\"Owner creates primary location\",\"actorKey\":\"biz_owner\",\"intent\":\"Establish operational location for services/resources.\",\"instruction\":\"Create a primary location for the biz and set timezone aligned with scenario context.\",\"expectedResult\":\"Location exists and is associated with the new biz.\",\"toolHints\":[\"bizing.locations.create\"],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"location\",\"setup\"]}]},{\"phaseKey\":\"business-configuration\",\"order\":2,\"title\":\"Business Configuration\",\"description\":\"Owner configures scheduling, pricing baseline, and operational defaults.\",\"steps\":[{\"stepKey\":\"owner-configure-hours\",\"order\":4,\"title\":\"Configure default hours and availability mode\",\"actorKey\":\"biz_owner\",\"intent\":\"Set baseline availability without forcing advanced complexity.\",\"instruction\":\"Create baseline availability and lead-time rules representing the UC default business hours and booking window behavior.\",\"expectedResult\":\"Availability defaults and rules are stored and can be referenced by calendars.\",\"toolHints\":[],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"availability\",\"policy\"]},{\"stepKey\":\"owner-configure-pricing\",\"order\":5,\"title\":\"Configure default pricing rules\",\"actorKey\":\"biz_owner\",\"intent\":\"Set base pricing and optional manual demand overrides.\",\"instruction\":\"Configure pricing defaults for the offer lifecycle including call fees/manual surge if UC needs imply it.\",\"expectedResult\":\"Pricing model persists and future bookings can calculate totals deterministically.\",\"toolHints\":[],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"pricing\"]}]},{\"phaseKey\":\"supply-and-team-setup\",\"order\":3,\"title\":\"Supply And Team Setup\",\"description\":\"Business owner sets up hosts/assets/venues/resources and invites members.\",\"steps\":[{\"stepKey\":\"owner-create-resources\",\"order\":6,\"title\":\"Create resources representing hosts/assets/venues\",\"actorKey\":\"biz_owner\",\"intent\":\"Model real-world supply that bookings will consume.\",\"instruction\":\"Create at least one host resource and one non-host resource (asset or venue) suitable for the UC.\",\"expectedResult\":\"Resources are created with expected type, location, and buffers.\",\"toolHints\":[\"bizing.resources.create\"],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guardrails\":[],\"tags\":[\"resources\"]},{\"stepKey\":\"owner-invite-member\",\"order\":7,\"title\":\"Invite and provision business member\",\"actorKey\":\"biz_owner\",\"intent\":\"Validate collaboration and role assignment.\",\"instruction\":\"Invite a biz member, assign an operational role, and verify that member can authenticate into the same biz.\",\"expectedResult\":\"Biz member account/session exists with scoped role permissions.\",\"toolHints\":[],\"assertions\":[{\"kind\":\"api_response\",\"description\":\"API call returns success and includes stable ids for created entities.\"},{\"kind\":\"acl_guard\",\"description\":\"Actor permissions are honored for this step context.\"}],\"evidenceRequired\":[{\"kind\":\"api_trace\",\"label\":\"Request/response trace for this step\"},{\"kind\":\"snapshot\",\"label\":\"Structured snapshot.v1 screen blocks (what user saw) with real API-backed data\"}],\"guar",
        "_size": 1956068
      },
      "at": "2026-02-24T20:21:56.171Z"
    },
    {
      "method": "GET",
      "path": "/api/auth/get-session",
      "status": 200,
      "responseBody": {
        "session": {
          "expiresAt": "2026-03-03T20:21:56.067Z",
          "token": "GKF0UgjoAok9XnhR2Fv1YAwlywMQuJyX",
          "createdAt": "2026-02-24T20:21:56.067Z",
          "updatedAt": "2026-02-24T20:21:56.067Z",
          "ipAddress": "",
          "userAgent": "node",
          "userId": "tv6AVhfaqXwpfQnKyVgApkkQ1VLoJrxJ",
          "activeOrganizationId": null,
          "impersonatedBy": null,
          "id": "VmvFV4xR5wIS2budsyIJ6PYVUYUCCKsi"
        },
        "user": {
          "name": "customer2-uc-81-the-solo-entrepreneur-sarah",
          "email": "customer2-uc-81-the-solo-entrepreneur-sarah-1771964515909-gheurs@example.com",
          "emailVerified": false,
          "image": null,
          "createdAt": "2026-02-24T20:21:56.059Z",
          "updatedAt": "2026-02-24T20:21:56.059Z",
          "role": "user",
          "banned": false,
          "banReason": null,
          "banExpires": null,
          "id": "tv6AVhfaqXwpfQnKyVgApkkQ1VLoJrxJ"
        }
      },
      "at": "2026-02-24T20:21:56.171Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A8BqpRlp6ix1MSwgfC6hzSXJlL/traces",
      "status": 201,
      "requestBody": {
        "stepKey": "owner-create-location",
        "title": "Owner creates primary location API Trace",
        "trace": {
          "stepKey": "owner-create-location",
          "callCount": 3,
          "calls": [
            {
              "method": "POST",
              "path": "/api/v1/sagas/runs/saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA/steps/runner-submit-artifacts/result",
              "status": 200,
              "requestBody": {
                "status": "passed",
                "startedAt": "2026-02-24T20:21:55.679Z",
                "endedAt": "2026-02-24T20:21:55.679Z",
                "failureMessage": null,
                "resultPayload": {
                  "note": "Final report artifact submitted."
                },
                "assertionSummary": {
                  "status": "passed",
                  "hasFailure": false,
                  "assertionsPassed": 1
                }
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "saga_run_step_3A8BnF1u0kLkxdLa7F808sYpySy",
                  "sagaRunId": "saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA",
                  "phaseKey": "reporting-and-closeout",
                  "phaseOrder": 8,
                  "phaseTitle": "Reporting And Closeout",
                  "stepKey": "runner-submit-artifacts",
                  "stepOrder": 21,
                  "actorKey": "biz_owner",
                  "instruction": "Upload snapshots for critical steps and submit final markdown report summarizing pass/fail and discovered gaps.",
                  "expectedResult": "Run has persisted report + snapshots in project directory and indexed metadata in DB.",
                  "status": "passed",
                  "attemptCount": 1,
                  "startedAt": "2026-02-24T20:21:55.679Z",
                  "endedAt": "2026-02-24T20:21:55.679Z",
                  "failureCode": null,
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Final report artifact submitted."
                  },
                  "assertionSummary": {
                    "status": "passed",
                    "hasFailure": false,
                    "assertionsPassed": 1
                  },
                  "metadata": {},
                  "createdAt": "2026-02-24T20:21:21.363Z",
                  "updatedAt": "2026-02-24T20:21:21.363Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "196632ff-f29d-41e1-a287-9f12b8602425",
                  "timestamp": "2026-02-24T20:21:55.802Z"
                }
              },
              "at": "2026-02-24T20:21:55.827Z"
            },
            {
              "method": "POST",
              "path": "/api/v1/sagas/runs/saga_run_3A8BovttZQrl8YeFlC9pXhzsQA6/steps/adversary-hold-abuse/result",
              "status": 200,
              "requestBody": {
                "status": "passed",
                "startedAt": "2026-02-24T20:21:55.691Z",
                "endedAt": "2026-02-24T20:21:55.692Z",
                "failureMessage": null,
                "resultPayload": {
                  "note": "Repeated unauthorized hold attempts were blocked (403)."
                },
                "assertionSummary": {
                  "status": "passed",
                  "hasFailure": false,
                  "assertionsPassed": 1
                }
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "saga_run_step_3A8Boy0PuQLcEZHEsWPtpjrnWNb",
                  "sagaRunId": "saga_run_3A8BovttZQrl8YeFlC9pXhzsQA6",
                  "phaseKey": "security-and-abuse",
                  "phaseOrder": 6,
                  "phaseTitle": "Security And Abuse Checks",
                  "stepKey": "adversary-hold-abuse",
                  "stepOrder": 15,
                  "actorKey": "adversary",
                  "instruction": "Trigger repeated booking/hold-like attempts to validate throttling, expiry, or non-blocking demand visibility behavior.",
                  "expectedResult": "Abusive attempts are rate-limited or isolated without blocking legitimate customer flow.",
                  "status": "passed",
                  "attemptCount": 1,
                  "startedAt": "2026-02-24T20:21:55.691Z",
                  "endedAt": "2026-02-24T20:21:55.692Z",
                  "failureCode": null,
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Repeated unauthorized hold attempts were blocked (403)."
                  },
                  "assertionSummary": {
                    "status": "passed",
                    "hasFailure": false,
                    "assertionsPassed": 1
                  },
                  "metadata": {},
                  "createdAt": "2026-02-24T20:21:35.764Z",
                  "updatedAt": "2026-02-24T20:21:35.764Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "cc3a2af7-af7b-4c09-bd37-f698e58ea543",
                  "timestamp": "2026-02-24T20:21:55.812Z"
                }
              },
              "at": "2026-02-24T20:21:55.827Z"
            },
            {
              "method": "POST",
              "path": "/api/v1/bizes/3A8BqkIAqvZdIbCNmF65P8x751S/resources",
              "status": 201,
              "requestBody": {
                "locationId": "3A8BqubUFbrkWIE5a5GBtOgbHMO",
                "type": "asset",
                "name": "Primary Asset",
                "slug": "asset-yiz334m7",
                "capacity": 1,
                "bufferBeforeMinutes": 5,
                "bufferAfterMinutes": 5
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "3A8BrPhk3cg8dswNYbfHtXazw0f",
                  "bizId": "3A8BqkIAqvZdIbCNmF65P8x751S",
                  "locationId": "3A8BqubUFbrkWIE5a5GBtOgbHMO",
                  "type": "asset",
                  "name": "Primary Asset",
                  "slug": "asset-yiz334m7",
                  "description": null,
                  "timezone": "UTC",
                  "statusDefinitionId": null,
                  "hostUserId": null,
                  "groupAccountId": null,
                  "assetId": null,
                  "venueId": null,
                  "capacity": 1,
                  "allowSimultaneousBookings": false,
                  "maxSimultaneousBookings": null,
                  "bufferBeforeMinutes": 5,
                  "bufferAfterMinutes": 5,
                  "metadata": {},
                  "createdAt": "2026-02-24T20:21:55.825Z",
                  "updatedAt": "2026-02-24T20:21:55.825Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "c1f2e80f-3c5c-444a-bcbb-f2c67100d051",
                  "timestamp": "2026-02-24T20:21:55.828Z"
                }
              },
              "at": "2026-02-24T20:21:55.828Z"
            }
          ]
        },
        "metadata": {
          "source": "rerun-sagas.ts"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3A8Brf2d8zlpgDW8ThgzQq8dvJN",
          "sagaRunId": "saga_run_3A8BqpRlp6ix1MSwgfC6hzSXJlL",
          "sagaRunStepId": "saga_run_step_3A8BqoG2w5hvYLsiNGGkJnH8ntA",
          "artifactType": "api_trace",
          "title": "Owner creates primary location API Trace",
          "storagePath": "testing/sagas/runs/saga_run_3A8BqpRlp6ix1MSwgfC6hzSXJlL/artifacts/1771964516061-Owner_creates_primary_location_API_Trace.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"stepKey\": \"owner-create-location\",\n  \"callCount\": 3,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA/steps/runner-submit-artifacts/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"passed\",\n        \"startedAt\": \"2026-02-24T20:21:55.679Z\",\n        \"endedAt\": \"2026-02-24T20:21:55.679Z\",\n        \"failureMessage\": null,\n        \"resultPayload\": {\n          \"note\": \"Final report artifact submitted.\"\n        },\n        \"assertionSummary\": {\n          \"status\": \"passed\",\n          \"hasFailure\": false,\n          \"assertionsPassed\": 1\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3A8BnF1u0kLkxdLa7F808sYpySy\",\n          \"sagaRunId\": \"saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA\",\n          \"phaseKey\": \"reporting-and-closeout\",\n          \"phaseOrder\": 8,\n          \"phaseTitle\": \"Reporting And Closeout\",\n          \"stepKey\": \"runner-submit-artifacts\",\n          \"stepOrder\": 21,\n          \"actorKey\": \"biz_owner\",\n          \"instruction\": \"Upload snapshots for critical steps and submit final markdown report summarizing pass/fail and discovered gaps.\",\n          \"expectedResult\": \"Run has persisted report + snapshots in project directory and indexed metadata in DB.\",\n          \"status\": \"passed\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-24T20:21:55.679Z\",\n          \"endedAt\": \"2026-02-24T20:21:55.679Z\",\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Final report artifact submitted.\"\n          },\n          \"assertionSummary\": {\n            \"status\": \"passed\",\n            \"hasFailure\": false,\n            \"assertionsPassed\": 1\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T20:21:21.363Z\",\n          \"updatedAt\": \"2026-02-24T20:21:21.363Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"196632ff-f29d-41e1-a287-9f12b8602425\",\n          \"timestamp\": \"2026-02-24T20:21:55.802Z\"\n        }\n      },\n      \"at\": \"2026-02-24T20:21:55.827Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A8BovttZQrl8YeFlC9pXhzsQA6/steps/adversary-hold-abuse/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"passed\",\n        \"startedAt\": \"2026-02-24T20:21:55.691Z\",\n        \"endedAt\": \"2026-02-24T20:21:55.692Z\",\n        \"failureMessage\": null,\n        \"resultPayload\": {\n          \"note\": \"Repeated unauthorized hold attempts were blocked (403).\"\n        },\n        \"assertionSummary\": {\n          \"status\": \"passed\",\n          \"hasFailure\": false,\n          \"assertionsPassed\": 1\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3A8Boy0PuQLcEZHEsWPtpjrnWNb\",\n          \"sagaRunId\": \"saga_run_3A8BovttZQrl8YeFlC9pXhzsQA6\",\n          \"phaseKey\": \"security-and-abuse\",\n          \"phaseOrder\": 6,\n          \"phaseTitle\": \"Security And Abuse Checks\",\n          \"stepKey\": \"adversary-hold-abuse\",\n          \"stepOrder\": 15,\n          \"actorKey\": \"adversary\",\n          \"instruction\": \"Trigger repeated booking/hold-like attempts to validate throttling, expiry, or non-blocking demand visibility behavior.\",\n          \"expectedResult\": \"Abusive attempts are rate-limited or isolated without blocking legitimate customer flow.\",\n          \"status\": \"passed\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-24T20:21:55.691Z\",\n          \"endedAt\": \"2026-02-24T20:21:55.692Z\",\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Repeated unauthorized hold attempts were blocked (403).\"\n          },\n          \"assertionSummary\": {\n            \"status\": \"passed\",\n            \"hasFailure\": false,\n            \"assertionsPassed\": 1\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T20:21:35.764Z\",\n          \"updatedAt\": \"2026-02-24T20:21:35.764Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"cc3a2af7-af7b-4c09-bd37-f698e58ea543\",\n          \"timestamp\": \"2026-02-24T20:21:55.812Z\"\n        }\n      },\n      \"at\": \"2026-02-24T20:21:55.827Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/bizes/3A8BqkIAqvZdIbCNmF65P8x751S/resources\",\n      \"status\": 201,\n      \"requestBody\": {\n        \"locationId\": \"3A8BqubUFbrkWIE5a5GBtOgbHMO\",\n        \"type\": \"asset\",\n        \"name\": \"Primary Asset\",\n        \"slug\": \"asset-yiz334m7\",\n        \"capacity\": 1,\n        \"bufferBeforeMinutes\": 5,\n        \"bufferAfterMinutes\": 5\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"3A8BrPhk3cg8dswNYbfHtXazw0f\",\n          \"bizId\": \"3A8BqkIAqvZdIbCNmF65P8x751S\",\n          \"locationId\": \"3A8BqubUFbrkWIE5a5GBtOgbHMO\",\n          \"type\": \"asset\",\n          \"name\": \"Primary Asset\",\n          \"slug\": \"asset-yiz334m7\",\n          \"description\": null,\n          \"timezone\": \"UTC\",\n          \"statusDefinitionId\": null,\n          \"hostUserId\": null,\n          \"groupAccountId\": null,\n          \"assetId\": null,\n          \"venueId\": null,\n          \"capacity\": 1,\n          \"allowSimultaneousBookings\": false,\n          \"maxSimultaneousBookings\": null,\n          \"bufferBeforeMinutes\": 5,\n          \"bufferAfterMinutes\": 5,\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T20:21:55.825Z\",\n          \"updatedAt\": \"2026-02-24T20:21:55.825Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"c1f2e80f-3c5c-444a-bcbb-f2c67100d051\",\n          \"timestamp\": \"2026-02-24T20:21:55.828Z\"\n        }\n      },\n      \"at\": \"2026-02-24T20:21:55.828Z\"\n    }\n  ]\n}\n",
          "byteSize": 6022,
          "checksum": "0101b0c10ae3634b474b8aef07fed86874b75372c38f36b1ca6daf6cc815a5dc",
          "capturedAt": "2026-02-24T20:21:56.079Z",
          "metadata": {
            "source": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-24T20:21:56.079Z",
          "updatedAt": "2026-02-24T20:21:56.079Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "cbdfe0ad-540e-4806-ab96-b957da5bf3d9",
          "timestamp": "2026-02-24T20:21:56.132Z"
        }
      },
      "at": "2026-02-24T20:21:56.172Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A8BqLxB3g9XGEhcNYUEBbj6ti6/steps/owner-create-resources/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-24T20:21:55.963Z",
        "resultPayload": {
          "note": "Started owner-create-resources"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A8BqKGjKRHf5FdDMAAYYReFUGB",
          "sagaRunId": "saga_run_3A8BqLxB3g9XGEhcNYUEBbj6ti6",
          "phaseKey": "supply-and-team-setup",
          "phaseOrder": 3,
          "phaseTitle": "Supply And Team Setup",
          "stepKey": "owner-create-resources",
          "stepOrder": 6,
          "actorKey": "biz_owner",
          "instruction": "Create at least one host resource and one non-host resource (asset or venue) suitable for the UC.",
          "expectedResult": "Resources are created with expected type, location, and buffers.",
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-24T20:21:55.963Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started owner-create-resources"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-24T20:21:47.001Z",
          "updatedAt": "2026-02-24T20:21:47.001Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "0653edb5-388d-46df-b2a9-00bc0be4dba6",
          "timestamp": "2026-02-24T20:21:56.132Z"
        }
      },
      "at": "2026-02-24T20:21:56.172Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A8BpxKAXH0ZneFaasXzQqDG16f/snapshots",
      "status": 201,
      "requestBody": {
        "stepKey": "customer-sign-up",
        "screenKey": "customer-sign-up-1771964515901",
        "title": "Customer one signs up and logs in Snapshot",
        "status": "passed",
        "route": "/sagas/saga_run_3A8BpxKAXH0ZneFaasXzQqDG16f/customer-sign-up",
        "format": "json",
        "view": {
          "title": "Customer one signs up and logs in",
          "subtitle": "Primary customer account created.",
          "blocks": [
            {
              "type": "alert",
              "title": "Customer Sign Up completed",
              "message": "Primary customer account created.",
              "tone": "success"
            },
            {
              "type": "form",
              "title": "Account session state",
              "fields": [
                {
                  "label": "Customer user id",
                  "value": "9kOhc6wwfxauWVkcgAdNBupTeqGcty6F"
                },
                {
                  "label": "Email",
                  "value": "customer1-uc-82-the-mobile-service-provider-jake-1771964515099-0uc99p@example.com"
                },
                {
                  "label": "Session",
                  "value": "Active",
                  "state": "success"
                }
              ],
              "submitLabel": "Authenticated"
            },
            {
              "type": "key_value",
              "title": "Screen details",
              "items": [
                {
                  "label": "CustomerUserId",
                  "value": "9kOhc6wwfxauWVkcgAdNBupTeqGcty6F"
                },
                {
                  "label": "Email",
                  "value": "customer1-uc-82-the-mobile-service-provider-jake-1771964515099-0uc99p@example.com"
                }
              ]
            }
          ]
        },
        "rawData": {
          "stepKey": "customer-sign-up",
          "resultPayload": {
            "note": "Primary customer account created.",
            "evidence": {
              "customerUserId": "9kOhc6wwfxauWVkcgAdNBupTeqGcty6F",
              "email": "customer1-uc-82-the-mobile-service-provider-jake-1771964515099-0uc99p@example.com"
            }
          },
          "apiCalls": [
            {
              "method": "POST",
              "path": "/api/v1/sagas/runs/saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA/report",
              "status": 201,
              "requestBody": {
                "markdown": "# Auto Saga Report\n\n- sagaKey: `uc-79-the-front-desk-manager-lisa`\n- runId: `saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA`\n- generatedAt: `2026-02-24T20:21:54.997Z`\n\nAll lifecycle steps were executed by the API-only auto runner.",
                "summary": {
                  "source": "rerun-sagas.ts",
                  "auto": true
                }
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "saga_artifact_3A8BrUFOsXyd2skedPtk0WZkB8C",
                  "sagaRunId": "saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA",
                  "sagaRunStepId": null,
                  "artifactType": "report",
                  "title": "Saga Run Report",
                  "storagePath": "testing/sagas/runs/saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA/report-saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA.md",
                  "contentType": "text/markdown",
                  "bodyText": "# Auto Saga Report\n\n- sagaKey: `uc-79-the-front-desk-manager-lisa`\n- runId: `saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA`\n- generatedAt: `2026-02-24T20:21:54.997Z`\n\nAll lifecycle steps were executed by the API-only auto runner.",
                  "byteSize": 220,
                  "checksum": "9e9fe0d3b4c70e4a6bfce31cec111b8f44740e4d44db06947c26bfb91b88958a",
                  "capturedAt": "2026-02-24T20:21:55.035Z",
                  "metadata": {},
                  "createdAt": "2026-02-24T20:21:55.035Z",
                  "updatedAt": "2026-02-24T20:21:55.035Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "f4495ec0-c546-4907-8c89-f0351feb4d7e",
                  "timestamp": "2026-02-24T20:21:55.093Z"
                }
              },
              "at": "2026-02-24T20:21:55.099Z"
            }
          ]
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3A8BrYslzy9xh8sp6XwJAGilwpv",
          "sagaRunId": "saga_run_3A8BpxKAXH0ZneFaasXzQqDG16f",
          "sagaRunStepId": "saga_run_step_3A8BpycONGYQionIlRjxJlJszVO",
          "artifactType": "snapshot",
          "title": "Customer one signs up and logs in Snapshot",
          "storagePath": "testing/sagas/runs/saga_run_3A8BpxKAXH0ZneFaasXzQqDG16f/snapshots/2026-02-24T20-21-56-067Z-customer-sign-up-1771964515901.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"schemaVersion\": \"snapshot.v1\",\n  \"screenKey\": \"customer-sign-up-1771964515901\",\n  \"title\": \"Customer one signs up and logs in Snapshot\",\n  \"generatedAt\": \"2026-02-24T20:21:56.064Z\",\n  \"stepKey\": \"customer-sign-up\",\n  \"status\": \"passed\",\n  \"view\": {\n    \"title\": \"Customer one signs up and logs in\",\n    \"subtitle\": \"Primary customer account created.\",\n    \"blocks\": [\n      {\n        \"type\": \"alert\",\n        \"title\": \"Customer Sign Up completed\",\n        \"message\": \"Primary customer account created.\",\n        \"tone\": \"success\"\n      },\n      {\n        \"type\": \"form\",\n        \"title\": \"Account session state\",\n        \"fields\": [\n          {\n            \"label\": \"Customer user id\",\n            \"value\": \"9kOhc6wwfxauWVkcgAdNBupTeqGcty6F\",\n            \"state\": \"default\"\n          },\n          {\n            \"label\": \"Email\",\n            \"value\": \"customer1-uc-82-the-mobile-service-provider-jake-1771964515099-0uc99p@example.com\",\n            \"state\": \"default\"\n          },\n          {\n            \"label\": \"Session\",\n            \"value\": \"Active\",\n            \"state\": \"success\"\n          }\n        ],\n        \"submitLabel\": \"Authenticated\"\n      },\n      {\n        \"type\": \"key_value\",\n        \"title\": \"Screen details\",\n        \"items\": [\n          {\n            \"label\": \"CustomerUserId\",\n            \"value\": \"9kOhc6wwfxauWVkcgAdNBupTeqGcty6F\"\n          },\n          {\n            \"label\": \"Email\",\n            \"value\": \"customer1-uc-82-the-mobile-service-provider-jake-1771964515099-0uc99p@example.com\"\n          }\n        ]\n      }\n    ]\n  },\n  \"rawData\": {\n    \"stepKey\": \"customer-sign-up\",\n    \"resultPayload\": {\n      \"note\": \"Primary customer account created.\",\n      \"evidence\": {\n        \"customerUserId\": \"9kOhc6wwfxauWVkcgAdNBupTeqGcty6F\",\n        \"email\": \"customer1-uc-82-the-mobile-service-provider-jake-1771964515099-0uc99p@example.com\"\n      }\n    },\n    \"apiCalls\": [\n      {\n        \"method\": \"POST\",\n        \"path\": \"/api/v1/sagas/runs/saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA/report\",\n        \"status\": 201,\n        \"requestBody\": {\n          \"markdown\": \"# Auto Saga Report\\n\\n- sagaKey: `uc-79-the-front-desk-manager-lisa`\\n- runId: `saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA`\\n- generatedAt: `2026-02-24T20:21:54.997Z`\\n\\nAll lifecycle steps were executed by the API-only auto runner.\",\n          \"summary\": {\n            \"source\": \"rerun-sagas.ts\",\n            \"auto\": true\n          }\n        },\n        \"responseBody\": {\n          \"success\": true,\n          \"data\": {\n            \"id\": \"saga_artifact_3A8BrUFOsXyd2skedPtk0WZkB8C\",\n            \"sagaRunId\": \"saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA\",\n            \"sagaRunStepId\": null,\n            \"artifactType\": \"report\",\n            \"title\": \"Saga Run Report\",\n            \"storagePath\": \"testing/sagas/runs/saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA/report-saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA.md\",\n            \"contentType\": \"text/markdown\",\n            \"bodyText\": \"# Auto Saga Report\\n\\n- sagaKey: `uc-79-the-front-desk-manager-lisa`\\n- runId: `saga_run_3A8BnAojc6z5LvMOE9WmC0JBrSA`\\n- generatedAt: `2026-02-24T20:21:54.997Z`\\n\\nAll lifecycle steps were executed by the API-only auto runner.\",\n            \"byteSize\": 220,\n            \"checksum\": \"9e9fe0d3b4c70e4a6bfce31cec111b8f44740e4d44db06947c26bfb91b88958a\",\n            \"capturedAt\": \"2026-02-24T20:21:55.035Z\",\n            \"metadata\": {},\n            \"createdAt\": \"2026-02-24T20:21:55.035Z\",\n            \"updatedAt\": \"2026-02-24T20:21:55.035Z\",\n            \"deletedAt\": null,\n            \"createdBy\": null,\n            \"updatedBy\": null,\n            \"deletedBy\": null\n          },\n          \"meta\": {\n            \"requestId\": \"f4495ec0-c546-4907-8c89-f0351feb4d7e\",\n            \"timestamp\": \"2026-02-24T20:21:55.093Z\"\n          }\n        },\n        \"at\": \"2026-02-24T20:21:55.099Z\"\n      }\n    ]\n  },\n  \"metadata\": {}\n}\n",
          "byteSize": 3856,
          "checksum": "0eb1d9c3053500ed5f1627f8a913f6caac934be8fd9873d6c71eebf1ce5490ef",
          "capturedAt": "2026-02-24T20:21:56.081Z",
          "metadata": {
            "format": "json",
            "stepKey": "customer-sign-up",
            "screenKey": "customer-sign-up-1771964515901",
            "sourceFormat": "v1",
            "schemaVersion": "snapshot.v1"
          },
          "createdAt": "2026-02-24T20:21:56.081Z",
          "updatedAt": "2026-02-24T20:21:56.081Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "87eff727-5a21-4ee1-9682-5ce4b037bc63",
          "timestamp": "2026-02-24T20:21:56.133Z"
        }
      },
      "at": "2026-02-24T20:21:56.172Z"
    }
  ]
}
