{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-review-route-dispatch-state-1772036623108",
  "title": "Review route/dispatch operational state Snapshot",
  "generatedAt": "2026-02-25T16:23:43.117Z",
  "stepKey": "owner-review-route-dispatch-state",
  "status": "passed",
  "view": {
    "title": "Review route/dispatch operational state",
    "subtitle": "Dispatch/transport read-model fetched for the current biz scope.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Review Route Dispatch State completed",
        "message": "Dispatch/transport read-model fetched for the current biz scope.",
        "tone": "success"
      },
      {
        "type": "stats",
        "title": "What user sees at a glance",
        "items": [
          {
            "label": "UpcomingTripCount",
            "value": "0"
          },
          {
            "label": "RecentTaskCount",
            "value": "0"
          }
        ]
      },
      {
        "type": "key_value",
        "title": "Screen details",
        "items": [
          {
            "label": "LookaheadHours",
            "value": "48"
          },
          {
            "label": "RouteStatusBuckets",
            "value": "0"
          },
          {
            "label": "TripStatusBuckets",
            "value": "0"
          },
          {
            "label": "TaskStatusBuckets",
            "value": "0"
          },
          {
            "label": "UpcomingTripCount",
            "value": "0"
          },
          {
            "label": "RecentTaskCount",
            "value": "0"
          }
        ]
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-review-route-dispatch-state",
    "resultPayload": {
      "note": "Dispatch/transport read-model fetched for the current biz scope.",
      "evidence": {
        "lookaheadHours": 48,
        "routeStatusBuckets": 0,
        "tripStatusBuckets": 0,
        "taskStatusBuckets": 0,
        "upcomingTripCount": 0,
        "recentTaskCount": 0
      }
    },
    "apiCalls": [
      {
        "method": "GET",
        "path": "/api/v1/bizes/3AAY0CVvUjoAgTkvdXtvkrRhchN/dispatch/state?lookaheadHours=48&perEntityLimit=20",
        "status": 200,
        "responseBody": {
          "success": true,
          "data": {
            "at": "2026-02-25T16:23:42.843Z",
            "window": {
              "startAt": "2026-02-25T16:23:42.843Z",
              "endAt": "2026-02-27T16:23:42.843Z",
              "lookaheadHours": 48
            },
            "summaries": {
              "tasksByStatus": [],
              "tripsByStatus": [],
              "routesByStatus": []
            },
            "upcomingTrips": [],
            "recentTasks": []
          },
          "meta": {
            "requestId": "c9726d2e-bf35-4bf9-a02b-0d2f3160acc8",
            "timestamp": "2026-02-25T16:23:42.847Z"
          }
        },
        "at": "2026-02-25T16:23:42.848Z"
      }
    ],
    "contract": {
      "description": "Dispatch/route read-model step must call dispatch state endpoint.",
      "observedPaths": [
        "/api/v1/bizes/3AAY0CVvUjoAgTkvdXtvkrRhchN/dispatch/state?lookaheadHours=48&perEntityLimit=20"
      ],
      "matchedPaths": [
        "/api/v1/bizes/3AAY0CVvUjoAgTkvdXtvkrRhchN/dispatch/state?lookaheadHours=48&perEntityLimit=20"
      ],
      "rules": [
        {
          "label": "Dispatch state endpoint called",
          "passed": true,
          "expectedPatterns": [
            "\\/dispatch\\/state"
          ],
          "matchedPath": "/api/v1/bizes/3AAY0CVvUjoAgTkvdXtvkrRhchN/dispatch/state?lookaheadHours=48&perEntityLimit=20"
        }
      ],
      "passedRules": 1,
      "failedRules": 0
    }
  },
  "metadata": {}
}
