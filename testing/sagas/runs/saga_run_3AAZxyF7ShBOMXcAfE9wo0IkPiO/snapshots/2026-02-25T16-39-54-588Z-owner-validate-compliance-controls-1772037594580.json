{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-validate-compliance-controls-1772037594580",
  "title": "Validate compliance and credential controls Snapshot",
  "generatedAt": "2026-02-25T16:39:54.585Z",
  "stepKey": "owner-validate-compliance-controls",
  "status": "passed",
  "view": {
    "title": "Validate compliance and credential controls",
    "subtitle": "Compliance controls verified through canonical API endpoint.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Validate Compliance Controls completed",
        "message": "Compliance controls verified through canonical API endpoint.",
        "tone": "success"
      },
      {
        "type": "stats",
        "title": "What user sees at a glance",
        "items": [
          {
            "label": "PermissionCheckCount",
            "value": "5"
          }
        ]
      },
      {
        "type": "key_value",
        "title": "Screen details",
        "items": [
          {
            "label": "PermissionCheckCount",
            "value": "5"
          }
        ]
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-validate-compliance-controls",
    "resultPayload": {
      "note": "Compliance controls verified through canonical API endpoint.",
      "evidence": {
        "permissionCheckCount": 5,
        "credentialTotals": {
          "totalCredentials": 0,
          "activeCredentials": 0,
          "revokedCredentials": 0,
          "expiredCredentials": 0,
          "samples": []
        },
        "auditControls": {
          "auditStreamsCount": 0,
          "auditEventsCount": 0,
          "auditIntegrityRunsCount": 0
        },
        "warnings": []
      }
    },
    "apiCalls": [
      {
        "method": "GET",
        "path": "/api/v1/bizes/3AAZy5IaOLvmaxrOJQsGFYy9HsQ/compliance/controls",
        "status": 200,
        "responseBody": {
          "success": true,
          "data": {
            "bizId": "3AAZy5IaOLvmaxrOJQsGFYy9HsQ",
            "evaluatedAt": "2026-02-25T16:39:54.373Z",
            "accessControls": {
              "actorUserId": "1lEEb0XYWxOO0QWNUR9buanT2mRflFED",
              "actorRole": "user",
              "sensitivePermissionChecks": [
                {
                  "permissionKey": "booking_orders.read",
                  "allowed": true,
                  "reason": "allow at highest specificity",
                  "scopeType": "platform"
                },
                {
                  "permissionKey": "booking_orders.update",
                  "allowed": true,
                  "reason": "allow at highest specificity",
                  "scopeType": "platform"
                },
                {
                  "permissionKey": "members.read",
                  "allowed": true,
                  "reason": "allow at highest specificity",
                  "scopeType": "platform"
                },
                {
                  "permissionKey": "acl.read",
                  "allowed": true,
                  "reason": "allow at highest specificity",
                  "scopeType": "platform"
                },
                {
                  "permissionKey": "sagas.read",
                  "allowed": true,
                  "reason": "allow at highest specificity",
                  "scopeType": "platform"
                }
              ]
            },
            "privacyControls": {
              "tenantScopeEnforced": true,
              "crossBizIsolationEnforced": true
            },
            "credentialControls": {
              "totalCredentials": 0,
              "activeCredentials": 0,
              "revokedCredentials": 0,
              "expiredCredentials": 0,
              "samples": []
            },
            "auditControls": {
              "auditStreamsCount": 0,
              "auditEventsCount": 0,
              "auditIntegrityRunsCount": 0
            },
            "warnings": []
          },
          "meta": {
            "requestId": "3d77a597-3512-44d3-98c8-5ce1e64be82f",
            "timestamp": "2026-02-25T16:39:54.373Z"
          }
        },
        "at": "2026-02-25T16:39:54.374Z"
      }
    ],
    "contract": {
      "description": "Compliance controls step must read compliance controls endpoint.",
      "observedPaths": [
        "/api/v1/bizes/3AAZy5IaOLvmaxrOJQsGFYy9HsQ/compliance/controls"
      ],
      "matchedPaths": [
        "/api/v1/bizes/3AAZy5IaOLvmaxrOJQsGFYy9HsQ/compliance/controls"
      ],
      "rules": [
        {
          "label": "Compliance controls endpoint called",
          "passed": true,
          "expectedPatterns": [
            "\\/compliance\\/controls"
          ],
          "matchedPath": "/api/v1/bizes/3AAZy5IaOLvmaxrOJQsGFYy9HsQ/compliance/controls"
        }
      ],
      "passedRules": 1,
      "failedRules": 0
    }
  },
  "metadata": {}
}
