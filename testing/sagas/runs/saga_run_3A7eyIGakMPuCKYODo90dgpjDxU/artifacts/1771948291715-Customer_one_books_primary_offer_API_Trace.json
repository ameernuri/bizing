{
  "stepKey": "customer-book-primary",
  "callCount": 4,
  "calls": [
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A7eyYLrpwtVlD79aH2IHUcUE57/traces",
      "status": 201,
      "requestBody": {
        "stepKey": "owner-create-location",
        "title": "Owner creates primary location API Trace",
        "trace": {
          "stepKey": "owner-create-location",
          "callCount": 2,
          "calls": [
            {
              "method": "POST",
              "path": "/api/v1/sagas/runs/saga_run_3A7eyfOPFv782RIYzPSxJM8nFgQ/steps/owner-sign-up/result",
              "status": 200,
              "requestBody": {
                "status": "in_progress",
                "startedAt": "2026-02-24T15:51:31.625Z",
                "resultPayload": {
                  "note": "Started owner-sign-up"
                },
                "assertionSummary": {
                  "status": "in_progress"
                }
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "saga_run_step_3A7eyatIhR2G6AcG9W4mHvPXkzg",
                  "sagaRunId": "saga_run_3A7eyfOPFv782RIYzPSxJM8nFgQ",
                  "phaseKey": "owner-onboarding",
                  "phaseOrder": 1,
                  "phaseTitle": "Owner Onboarding",
                  "stepKey": "owner-sign-up",
                  "stepOrder": 1,
                  "actorKey": "biz_owner",
                  "instruction": "Create or login the owner account through Better Auth endpoints, then verify session context can call authenticated API routes.",
                  "expectedResult": "Owner session exists and authenticated routes return success for this user.",
                  "status": "in_progress",
                  "attemptCount": 1,
                  "startedAt": "2026-02-24T15:51:31.625Z",
                  "endedAt": null,
                  "failureCode": null,
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Started owner-sign-up"
                  },
                  "assertionSummary": {
                    "status": "in_progress"
                  },
                  "metadata": {},
                  "createdAt": "2026-02-24T15:51:31.048Z",
                  "updatedAt": "2026-02-24T15:51:31.048Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "f22588f0-3944-4196-b4e1-7cdd0057e133",
                  "timestamp": "2026-02-24T15:51:31.651Z"
                }
              },
              "at": "2026-02-24T15:51:31.652Z"
            },
            {
              "method": "POST",
              "path": "/api/v1/bizes/3A7eyW01UE4smYyZJ9W8uvTx22c/offers/offer_3A7eydOGpsKrIOJdtHEckKLu2Il/versions",
              "status": 201,
              "requestBody": {
                "version": 1,
                "status": "published",
                "durationMode": "fixed",
                "defaultDurationMin": 50,
                "basePriceMinor": 15000,
                "currency": "USD"
              },
              "responseBody": {
                "success": true,
                "data": {
                  "id": "offer_version_3A7eyhxwZFNCnAg2c1JAzV52ziv",
                  "bizId": "3A7eyW01UE4smYyZJ9W8uvTx22c",
                  "offerId": "offer_3A7eydOGpsKrIOJdtHEckKLu2Il",
                  "version": 1,
                  "status": "published",
                  "statusConfigValueId": null,
                  "publishAt": null,
                  "retireAt": null,
                  "durationMode": "fixed",
                  "durationModeConfigValueId": null,
                  "defaultDurationMin": 50,
                  "minDurationMin": null,
                  "maxDurationMin": null,
                  "durationStepMin": 15,
                  "basePriceMinor": 15000,
                  "currency": "USD",
                  "pricingModel": {},
                  "policyModel": {},
                  "capacityModel": {},
                  "revisionHash": null,
                  "metadata": {},
                  "createdAt": "2026-02-24T15:51:31.651Z",
                  "updatedAt": "2026-02-24T15:51:31.651Z",
                  "deletedAt": null,
                  "createdBy": null,
                  "updatedBy": null,
                  "deletedBy": null
                },
                "meta": {
                  "requestId": "8008730e-2c29-4eb0-81b8-eaab6733108e",
                  "timestamp": "2026-02-24T15:51:31.653Z"
                }
              },
              "at": "2026-02-24T15:51:31.653Z"
            }
          ]
        },
        "metadata": {
          "source": "rerun-sagas.ts"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3A7eycaPfxl5D4CE2AqFhW6k8Yv",
          "sagaRunId": "saga_run_3A7eyYLrpwtVlD79aH2IHUcUE57",
          "sagaRunStepId": "saga_run_step_3A7eyTYE1GnSaJabWwchQtzCJdY",
          "artifactType": "api_trace",
          "title": "Owner creates primary location API Trace",
          "storagePath": "testing/sagas/runs/saga_run_3A7eyYLrpwtVlD79aH2IHUcUE57/artifacts/1771948291667-Owner_creates_primary_location_API_Trace.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"stepKey\": \"owner-create-location\",\n  \"callCount\": 2,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A7eyfOPFv782RIYzPSxJM8nFgQ/steps/owner-sign-up/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"in_progress\",\n        \"startedAt\": \"2026-02-24T15:51:31.625Z\",\n        \"resultPayload\": {\n          \"note\": \"Started owner-sign-up\"\n        },\n        \"assertionSummary\": {\n          \"status\": \"in_progress\"\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3A7eyatIhR2G6AcG9W4mHvPXkzg\",\n          \"sagaRunId\": \"saga_run_3A7eyfOPFv782RIYzPSxJM8nFgQ\",\n          \"phaseKey\": \"owner-onboarding\",\n          \"phaseOrder\": 1,\n          \"phaseTitle\": \"Owner Onboarding\",\n          \"stepKey\": \"owner-sign-up\",\n          \"stepOrder\": 1,\n          \"actorKey\": \"biz_owner\",\n          \"instruction\": \"Create or login the owner account through Better Auth endpoints, then verify session context can call authenticated API routes.\",\n          \"expectedResult\": \"Owner session exists and authenticated routes return success for this user.\",\n          \"status\": \"in_progress\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-24T15:51:31.625Z\",\n          \"endedAt\": null,\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Started owner-sign-up\"\n          },\n          \"assertionSummary\": {\n            \"status\": \"in_progress\"\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T15:51:31.048Z\",\n          \"updatedAt\": \"2026-02-24T15:51:31.048Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"f22588f0-3944-4196-b4e1-7cdd0057e133\",\n          \"timestamp\": \"2026-02-24T15:51:31.651Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:51:31.652Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/bizes/3A7eyW01UE4smYyZJ9W8uvTx22c/offers/offer_3A7eydOGpsKrIOJdtHEckKLu2Il/versions\",\n      \"status\": 201,\n      \"requestBody\": {\n        \"version\": 1,\n        \"status\": \"published\",\n        \"durationMode\": \"fixed\",\n        \"defaultDurationMin\": 50,\n        \"basePriceMinor\": 15000,\n        \"currency\": \"USD\"\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"offer_version_3A7eyhxwZFNCnAg2c1JAzV52ziv\",\n          \"bizId\": \"3A7eyW01UE4smYyZJ9W8uvTx22c\",\n          \"offerId\": \"offer_3A7eydOGpsKrIOJdtHEckKLu2Il\",\n          \"version\": 1,\n          \"status\": \"published\",\n          \"statusConfigValueId\": null,\n          \"publishAt\": null,\n          \"retireAt\": null,\n          \"durationMode\": \"fixed\",\n          \"durationModeConfigValueId\": null,\n          \"defaultDurationMin\": 50,\n          \"minDurationMin\": null,\n          \"maxDurationMin\": null,\n          \"durationStepMin\": 15,\n          \"basePriceMinor\": 15000,\n          \"currency\": \"USD\",\n          \"pricingModel\": {},\n          \"policyModel\": {},\n          \"capacityModel\": {},\n          \"revisionHash\": null,\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T15:51:31.651Z\",\n          \"updatedAt\": \"2026-02-24T15:51:31.651Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"8008730e-2c29-4eb0-81b8-eaab6733108e\",\n          \"timestamp\": \"2026-02-24T15:51:31.653Z\"\n        }\n      },\n      \"at\": \"2026-02-24T15:51:31.653Z\"\n    }\n  ]\n}\n",
          "byteSize": 3598,
          "checksum": "885688f0c24ad8988e092efacb93306ebcc94f05978851a39cd154c02382b682",
          "capturedAt": "2026-02-24T15:51:31.675Z",
          "metadata": {
            "source": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-24T15:51:31.675Z",
          "updatedAt": "2026-02-24T15:51:31.675Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "7b8681a2-9474-450d-94cc-7efea4fa9815",
          "timestamp": "2026-02-24T15:51:31.694Z"
        }
      },
      "at": "2026-02-24T15:51:31.696Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A7eyOckrUmUO6FaHPAzAVAbVpX/steps/owner-create-offer/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-24T15:51:31.669Z",
        "resultPayload": {
          "note": "Started owner-create-offer"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A7eyKvGJBcDcgph6iAYwC0n3Um",
          "sagaRunId": "saga_run_3A7eyOckrUmUO6FaHPAzAVAbVpX",
          "phaseKey": "catalog-publish",
          "phaseOrder": 4,
          "phaseTitle": "Catalog And Publish",
          "stepKey": "owner-create-offer",
          "stepOrder": 9,
          "actorKey": "biz_owner",
          "instruction": "Create an offer representing the UC primary service; choose execution mode matching the scenario.",
          "expectedResult": "Offer is created in draft state with captured id.",
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-24T15:51:31.669Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started owner-create-offer"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-24T15:51:29.492Z",
          "updatedAt": "2026-02-24T15:51:29.492Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "a6fe4659-263c-4c72-8660-e42be04e2841",
          "timestamp": "2026-02-24T15:51:31.694Z"
        }
      },
      "at": "2026-02-24T15:51:31.696Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3A7eyYYKxMOqwmTNVIAQBXdhdVj/steps/owner-create-location/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-24T15:51:31.673Z",
        "resultPayload": {
          "note": "Started owner-create-location"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3A7eyZ2LO6pJksGz4zXke6fIX2p",
          "sagaRunId": "saga_run_3A7eyYYKxMOqwmTNVIAQBXdhdVj",
          "phaseKey": "owner-onboarding",
          "phaseOrder": 1,
          "phaseTitle": "Owner Onboarding",
          "stepKey": "owner-create-location",
          "stepOrder": 3,
          "actorKey": "biz_owner",
          "instruction": "Create a primary location for the biz and set timezone aligned with scenario context.",
          "expectedResult": "Location exists and is associated with the new biz.",
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-24T15:51:31.673Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started owner-create-location"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-24T15:51:30.797Z",
          "updatedAt": "2026-02-24T15:51:30.797Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "f8842943-d5b3-45e1-ad1f-9d0b567620e8",
          "timestamp": "2026-02-24T15:51:31.696Z"
        }
      },
      "at": "2026-02-24T15:51:31.697Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/bizes/3A7eyXYWFut5hyKAM3w0csGendF/resources",
      "status": 201,
      "requestBody": {
        "locationId": "3A7eyXgZngvNxeV1IZBfVaTgB3n",
        "type": "asset",
        "name": "Primary Asset",
        "slug": "asset-hfv6qezh",
        "capacity": 1,
        "bufferBeforeMinutes": 5,
        "bufferAfterMinutes": 5
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "3A7eybryjF6j5qyhAfDBmgafTAq",
          "bizId": "3A7eyXYWFut5hyKAM3w0csGendF",
          "locationId": "3A7eyXgZngvNxeV1IZBfVaTgB3n",
          "type": "asset",
          "name": "Primary Asset",
          "slug": "asset-hfv6qezh",
          "description": null,
          "timezone": "UTC",
          "statusDefinitionId": null,
          "hostUserId": null,
          "groupAccountId": null,
          "assetId": null,
          "venueId": null,
          "capacity": 1,
          "allowSimultaneousBookings": false,
          "maxSimultaneousBookings": null,
          "bufferBeforeMinutes": 5,
          "bufferAfterMinutes": 5,
          "metadata": {},
          "createdAt": "2026-02-24T15:51:31.699Z",
          "updatedAt": "2026-02-24T15:51:31.699Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "fdcc36d2-6aa7-4677-9509-6e07df0565b9",
          "timestamp": "2026-02-24T15:51:31.701Z"
        }
      },
      "at": "2026-02-24T15:51:31.702Z"
    }
  ]
}
