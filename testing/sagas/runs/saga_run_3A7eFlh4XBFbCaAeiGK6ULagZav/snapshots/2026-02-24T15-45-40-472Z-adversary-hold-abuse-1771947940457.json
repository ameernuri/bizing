{
  "schemaVersion": "snapshot.v1",
  "screenKey": "adversary-hold-abuse-1771947940457",
  "title": "Adversary attempts demand/hold abuse Snapshot",
  "generatedAt": "2026-02-24T15:45:40.468Z",
  "stepKey": "adversary-hold-abuse",
  "status": "passed",
  "view": {
    "title": "Adversary attempts demand/hold abuse",
    "subtitle": "Repeated unauthorized hold attempts were blocked (403).",
    "blocks": [
      {
        "type": "alert",
        "title": "Adversary Hold Abuse completed",
        "message": "Repeated unauthorized hold attempts were blocked (403).",
        "tone": "success"
      }
    ]
  },
  "rawData": {
    "stepKey": "adversary-hold-abuse",
    "resultPayload": {
      "note": "Repeated unauthorized hold attempts were blocked (403)."
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/bizes/3A7eFsdnoRiFA28nJvsImCBqQG1/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3A7eFzR337o5VRij49zpCBQAoyv",
          "offerVersionId": "offer_version_3A7eG6Sd7Fnsh9Lcx26z39QBzeC",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "a7860dbc-4a5c-49cb-a224-95080b0207c4",
            "timestamp": "2026-02-24T15:45:40.141Z"
          }
        },
        "at": "2026-02-24T15:45:40.141Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7eFry3NmvSBmyrrnBz6YeI5dc/steps/customer-book-primary/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:45:40.019Z",
          "resultPayload": {
            "note": "Started customer-book-primary"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7eFtY2UcelwVNFw9zsaMcYSqH",
            "sagaRunId": "saga_run_3A7eFry3NmvSBmyrrnBz6YeI5dc",
            "phaseKey": "customer-lifecycle",
            "phaseOrder": 5,
            "phaseTitle": "Customer Lifecycle",
            "stepKey": "customer-book-primary",
            "stepOrder": 12,
            "actorKey": "customer_1",
            "instruction": "Create a booking order using the published offer version with realistic times and monetary totals.",
            "expectedResult": "Booking order is created and linked to offer/offer version with coherent totals.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:45:40.019Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started customer-book-primary"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:45:35.421Z",
            "updatedAt": "2026-02-24T15:45:35.421Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "f7155748-0827-4184-a7c0-50a38249cd58",
            "timestamp": "2026-02-24T15:45:40.144Z"
          }
        },
        "at": "2026-02-24T15:45:40.145Z"
      },
      {
        "method": "GET",
        "path": "/api/auth/get-session",
        "status": 200,
        "responseBody": {
          "session": {
            "expiresAt": "2026-03-03T15:45:40.136Z",
            "token": "jKjGcRRDIoqACGXuhgeLQS7h8a37uvfm",
            "createdAt": "2026-02-24T15:45:40.136Z",
            "updatedAt": "2026-02-24T15:45:40.136Z",
            "ipAddress": "",
            "userAgent": "node",
            "userId": "m9Ay32yUVJNSTwRiDlbKMD2PEKeCnmUE",
            "activeOrganizationId": null,
            "impersonatedBy": null,
            "id": "nYRFwoiFx8wcxUT9BeHv2aziUwqrQE3t"
          },
          "user": {
            "name": "customer2-uc-190-the-solo-entrepreneur-sarah",
            "email": "customer2-uc-190-the-solo-entrepreneur-sarah-1771947940026-4kpa6l@example.com",
            "emailVerified": false,
            "image": null,
            "createdAt": "2026-02-24T15:45:40.131Z",
            "updatedAt": "2026-02-24T15:45:40.131Z",
            "role": "user",
            "banned": false,
            "banReason": null,
            "banExpires": null,
            "id": "m9Ay32yUVJNSTwRiDlbKMD2PEKeCnmUE"
          }
        },
        "at": "2026-02-24T15:45:40.146Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3A7eFsdnoRiFA28nJvsImCBqQG1/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3A7eFzR337o5VRij49zpCBQAoyv",
          "offerVersionId": "offer_version_3A7eG6Sd7Fnsh9Lcx26z39QBzeC",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "53ead844-4a3b-4cc2-87db-553b271c9a8f",
            "timestamp": "2026-02-24T15:45:40.146Z"
          }
        },
        "at": "2026-02-24T15:45:40.147Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7eFqFLb8gJ4ktotUjsapwqgEg/steps/member-review-bookings/result",
        "status": 200,
        "requestBody": {
          "status": "in_progress",
          "startedAt": "2026-02-24T15:45:40.029Z",
          "resultPayload": {
            "note": "Started member-review-bookings"
          },
          "assertionSummary": {
            "status": "in_progress"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_run_step_3A7eFleXV3epuEdwSwqi98jj7W7",
            "sagaRunId": "saga_run_3A7eFqFLb8gJ4ktotUjsapwqgEg",
            "phaseKey": "operations-and-follow-up",
            "phaseOrder": 7,
            "phaseTitle": "Operations And Follow-up",
            "stepKey": "member-review-bookings",
            "stepOrder": 16,
            "actorKey": "biz_member",
            "instruction": "As biz member, list bookings and progress one booking through operational status updates.",
            "expectedResult": "Authorized role can update status while preserving auditability and lifecycle consistency.",
            "status": "in_progress",
            "attemptCount": 1,
            "startedAt": "2026-02-24T15:45:40.029Z",
            "endedAt": null,
            "failureCode": null,
            "failureMessage": null,
            "resultPayload": {
              "note": "Started member-review-bookings"
            },
            "assertionSummary": {
              "status": "in_progress"
            },
            "metadata": {},
            "createdAt": "2026-02-24T15:45:34.726Z",
            "updatedAt": "2026-02-24T15:45:34.726Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "4153df73-313e-4650-bb2b-b593856701df",
            "timestamp": "2026-02-24T15:45:40.151Z"
          }
        },
        "at": "2026-02-24T15:45:40.162Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3A7eFsdnoRiFA28nJvsImCBqQG1/booking-orders",
        "status": 403,
        "requestBody": {
          "offerId": "offer_3A7eFzR337o5VRij49zpCBQAoyv",
          "offerVersionId": "offer_version_3A7eG6Sd7Fnsh9Lcx26z39QBzeC",
          "status": "draft",
          "subtotalMinor": 1000,
          "taxMinor": 0,
          "feeMinor": 0,
          "discountMinor": 0,
          "totalMinor": 1000,
          "currency": "USD"
        },
        "responseBody": {
          "success": false,
          "error": {
            "code": "FORBIDDEN",
            "message": "You are not a member of this biz."
          },
          "meta": {
            "requestId": "e85f4847-aa3f-4c59-89c6-c47f41ad4005",
            "timestamp": "2026-02-24T15:45:40.157Z"
          }
        },
        "at": "2026-02-24T15:45:40.162Z"
      }
    ]
  },
  "metadata": {}
}
