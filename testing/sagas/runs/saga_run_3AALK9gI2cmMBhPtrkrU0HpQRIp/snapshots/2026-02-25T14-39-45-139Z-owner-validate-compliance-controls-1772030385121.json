{
  "schemaVersion": "snapshot.v1",
  "screenKey": "owner-validate-compliance-controls-1772030385121",
  "title": "Validate compliance and credential controls Snapshot",
  "generatedAt": "2026-02-25T14:39:45.135Z",
  "stepKey": "owner-validate-compliance-controls",
  "status": "passed",
  "view": {
    "title": "Validate compliance and credential controls",
    "subtitle": "Compliance controls verified through canonical API endpoint.",
    "blocks": [
      {
        "type": "alert",
        "title": "Owner Validate Compliance Controls completed",
        "message": "Compliance controls verified through canonical API endpoint.",
        "tone": "success"
      },
      {
        "type": "stats",
        "title": "What user sees at a glance",
        "items": [
          {
            "label": "PermissionCheckCount",
            "value": "5"
          }
        ]
      },
      {
        "type": "key_value",
        "title": "Screen details",
        "items": [
          {
            "label": "PermissionCheckCount",
            "value": "5"
          }
        ]
      }
    ]
  },
  "rawData": {
    "stepKey": "owner-validate-compliance-controls",
    "resultPayload": {
      "note": "Compliance controls verified through canonical API endpoint.",
      "evidence": {
        "permissionCheckCount": 5,
        "credentialTotals": {
          "totalCredentials": 0,
          "activeCredentials": 0,
          "revokedCredentials": 0,
          "expiredCredentials": 0,
          "samples": []
        },
        "auditControls": {
          "auditStreamsCount": 0,
          "auditEventsCount": 0,
          "auditIntegrityRunsCount": 0
        },
        "warnings": []
      }
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/bizes/3AALKHd2T7MjtbAKD9CydpaR09y/channel-entity-links",
        "status": 201,
        "requestBody": {
          "channelAccountId": "channel_account_3AALMsbCyQ4nAEGaZwNDUw8Anvn",
          "objectType": "custom",
          "localReferenceKey": "uc-uc-1-the-group-event-organizer-gathering-gwen-hlh841",
          "externalObjectId": "ext-cxuklyp7hdg",
          "metadata": {
            "source": "saga-rerun"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "channel_link_3AALN4nVwfDM5pIb4zcD2jtBSaj",
            "bizId": "3AALKHd2T7MjtbAKD9CydpaR09y",
            "channelAccountId": "channel_account_3AALMsbCyQ4nAEGaZwNDUw8Anvn",
            "objectType": "custom",
            "offerVersionId": null,
            "bookingOrderId": null,
            "resourceId": null,
            "customerUserId": null,
            "localReferenceKey": "uc-uc-1-the-group-event-organizer-gathering-gwen-hlh841",
            "externalObjectId": "ext-cxuklyp7hdg",
            "externalParentId": null,
            "syncHash": null,
            "isActive": true,
            "lastSyncedAt": null,
            "metadata": {
              "source": "saga-rerun"
            },
            "createdAt": "2026-02-25T14:39:44.173Z",
            "updatedAt": "2026-02-25T14:39:44.173Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "e106e3e8-84a8-490a-b77a-13042f0daa39",
            "timestamp": "2026-02-25T14:39:44.185Z"
          }
        },
        "at": "2026-02-25T14:39:44.187Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/bizes/3AALKKr2s0H1ZxmAKnfhXSaZ0iv/channel-entity-links",
        "status": 201,
        "requestBody": {
          "channelAccountId": "channel_account_3AALMu6GSHIm7bQAJAs5RFdXA8j",
          "objectType": "custom",
          "localReferenceKey": "uc-uc-1-the-appointment-heavy-professional-dr-ch-qs2wt8",
          "externalObjectId": "ext-g3178q5wtxb",
          "metadata": {
            "source": "saga-rerun"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "channel_link_3AALN4q3uFrlHW0H4oReZvh15RD",
            "bizId": "3AALKKr2s0H1ZxmAKnfhXSaZ0iv",
            "channelAccountId": "channel_account_3AALMu6GSHIm7bQAJAs5RFdXA8j",
            "objectType": "custom",
            "offerVersionId": null,
            "bookingOrderId": null,
            "resourceId": null,
            "customerUserId": null,
            "localReferenceKey": "uc-uc-1-the-appointment-heavy-professional-dr-ch-qs2wt8",
            "externalObjectId": "ext-g3178q5wtxb",
            "externalParentId": null,
            "syncHash": null,
            "isActive": true,
            "lastSyncedAt": null,
            "metadata": {
              "source": "saga-rerun"
            },
            "createdAt": "2026-02-25T14:39:44.160Z",
            "updatedAt": "2026-02-25T14:39:44.160Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "5dcf1912-86e7-4c19-9df4-25dd811ea787",
            "timestamp": "2026-02-25T14:39:44.188Z"
          }
        },
        "at": "2026-02-25T14:39:44.188Z"
      },
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3AALK3lkVBOaqLj07RD5JAqeKH9/snapshots",
        "status": 201,
        "requestBody": {
          "stepKey": "customer-join-waitlist-flow",
          "screenKey": "customer-join-waitlist-flow-1772030383889",
          "title": "Customer enters waitlist/queue flow Snapshot",
          "status": "passed",
          "route": "/sagas/saga_run_3AALK3lkVBOaqLj07RD5JAqeKH9/customer-join-waitlist-flow",
          "format": "json",
          "view": {
            "title": "Customer enters waitlist/queue flow",
            "subtitle": "Customer joined waitlist and entry is visible to both customer and operator APIs.",
            "blocks": [
              {
                "type": "alert",
                "title": "Customer Join Waitlist Flow completed",
                "message": "Customer joined waitlist and entry is visible to both customer and operator APIs.",
                "tone": "success"
              },
              {
                "type": "stats",
                "title": "What user sees at a glance",
                "items": [
                  {
                    "label": "CustomerEntryCount",
                    "value": "1"
                  },
                  {
                    "label": "OperatorEntryCount",
                    "value": "1"
                  }
                ]
              },
              {
                "type": "key_value",
                "title": "Screen details",
                "items": [
                  {
                    "label": "QueueId",
                    "value": "queue_3AALMl6dLbFP2wwiPLcuIicqEZ5"
                  },
                  {
                    "label": "QueueEntryId",
                    "value": "queue_entry_3AALMouO9CHccjzjbbky7gVCU7e"
                  },
                  {
                    "label": "QueueEntryStatus",
                    "value": "waiting"
                  },
                  {
                    "label": "CustomerEntryCount",
                    "value": "1"
                  },
                  {
                    "label": "OperatorEntryCount",
                    "value": "1"
                  }
                ]
              }
            ]
          },
          "rawData": {
            "stepKey": "customer-join-waitlist-flow",
            "resultPayload": {
              "note": "Customer joined waitlist and entry is visible to both customer and operator APIs.",
              "evidence": {
                "queueId": "queue_3AALMl6dLbFP2wwiPLcuIicqEZ5",
                "queueEntryId": "queue_entry_3AALMouO9CHccjzjbbky7gVCU7e",
                "queueEntryStatus": "waiting",
                "customerEntryCount": 1,
                "operatorEntryCount": 1
              }
            },
            "apiCalls": [
              {
                "method": "GET",
                "path": "/api/v1/bizes/3AALKHOtYrNZA9cfkYvdAmMVNcV/booking-orders",
                "status": 403,
                "responseBody": {
                  "success": false,
                  "error": {
                    "code": "FORBIDDEN",
                    "message": "You are not a member of this biz."
                  },
                  "meta": {
                    "requestId": "e0e52da7-d9ad-4bd1-89b8-d87599dd7947",
                    "timestamp": "2026-02-25T14:39:42.774Z"
                  }
                },
                "at": "2026-02-25T14:39:42.776Z"
              }
            ]
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3AALMtp4pLU7YwsXu3JwxhBNol3",
            "sagaRunId": "saga_run_3AALK3lkVBOaqLj07RD5JAqeKH9",
            "sagaRunStepId": "saga_run_step_3AALK6tDprt9uotiYb7AgtH1DYb",
            "artifactType": "snapshot",
            "title": "Customer enters waitlist/queue flow Snapshot",
            "storagePath": "testing/sagas/runs/saga_run_3AALK3lkVBOaqLj07RD5JAqeKH9/snapshots/2026-02-25T14-39-43-911Z-customer-join-waitlist-flow-1772030383889.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"schemaVersion\": \"snapshot.v1\",\n  \"screenKey\": \"customer-join-waitlist-flow-1772030383889\",\n  \"title\": \"Customer enters waitlist/queue flow Snapshot\",\n  \"generatedAt\": \"2026-02-25T14:39:43.902Z\",\n  \"stepKey\": \"customer-join-waitlist-flow\",\n  \"status\": \"passed\",\n  \"view\": {\n    \"title\": \"Customer enters waitlist/queue flow\",\n    \"subtitle\": \"Customer joined waitlist and entry is visible to both customer and operator APIs.\",\n    \"blocks\": [\n      {\n        \"type\": \"alert\",\n        \"title\": \"Customer Join Waitlist Flow completed\",\n        \"message\": \"Customer joined waitlist and entry is visible to both customer and operator APIs.\",\n        \"tone\": \"success\"\n      },\n      {\n        \"type\": \"stats\",\n        \"title\": \"What user sees at a glance\",\n        \"items\": [\n          {\n            \"label\": \"CustomerEntryCount\",\n            \"value\": \"1\"\n          },\n          {\n            \"label\": \"OperatorEntryCount\",\n            \"value\": \"1\"\n          }\n        ]\n      },\n      {\n        \"type\": \"key_value\",\n        \"title\": \"Screen details\",\n        \"items\": [\n          {\n            \"label\": \"QueueId\",\n            \"value\": \"queue_3AALMl6dLbFP2wwiPLcuIicqEZ5\"\n          },\n          {\n            \"label\": \"QueueEntryId\",\n            \"value\": \"queue_entry_3AALMouO9CHccjzjbbky7gVCU7e\"\n          },\n          {\n            \"label\": \"QueueEntryStatus\",\n            \"value\": \"waiting\"\n          },\n          {\n            \"label\": \"CustomerEntryCount\",\n            \"value\": \"1\"\n          },\n          {\n            \"label\": \"OperatorEntryCount\",\n            \"value\": \"1\"\n          }\n        ]\n      }\n    ]\n  },\n  \"rawData\": {\n    \"stepKey\": \"customer-join-waitlist-flow\",\n    \"resultPayload\": {\n      \"note\": \"Customer joined waitlist and entry is visible to both customer and operator APIs.\",\n      \"evidence\": {\n        \"queueId\": \"queue_3AALMl6dLbFP2wwiPLcuIicqEZ5\",\n        \"queueEntryId\": \"queue_entry_3AALMouO9CHccjzjbbky7gVCU7e\",\n        \"queueEntryStatus\": \"waiting\",\n        \"customerEntryCount\": 1,\n        \"operatorEntryCount\": 1\n      }\n    },\n    \"apiCalls\": [\n      {\n        \"method\": \"GET\",\n        \"path\": \"/api/v1/bizes/3AALKHOtYrNZA9cfkYvdAmMVNcV/booking-orders\",\n        \"status\": 403,\n        \"responseBody\": {\n          \"success\": false,\n          \"error\": {\n            \"code\": \"FORBIDDEN\",\n            \"message\": \"You are not a member of this biz.\"\n          },\n          \"meta\": {\n            \"requestId\": \"e0e52da7-d9ad-4bd1-89b8-d87599dd7947\",\n            \"timestamp\": \"2026-02-25T14:39:42.774Z\"\n          }\n        },\n        \"at\": \"2026-02-25T14:39:42.776Z\"\n      }\n    ]\n  },\n  \"metadata\": {}\n}\n",
            "byteSize": 2635,
            "checksum": "fe919d2ee04f5de066cb89ac4774107e2ac4898d5eac4c2b9552966b0b3b1525",
            "capturedAt": "2026-02-25T14:39:43.942Z",
            "metadata": {
              "format": "json",
              "stepKey": "customer-join-waitlist-flow",
              "screenKey": "customer-join-waitlist-flow-1772030383889",
              "sourceFormat": "v1",
              "schemaVersion": "snapshot.v1"
            },
            "createdAt": "2026-02-25T14:39:43.942Z",
            "updatedAt": "2026-02-25T14:39:43.942Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "7c2fe474-204d-4646-a161-c5bf91df9e5e",
            "timestamp": "2026-02-25T14:39:44.198Z"
          }
        },
        "at": "2026-02-25T14:39:44.199Z"
      }
    ]
  },
  "metadata": {}
}
