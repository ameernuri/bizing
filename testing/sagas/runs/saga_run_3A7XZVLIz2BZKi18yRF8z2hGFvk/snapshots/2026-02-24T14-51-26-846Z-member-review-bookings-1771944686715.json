{
  "schemaVersion": "snapshot.v1",
  "screenKey": "member-review-bookings-1771944686715",
  "title": "Biz member reviews and updates booking status Snapshot",
  "generatedAt": "2026-02-24T14:51:26.845Z",
  "stepKey": "member-review-bookings",
  "status": "passed",
  "view": {
    "title": "Biz member reviews and updates booking status",
    "subtitle": "Bookings reviewed and one booking progressed.",
    "blocks": [
      {
        "type": "alert",
        "title": "Member Review Bookings completed",
        "message": "Bookings reviewed and one booking progressed.",
        "tone": "success"
      },
      {
        "type": "key_value",
        "title": "Screen details",
        "items": [
          {
            "label": "TargetId",
            "value": "booking_order_3A7XeQv7E1vxdeC4cI2lI1Zj1kT"
          }
        ]
      }
    ]
  },
  "rawData": {
    "stepKey": "member-review-bookings",
    "resultPayload": {
      "note": "Bookings reviewed and one booking progressed.",
      "evidence": {
        "targetId": "booking_order_3A7XeQv7E1vxdeC4cI2lI1Zj1kT"
      }
    },
    "apiCalls": [
      {
        "method": "POST",
        "path": "/api/v1/sagas/runs/saga_run_3A7XZOtqAcOJsTLNw2g9uks968E/traces",
        "status": 201,
        "requestBody": {
          "stepKey": "adversary-hold-abuse",
          "title": "Adversary attempts demand/hold abuse API Trace",
          "trace": {
            "stepKey": "adversary-hold-abuse",
            "callCount": 4,
            "calls": [
              {
                "method": "POST",
                "path": "/api/v1/sagas/runs/saga_run_3A7XZVLIz2BZKi18yRF8z2hGFvk/steps/adversary-hold-abuse/result",
                "status": 200,
                "requestBody": {
                  "status": "passed",
                  "startedAt": "2026-02-24T14:51:23.110Z",
                  "endedAt": "2026-02-24T14:51:23.110Z",
                  "failureMessage": null,
                  "resultPayload": {
                    "note": "Repeated unauthorized hold attempts were blocked (403)."
                  },
                  "assertionSummary": {
                    "status": "passed",
                    "hasFailure": false,
                    "assertionsPassed": 1
                  }
                },
                "responseBody": {
                  "success": true,
                  "data": {
                    "id": "saga_run_step_3A7XZUXsqRxFHf7rExycvjpYBo5",
                    "sagaRunId": "saga_run_3A7XZVLIz2BZKi18yRF8z2hGFvk",
                    "phaseKey": "security-and-abuse",
                    "phaseOrder": 6,
                    "phaseTitle": "Security And Abuse Checks",
                    "stepKey": "adversary-hold-abuse",
                    "stepOrder": 15,
                    "actorKey": "adversary",
                    "instruction": "Trigger repeated booking/hold-like attempts to validate throttling, expiry, or non-blocking demand visibility behavior.",
                    "expectedResult": "Abusive attempts are rate-limited or isolated without blocking legitimate customer flow.",
                    "status": "passed",
                    "attemptCount": 1,
                    "startedAt": "2026-02-24T14:51:23.110Z",
                    "endedAt": "2026-02-24T14:51:23.110Z",
                    "failureCode": null,
                    "failureMessage": null,
                    "resultPayload": {
                      "note": "Repeated unauthorized hold attempts were blocked (403)."
                    },
                    "assertionSummary": {
                      "status": "passed",
                      "hasFailure": false,
                      "assertionsPassed": 1
                    },
                    "metadata": {},
                    "createdAt": "2026-02-24T14:50:37.610Z",
                    "updatedAt": "2026-02-24T14:50:37.610Z",
                    "deletedAt": null,
                    "createdBy": null,
                    "updatedBy": null,
                    "deletedBy": null
                  },
                  "meta": {
                    "requestId": "ab61bdb7-5877-45f0-955e-5a69b392d14e",
                    "timestamp": "2026-02-24T14:51:24.071Z"
                  }
                },
                "at": "2026-02-24T14:51:24.073Z"
              },
              {
                "method": "POST",
                "path": "/api/v1/bizes/3A7XasNW1d9z8lCYnwyc1OzEwmx/booking-orders",
                "status": 403,
                "requestBody": {
                  "offerId": "offer_3A7XcoxklnrweUTqSVGXrXqSqYI",
                  "offerVersionId": "offer_version_3A7XdC8E6Pk6wdZykeccKTRI0aP",
                  "status": "draft",
                  "subtotalMinor": 1000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 1000,
                  "currency": "USD"
                },
                "responseBody": {
                  "success": false,
                  "error": {
                    "code": "FORBIDDEN",
                    "message": "You are not a member of this biz."
                  },
                  "meta": {
                    "requestId": "6209606a-3a48-40ba-abc3-1d0f17ce9970",
                    "timestamp": "2026-02-24T14:51:24.157Z"
                  }
                },
                "at": "2026-02-24T14:51:24.158Z"
              },
              {
                "method": "POST",
                "path": "/api/v1/bizes/3A7XasNW1d9z8lCYnwyc1OzEwmx/booking-orders",
                "status": 403,
                "requestBody": {
                  "offerId": "offer_3A7XcoxklnrweUTqSVGXrXqSqYI",
                  "offerVersionId": "offer_version_3A7XdC8E6Pk6wdZykeccKTRI0aP",
                  "status": "draft",
                  "subtotalMinor": 1000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 1000,
                  "currency": "USD"
                },
                "responseBody": {
                  "success": false,
                  "error": {
                    "code": "FORBIDDEN",
                    "message": "You are not a member of this biz."
                  },
                  "meta": {
                    "requestId": "7d190835-1643-4018-bf0a-72a0f1fec2f4",
                    "timestamp": "2026-02-24T14:51:24.282Z"
                  }
                },
                "at": "2026-02-24T14:51:24.282Z"
              },
              {
                "method": "POST",
                "path": "/api/v1/bizes/3A7XasNW1d9z8lCYnwyc1OzEwmx/booking-orders",
                "status": 403,
                "requestBody": {
                  "offerId": "offer_3A7XcoxklnrweUTqSVGXrXqSqYI",
                  "offerVersionId": "offer_version_3A7XdC8E6Pk6wdZykeccKTRI0aP",
                  "status": "draft",
                  "subtotalMinor": 1000,
                  "taxMinor": 0,
                  "feeMinor": 0,
                  "discountMinor": 0,
                  "totalMinor": 1000,
                  "currency": "USD"
                },
                "responseBody": {
                  "success": false,
                  "error": {
                    "code": "FORBIDDEN",
                    "message": "You are not a member of this biz."
                  },
                  "meta": {
                    "requestId": "de4b67f9-6c5f-4f0b-b99f-3ed66fd47cd2",
                    "timestamp": "2026-02-24T14:51:24.417Z"
                  }
                },
                "at": "2026-02-24T14:51:24.418Z"
              }
            ]
          },
          "metadata": {
            "source": "rerun-sagas.ts"
          }
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "saga_artifact_3A7XfPKGjkRPMQPgDYwpuQyAlxb",
            "sagaRunId": "saga_run_3A7XZOtqAcOJsTLNw2g9uks968E",
            "sagaRunStepId": "saga_run_step_3A7XZPF9H2ZJDGVo476gETJIYjx",
            "artifactType": "api_trace",
            "title": "Adversary attempts demand/hold abuse API Trace",
            "storagePath": "testing/sagas/runs/saga_run_3A7XZOtqAcOJsTLNw2g9uks968E/artifacts/1771944684531-Adversary_attempts_demand_hold_abuse_API_Trace.json",
            "contentType": "application/json",
            "bodyText": "{\n  \"stepKey\": \"adversary-hold-abuse\",\n  \"callCount\": 4,\n  \"calls\": [\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/sagas/runs/saga_run_3A7XZVLIz2BZKi18yRF8z2hGFvk/steps/adversary-hold-abuse/result\",\n      \"status\": 200,\n      \"requestBody\": {\n        \"status\": \"passed\",\n        \"startedAt\": \"2026-02-24T14:51:23.110Z\",\n        \"endedAt\": \"2026-02-24T14:51:23.110Z\",\n        \"failureMessage\": null,\n        \"resultPayload\": {\n          \"note\": \"Repeated unauthorized hold attempts were blocked (403).\"\n        },\n        \"assertionSummary\": {\n          \"status\": \"passed\",\n          \"hasFailure\": false,\n          \"assertionsPassed\": 1\n        }\n      },\n      \"responseBody\": {\n        \"success\": true,\n        \"data\": {\n          \"id\": \"saga_run_step_3A7XZUXsqRxFHf7rExycvjpYBo5\",\n          \"sagaRunId\": \"saga_run_3A7XZVLIz2BZKi18yRF8z2hGFvk\",\n          \"phaseKey\": \"security-and-abuse\",\n          \"phaseOrder\": 6,\n          \"phaseTitle\": \"Security And Abuse Checks\",\n          \"stepKey\": \"adversary-hold-abuse\",\n          \"stepOrder\": 15,\n          \"actorKey\": \"adversary\",\n          \"instruction\": \"Trigger repeated booking/hold-like attempts to validate throttling, expiry, or non-blocking demand visibility behavior.\",\n          \"expectedResult\": \"Abusive attempts are rate-limited or isolated without blocking legitimate customer flow.\",\n          \"status\": \"passed\",\n          \"attemptCount\": 1,\n          \"startedAt\": \"2026-02-24T14:51:23.110Z\",\n          \"endedAt\": \"2026-02-24T14:51:23.110Z\",\n          \"failureCode\": null,\n          \"failureMessage\": null,\n          \"resultPayload\": {\n            \"note\": \"Repeated unauthorized hold attempts were blocked (403).\"\n          },\n          \"assertionSummary\": {\n            \"status\": \"passed\",\n            \"hasFailure\": false,\n            \"assertionsPassed\": 1\n          },\n          \"metadata\": {},\n          \"createdAt\": \"2026-02-24T14:50:37.610Z\",\n          \"updatedAt\": \"2026-02-24T14:50:37.610Z\",\n          \"deletedAt\": null,\n          \"createdBy\": null,\n          \"updatedBy\": null,\n          \"deletedBy\": null\n        },\n        \"meta\": {\n          \"requestId\": \"ab61bdb7-5877-45f0-955e-5a69b392d14e\",\n          \"timestamp\": \"2026-02-24T14:51:24.071Z\"\n        }\n      },\n      \"at\": \"2026-02-24T14:51:24.073Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/bizes/3A7XasNW1d9z8lCYnwyc1OzEwmx/booking-orders\",\n      \"status\": 403,\n      \"requestBody\": {\n        \"offerId\": \"offer_3A7XcoxklnrweUTqSVGXrXqSqYI\",\n        \"offerVersionId\": \"offer_version_3A7XdC8E6Pk6wdZykeccKTRI0aP\",\n        \"status\": \"draft\",\n        \"subtotalMinor\": 1000,\n        \"taxMinor\": 0,\n        \"feeMinor\": 0,\n        \"discountMinor\": 0,\n        \"totalMinor\": 1000,\n        \"currency\": \"USD\"\n      },\n      \"responseBody\": {\n        \"success\": false,\n        \"error\": {\n          \"code\": \"FORBIDDEN\",\n          \"message\": \"You are not a member of this biz.\"\n        },\n        \"meta\": {\n          \"requestId\": \"6209606a-3a48-40ba-abc3-1d0f17ce9970\",\n          \"timestamp\": \"2026-02-24T14:51:24.157Z\"\n        }\n      },\n      \"at\": \"2026-02-24T14:51:24.158Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/bizes/3A7XasNW1d9z8lCYnwyc1OzEwmx/booking-orders\",\n      \"status\": 403,\n      \"requestBody\": {\n        \"offerId\": \"offer_3A7XcoxklnrweUTqSVGXrXqSqYI\",\n        \"offerVersionId\": \"offer_version_3A7XdC8E6Pk6wdZykeccKTRI0aP\",\n        \"status\": \"draft\",\n        \"subtotalMinor\": 1000,\n        \"taxMinor\": 0,\n        \"feeMinor\": 0,\n        \"discountMinor\": 0,\n        \"totalMinor\": 1000,\n        \"currency\": \"USD\"\n      },\n      \"responseBody\": {\n        \"success\": false,\n        \"error\": {\n          \"code\": \"FORBIDDEN\",\n          \"message\": \"You are not a member of this biz.\"\n        },\n        \"meta\": {\n          \"requestId\": \"7d190835-1643-4018-bf0a-72a0f1fec2f4\",\n          \"timestamp\": \"2026-02-24T14:51:24.282Z\"\n        }\n      },\n      \"at\": \"2026-02-24T14:51:24.282Z\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/v1/bizes/3A7XasNW1d9z8lCYnwyc1OzEwmx/booking-orders\",\n      \"status\": 403,\n      \"requestBody\": {\n        \"offerId\": \"offer_3A7XcoxklnrweUTqSVGXrXqSqYI\",\n        \"offerVersionId\": \"offer_version_3A7XdC8E6Pk6wdZykeccKTRI0aP\",\n        \"status\": \"draft\",\n        \"subtotalMinor\": 1000,\n        \"taxMinor\": 0,\n        \"feeMinor\": 0,\n        \"discountMinor\": 0,\n        \"totalMinor\": 1000,\n        \"currency\": \"USD\"\n      },\n      \"responseBody\": {\n        \"success\": false,\n        \"error\": {\n          \"code\": \"FORBIDDEN\",\n          \"message\": \"You are not a member of this biz.\"\n        },\n        \"meta\": {\n          \"requestId\": \"de4b67f9-6c5f-4f0b-b99f-3ed66fd47cd2\",\n          \"timestamp\": \"2026-02-24T14:51:24.417Z\"\n        }\n      },\n      \"at\": \"2026-02-24T14:51:24.418Z\"\n    }\n  ]\n}\n",
            "byteSize": 4798,
            "checksum": "66e7f86cea9418c0d1bce7d6f41e6b064287165b75711fc9111d34ef391f7465",
            "capturedAt": "2026-02-24T14:51:24.634Z",
            "metadata": {
              "source": "rerun-sagas.ts"
            },
            "createdAt": "2026-02-24T14:51:24.634Z",
            "updatedAt": "2026-02-24T14:51:24.634Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "853da941-434a-4a66-8125-15e60fde0318",
            "timestamp": "2026-02-24T14:51:24.876Z"
          }
        },
        "at": "2026-02-24T14:51:24.877Z"
      },
      {
        "method": "GET",
        "path": "/api/v1/bizes/3A7XanolNmKst69syhQUycvPbCm/booking-orders?perPage=20",
        "status": 200,
        "responseBody": {
          "success": true,
          "data": [
            {
              "id": "booking_order_3A7XeQv7E1vxdeC4cI2lI1Zj1kT",
              "bizId": "3A7XanolNmKst69syhQUycvPbCm",
              "offerId": "offer_3A7XcsUQdZ9Olt0Hm4oZ3pDJmdB",
              "offerVersionId": "offer_version_3A7XdFhfdwKeBUywtzmznK41e51",
              "customerUserId": "QEvf5b6J42uipmQdq0aBSfZFwgoy85Tp",
              "customerGroupAccountId": null,
              "status": "confirmed",
              "statusConfigValueId": null,
              "currency": "USD",
              "subtotalMinor": 15000,
              "taxMinor": 0,
              "feeMinor": 0,
              "discountMinor": 0,
              "totalMinor": 15000,
              "requestedStartAt": "2026-02-25T14:51:17.446Z",
              "requestedEndAt": "2026-02-25T15:41:17.446Z",
              "confirmedStartAt": "2026-02-25T14:51:17.446Z",
              "confirmedEndAt": "2026-02-25T15:41:17.446Z",
              "pricingSnapshot": {},
              "policySnapshot": {},
              "metadata": {},
              "createdAt": "2026-02-24T14:51:17.693Z",
              "updatedAt": "2026-02-24T14:51:17.693Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            },
            {
              "id": "booking_order_3A7Xe46daP77c4yotii2kiqWFJY",
              "bizId": "3A7XanolNmKst69syhQUycvPbCm",
              "offerId": "offer_3A7XcsUQdZ9Olt0Hm4oZ3pDJmdB",
              "offerVersionId": "offer_version_3A7XdFhfdwKeBUywtzmznK41e51",
              "customerUserId": "jjRBeDthaP3mivB2MKKo65tObuRrSiof",
              "customerGroupAccountId": null,
              "status": "confirmed",
              "statusConfigValueId": null,
              "currency": "USD",
              "subtotalMinor": 15000,
              "taxMinor": 0,
              "feeMinor": 0,
              "discountMinor": 0,
              "totalMinor": 15000,
              "requestedStartAt": "2026-02-25T14:51:14.643Z",
              "requestedEndAt": "2026-02-25T15:41:14.643Z",
              "confirmedStartAt": "2026-02-25T14:51:14.643Z",
              "confirmedEndAt": "2026-02-25T15:41:14.643Z",
              "pricingSnapshot": {},
              "policySnapshot": {},
              "metadata": {},
              "createdAt": "2026-02-24T14:51:14.856Z",
              "updatedAt": "2026-02-24T14:51:14.856Z",
              "deletedAt": null,
              "createdBy": null,
              "updatedBy": null,
              "deletedBy": null
            }
          ],
          "meta": {
            "requestId": "5fda54f2-ab94-4e14-9af9-07222f8a6696",
            "timestamp": "2026-02-24T14:51:24.887Z"
          },
          "pagination": {
            "page": 1,
            "perPage": 20,
            "total": 2,
            "hasMore": false
          }
        },
        "at": "2026-02-24T14:51:24.887Z"
      },
      {
        "method": "PATCH",
        "path": "/api/v1/bizes/3A7XanolNmKst69syhQUycvPbCm/booking-orders/booking_order_3A7XeQv7E1vxdeC4cI2lI1Zj1kT/status",
        "status": 200,
        "requestBody": {
          "status": "in_progress"
        },
        "responseBody": {
          "success": true,
          "data": {
            "id": "booking_order_3A7XeQv7E1vxdeC4cI2lI1Zj1kT",
            "bizId": "3A7XanolNmKst69syhQUycvPbCm",
            "offerId": "offer_3A7XcsUQdZ9Olt0Hm4oZ3pDJmdB",
            "offerVersionId": "offer_version_3A7XdFhfdwKeBUywtzmznK41e51",
            "customerUserId": "QEvf5b6J42uipmQdq0aBSfZFwgoy85Tp",
            "customerGroupAccountId": null,
            "status": "in_progress",
            "statusConfigValueId": null,
            "currency": "USD",
            "subtotalMinor": 15000,
            "taxMinor": 0,
            "feeMinor": 0,
            "discountMinor": 0,
            "totalMinor": 15000,
            "requestedStartAt": "2026-02-25T14:51:17.446Z",
            "requestedEndAt": "2026-02-25T15:41:17.446Z",
            "confirmedStartAt": "2026-02-25T14:51:17.446Z",
            "confirmedEndAt": "2026-02-25T15:41:17.446Z",
            "pricingSnapshot": {},
            "policySnapshot": {},
            "metadata": {},
            "createdAt": "2026-02-24T14:51:17.693Z",
            "updatedAt": "2026-02-24T14:51:17.693Z",
            "deletedAt": null,
            "createdBy": null,
            "updatedBy": null,
            "deletedBy": null
          },
          "meta": {
            "requestId": "2ccc07fc-0dcb-46a0-af91-f1a9fae7b043",
            "timestamp": "2026-02-24T14:51:25.287Z"
          }
        },
        "at": "2026-02-24T14:51:25.287Z"
      }
    ]
  },
  "metadata": {}
}
