{
  "stepKey": "adversary-hold-abuse",
  "callCount": 7,
  "calls": [
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP89P4W7iICACgSzsODjtD16g/steps/adversary-cross-biz-read/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-25T15:10:51.219Z",
        "resultPayload": {
          "note": "Started adversary-cross-biz-read"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAP89gRIXpBrNu9Djw47YyFz0x",
          "sagaRunId": "saga_run_3AAP89P4W7iICACgSzsODjtD16g",
          "phaseKey": "security-and-abuse",
          "phaseOrder": 6,
          "phaseTitle": "Security And Abuse Checks",
          "stepKey": "adversary-cross-biz-read",
          "stepOrder": 14,
          "actorKey": "adversary",
          "instruction": "Using credentials from another context, attempt to read or mutate booking/order resources for this biz.",
          "expectedResult": "Request is rejected with forbidden/unauthorized error and no data leakage.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:10:51.219Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started adversary-cross-biz-read"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:10:39.186Z",
          "updatedAt": "2026-02-25T15:10:39.186Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "1c064ffe-c15c-4a60-bc90-f83e6d376323",
          "timestamp": "2026-02-25T15:10:51.335Z"
        }
      },
      "at": "2026-02-25T15:10:51.336Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/bizes/3AAP8F6vL2RyuHdWFP2GsH80W0c/booking-orders",
      "status": 403,
      "requestBody": {
        "offerId": "offer_3AAP8tpXoyB5wS5hWSKevmtFPOr",
        "offerVersionId": "offer_version_3AAP90Q7v3i0I4ATyfLydsZ58Vj",
        "status": "draft",
        "subtotalMinor": 1000,
        "taxMinor": 0,
        "feeMinor": 0,
        "discountMinor": 0,
        "totalMinor": 1000,
        "currency": "USD"
      },
      "responseBody": {
        "success": false,
        "error": {
          "code": "FORBIDDEN",
          "message": "You are not a member of this biz."
        },
        "meta": {
          "requestId": "bcb798bb-706e-480b-9ad9-5795b379304d",
          "timestamp": "2026-02-25T15:10:51.351Z"
        }
      },
      "at": "2026-02-25T15:10:51.352Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP6zi3DB5at4dA8Tk2CT70fRI/traces",
      "status": 201,
      "requestBody": {
        "stepKey": "persona-scenario-validate-4",
        "title": "Validate persona scenario #4 API Trace",
        "trace": {
          "stepKey": "persona-scenario-validate-4",
          "callCount": 0,
          "calls": []
        },
        "metadata": {
          "source": "rerun-sagas.ts"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_artifact_3AAP9invjCqRD42hdAWayUO6GUf",
          "sagaRunId": "saga_run_3AAP6zi3DB5at4dA8Tk2CT70fRI",
          "sagaRunStepId": "saga_run_step_3AAP70hd1OTwuaV8ao3as8ICX9R",
          "artifactType": "api_trace",
          "title": "Validate persona scenario #4 API Trace",
          "storagePath": "testing/sagas/runs/saga_run_3AAP6zi3DB5at4dA8Tk2CT70fRI/artifacts/1772032251239-Validate_persona_scenario__4_API_Trace.json",
          "contentType": "application/json",
          "bodyText": "{\n  \"stepKey\": \"persona-scenario-validate-4\",\n  \"callCount\": 0,\n  \"calls\": []\n}\n",
          "byteSize": 80,
          "checksum": "e1b509d2bb8816d661076c00f1d55fe57bf432701b2ca0408d9cc03b6b82e02a",
          "capturedAt": "2026-02-25T15:10:51.264Z",
          "metadata": {
            "source": "rerun-sagas.ts"
          },
          "createdAt": "2026-02-25T15:10:51.264Z",
          "updatedAt": "2026-02-25T15:10:51.264Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "f1edd072-ca7e-4887-a344-7b8adc9b622f",
          "timestamp": "2026-02-25T15:10:51.366Z"
        }
      },
      "at": "2026-02-25T15:10:51.366Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/bizes/3AAP8F6vL2RyuHdWFP2GsH80W0c/booking-orders",
      "status": 403,
      "requestBody": {
        "offerId": "offer_3AAP8tpXoyB5wS5hWSKevmtFPOr",
        "offerVersionId": "offer_version_3AAP90Q7v3i0I4ATyfLydsZ58Vj",
        "status": "draft",
        "subtotalMinor": 1000,
        "taxMinor": 0,
        "feeMinor": 0,
        "discountMinor": 0,
        "totalMinor": 1000,
        "currency": "USD"
      },
      "responseBody": {
        "success": false,
        "error": {
          "code": "FORBIDDEN",
          "message": "You are not a member of this biz."
        },
        "meta": {
          "requestId": "b40c61e3-14f8-48eb-81b3-60f9fcff5fa6",
          "timestamp": "2026-02-25T15:10:51.369Z"
        }
      },
      "at": "2026-02-25T15:10:51.370Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP7u1Bi4UZ7zVkgynbEny3HQ5/steps/member-review-bookings/result",
      "status": 200,
      "requestBody": {
        "status": "in_progress",
        "startedAt": "2026-02-25T15:10:51.249Z",
        "resultPayload": {
          "note": "Started member-review-bookings"
        },
        "assertionSummary": {
          "status": "in_progress"
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAP7uTvfZWCgV3bCzRAwmwVDqT",
          "sagaRunId": "saga_run_3AAP7u1Bi4UZ7zVkgynbEny3HQ5",
          "phaseKey": "operations-and-follow-up",
          "phaseOrder": 7,
          "phaseTitle": "Operations And Follow-up",
          "stepKey": "member-review-bookings",
          "stepOrder": 16,
          "actorKey": "biz_member",
          "instruction": "As biz member, list bookings and progress one booking through operational status updates.",
          "expectedResult": "Authorized role can update status while preserving auditability and lifecycle consistency.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "in_progress",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:10:51.249Z",
          "endedAt": null,
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Started member-review-bookings"
          },
          "assertionSummary": {
            "status": "in_progress"
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:10:37.457Z",
          "updatedAt": "2026-02-25T15:10:37.457Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "41bbf8e3-6a19-45e8-83e0-212de04a8f34",
          "timestamp": "2026-02-25T15:10:51.383Z"
        }
      },
      "at": "2026-02-25T15:10:51.383Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/sagas/runs/saga_run_3AAP99At4P7PXHGwHgUK9U5Pl5U/steps/owner-create-location/result",
      "status": 200,
      "requestBody": {
        "status": "passed",
        "startedAt": "2026-02-25T15:10:51.103Z",
        "endedAt": "2026-02-25T15:10:51.103Z",
        "failureMessage": null,
        "resultPayload": {
          "note": "Location created.",
          "evidence": {
            "id": "3AAP9bmI35UnOeT1B9KvyMh9Vc4",
            "bizId": "3AAP9QkX6i5v3ExyPzNXsR7eYBx",
            "name": "Primary Location",
            "slug": "loc-b09xq7k0",
            "type": "physical",
            "timezone": "UTC",
            "address": {},
            "operatingHours": {},
            "configOverride": {},
            "serviceArea": {},
            "status": "active",
            "isDefault": false,
            "metadata": {},
            "createdAt": "2026-02-25T15:10:50.859Z",
            "updatedAt": "2026-02-25T15:10:50.859Z",
            "deletedAt": null
          }
        },
        "assertionSummary": {
          "status": "passed",
          "hasFailure": false,
          "assertionsPassed": 1
        }
      },
      "responseBody": {
        "success": true,
        "data": {
          "id": "saga_run_step_3AAP973cTSxEsCIl1FtkwWROhuU",
          "sagaRunId": "saga_run_3AAP99At4P7PXHGwHgUK9U5Pl5U",
          "phaseKey": "owner-onboarding",
          "phaseOrder": 1,
          "phaseTitle": "Owner Onboarding",
          "stepKey": "owner-create-location",
          "stepOrder": 3,
          "actorKey": "biz_owner",
          "instruction": "Create a primary location for the biz and set timezone aligned with scenario context.",
          "expectedResult": "Location exists and is associated with the new biz.",
          "delayMode": "none",
          "delayMs": null,
          "delayConditionKey": null,
          "delayTimeoutMs": null,
          "delayPollMs": null,
          "delayJitterMs": 0,
          "status": "passed",
          "attemptCount": 1,
          "startedAt": "2026-02-25T15:10:51.103Z",
          "endedAt": "2026-02-25T15:10:51.103Z",
          "failureCode": null,
          "failureMessage": null,
          "resultPayload": {
            "note": "Location created.",
            "evidence": {
              "id": "3AAP9bmI35UnOeT1B9KvyMh9Vc4",
              "name": "Primary Location",
              "slug": "loc-b09xq7k0",
              "type": "physical",
              "bizId": "3AAP9QkX6i5v3ExyPzNXsR7eYBx",
              "status": "active",
              "address": {},
              "metadata": {},
              "timezone": "UTC",
              "createdAt": "2026-02-25T15:10:50.859Z",
              "deletedAt": null,
              "isDefault": false,
              "updatedAt": "2026-02-25T15:10:50.859Z",
              "serviceArea": {},
              "configOverride": {},
              "operatingHours": {}
            }
          },
          "assertionSummary": {
            "status": "passed",
            "hasFailure": false,
            "assertionsPassed": 1
          },
          "metadata": {},
          "createdAt": "2026-02-25T15:10:47.221Z",
          "updatedAt": "2026-02-25T15:10:47.221Z",
          "deletedAt": null,
          "createdBy": null,
          "updatedBy": null,
          "deletedBy": null
        },
        "meta": {
          "requestId": "4078de3c-9897-42a0-ad12-ce477549a3c4",
          "timestamp": "2026-02-25T15:10:51.387Z"
        }
      },
      "at": "2026-02-25T15:10:51.388Z"
    },
    {
      "method": "POST",
      "path": "/api/v1/bizes/3AAP8F6vL2RyuHdWFP2GsH80W0c/booking-orders",
      "status": 403,
      "requestBody": {
        "offerId": "offer_3AAP8tpXoyB5wS5hWSKevmtFPOr",
        "offerVersionId": "offer_version_3AAP90Q7v3i0I4ATyfLydsZ58Vj",
        "status": "draft",
        "subtotalMinor": 1000,
        "taxMinor": 0,
        "feeMinor": 0,
        "discountMinor": 0,
        "totalMinor": 1000,
        "currency": "USD"
      },
      "responseBody": {
        "success": false,
        "error": {
          "code": "FORBIDDEN",
          "message": "You are not a member of this biz."
        },
        "meta": {
          "requestId": "cb90689b-ab82-4f32-a9f2-b10637aee9cc",
          "timestamp": "2026-02-25T15:10:51.388Z"
        }
      },
      "at": "2026-02-25T15:10:51.388Z"
    }
  ]
}
